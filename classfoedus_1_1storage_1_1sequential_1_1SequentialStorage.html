<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::sequential::SequentialStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::sequential::SequentialStorage Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a> &raquo; <a class="el" href="group__SEQUENTIAL.html">Sequential Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents an append/scan-only store.  
 <a href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents an append/scan-only store. </p>

<p>Definition at line <a class="el" href="sequential__storage_8hpp_source.html#l00041">41</a> of file <a class="el" href="sequential__storage_8hpp_source.html">sequential_storage.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="sequential__storage_8hpp_source.html">sequential_storage.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::storage::sequential::SequentialStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage__inherit__graph.png" border="0" usemap="#foedus_1_1storage_1_1sequential_1_1SequentialStorage_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1storage_1_1sequential_1_1SequentialStorage_inherit__map" id="foedus_1_1storage_1_1sequential_1_1SequentialStorage_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html" title="foedus::storage::Storage\l\&lt; SequentialStorageControlBlock \&gt;" alt="" coords="5,109,232,151"/>
<area shape="rect" id="node3" href="classfoedus_1_1Attachable.html" title="foedus::Attachable\l\&lt; SequentialStorageControl\lBlock \&gt;" alt="" coords="28,5,209,61"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::storage::sequential::SequentialStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1sequential_1_1SequentialStorage_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1sequential_1_1SequentialStorage_coll__map" id="foedus_1_1storage_1_1sequential_1_1SequentialStorage_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html" title="foedus::storage::Storage\l\&lt; SequentialStorageControlBlock \&gt;" alt="" coords="1661,251,1888,292"/>
<area shape="rect" id="node3" href="classfoedus_1_1Attachable.html" title="foedus::Attachable\l\&lt; SequentialStorageControl\lBlock \&gt;" alt="" coords="1431,243,1612,299"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1sequential_1_1SequentialStorageControlBlock.html" title="Shared data of this storage type. " alt="" coords="1083,209,1293,251"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1sequential_1_1SequentialMetadata.html" title="Metadata of a sequential storage. " alt="" coords="703,40,881,81"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. " alt="" coords="377,46,551,73"/>
<area shape="rect" id="node7" href="classfoedus_1_1assorted_1_1FixedString.html" title="foedus::assorted::FixedString\l\&lt; 60 \&gt;" alt="" coords="5,5,197,47"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html" title="Tuning parameters related to snapshotting. " alt="" coords="15,71,188,112"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1RwLockableXctId.html" title="The MCS reader&#45;writer lock variant of LockableXctId. " alt="" coords="696,109,888,135"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1McsRwLock.html" title="An MCS reader&#45;writer lock data structure. " alt="" coords="381,97,547,123"/>
<area shape="rect" id="node11" href="structfoedus_1_1xct_1_1XctId.html" title="Persistent status part of Transaction ID. " alt="" coords="403,147,525,174"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1DualPagePointer.html" title="Represents a pointer to another page (usually a child page). " alt="" coords="705,252,879,293"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="383,216,545,257"/>
<area shape="rect" id="node14" href="classfoedus_1_1soc_1_1SharedMutex.html" title="A mutex that can be placed in shared memory and used from multiple processes. " alt="" coords="705,318,879,345"/>
<area shape="rect" id="node15" href="classfoedus_1_1Engine.html" title="Database engine object that holds all resources and provides APIs. " alt="" coords="1134,309,1242,335"/>
<area shape="rect" id="node16" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="726,369,858,395"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:adfbf4ebcd0943816602df435d232f9a5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html">SequentialStoragePimpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#adfbf4ebcd0943816602df435d232f9a5">ThisPimpl</a></td></tr>
<tr class="separator:adfbf4ebcd0943816602df435d232f9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27bb3220a2b51a5cf7d396581a0ebc95"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialCreateLogType.html">SequentialCreateLogType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a27bb3220a2b51a5cf7d396581a0ebc95">ThisCreateLogType</a></td></tr>
<tr class="separator:a27bb3220a2b51a5cf7d396581a0ebc95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aee36b7a64a1c61273679f882c999b9"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialMetadata.html">SequentialMetadata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a7aee36b7a64a1c61273679f882c999b9">ThisMetadata</a></td></tr>
<tr class="separator:a7aee36b7a64a1c61273679f882c999b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2c796a6784677607a9a30da6f22476c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ac2c796a6784677607a9a30da6f22476c">SequentialStorage</a> ()</td></tr>
<tr class="separator:ac2c796a6784677607a9a30da6f22476c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c8557fb0ed94c54a615a7e211d956b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a40c8557fb0ed94c54a615a7e211d956b">SequentialStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialStorageControlBlock.html">SequentialStorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:a40c8557fb0ed94c54a615a7e211d956b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8fcb108bcbbcb905403a28863612329"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ac8fcb108bcbbcb905403a28863612329">SequentialStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:ac8fcb108bcbbcb905403a28863612329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b5cbebc3b6c31b7487d469531d4d6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a84b5cbebc3b6c31b7487d469531d4d6f">SequentialStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id)</td></tr>
<tr class="separator:a84b5cbebc3b6c31b7487d469531d4d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30865f4d9c31a21067f429fd40e4005d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a30865f4d9c31a21067f429fd40e4005d">SequentialStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name)</td></tr>
<tr class="separator:a30865f4d9c31a21067f429fd40e4005d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192d9585bb6793e6f643143cf573e212"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a192d9585bb6793e6f643143cf573e212">SequentialStorage</a> (const <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp;other)</td></tr>
<tr class="separator:a192d9585bb6793e6f643143cf573e212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c86a78800e884981900b7434b4fbfda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a7c86a78800e884981900b7434b4fbfda">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp;other)</td></tr>
<tr class="separator:a7c86a78800e884981900b7434b4fbfda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac65ffde4761f4f334de1a1e762ede9e0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialMetadata.html">SequentialMetadata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ac65ffde4761f4f334de1a1e762ede9e0">get_sequential_metadata</a> () const </td></tr>
<tr class="separator:ac65ffde4761f4f334de1a1e762ede9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3fd99bf6040a5ee42164d31135f433"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a1b3fd99bf6040a5ee42164d31135f433">create</a> (const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;metadata)</td></tr>
<tr class="separator:a1b3fd99bf6040a5ee42164d31135f433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba6c181226fb2b20ee12b012382f2fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a2ba6c181226fb2b20ee12b012382f2fa">load</a> (const <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> &amp;snapshot_block)</td></tr>
<tr class="separator:a2ba6c181226fb2b20ee12b012382f2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a658c8c3bb3c87df9176797587728f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1">drop</a> ()</td></tr>
<tr class="separator:a9a658c8c3bb3c87df9176797587728f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8696b7ccf07c7b8e1efb038d8cd83c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ab8696b7ccf07c7b8e1efb038d8cd83c2">append_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *payload, uint16_t payload_count)</td></tr>
<tr class="memdesc:ab8696b7ccf07c7b8e1efb038d8cd83c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append one record to this sequential storage.  <a href="#ab8696b7ccf07c7b8e1efb038d8cd83c2">More...</a><br /></td></tr>
<tr class="separator:ab8696b7ccf07c7b8e1efb038d8cd83c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4179bc96227e441860739b66e5b676cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb">apply_append_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html">SequentialAppendLogType</a> *log_entry)</td></tr>
<tr class="memdesc:a4179bc96227e441860739b66e5b676cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to apply the effect of appending to volatile list.  <a href="#a4179bc96227e441860739b66e5b676cb">More...</a><br /></td></tr>
<tr class="separator:a4179bc96227e441860739b66e5b676cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c537cd0ff56e7316e68dcee59a8b571"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a3c537cd0ff56e7316e68dcee59a8b571">optimistic_read_truncate_epoch</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> *out) const </td></tr>
<tr class="memdesc:a3c537cd0ff56e7316e68dcee59a8b571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the current value of truncate-epoch in an OCC-fashion.  <a href="#a3c537cd0ff56e7316e68dcee59a8b571">More...</a><br /></td></tr>
<tr class="separator:a3c537cd0ff56e7316e68dcee59a8b571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3f5ae84b3a642ce976a28b2048e932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#acc3f5ae84b3a642ce976a28b2048e932">get_truncate_epoch</a> () const </td></tr>
<tr class="memdesc:acc3f5ae84b3a642ce976a28b2048e932"><td class="mdescLeft">&#160;</td><td class="mdescRight">This version doesn't protect the read in a xct.  <a href="#acc3f5ae84b3a642ce976a28b2048e932">More...</a><br /></td></tr>
<tr class="separator:acc3f5ae84b3a642ce976a28b2048e932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4d7e58057f2fb648b7ff9ee6ab7fa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a4d7e58057f2fb648b7ff9ee6ab7fa0">truncate</a> (<a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> new_truncate_epoch, <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> *commit_epoch)</td></tr>
<tr class="memdesc:a9a4d7e58057f2fb648b7ff9ee6ab7fa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discards all records in this storage before the given epoch.  <a href="#a9a4d7e58057f2fb648b7ff9ee6ab7fa0">More...</a><br /></td></tr>
<tr class="separator:a9a4d7e58057f2fb648b7ff9ee6ab7fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b9bbfc26efa2c3413a43349c8c0fa4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ac9b9bbfc26efa2c3413a43349c8c0fa4">apply_truncate</a> (const <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialTruncateLogType.html">SequentialTruncateLogType</a> &amp;the_log)</td></tr>
<tr class="separator:ac9b9bbfc26efa2c3413a43349c8c0fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1storage_1_1Storage"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1storage_1_1Storage')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1storage_1_1Storage.html">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:afd9af874de90ee35544bcb8a0b562890 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#afd9af874de90ee35544bcb8a0b562890">Storage</a> ()</td></tr>
<tr class="separator:afd9af874de90ee35544bcb8a0b562890 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816534199b6ecc2362e865ba6b69fcc7 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a816534199b6ecc2362e865ba6b69fcc7">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, SequentialStorageControlBlock *control_block)</td></tr>
<tr class="separator:a816534199b6ecc2362e865ba6b69fcc7 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237ac4e220f5b1f60d02d3ba60b3e957 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a237ac4e220f5b1f60d02d3ba60b3e957">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:a237ac4e220f5b1f60d02d3ba60b3e957 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a99a8a206a33ec9e288c7428f5a84fa42">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id)</td></tr>
<tr class="memdesc:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for engine-&gt;get_storage_manager()-&gt;get_storage(id)  <a href="#a99a8a206a33ec9e288c7428f5a84fa42">More...</a><br /></td></tr>
<tr class="separator:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a0da37bccd7cff653167727ba4610bb6a">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name)</td></tr>
<tr class="memdesc:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for engine-&gt;get_storage_manager()-&gt;get_storage(name)  <a href="#a0da37bccd7cff653167727ba4610bb6a">More...</a><br /></td></tr>
<tr class="separator:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d6eeb9c79fded26452c2b60e509f53 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a30d6eeb9c79fded26452c2b60e509f53">Storage</a> (const <a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;other)</td></tr>
<tr class="separator:a30d6eeb9c79fded26452c2b60e509f53 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f116fdabdd0c488b59b318600fce465 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a1f116fdabdd0c488b59b318600fce465">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;other)</td></tr>
<tr class="separator:a1f116fdabdd0c488b59b318600fce465 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824">get_id</a> () const</td></tr>
<tr class="memdesc:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique ID of this storage.  <a href="#ad9fcb57f0ee2a79e884c0b8b64c8b824">More...</a><br /></td></tr>
<tr class="separator:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a> () const</td></tr>
<tr class="memdesc:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of this storage.  <a href="#a131e005bb11678c1824d5075aa3df77a">More...</a><br /></td></tr>
<tr class="separator:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ac1b54d4e7f3ad9f7f7c17598911abb01">get_name</a> () const</td></tr>
<tr class="memdesc:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique name of this storage.  <a href="#ac1b54d4e7f3ad9f7f7c17598911abb01">More...</a><br /></td></tr>
<tr class="separator:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ae3cca5dd58aa9bbf419cc07986bbc668">get_metadata</a> () const</td></tr>
<tr class="memdesc:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the metadata of this storage.  <a href="#ae3cca5dd58aa9bbf419cc07986bbc668">More...</a><br /></td></tr>
<tr class="separator:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a> () const</td></tr>
<tr class="memdesc:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether this storage is already created.  <a href="#ade24602975f3928e77762f8cb4da51ca">More...</a><br /></td></tr>
<tr class="separator:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Attachable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Attachable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Attachable.html">foedus::Attachable&lt; SequentialStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:ab3209bc9bd57c99f0ad601f33ec77d1e inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ab3209bc9bd57c99f0ad601f33ec77d1e">Attachable</a> ()</td></tr>
<tr class="separator:ab3209bc9bd57c99f0ad601f33ec77d1e inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91af21656ffcf7eeb56a5f7d0f5f661 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ad91af21656ffcf7eeb56a5f7d0f5f661">Attachable</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:ad91af21656ffcf7eeb56a5f7d0f5f661 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28be42953c806e4c4e0ad8f99201dae inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ac28be42953c806e4c4e0ad8f99201dae">Attachable</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, SequentialStorageControlBlock *control_block)</td></tr>
<tr class="separator:ac28be42953c806e4c4e0ad8f99201dae inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1182f6bd28f64e3c48bf5ee36d54cce inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ad1182f6bd28f64e3c48bf5ee36d54cce">Attachable</a> (SequentialStorageControlBlock *control_block)</td></tr>
<tr class="separator:ad1182f6bd28f64e3c48bf5ee36d54cce inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7892c78e38fb5f025ea73939a25c9d2e inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a7892c78e38fb5f025ea73939a25c9d2e">Attachable</a> (const <a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;other)</td></tr>
<tr class="separator:a7892c78e38fb5f025ea73939a25c9d2e inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed95388e1a77a81a5d7d04cf28ef3577 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#aed95388e1a77a81a5d7d04cf28ef3577">~Attachable</a> ()</td></tr>
<tr class="separator:aed95388e1a77a81a5d7d04cf28ef3577 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0666676a4eaed1c0fdf94a2e1b00c099 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a0666676a4eaed1c0fdf94a2e1b00c099">operator=</a> (const <a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;other)</td></tr>
<tr class="separator:a0666676a4eaed1c0fdf94a2e1b00c099 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a484796b2fffa361b9a6ed2f1b7f61a35">attach</a> (SequentialStorageControlBlock *control_block)</td></tr>
<tr class="memdesc:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches to the given shared memory.  <a href="#a484796b2fffa361b9a6ed2f1b7f61a35">More...</a><br /></td></tr>
<tr class="separator:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#aebf4adece08c298864ce05ddd9461a0c">is_attached</a> () const</td></tr>
<tr class="memdesc:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already attached to some shared memory.  <a href="#aebf4adece08c298864ce05ddd9461a0c">More...</a><br /></td></tr>
<tr class="separator:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b324e3abf302a59801aa73419bb4fad inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">SequentialStorageControlBlock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad">get_control_block</a> () const</td></tr>
<tr class="separator:a5b324e3abf302a59801aa73419bb4fad inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f07b6dbb803d41d16b40182e8ff583 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a44f07b6dbb803d41d16b40182e8ff583">get_engine</a> () const</td></tr>
<tr class="separator:a44f07b6dbb803d41d16b40182e8ff583 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd701f80820c2ef1f665bda157346021 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#acd701f80820c2ef1f665bda157346021">set_engine</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:acd701f80820c2ef1f665bda157346021 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:afa825fab0d85e9130aa42a8f075ec132"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#afa825fab0d85e9130aa42a8f075ec132">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp;v)</td></tr>
<tr class="separator:afa825fab0d85e9130aa42a8f075ec132"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classfoedus_1_1Attachable"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classfoedus_1_1Attachable')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classfoedus_1_1Attachable.html">foedus::Attachable&lt; SequentialStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a></td></tr>
<tr class="memdesc:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Most attachable object stores an engine pointer (local engine), so we define it here.  <a href="#a5f84f871a1d36f9ee990f3175661cd99">More...</a><br /></td></tr>
<tr class="separator:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">SequentialStorageControlBlock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a></td></tr>
<tr class="memdesc:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The shared data on shared memory that has been initialized in some SOC or master engine.  <a href="#af9f87c691e2df0b04322e6df8d7c0d81">More...</a><br /></td></tr>
<tr class="separator:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a27bb3220a2b51a5cf7d396581a0ebc95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialCreateLogType.html">SequentialCreateLogType</a> <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a27bb3220a2b51a5cf7d396581a0ebc95">foedus::storage::sequential::SequentialStorage::ThisCreateLogType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8hpp_source.html#l00044">44</a> of file <a class="el" href="sequential__storage_8hpp_source.html">sequential_storage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7aee36b7a64a1c61273679f882c999b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialMetadata.html">SequentialMetadata</a> <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a7aee36b7a64a1c61273679f882c999b9">foedus::storage::sequential::SequentialStorage::ThisMetadata</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8hpp_source.html#l00045">45</a> of file <a class="el" href="sequential__storage_8hpp_source.html">sequential_storage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adfbf4ebcd0943816602df435d232f9a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html">SequentialStoragePimpl</a> <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#adfbf4ebcd0943816602df435d232f9a5">foedus::storage::sequential::SequentialStorage::ThisPimpl</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8hpp_source.html#l00043">43</a> of file <a class="el" href="sequential__storage_8hpp_source.html">sequential_storage.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac2c796a6784677607a9a30da6f22476c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::sequential::SequentialStorage::SequentialStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00035">35</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;: Storage&lt;SequentialStorageControlBlock&gt;() {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40c8557fb0ed94c54a615a7e211d956b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::sequential::SequentialStorage::SequentialStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialStorageControlBlock.html">SequentialStorageControlBlock</a> *&#160;</td>
          <td class="paramname"><em>control_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00036">36</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage_8hpp_source.html#l00169">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::exists()</a>, <a class="el" href="storage_8hpp_source.html#l00150">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::get_type()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00132">foedus::storage::kSequentialStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  : Storage&lt;SequentialStorageControlBlock&gt;(engine, control_block) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a>() == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">kSequentialStorage</a> || !<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a>());</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_a131e005bb11678c1824d5075aa3df77a"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::get_type</a></div><div class="ttdeci">StorageType get_type() const</div><div class="ttdoc">Returns the type of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00150">storage.hpp:150</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_ade24602975f3928e77762f8cb4da51ca"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::exists</a></div><div class="ttdeci">bool exists() const</div><div class="ttdoc">Returns whether this storage is already created. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00169">storage.hpp:169</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">foedus::storage::kSequentialStorage</a></div><div class="ttdoc">Sequential Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00132">storage_id.hpp:132</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a40c8557fb0ed94c54a615a7e211d956b_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a40c8557fb0ed94c54a615a7e211d956b_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a40c8557fb0ed94c54a615a7e211d956b_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a40c8557fb0ed94c54a615a7e211d956b_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="259,5,473,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a" title="Returns the type of this storage. " alt="" coords="259,85,473,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac8fcb108bcbbcb905403a28863612329"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::sequential::SequentialStorage::SequentialStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *&#160;</td>
          <td class="paramname"><em>control_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00040">40</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage_8hpp_source.html#l00169">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::exists()</a>, <a class="el" href="storage_8hpp_source.html#l00150">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::get_type()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00132">foedus::storage::kSequentialStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  : Storage&lt;SequentialStorageControlBlock&gt;(engine, control_block) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a>() == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">kSequentialStorage</a> || !<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a>());</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_a131e005bb11678c1824d5075aa3df77a"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::get_type</a></div><div class="ttdeci">StorageType get_type() const</div><div class="ttdoc">Returns the type of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00150">storage.hpp:150</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_ade24602975f3928e77762f8cb4da51ca"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::exists</a></div><div class="ttdeci">bool exists() const</div><div class="ttdoc">Returns whether this storage is already created. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00169">storage.hpp:169</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">foedus::storage::kSequentialStorage</a></div><div class="ttdoc">Sequential Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00132">storage_id.hpp:132</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac8fcb108bcbbcb905403a28863612329_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac8fcb108bcbbcb905403a28863612329_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac8fcb108bcbbcb905403a28863612329_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac8fcb108bcbbcb905403a28863612329_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="259,5,473,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a" title="Returns the type of this storage. " alt="" coords="259,85,473,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a84b5cbebc3b6c31b7487d469531d4d6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::sequential::SequentialStorage::SequentialStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00044">44</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  : Storage&lt;SequentialStorageControlBlock&gt;(engine, id) {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a30865f4d9c31a21067f429fd40e4005d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::sequential::SequentialStorage::SequentialStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00046">46</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  : Storage&lt;SequentialStorageControlBlock&gt;(engine, name) {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a192d9585bb6793e6f643143cf573e212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::sequential::SequentialStorage::SequentialStorage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00048">48</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  : Storage&lt;SequentialStorageControlBlock&gt;(other.engine_, other.control_block_) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab8696b7ccf07c7b8e1efb038d8cd83c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::sequential::SequentialStorage::append_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Append one record to this sequential storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>We copy from this buffer. Must be at least get_payload_size(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>Length of payload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_count &gt; 0 </dd>
<dd>
payload_count &lt; kMaxPayload</dd></dl>
<p>The strict ordering of the appended record is NOT guaranteed to be the commit serialization order. <a class="el" href="group__SEQUENTIAL.html">Sequential Storage</a> storage essentially provides a set semantics, not a strictly ordered LIFO queue, to be more scalable. However, the orders are at least loosely ordered; the order largely represents when it was inserted. </p>

<p>Definition at line <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00056">56</a> of file <a class="el" href="sequential__storage__pimpl_8cpp_source.html">sequential_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct_8cpp_source.html#l00551">foedus::xct::Xct::add_to_lock_free_write_set()</a>, <a class="el" href="sequential__log__types_8hpp_source.html#l00101">foedus::storage::sequential::SequentialAppendLogType::calculate_log_length()</a>, <a class="el" href="thread_8cpp_source.html#l00075">foedus::thread::Thread::get_current_xct()</a>, <a class="el" href="storage_8hpp_source.html#l00145">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::get_id()</a>, <a class="el" href="thread_8cpp_source.html#l00078">foedus::thread::Thread::get_thread_log_buffer()</a>, <a class="el" href="error__code_8hpp_source.html#l00174">foedus::kErrorCodeStrTooLongPayload</a>, <a class="el" href="sequential__id_8hpp_source.html#l00054">foedus::storage::sequential::kMaxPayload</a>, <a class="el" href="sequential__log__types_8hpp_source.html#l00106">foedus::storage::sequential::SequentialAppendLogType::populate()</a>, and <a class="el" href="thread__log__buffer_8hpp_source.html#l00320">foedus::log::ThreadLogBuffer::reserve_new_log()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                          {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (payload_count &gt;= <a class="code" href="group__SEQUENTIAL.html#ga976717e2d78b52aec5e8d9657093a5e7">kMaxPayload</a>) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56ae054d2163146603e747288bc86e8f3ed">kErrorCodeStrTooLongPayload</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// Sequential storage doesn&#39;t need to check its current state for appends.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// we are sure we can append it anyways, so we just create a log record.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  uint16_t log_length = <a class="code" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a719ba3ad7fc61a7b8048a57804b3fd51">SequentialAppendLogType::calculate_log_length</a>(payload_count);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  SequentialAppendLogType* log_entry = <span class="keyword">reinterpret_cast&lt;</span>SequentialAppendLogType*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    context-&gt;get_thread_log_buffer().reserve_new_log(log_length));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  log_entry-&gt;populate(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824">get_id</a>(), payload, payload_count);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// also, we don&#39;t have to take a lock while commit because our SequentialVolatileList is</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// lock-free. So, we maintain a special lock-free write-set for sequential storage.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">return</span> context-&gt;get_current_xct().add_to_lock_free_write_set(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824">get_id</a>(), log_entry);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56ae054d2163146603e747288bc86e8f3ed"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56ae054d2163146603e747288bc86e8f3ed">foedus::kErrorCodeStrTooLongPayload</a></div><div class="ttdoc">0x0808 : "STORAGE: Payload of the record is too long" . </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00174">error_code.hpp:174</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_ad9fcb57f0ee2a79e884c0b8b64c8b824"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824">foedus::storage::Storage&lt; SequentialStorageControlBlock &gt;::get_id</a></div><div class="ttdeci">StorageId get_id() const</div><div class="ttdoc">Returns the unique ID of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00145">storage.hpp:145</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType_html_a719ba3ad7fc61a7b8048a57804b3fd51"><div class="ttname"><a href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a719ba3ad7fc61a7b8048a57804b3fd51">foedus::storage::sequential::SequentialAppendLogType::calculate_log_length</a></div><div class="ttdeci">static uint16_t calculate_log_length(uint16_t payload_count) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="sequential__log__types_8hpp_source.html#l00101">sequential_log_types.hpp:101</a></div></div>
<div class="ttc" id="group__SEQUENTIAL_html_ga976717e2d78b52aec5e8d9657093a5e7"><div class="ttname"><a href="group__SEQUENTIAL.html#ga976717e2d78b52aec5e8d9657093a5e7">foedus::storage::sequential::kMaxPayload</a></div><div class="ttdeci">const uint16_t kMaxPayload</div><div class="ttdoc">Payload must be shorter than this length. </div><div class="ttdef"><b>Definition:</b> <a href="sequential__id_8hpp_source.html#l00054">sequential_id.hpp:54</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ab8696b7ccf07c7b8e1efb038d8cd83c2_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ab8696b7ccf07c7b8e1efb038d8cd83c2_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ab8696b7ccf07c7b8e1efb038d8cd83c2_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ab8696b7ccf07c7b8e1efb038d8cd83c2_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#a3a3bb3ad1bee321b677b059cf29fbbbf" title="Add the given log to the lock&#45;free write set of this transaction. " alt="" coords="311,5,469,47"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a719ba3ad7fc61a7b8048a57804b3fd51" title="foedus::storage::sequential\l::SequentialAppendLogType\l::calculate_log_length" alt="" coords="299,71,481,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="315,152,465,193"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824" title="Returns the unique ID of this storage. " alt="" coords="283,218,497,274"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="313,299,467,340"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a64d63f4dcd9a92a5180a64dd9cf50572" title="foedus::storage::sequential\l::SequentialAppendLogType\l::populate" alt="" coords="299,365,481,421"/>
<area shape="rect" id="node11" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="297,445,483,487"/>
<area shape="rect" id="node3" href="group__LOGTYPE.html#gad2d33090f44d00949a05c245e5ff1046" title="Invokes the assertion logic of each log type. " alt="" coords="574,5,703,47"/>
<area shape="rect" id="node4" href="structfoedus_1_1log_1_1LogHeader.html#a6ebe3b99442f2a58a4adeeb60f9a37e0" title="Convenience method to cast into LogCode. " alt="" coords="796,5,951,47"/>
<area shape="rect" id="node6" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="559,86,719,113"/>
<area shape="rect" id="node12" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="545,387,732,428"/>
<area shape="rect" id="node13" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="780,408,967,449"/>
<area shape="rect" id="node15" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="545,572,732,613"/>
<area shape="rect" id="node14" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a824cf26a13eb7f42d5ae68f5725098c5" title="Subtract operator, considering wrapping around. " alt="" coords="1020,408,1207,449"/>
<area shape="rect" id="node16" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9aa20c59a7d75cf94742beb43b777de6" title="Only for Debug&#45;assertion. " alt="" coords="780,473,967,515"/>
<area shape="rect" id="node20" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="806,539,941,580"/>
<area shape="rect" id="node21" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="806,604,941,645"/>
<area shape="rect" id="node22" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="787,669,960,711"/>
<area shape="rect" id="node23" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="787,735,960,776"/>
<area shape="rect" id="node24" href="classfoedus_1_1log_1_1LogManager.html#a5c844c3bc8d71ce709999fd286a5e7b8" title="Wake up loggers if they are sleeping. " alt="" coords="791,800,955,841"/>
<area shape="rect" id="node17" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html#a05db4e7c61f07d2320aa7b2c3c76d520" title="Only for Debug&#45;assertion. " alt="" coords="1020,473,1207,515"/>
<area shape="rect" id="node18" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html#a5dd02cf36ffdb642d41badfc61381621" title="foedus::log::ThreadLogBuffer\lMeta::increment_mark_index" alt="" coords="1260,444,1451,485"/>
<area shape="rect" id="node19" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="1278,510,1433,537"/>
<area shape="rect" id="node25" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ae0a0fc275f36ad22a57786bc7d17413e" title="foedus::log::LogManagerPimpl\l::wakeup_loggers" alt="" coords="1015,800,1212,841"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4179bc96227e441860739b66e5b676cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::sequential::SequentialStorage::apply_append_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html">SequentialAppendLogType</a> *&#160;</td>
          <td class="paramname"><em>log_entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to apply the effect of appending to volatile list. </p>

<p>Definition at line <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00076">76</a> of file <a class="el" href="sequential__storage__pimpl_8cpp_source.html">sequential_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00323">foedus::storage::sequential::SequentialStoragePimpl::append_record()</a>, <a class="el" href="common__log__types_8hpp_source.html#l00113">foedus::log::BaseLogType::header_</a>, <a class="el" href="sequential__log__types_8hpp_source.html#l00099">foedus::storage::sequential::SequentialAppendLogType::payload_</a>, <a class="el" href="sequential__log__types_8hpp_source.html#l00098">foedus::storage::sequential::SequentialAppendLogType::payload_count_</a>, and <a class="el" href="common__log__types_8hpp_source.html#l00075">foedus::log::LogHeader::xct_id_</a>.</p>

<p>Referenced by <a class="el" href="sequential__log__types_8hpp_source.html#l00116">foedus::storage::sequential::SequentialAppendLogType::apply_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                            {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  SequentialStoragePimpl(<span class="keyword">this</span>).append_record(</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    context,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    log_entry-&gt;header_.xct_id_,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    log_entry-&gt;payload_,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    log_entry-&gt;payload_count_);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="232,821,411,877"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="784,16,935,58"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="499,82,650,123"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ae819655e8bea414d1152509866ddfd39" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_tail_pointer" alt="" coords="485,370,664,426"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da" title="Returns page resolver to convert only local page ID to page pointer. " alt="" coords="493,672,656,728"/>
<area shape="rect" id="node15" href="structfoedus_1_1memory_1_1LocalPageResolver.html#a389ef2027f0d0dc27d35856733e2f9be" title="Resolves offset in this pool to storage::Page*. " alt="" coords="483,555,667,596"/>
<area shape="rect" id="node20" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="767,636,951,692"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#ac3f12983b3c02d8a6e3cae2867f9d4a2" title="Returns if this page has enough room to insert a record with the given payload length. " alt="" coords="459,934,691,975"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#adfc56f09f9e4e09466c4f102b9283076" title="Returns how many records in this page placed so far. " alt="" coords="1275,971,1504,1012"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#aebcdc0447e1317476fe28d4303680112" title="Returns the epoch of the fist record in this page (undefined behavior if no record). " alt="" coords="485,853,664,909"/>
<area shape="rect" id="node25" href="structfoedus_1_1xct_1_1XctId.html#af48118bbaf92a957116ae2873fe55b83" title="foedus::xct::XctId\l::get_epoch" alt="" coords="798,767,921,808"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1Thread.html#a4e553f5e14ec00d8ba23fbdfa26d687e" title="Returns the private memory repository of this thread. " alt="" coords="499,1080,650,1122"/>
<area shape="rect" id="node29" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="469,1146,680,1187"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="494,1211,655,1252"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#ac05740b312c9c0024d090145d2a4dde0" title="Called only when this page is initialized. " alt="" coords="485,1277,664,1333"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a637f582ce67ec9d4bfe7d6f1f55829a9" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_id" alt="" coords="485,1357,664,1413"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aa13fb52d28c1ad2fd240bc877b18dc85" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head_pointer" alt="" coords="485,290,664,346"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#a7ed4fd4e290f1e49a0b187d43b83674e" title="foedus::storage::sequential\l::SequentialPage::next_page" alt="" coords="480,1438,669,1479"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#aec915d81c404fca9de77c9eed625afa9" title="Appends a record to this page. " alt="" coords="485,1000,664,1056"/>
<area shape="rect" id="node5" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="770,82,949,123"/>
<area shape="rect" id="node7" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="792,374,927,415"/>
<area shape="rect" id="node8" href="group__THREAD.html#ga93083d6b052db01851cb61c120522c1d" title="Extracts local ordinal from the given globally unique ID of Thread (core). " alt="" coords="770,439,949,480"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage_1_1sequential.html#af598f2edf5a573df9e636aa314250d94" title="Calculate the page/index of the thread&#45;private head/tail pointer. " alt="" coords="762,504,957,546"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="792,147,927,188"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="754,213,965,269"/>
<area shape="rect" id="node12" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="758,293,961,349"/>
<area shape="rect" id="node13" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1050,370,1205,411"/>
<area shape="rect" id="node16" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="782,570,937,611"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1053,504,1202,546"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1047,570,1208,611"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1032,635,1223,676"/>
<area shape="rect" id="node22" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="779,964,939,990"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#a2f8f9a8460228df5790ad3181be49e3b" title="foedus::storage::sequential\l::SequentialPage::owner\l_id_from_offset" alt="" coords="770,884,949,940"/>
<area shape="rect" id="node26" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1066,767,1189,808"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1038,1387,1217,1428"/>
<area shape="rect" id="node31" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="770,1431,949,1472"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="764,1496,955,1538"/>
<area shape="rect" id="node35" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="1028,1547,1227,1588"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="1031,1482,1223,1523"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="1293,1448,1485,1490"/>
<area shape="rect" id="node38" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="1305,1514,1474,1555"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#a38b891ada2a3ed7381bc0d048570fb18" title="foedus::storage::sequential\l::SequentialPage::assert\l_consistent" alt="" coords="1038,1182,1217,1238"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1PageVersionStatus.html#a5d7a0b120ba1d28530f04f347e8a889f" title="foedus::storage::PageVersion\lStatus::increment_version\l_counter" alt="" coords="763,1300,955,1356"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1041,1000,1214,1042"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1McsRwLock.html#a522c5b2702bad890293b39e634f2c3c4" title="foedus::xct::McsRwLock\l::reset" alt="" coords="777,1066,942,1107"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#a5a28eb20d977bb416b92a5f0386a7d80" title="Sets byte length of payload of the specified record in this page. " alt="" coords="739,1234,980,1275"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#a664f776eddf9d3988a62f5043e57d9e3" title="How many data bytes in this page consumed so far. " alt="" coords="1298,1182,1481,1238"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1PageVersionStatus.html#a938cd4d9d491c3b6a4eb14afdbfd6b19" title="foedus::storage::PageVersion\lStatus::get_version_counter" alt="" coords="1031,1307,1223,1348"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1McsRwLock.html#a252a31f1689940909fe3520162b685f7" title="foedus::xct::McsRwLock\l::set_next_writer" alt="" coords="1045,1066,1210,1107"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_icgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a4179bc96227e441860739b66e5b676cb_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="232,5,415,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9b9bbfc26efa2c3413a43349c8c0fa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::sequential::SequentialStorage::apply_truncate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialTruncateLogType.html">SequentialTruncateLogType</a> &amp;&#160;</td>
          <td class="paramname"><em>the_log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00081">81</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00313">foedus::storage::sequential::SequentialStoragePimpl::apply_truncate()</a>.</p>

<p>Referenced by <a class="el" href="sequential__log__types_8cpp_source.html#l00052">foedus::storage::sequential::SequentialTruncateLogType::apply_storage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                                               {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  SequentialStoragePimpl(<span class="keyword">this</span>).apply_truncate(the_log);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#af9fd4d7cf6f1fcd1a4df6ca7bc7b7ae4" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::apply_truncate" alt="" coords="232,24,411,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="477,5,619,32"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad8cfc752735602f2b1afeacf10a94b6d" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_name" alt="" coords="459,56,637,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_icgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_ac9b9bbfc26efa2c3413a43349c8c0fa4_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1sequential_1_1SequentialTruncateLogType.html#aad6838461c13796ec1011b3b150b19b0" title="foedus::storage::sequential\l::SequentialTruncateLogType\l::apply_storage" alt="" coords="232,5,421,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1b3fd99bf6040a5ee42164d31135f433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::sequential::SequentialStorage::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00061">61</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00147">foedus::storage::sequential::SequentialStoragePimpl::create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                             {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">return</span> SequentialStoragePimpl(<span class="keyword">this</span>).create(static_cast&lt;const SequentialMetadata&amp;&gt;(metadata));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a1b3fd99bf6040a5ee42164d31135f433_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a1b3fd99bf6040a5ee42164d31135f433_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a1b3fd99bf6040a5ee42164d31135f433_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a1b3fd99bf6040a5ee42164d31135f433_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab9ccf59655effed1a259100c4d46b06b" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::create" alt="" coords="233,159,412,215"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a9e7deab12645a7867f1c4e262c3d9b0b" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::exists" alt="" coords="460,5,639,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad8cfc752735602f2b1afeacf10a94b6d" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_name" alt="" coords="460,85,639,141"/>
<area shape="rect" id="node5" href="classfoedus_1_1Engine.html#a32ee0dd2b600a921b7f6b7e99a579550" title="Returns the Earliest&#45;Epoch, the minimum epoch that is valid within this engine. " alt="" coords="482,166,617,207"/>
<area shape="rect" id="node8" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="478,232,621,259"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#acc045528304f2d22f64b3f1c76b99fa5" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::initialize_head_tail_pages" alt="" coords="460,355,639,411"/>
<area shape="rect" id="node6" href="classfoedus_1_1savepoint_1_1SavepointManager.html#ac8c418cf8e39002b4a55cc3b3120807f" title="foedus::savepoint::\lSavepointManager::get\l_earliest_epoch" alt="" coords="715,117,869,173"/>
<area shape="rect" id="node7" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a49af44d8c179c9a28bdcf7b5dda0d6fd" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_earliest_epoch" alt="" coords="954,117,1115,173"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="725,198,859,239"/>
<area shape="rect" id="node11" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="725,263,859,305"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="687,329,897,370"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="697,394,887,435"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1PagePool.html#a3e9390381783077a504116988cae05c4" title="Grab only one page. " alt="" coords="703,459,881,501"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e" title="Gives an object to resolve an offset in this page pool (thus local) to an actual pointer and vice ver..." alt="" coords="703,525,881,566"/>
<area shape="rect" id="node24" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="700,591,884,647"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f" title="foedus::memory::PagePool\lPimpl::grab_one" alt="" coords="945,459,1124,501"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a1a41295b63274fb300e5937a9bb1eca7" title="foedus::memory::PagePool\lPimpl::decrease_free_pool_count" alt="" coords="1172,361,1387,402"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="1190,426,1369,467"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="1183,491,1376,533"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="1190,557,1369,598"/>
<area shape="rect" id="node19" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1446,462,1638,503"/>
<area shape="rect" id="node20" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="1435,528,1649,555"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="945,525,1124,566"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a658c8c3bb3c87df9176797587728f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::sequential::SequentialStorage::drop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00067">67</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                   {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">return</span> SequentialStoragePimpl(<span class="keyword">this</span>).drop();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a658c8c3bb3c87df9176797587728f1_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a658c8c3bb3c87df9176797587728f1_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a658c8c3bb3c87df9176797587728f1_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a658c8c3bb3c87df9176797587728f1_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="232,447,435,488"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad8cfc752735602f2b1afeacf10a94b6d" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_name" alt="" coords="499,35,677,91"/>
<area shape="rect" id="node4" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1011,5,1146,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="1011,71,1146,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="483,348,693,389"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="493,413,683,455"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e" title="Gives an object to resolve an offset in this page pool (thus local) to an actual pointer and vice ver..." alt="" coords="499,479,677,520"/>
<area shape="rect" id="node10" href="group__THREAD.html#ga3cfa4441e96554e775ec6013c180e192" title="Returns a globally unique ID of Thread (core) for the given node and ordinal in the node..." alt="" coords="505,544,671,585"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a9754dc5a7c8b8f1f45a77714dfa8a53f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head" alt="" coords="499,217,677,273"/>
<area shape="rect" id="node19" href="structfoedus_1_1memory_1_1LocalPageResolver.html#a389ef2027f0d0dc27d35856733e2f9be" title="Resolves offset in this pool to storage::Page*. " alt="" coords="741,355,925,396"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="744,632,923,673"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463" title="Returns the specified number of free pages from the chunk. " alt="" coords="499,727,677,768"/>
<area shape="rect" id="node28" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#affa4e09fc9e251f5cc259de81c23c6e2" title="foedus::memory::PagePool\lOffsetChunk::size" alt="" coords="499,792,677,833"/>
<area shape="rect" id="node29" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="499,661,677,703"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1PagePool.html#aa7220391af1f368d1fd36b48cc1e2995" title="Returns only one page. " alt="" coords="499,857,677,899"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="744,479,923,520"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aa13fb52d28c1ad2fd240bc877b18dc85" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head_pointer" alt="" coords="744,217,923,273"/>
<area shape="rect" id="node13" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="989,297,1168,339"/>
<area shape="rect" id="node14" href="group__THREAD.html#ga93083d6b052db01851cb61c120522c1d" title="Extracts local ordinal from the given globally unique ID of Thread (core). " alt="" coords="989,363,1168,404"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1storage_1_1sequential.html#af598f2edf5a573df9e636aa314250d94" title="Calculate the page/index of the thread&#45;private head/tail pointer. " alt="" coords="981,428,1176,469"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="973,137,1184,193"/>
<area shape="rect" id="node17" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="977,217,1180,273"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1262,293,1417,335"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1001,493,1156,535"/>
<area shape="rect" id="node24" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="987,559,1171,615"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1265,428,1414,469"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1259,493,1420,535"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1244,559,1435,600"/>
<area shape="rect" id="node27" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="744,727,923,768"/>
<area shape="rect" id="node31" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a741d98bc9dd15581c1316ae5eaf492d5" title="foedus::memory::PagePool\lPimpl::release_one" alt="" coords="744,857,923,899"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="989,857,1168,899"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="982,923,1175,964"/>
<area shape="rect" id="node36" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="989,988,1168,1029"/>
<area shape="rect" id="node37" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3b5b895c26ed502d93e753389ce0a21b" title="foedus::memory::PagePool\lPimpl::increase_free_pool_count" alt="" coords="973,727,1184,768"/>
<area shape="rect" id="node38" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="993,792,1165,833"/>
<area shape="rect" id="node34" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1243,893,1435,935"/>
<area shape="rect" id="node35" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="1232,959,1447,986"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac65ffde4761f4f334de1a1e762ede9e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialMetadata.html">SequentialMetadata</a> * foedus::storage::sequential::SequentialStorage::get_sequential_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00057">57</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                                                            {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">return</span> &amp;<a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;meta_;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">SequentialStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc3f5ae84b3a642ce976a28b2048e932"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::storage::sequential::SequentialStorage::get_truncate_epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This version doesn't protect the read in a xct. </p>
<p>Handy, but use with care. You should use this method only in non-racy places (eg reporting/debugging etc). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a3c537cd0ff56e7316e68dcee59a8b571" title="Obtains the current value of truncate-epoch in an OCC-fashion. ">optimistic_read_truncate_epoch()</a> </dd></dl>

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00070">70</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage_8cpp_source.html#l00086">foedus::storage::sequential::operator&lt;&lt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                                  {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">return</span> Epoch(<a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;cur_truncate_epoch_.load());</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">SequentialStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_acc3f5ae84b3a642ce976a28b2048e932_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_acc3f5ae84b3a642ce976a28b2048e932_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_acc3f5ae84b3a642ce976a28b2048e932_icgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_acc3f5ae84b3a642ce976a28b2048e932_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1sequential.html#aab3041ddf08dbde93ee896a1efff26d1" title="foedus::storage::sequential\l::operator\&lt;\&lt;" alt="" coords="232,13,411,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ba6c181226fb2b20ee12b012382f2fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::sequential::SequentialStorage::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>snapshot_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00064">64</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00166">foedus::storage::sequential::SequentialStoragePimpl::load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                                            {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">return</span> SequentialStoragePimpl(<span class="keyword">this</span>).load(snapshot_block);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a2ba6c181226fb2b20ee12b012382f2fa_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a2ba6c181226fb2b20ee12b012382f2fa_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a2ba6c181226fb2b20ee12b012382f2fa_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a2ba6c181226fb2b20ee12b012382f2fa_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aaf7d413df08f874c5d7caf175260c02f" title="foedus::storage::sequential\l::SequentialStoragePimpl::load" alt="" coords="232,183,433,225"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="493,73,648,100"/>
<area shape="rect" id="node4" href="classfoedus_1_1Engine.html#a32ee0dd2b600a921b7f6b7e99a579550" title="Returns the Earliest&#45;Epoch, the minimum epoch that is valid within this engine. " alt="" coords="503,125,638,166"/>
<area shape="rect" id="node7" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="499,191,642,217"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#acc045528304f2d22f64b3f1c76b99fa5" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::initialize_head_tail_pages" alt="" coords="481,241,660,297"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad8cfc752735602f2b1afeacf10a94b6d" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_name" alt="" coords="481,321,660,377"/>
<area shape="rect" id="node5" href="classfoedus_1_1savepoint_1_1SavepointManager.html#ac8c418cf8e39002b4a55cc3b3120807f" title="foedus::savepoint::\lSavepointManager::get\l_earliest_epoch" alt="" coords="736,5,891,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a49af44d8c179c9a28bdcf7b5dda0d6fd" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_earliest_epoch" alt="" coords="975,5,1137,61"/>
<area shape="rect" id="node9" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="746,86,881,127"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="746,151,881,193"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="708,217,919,258"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="718,282,909,323"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1PagePool.html#a3e9390381783077a504116988cae05c4" title="Grab only one page. " alt="" coords="724,347,903,389"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e" title="Gives an object to resolve an offset in this page pool (thus local) to an actual pointer and vice ver..." alt="" coords="724,413,903,454"/>
<area shape="rect" id="node23" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="721,479,905,535"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f" title="foedus::memory::PagePool\lPimpl::grab_one" alt="" coords="967,347,1145,389"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a1a41295b63274fb300e5937a9bb1eca7" title="foedus::memory::PagePool\lPimpl::decrease_free_pool_count" alt="" coords="1193,249,1408,290"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="1211,314,1390,355"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="1204,379,1397,421"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="1211,445,1390,486"/>
<area shape="rect" id="node18" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1467,350,1659,391"/>
<area shape="rect" id="node19" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="1456,416,1671,443"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="967,413,1145,454"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c86a78800e884981900b7434b4fbfda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp; foedus::storage::sequential::SequentialStorage::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00051">51</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a>, <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; CONTROL_BLOCK &gt;::control_block_</a>, <a class="el" href="attachable_8hpp_source.html#l00107">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::engine_</a>, and <a class="el" href="attachable_8hpp_source.html#l00107">foedus::Attachable&lt; CONTROL_BLOCK &gt;::engine_</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                                                              {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a> = other.engine_;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a> = other.control_block_;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_a5f84f871a1d36f9ee990f3175661cd99"><div class="ttname"><a href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::engine_</a></div><div class="ttdeci">Engine * engine_</div><div class="ttdoc">Most attachable object stores an engine pointer (local engine), so we define it here. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00107">attachable.hpp:107</a></div></div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">SequentialStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c537cd0ff56e7316e68dcee59a8b571"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::sequential::SequentialStorage::optimistic_read_truncate_epoch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the current value of truncate-epoch in an OCC-fashion. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialMetadata.html#a7353b835ea3bb23080fb264fcbf6539b" title="The min epoch value (truncate-epoch) for all valid records in this storage. ">foedus::storage::sequential::SequentialMetadata::truncate_epoch_</a></dd></dl>
<p>This method takes a read-set to protect this OCC-read. Thus it receives a thread context. </p>

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00073">73</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                    {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;optimistic_read_truncate_epoch(context, out);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; SequentialStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">SequentialStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a4d7e58057f2fb648b7ff9ee6ab7fa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::sequential::SequentialStorage::truncate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td>
          <td class="paramname"><em>new_truncate_epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> *&#160;</td>
          <td class="paramname"><em>commit_epoch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discards all records in this storage before the given epoch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">new_truncate_epoch</td><td>all records whose epoch is exclusively smaller than this will be logically deleted. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">commit_epoch</td><td>The epoch when the truncate has happened. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>new_truncate_epoch.is_valid() </dd>
<dd>
new_truncate_epoch &gt;= engine.get_earliest_epoch() </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>new_truncate_epoch == <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#acc3f5ae84b3a642ce976a28b2048e932" title="This version doesn&#39;t protect the read in a xct. ">get_truncate_epoch()</a></dd></dl>
<p>This method implements the special <em>truncate</em> feature as a metadata operation on this storage. This method starts and ends its own meta-transaction. So it does NOT receive a Thread context. In other words, you cannot invoke this operation as part of another transaction.</p>
<p>As far as a valid parameter is given, this method always succeeds because there is no race. If new_truncate_epoch &lt;= <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#acc3f5ae84b3a642ce976a28b2048e932" title="This version doesn&#39;t protect the read in a xct. ">get_truncate_epoch()</a>, this method does nothing (not an error). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a3c537cd0ff56e7316e68dcee59a8b571" title="Obtains the current value of truncate-epoch in an OCC-fashion. ">optimistic_read_truncate_epoch()</a> </dd>
<dd>
<a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#acc3f5ae84b3a642ce976a28b2048e932" title="This version doesn&#39;t protect the read in a xct. ">get_truncate_epoch()</a> </dd></dl>

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00078">78</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>

<p>References <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00236">foedus::storage::sequential::SequentialStoragePimpl::truncate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                                                    {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">return</span> SequentialStoragePimpl(<span class="keyword">this</span>).truncate(new_truncate_epoch, commit_epoch);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a4d7e58057f2fb648b7ff9ee6ab7fa0_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a4d7e58057f2fb648b7ff9ee6ab7fa0_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a4d7e58057f2fb648b7ff9ee6ab7fa0_cgraph" id="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage_a9a4d7e58057f2fb648b7ff9ee6ab7fa0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="244,327,423,383"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad8cfc752735602f2b1afeacf10a94b6d" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_name" alt="" coords="471,5,649,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="483,85,637,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1Engine.html#a8d468737935eab05b3f9757cb6757fe1" title="Returns the current global epoch, the epoch a newly started transaction will be in. " alt="" coords="484,187,636,229"/>
<area shape="rect" id="node8" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="1707,253,1881,294"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a637f582ce67ec9d4bfe7d6f1f55829a9" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_id" alt="" coords="471,253,649,309"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="493,334,627,375"/>
<area shape="rect" id="node11" href="classfoedus_1_1log_1_1LogManager.html#a52b21aa441034df16ef60232abde9760" title="foedus::log::LogManager\l::get_meta_buffer" alt="" coords="478,399,642,441"/>
<area shape="rect" id="node12" href="classfoedus_1_1log_1_1MetaLogBuffer.html#ab94212c9c14361971679c5581c99e7c3" title="Synchronously writes out the given log to metadata log file. " alt="" coords="472,465,648,506"/>
<area shape="rect" id="node18" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="1482,577,1625,604"/>
<area shape="rect" id="node31" href="structfoedus_1_1xct_1_1XctId.html#ad18a2d4a528fa063786b6efaf1035377" title="foedus::xct::XctId::set" alt="" coords="486,631,634,657"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="473,682,647,723"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManager.html#a419a270d62522ede9bd871dd4adc0e2a" title="Returns the current global epoch, the epoch a newly started transaction will be in. " alt="" coords="711,187,890,229"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch" alt="" coords="1210,190,1405,231"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1XctManager.html#aa75089821b48c98a00cd7e4ddc0615da" title="Requests to advance the current global epoch as soon as possible and blocks until it actually does..." alt="" coords="697,449,904,490"/>
<area shape="rect" id="node24" href="structfoedus_1_1log_1_1LogHeader.html#ab54b6d5754b5543e7de5b49c6c317499" title="Convenience method to get LogCodeKind. " alt="" coords="723,514,878,555"/>
<area shape="rect" id="node27" href="classfoedus_1_1Engine.html#a48d5e1f7ce2f70161c253f650c75ed95" title="See Transaction Manager. " alt="" coords="733,253,868,294"/>
<area shape="rect" id="node28" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="714,318,887,359"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1XctId.html#af25a0de9ca35e854b50d5f5621fb23dc" title="foedus::xct::XctId\l::set_epoch" alt="" coords="739,383,862,425"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6" title="foedus::xct::XctManagerPimpl\l::advance_current_global_epoch" alt="" coords="952,383,1159,425"/>
<area shape="rect" id="node15" href="classfoedus_1_1Epoch.html#a786afd92afdc87b54dfa11ef093f06f3" title="foedus::Epoch::one_more" alt="" coords="1222,449,1393,476"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a03678427b184e7ce71f9bbb164dd0bad" title="foedus::xct::XctManagerPimpl\l::set_requested_global_epoch" alt="" coords="1210,505,1405,546"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#afce787897428bd372c67224acd3e8ea7" title="foedus::xct::XctManagerPimpl\l::wakeup_epoch_chime_thread" alt="" coords="1207,318,1408,359"/>
<area shape="rect" id="node22" href="classfoedus_1_1soc_1_1SharedPolling.html#ac6ad7822e42e2e942b55708b1da8516b" title="Gives the ticket to. " alt="" coords="1465,253,1642,294"/>
<area shape="rect" id="node23" href="classfoedus_1_1soc_1_1SharedPolling.html#a9fc7bfaf57e1f2224be9869a8e9708d3" title="Unconditionally wait for signal. " alt="" coords="1219,383,1396,425"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a6071efec3ffc3876192101db2a1873b4" title="foedus::xct::XctManagerPimpl\l::get_requested_global_epoch" alt="" coords="1456,505,1651,546"/>
<area shape="rect" id="node20" href="classfoedus_1_1soc_1_1SharedPolling.html#ae523f3b3bda39c0c81bfb5cb0d5ad626" title="Signal it to let waiters exit. " alt="" coords="1465,318,1642,359"/>
<area shape="rect" id="node21" href="namespacefoedus_1_1soc.html#ad6b40c6c8e2db3fbf1bbdf6daa025275" title="foedus::soc::ugly_atomic_inc" alt="" coords="1699,325,1889,352"/>
<area shape="rect" id="node25" href="group__LOGTYPE.html#gaa283974b1bc0fdbf11e034f8a11c4b9c" title="Returns the kind of the given log code. " alt="" coords="988,449,1123,490"/>
<area shape="rect" id="node26" href="structfoedus_1_1log_1_1LogHeader.html#a6ebe3b99442f2a58a4adeeb60f9a37e0" title="Convenience method to cast into LogCode. " alt="" coords="978,514,1133,555"/>
<area shape="rect" id="node30" href="structfoedus_1_1xct_1_1XctId.html#afd81e3e00ee902aa673a9d3fe62be17b" title="foedus::xct::XctId\l::set_epoch_int" alt="" coords="994,318,1117,359"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="afa825fab0d85e9130aa42a8f075ec132"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sequential__storage_8cpp_source.html#l00086">86</a> of file <a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                                                  {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  uint64_t page_count = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  uint64_t record_count = 0;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  SequentialStoragePimpl pimpl(const_cast&lt;SequentialStorage*&gt;(&amp;v));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  pimpl.for_every_page([&amp;page_count, &amp;record_count](SequentialPage* page){</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    ++page_count;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    record_count += page-&gt;get_record_count();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  });</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;SequentialStorage&gt;&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;id&gt;&quot;</span> &lt;&lt; v.get_id() &lt;&lt; <span class="stringliteral">&quot;&lt;/id&gt;&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;name&gt;&quot;</span> &lt;&lt; v.get_name() &lt;&lt; <span class="stringliteral">&quot;&lt;/name&gt;&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;truncate_epoch&gt;&quot;</span> &lt;&lt; v.get_truncate_epoch() &lt;&lt; <span class="stringliteral">&quot;&lt;/truncate_epoch&gt;&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;page_count&gt;&quot;</span> &lt;&lt; page_count &lt;&lt; <span class="stringliteral">&quot;&lt;/page_count&gt;&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;record_count&gt;&quot;</span> &lt;&lt; record_count &lt;&lt; <span class="stringliteral">&quot;&lt;/record_count&gt;&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/SequentialStorage&gt;&quot;</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/sequential/<a class="el" href="sequential__storage_8hpp_source.html">sequential_storage.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/sequential/<a class="el" href="sequential__storage_8cpp_source.html">sequential_storage.cpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/sequential/<a class="el" href="sequential__storage__pimpl_8cpp_source.html">sequential_storage_pimpl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1sequential.html">sequential</a></li><li class="navelem"><a class="el" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html">SequentialStorage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
