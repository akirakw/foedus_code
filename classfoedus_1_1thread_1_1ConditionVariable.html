<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::thread::ConditionVariable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1thread_1_1ConditionVariable.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfoedus_1_1thread_1_1ConditionVariable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::thread::ConditionVariable Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__THREAD.html">Thread and Thread-Group</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>An analogue of pthread's condition variable and std::condition_variable to avoid glibc's bug in pthread_cond_broadcast/signal (thus in notify_all/one in turn).  
 <a href="classfoedus_1_1thread_1_1ConditionVariable.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An analogue of pthread's condition variable and std::condition_variable to avoid glibc's bug in pthread_cond_broadcast/signal (thus in notify_all/one in turn). </p>
<p>The whole purpose of this class is to workaound a bug in glibc's pthread_cond_broadcast/signal(), which is also used by std::condition_variable.</p>
<p>The bug is already fixed here: <a href="https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=8f630cca5c36941db1cb48726016bbed80ec1041">https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=8f630cca5c36941db1cb48726016bbed80ec1041</a> However, it will not be available until glibc 2.20, which will be employed in major linux distros much much later. So, we work around the issue ourselves for a while.</p>
<p>Seems like the issue is not only about broadcast. I'm observing issues if we might call notify_one while there is no waiter (which should be totally valid, but then something gets occasionally broken.) So, whether you have at most one waiter not, we should use this class always. Do not use std::condition_variable at all.</p>
<p>As this depends on C++11, the name of this file ends with impl. Thus, only private implementation classes directly use this class. If you are okay with C++11, you can use it from client programs, too.</p>
<p>This class is totally header-only. </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00056">56</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d075844951f7b5960ff3ae9ede98003"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a1d075844951f7b5960ff3ae9ede98003">ConditionVariable</a> ()</td></tr>
<tr class="separator:a1d075844951f7b5960ff3ae9ede98003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb03da5191ffec368719457eba78213"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a6eb03da5191ffec368719457eba78213">~ConditionVariable</a> ()</td></tr>
<tr class="separator:a6eb03da5191ffec368719457eba78213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefce9dc8654a2f907e60cbc1b20ec770"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#aefce9dc8654a2f907e60cbc1b20ec770">ConditionVariable</a> (const <a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;other)=delete</td></tr>
<tr class="separator:aefce9dc8654a2f907e60cbc1b20ec770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2007ae51bd31f29914ad7ad27e89e1ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a2007ae51bd31f29914ad7ad27e89e1ff">operator=</a> (const <a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;other)=delete</td></tr>
<tr class="separator:a2007ae51bd31f29914ad7ad27e89e1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc098ddec86a9feab50f72224a8c728"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#abdc098ddec86a9feab50f72224a8c728">ConditionVariable</a> (<a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&amp;other)=delete</td></tr>
<tr class="separator:abdc098ddec86a9feab50f72224a8c728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd037ef2c305fc7118b8b6bb924442cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#afd037ef2c305fc7118b8b6bb924442cf">operator=</a> (<a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&amp;other)=delete</td></tr>
<tr class="separator:afd037ef2c305fc7118b8b6bb924442cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49675da80fb88b38dc30f323a937811d"><td class="memTemplParams" colspan="2">template&lt;typename PREDICATE &gt; </td></tr>
<tr class="memitem:a49675da80fb88b38dc30f323a937811d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a49675da80fb88b38dc30f323a937811d">wait</a> (PREDICATE predicate)</td></tr>
<tr class="memdesc:a49675da80fb88b38dc30f323a937811d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until the event happens.  <a href="#a49675da80fb88b38dc30f323a937811d">More...</a><br /></td></tr>
<tr class="separator:a49675da80fb88b38dc30f323a937811d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f1f9365d18d4c3a2523baced6a229e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a79f1f9365d18d4c3a2523baced6a229e">wait</a> ()</td></tr>
<tr class="memdesc:a79f1f9365d18d4c3a2523baced6a229e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until the event <b>PROBABLY</b> (because this version is w/o pred) happens.  <a href="#a79f1f9365d18d4c3a2523baced6a229e">More...</a><br /></td></tr>
<tr class="separator:a79f1f9365d18d4c3a2523baced6a229e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5333ca0be98a0f2f5e52d70dc96a2d63"><td class="memTemplParams" colspan="2">template&lt;class REP , class PERIOD , typename PREDICATE &gt; </td></tr>
<tr class="memitem:a5333ca0be98a0f2f5e52d70dc96a2d63"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a5333ca0be98a0f2f5e52d70dc96a2d63">wait_for</a> (const std::chrono::duration&lt; REP, PERIOD &gt; &amp;timeout, PREDICATE predicate)</td></tr>
<tr class="memdesc:a5333ca0be98a0f2f5e52d70dc96a2d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until the event happens <b>or</b> the given period elapses.  <a href="#a5333ca0be98a0f2f5e52d70dc96a2d63">More...</a><br /></td></tr>
<tr class="separator:a5333ca0be98a0f2f5e52d70dc96a2d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af702c4f3f68277b6e8156dd28ee587c1"><td class="memTemplParams" colspan="2">template&lt;class REP , class PERIOD &gt; </td></tr>
<tr class="memitem:af702c4f3f68277b6e8156dd28ee587c1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#af702c4f3f68277b6e8156dd28ee587c1">wait_for</a> (const std::chrono::duration&lt; REP, PERIOD &gt; &amp;timeout)</td></tr>
<tr class="memdesc:af702c4f3f68277b6e8156dd28ee587c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until the event happens <b>or</b> the given period elapses.  <a href="#af702c4f3f68277b6e8156dd28ee587c1">More...</a><br /></td></tr>
<tr class="separator:af702c4f3f68277b6e8156dd28ee587c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907fdfe90c16b7390646555b2451d1a2"><td class="memTemplParams" colspan="2">template&lt;class CLOCK , class DURATION , typename PREDICATE &gt; </td></tr>
<tr class="memitem:a907fdfe90c16b7390646555b2451d1a2"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a907fdfe90c16b7390646555b2451d1a2">wait_until</a> (const std::chrono::time_point&lt; CLOCK, DURATION &gt; &amp;until, PREDICATE predicate)</td></tr>
<tr class="memdesc:a907fdfe90c16b7390646555b2451d1a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until the event happens <b>or</b> the given time point arrives.  <a href="#a907fdfe90c16b7390646555b2451d1a2">More...</a><br /></td></tr>
<tr class="separator:a907fdfe90c16b7390646555b2451d1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0cadbfa322f91fe5b35a9b0c190aab"><td class="memTemplParams" colspan="2">template&lt;class CLOCK , class DURATION &gt; </td></tr>
<tr class="memitem:acf0cadbfa322f91fe5b35a9b0c190aab"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#acf0cadbfa322f91fe5b35a9b0c190aab">wait_until</a> (const std::chrono::time_point&lt; CLOCK, DURATION &gt; &amp;until)</td></tr>
<tr class="memdesc:acf0cadbfa322f91fe5b35a9b0c190aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until the event happens <b>or</b> the given time point arrives.  <a href="#acf0cadbfa322f91fe5b35a9b0c190aab">More...</a><br /></td></tr>
<tr class="separator:acf0cadbfa322f91fe5b35a9b0c190aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73e961ef835f2d9e487b3ff84421b7d"><td class="memTemplParams" colspan="2">template&lt;typename SIGNAL_ACTION &gt; </td></tr>
<tr class="memitem:aa73e961ef835f2d9e487b3ff84421b7d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#aa73e961ef835f2d9e487b3ff84421b7d">notify_all</a> (SIGNAL_ACTION signal_action)</td></tr>
<tr class="memdesc:aa73e961ef835f2d9e487b3ff84421b7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify all waiters that the event has happened.  <a href="#aa73e961ef835f2d9e487b3ff84421b7d">More...</a><br /></td></tr>
<tr class="separator:aa73e961ef835f2d9e487b3ff84421b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad86aa47701df19620499fc110764e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a5ad86aa47701df19620499fc110764e0">notify_all</a> ()</td></tr>
<tr class="memdesc:a5ad86aa47701df19620499fc110764e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify all waiters that the event has happened.  <a href="#a5ad86aa47701df19620499fc110764e0">More...</a><br /></td></tr>
<tr class="separator:a5ad86aa47701df19620499fc110764e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc66434519910e355ef8f3ee05f3384"><td class="memTemplParams" colspan="2">template&lt;typename SIGNAL_ACTION &gt; </td></tr>
<tr class="memitem:a6bc66434519910e355ef8f3ee05f3384"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#a6bc66434519910e355ef8f3ee05f3384">notify_one</a> (SIGNAL_ACTION signal_action)</td></tr>
<tr class="memdesc:a6bc66434519910e355ef8f3ee05f3384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify one waiter that the event has happened.  <a href="#a6bc66434519910e355ef8f3ee05f3384">More...</a><br /></td></tr>
<tr class="separator:a6bc66434519910e355ef8f3ee05f3384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaadd684f214180d69c7241671d51d07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#afaadd684f214180d69c7241671d51d07">notify_one</a> ()</td></tr>
<tr class="memdesc:afaadd684f214180d69c7241671d51d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify one waiter that the event has happened.  <a href="#afaadd684f214180d69c7241671d51d07">More...</a><br /></td></tr>
<tr class="separator:afaadd684f214180d69c7241671d51d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1d075844951f7b5960ff3ae9ede98003"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::ConditionVariable::ConditionVariable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00058">58</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;: waiters_(0), notifiers_(0) {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6eb03da5191ffec368719457eba78213"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::ConditionVariable::~ConditionVariable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00059">59</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="assorted__func_8cpp_source.html#l00193">foedus::assorted::spinlock_yield()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                       {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(waiters_ == 0);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// we must wait until all notifiers exit notify_all.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// this assumes no new notifiers are newly coming in this situation.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">while</span> (notifiers_ &gt; 0) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <a class="code" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb">assorted::spinlock_yield</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  }</div>
<div class="ttc" id="group__ASSORTED_html_gaa05e01910d3ea9909f1a64afd62729fb"><div class="ttname"><a href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb">foedus::assorted::spinlock_yield</a></div><div class="ttdeci">void spinlock_yield()</div><div class="ttdoc">Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8cpp_source.html#l00193">assorted_func.cpp:193</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1ConditionVariable_a6eb03da5191ffec368719457eba78213_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1ConditionVariable_a6eb03da5191ffec368719457eba78213_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1ConditionVariable_a6eb03da5191ffec368719457eba78213_cgraph" id="classfoedus_1_1thread_1_1ConditionVariable_a6eb03da5191ffec368719457eba78213_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb" title="Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. " alt="" coords="237,5,412,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aefce9dc8654a2f907e60cbc1b20ec770"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::ConditionVariable::ConditionVariable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abdc098ddec86a9feab50f72224a8c728"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::ConditionVariable::ConditionVariable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa73e961ef835f2d9e487b3ff84421b7d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename SIGNAL_ACTION &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::ConditionVariable::notify_all </td>
          <td>(</td>
          <td class="paramtype">SIGNAL_ACTION&#160;</td>
          <td class="paramname"><em>signal_action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify all waiters that the event has happened. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal_action</td><td>Functor to update actual values that changes the condition variable to signaling state. This will be executed in critical section to avoid lost signal and spurious wakeup.</td></tr>
  </table>
  </dd>
</dl>
<p>Equivalent to std::condition_variable::notify_all(). To workaround the pthread_cond_broadcast bug, this method notifies one by one. We might add a switch of the behavior by checking glibc version. </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00153">153</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8cpp_source.html#l00193">foedus::assorted::spinlock_yield()</a>.</p>

<p>Referenced by <a class="el" href="rendezvous__impl_8hpp_source.html#l00106">foedus::thread::Rendezvous::signal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                               {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    NotifierScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      std::lock_guard&lt;std::mutex&gt; guard(mutex_);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      signal_action();  <span class="comment">// conduct the action to update actual values *in* critical section</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">while</span> (waiters_ &gt; 0) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      condition_.notify_one();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb">assorted::spinlock_yield</a>();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="ttc" id="group__ASSORTED_html_gaa05e01910d3ea9909f1a64afd62729fb"><div class="ttname"><a href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb">foedus::assorted::spinlock_yield</a></div><div class="ttdeci">void spinlock_yield()</div><div class="ttdoc">Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8cpp_source.html#l00193">assorted_func.cpp:193</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_cgraph" id="classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb" title="Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. " alt="" coords="220,5,395,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_icgraph" id="classfoedus_1_1thread_1_1ConditionVariable_aa73e961ef835f2d9e487b3ff84421b7d_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Rendezvous.html#af7e23e2d55331fd410d253c8645cbe68" title="Notify all waiters that the event has happened. " alt="" coords="220,5,403,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ad86aa47701df19620499fc110764e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::ConditionVariable::notify_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify all waiters that the event has happened. </p>
<p>Equivalent to std::condition_variable::notify_all(). To workaround the pthread_cond_broadcast bug, this method notifies one by one. We might add a switch of the behavior by checking glibc version. </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00171">171</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classfoedus_1_1thread_1_1ConditionVariable.html#a5ad86aa47701df19620499fc110764e0">notify_all</a>([]{});</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ConditionVariable_html_a5ad86aa47701df19620499fc110764e0"><div class="ttname"><a href="classfoedus_1_1thread_1_1ConditionVariable.html#a5ad86aa47701df19620499fc110764e0">foedus::thread::ConditionVariable::notify_all</a></div><div class="ttdeci">void notify_all()</div><div class="ttdoc">Notify all waiters that the event has happened. </div><div class="ttdef"><b>Definition:</b> <a href="condition__variable__impl_8hpp_source.html#l00171">condition_variable_impl.hpp:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6bc66434519910e355ef8f3ee05f3384"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename SIGNAL_ACTION &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::ConditionVariable::notify_one </td>
          <td>(</td>
          <td class="paramtype">SIGNAL_ACTION&#160;</td>
          <td class="paramname"><em>signal_action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify one waiter that the event has happened. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal_action</td><td>Functor to update actual values that changes the condition variable to signaling state. This will be executed in critical section to avoid lost signal and spurious wakeup.</td></tr>
  </table>
  </dd>
</dl>
<p>Equivalent to std::condition_variable::notify_one(). To workaround the pthread_cond_signal bug, this method atomically checks if there is any waiter, avoiding to call <a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#afaadd684f214180d69c7241671d51d07" title="Notify one waiter that the event has happened. ">notify_one()</a> if there is none. We might add a switch of the behavior by checking glibc version. </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00187">187</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="stoppable__thread__impl_8cpp_source.html#l00068">foedus::thread::StoppableThread::request_stop()</a>, and <a class="el" href="stoppable__thread__impl_8cpp_source.html#l00059">foedus::thread::StoppableThread::wakeup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                               {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    NotifierScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      std::lock_guard&lt;std::mutex&gt; guard(mutex_);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      signal_action();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (waiters_ &gt; 0) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      condition_.notify_one();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1ConditionVariable_a6bc66434519910e355ef8f3ee05f3384_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1ConditionVariable_a6bc66434519910e355ef8f3ee05f3384_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1ConditionVariable_a6bc66434519910e355ef8f3ee05f3384_icgraph" id="classfoedus_1_1thread_1_1ConditionVariable_a6bc66434519910e355ef8f3ee05f3384_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1StoppableThread.html#a3040b11b872cbdc6d55bcb93ffb94e6e" title="If the thread is still running, requests the thread to stop and waits until it exists. " alt="" coords="220,5,391,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1StoppableThread.html#a19825a0d8056bf687e58d20672151d3e" title="If the thread is still running and also sleeping, requests the thread to immediately wakeup and do it..." alt="" coords="220,71,391,112"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1StoppableThread.html#ae9515af70a941a317f94ced1be3f594b" title="request_stop() plus wait_for_stop(). " alt="" coords="439,5,609,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afaadd684f214180d69c7241671d51d07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::ConditionVariable::notify_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify one waiter that the event has happened. </p>
<p>Equivalent to std::condition_variable::notify_one(). To workaround the pthread_cond_signal bug, this method atomically checks if there is any waiter, avoiding to call <a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html#afaadd684f214180d69c7241671d51d07" title="Notify one waiter that the event has happened. ">notify_one()</a> if there is none. We might add a switch of the behavior by checking glibc version. </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00206">206</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="classfoedus_1_1thread_1_1ConditionVariable.html#afaadd684f214180d69c7241671d51d07">notify_one</a>([]{});</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ConditionVariable_html_afaadd684f214180d69c7241671d51d07"><div class="ttname"><a href="classfoedus_1_1thread_1_1ConditionVariable.html#afaadd684f214180d69c7241671d51d07">foedus::thread::ConditionVariable::notify_one</a></div><div class="ttdeci">void notify_one()</div><div class="ttdoc">Notify one waiter that the event has happened. </div><div class="ttdef"><b>Definition:</b> <a href="condition__variable__impl_8hpp_source.html#l00206">condition_variable_impl.hpp:206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2007ae51bd31f29914ad7ad27e89e1ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a>&amp; foedus::thread::ConditionVariable::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afd037ef2c305fc7118b8b6bb924442cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a>&amp; foedus::thread::ConditionVariable::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a49675da80fb88b38dc30f323a937811d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PREDICATE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::ConditionVariable::wait </td>
          <td>(</td>
          <td class="paramtype">PREDICATE&#160;</td>
          <td class="paramname"><em>predicate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block until the event happens. </p>
<p>Equivalent to std::condition_variable::wait(). </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00080">80</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="rendezvous__impl_8hpp_source.html#l00064">foedus::thread::Rendezvous::wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                 {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    WaiterScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    condition_.wait(scope.lock_, predicate);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1ConditionVariable_a49675da80fb88b38dc30f323a937811d_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1ConditionVariable_a49675da80fb88b38dc30f323a937811d_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1ConditionVariable_a49675da80fb88b38dc30f323a937811d_icgraph" id="classfoedus_1_1thread_1_1ConditionVariable_a49675da80fb88b38dc30f323a937811d_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Rendezvous.html#a914c96602fcbd41ff1c8af43d49f020c" title="Block until the event happens. " alt="" coords="220,5,403,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79f1f9365d18d4c3a2523baced6a229e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::ConditionVariable::wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block until the event <b>PROBABLY</b> (because this version is w/o pred) happens. </p>
<p>Equivalent to std::condition_variable::wait(). </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00089">89</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;              {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    WaiterScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    condition_.wait(scope.lock_);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5333ca0be98a0f2f5e52d70dc96a2d63"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class REP , class PERIOD , typename PREDICATE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::thread::ConditionVariable::wait_for </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::duration&lt; REP, PERIOD &gt; &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PREDICATE&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block until the event happens <b>or</b> the given period elapses. </p>
<dl class="section return"><dt>Returns</dt><dd>whether the event happened by now.</dd></dl>
<p>Equivalent to std::condition_variable::wait_for(). </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00101">101</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="stoppable__thread__impl_8cpp_source.html#l00047">foedus::thread::StoppableThread::sleep()</a>, and <a class="el" href="rendezvous__impl_8hpp_source.html#l00078">foedus::thread::Rendezvous::wait_for()</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                                                    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    WaiterScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> condition_.wait_for(scope.lock_, timeout, predicate);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1ConditionVariable_a5333ca0be98a0f2f5e52d70dc96a2d63_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1ConditionVariable_a5333ca0be98a0f2f5e52d70dc96a2d63_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1ConditionVariable_a5333ca0be98a0f2f5e52d70dc96a2d63_icgraph" id="classfoedus_1_1thread_1_1ConditionVariable_a5333ca0be98a0f2f5e52d70dc96a2d63_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1StoppableThread.html#af4a8cfe3be20d1f9131c27e1f8f91db0" title="Sleep until the interval elapses or someone requests to stop this thread. " alt="" coords="226,5,397,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Rendezvous.html#ae34b5634d5c3eb7a2582a9453c053579" title="Block until the event happens or the given period elapses. " alt="" coords="220,71,403,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af702c4f3f68277b6e8156dd28ee587c1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class REP , class PERIOD &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::thread::ConditionVariable::wait_for </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::duration&lt; REP, PERIOD &gt; &amp;&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block until the event happens <b>or</b> the given period elapses. </p>
<dl class="section return"><dt>Returns</dt><dd>whether the event <b>PROBABLY</b> (because this version is w/o pred) happened by now.</dd></dl>
<p>Equivalent to std::condition_variable::wait_for(). </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00113">113</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                                               {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    WaiterScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> condition_.wait_for(scope.lock_, timeout) == std::cv_status::no_timeout;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a907fdfe90c16b7390646555b2451d1a2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class CLOCK , class DURATION , typename PREDICATE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::thread::ConditionVariable::wait_until </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::time_point&lt; CLOCK, DURATION &gt; &amp;&#160;</td>
          <td class="paramname"><em>until</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PREDICATE&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block until the event happens <b>or</b> the given time point arrives. </p>
<dl class="section return"><dt>Returns</dt><dd>whether the event happened by now.</dd></dl>
<p>Equivalent to std::condition_variable::wait_until(). </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00125">125</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="rendezvous__impl_8hpp_source.html#l00092">foedus::thread::Rendezvous::wait_until()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                                                                          {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    WaiterScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> condition_.wait_until(scope.lock_, until, predicate);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1ConditionVariable_a907fdfe90c16b7390646555b2451d1a2_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1ConditionVariable_a907fdfe90c16b7390646555b2451d1a2_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1ConditionVariable_a907fdfe90c16b7390646555b2451d1a2_icgraph" id="classfoedus_1_1thread_1_1ConditionVariable_a907fdfe90c16b7390646555b2451d1a2_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Rendezvous.html#ad9833689b9e12cde79a12b4ecd29dc4e" title="Block until the event happens or the given time point arrives. " alt="" coords="220,5,403,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf0cadbfa322f91fe5b35a9b0c190aab"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class CLOCK , class DURATION &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::thread::ConditionVariable::wait_until </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::time_point&lt; CLOCK, DURATION &gt; &amp;&#160;</td>
          <td class="paramname"><em>until</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block until the event happens <b>or</b> the given time point arrives. </p>
<dl class="section return"><dt>Returns</dt><dd>whether the event <b>PROBABLY</b> (because this version is w/o pred) happened by now.</dd></dl>
<p>Equivalent to std::condition_variable::wait_until(). </p>

<p>Definition at line <a class="el" href="condition__variable__impl_8hpp_source.html#l00137">137</a> of file <a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                                                     {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    WaiterScope scope(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> condition_.wait_until(scope.lock_, until) == std::cv_status::no_timeout;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/thread/<a class="el" href="condition__variable__impl_8hpp_source.html">condition_variable_impl.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1thread.html">thread</a></li><li class="navelem"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">ConditionVariable</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
