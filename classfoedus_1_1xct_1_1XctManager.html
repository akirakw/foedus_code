<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::xct::XctManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1xct_1_1XctManager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfoedus_1_1xct_1_1XctManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::xct::XctManager Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__XCT.html">Transaction Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classfoedus_1_1xct_1_1Xct.html" title="Represents a user transaction. ">Xct</a> Manager class that provides API to begin/abort/commit transaction.  
 <a href="classfoedus_1_1xct_1_1XctManager.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classfoedus_1_1xct_1_1Xct.html" title="Represents a user transaction. ">Xct</a> Manager class that provides API to begin/abort/commit transaction. </p>
<p>Client programs should first call <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. ">begin_xct()</a>, then either call <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. ">abort_xct()</a> or <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. ">precommit_xct()</a>. In the latter case, the client programs should either keep running other transactions without returning the results to users, or call <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a577f44c6f10022d645605d171ef4a781" title="Synchronously blocks until the durable global epoch reaches the given commit epoch or the given durat...">wait_for_commit()</a> to immediately return the results. </p>

<p>Definition at line <a class="el" href="xct__manager_8hpp_source.html#l00035">35</a> of file <a class="el" href="xct__manager_8hpp_source.html">xct_manager.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="xct__manager_8hpp_source.html">xct_manager.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::xct::XctManager:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager__inherit__graph.png" border="0" usemap="#foedus_1_1xct_1_1XctManager_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1xct_1_1XctManager_inherit__map" id="foedus_1_1xct_1_1XctManager_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="21,5,153,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::xct::XctManager:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager__coll__graph.png" border="0" usemap="#foedus_1_1xct_1_1XctManager_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1xct_1_1XctManager_coll__map" id="foedus_1_1xct_1_1XctManager_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="21,5,153,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9844e31662a30539f1859670101c508c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a9844e31662a30539f1859670101c508c">XctManager</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:a9844e31662a30539f1859670101c508c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bde72414d8527471175c21c077b109"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a81bde72414d8527471175c21c077b109">~XctManager</a> ()</td></tr>
<tr class="separator:a81bde72414d8527471175c21c077b109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e22e71a4949608902fafa814b2155e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#af7e22e71a4949608902fafa814b2155e">XctManager</a> ()=delete</td></tr>
<tr class="separator:af7e22e71a4949608902fafa814b2155e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708af3d115ce8b65ea9317e0f69ffb31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a708af3d115ce8b65ea9317e0f69ffb31">XctManager</a> (const <a class="el" href="classfoedus_1_1xct_1_1XctManager.html">XctManager</a> &amp;)=delete</td></tr>
<tr class="separator:a708af3d115ce8b65ea9317e0f69ffb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226ee74947779684cbea4c92c0661f9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html">XctManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a226ee74947779684cbea4c92c0661f9c">operator=</a> (const <a class="el" href="classfoedus_1_1xct_1_1XctManager.html">XctManager</a> &amp;)=delete</td></tr>
<tr class="separator:a226ee74947779684cbea4c92c0661f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559edb5c636898a775e6c60d42e0eaf5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a559edb5c636898a775e6c60d42e0eaf5">initialize</a> () override</td></tr>
<tr class="memdesc:a559edb5c636898a775e6c60d42e0eaf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires resources in this object, usually called right after constructor.  <a href="#a559edb5c636898a775e6c60d42e0eaf5">More...</a><br /></td></tr>
<tr class="separator:a559edb5c636898a775e6c60d42e0eaf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2222c8c5db52f4f1175b1250bf1a4a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a8c2222c8c5db52f4f1175b1250bf1a4a">is_initialized</a> () const  override</td></tr>
<tr class="memdesc:a8c2222c8c5db52f4f1175b1250bf1a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already initialized or not.  <a href="#a8c2222c8c5db52f4f1175b1250bf1a4a">More...</a><br /></td></tr>
<tr class="separator:a8c2222c8c5db52f4f1175b1250bf1a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ca2007d1e8d64275a1d1eb8b034181"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a91ca2007d1e8d64275a1d1eb8b034181">uninitialize</a> () override</td></tr>
<tr class="memdesc:a91ca2007d1e8d64275a1d1eb8b034181"><td class="mdescLeft">&#160;</td><td class="mdescRight">An <em>idempotent</em> method to release all resources of this object, if any.  <a href="#a91ca2007d1e8d64275a1d1eb8b034181">More...</a><br /></td></tr>
<tr class="separator:a91ca2007d1e8d64275a1d1eb8b034181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a419a270d62522ede9bd871dd4adc0e2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a419a270d62522ede9bd871dd4adc0e2a">get_current_global_epoch</a> () const </td></tr>
<tr class="memdesc:a419a270d62522ede9bd871dd4adc0e2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current global epoch, the epoch a newly started transaction will be in.  <a href="#a419a270d62522ede9bd871dd4adc0e2a">More...</a><br /></td></tr>
<tr class="separator:a419a270d62522ede9bd871dd4adc0e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4578dd6dab7925b95d7810335ae5cec0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a4578dd6dab7925b95d7810335ae5cec0">get_current_global_epoch_weak</a> () const </td></tr>
<tr class="separator:a4578dd6dab7925b95d7810335ae5cec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd36d7a9f38e055767f9a36c0889385"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#addd36d7a9f38e055767f9a36c0889385">get_current_grace_epoch</a> () const </td></tr>
<tr class="memdesc:addd36d7a9f38e055767f9a36c0889385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current grace-period epoch (global epoch - 1), the epoch <em>some</em> transaction might be still in (though rare).  <a href="#addd36d7a9f38e055767f9a36c0889385">More...</a><br /></td></tr>
<tr class="separator:addd36d7a9f38e055767f9a36c0889385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c5f89e66b63d3eb621906c8f88a654"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#ac5c5f89e66b63d3eb621906c8f88a654">get_current_grace_epoch_weak</a> () const </td></tr>
<tr class="separator:ac5c5f89e66b63d3eb621906c8f88a654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3178a6ce1c815fb88b6c8d5607da5d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#aa3178a6ce1c815fb88b6c8d5607da5d4">wait_for_current_global_epoch</a> (<a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> target_epoch, int64_t wait_microseconds=-1)</td></tr>
<tr class="memdesc:aa3178a6ce1c815fb88b6c8d5607da5d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passively wait until the current global epoch becomes the given value.  <a href="#aa3178a6ce1c815fb88b6c8d5607da5d4">More...</a><br /></td></tr>
<tr class="separator:aa3178a6ce1c815fb88b6c8d5607da5d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75089821b48c98a00cd7e4ddc0615da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#aa75089821b48c98a00cd7e4ddc0615da">advance_current_global_epoch</a> ()</td></tr>
<tr class="memdesc:aa75089821b48c98a00cd7e4ddc0615da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests to advance the current global epoch as soon as possible and blocks until it actually does.  <a href="#aa75089821b48c98a00cd7e4ddc0615da">More...</a><br /></td></tr>
<tr class="separator:aa75089821b48c98a00cd7e4ddc0615da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd2ffb750756de7132eabf6d6a284ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce">begin_xct</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__XCT.html#ga9ac5dae4b91a288e9d887f28a7124c13">IsolationLevel</a> isolation_level)</td></tr>
<tr class="memdesc:a0cd2ffb750756de7132eabf6d6a284ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins a new transaction on the thread.  <a href="#a0cd2ffb750756de7132eabf6d6a284ce">More...</a><br /></td></tr>
<tr class="separator:a0cd2ffb750756de7132eabf6d6a284ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486c653445cb64cc9514af3f1031bdf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0">precommit_xct</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> *commit_epoch)</td></tr>
<tr class="memdesc:a486c653445cb64cc9514af3f1031bdf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the currently running transaction on the thread for commit.  <a href="#a486c653445cb64cc9514af3f1031bdf0">More...</a><br /></td></tr>
<tr class="separator:a486c653445cb64cc9514af3f1031bdf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577f44c6f10022d645605d171ef4a781"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a577f44c6f10022d645605d171ef4a781">wait_for_commit</a> (<a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> commit_epoch, int64_t wait_microseconds=-1)</td></tr>
<tr class="memdesc:a577f44c6f10022d645605d171ef4a781"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronously blocks until the durable global epoch reaches the given commit epoch or the given duration elapses.  <a href="#a577f44c6f10022d645605d171ef4a781">More...</a><br /></td></tr>
<tr class="separator:a577f44c6f10022d645605d171ef4a781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa176159e8ab007d35ea467226f5d2475"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475">abort_xct</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context)</td></tr>
<tr class="memdesc:aa176159e8ab007d35ea467226f5d2475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts the currently running transaction on the thread.  <a href="#aa176159e8ab007d35ea467226f5d2475">More...</a><br /></td></tr>
<tr class="separator:aa176159e8ab007d35ea467226f5d2475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494c96802826b99e62384b72c2252c84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a494c96802826b99e62384b72c2252c84">pause_accepting_xct</a> ()</td></tr>
<tr class="memdesc:a494c96802826b99e62384b72c2252c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause all begin_xct until you call <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#ad1e49dd4bd9a1d87db8bbe2c107d7d98" title="Make sure you call this after pause_accepting_xct(). ">resume_accepting_xct()</a>  <a href="#a494c96802826b99e62384b72c2252c84">More...</a><br /></td></tr>
<tr class="separator:a494c96802826b99e62384b72c2252c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e49dd4bd9a1d87db8bbe2c107d7d98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#ad1e49dd4bd9a1d87db8bbe2c107d7d98">resume_accepting_xct</a> ()</td></tr>
<tr class="memdesc:ad1e49dd4bd9a1d87db8bbe2c107d7d98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure you call this after <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a494c96802826b99e62384b72c2252c84" title="Pause all begin_xct until you call resume_accepting_xct() ">pause_accepting_xct()</a>.  <a href="#ad1e49dd4bd9a1d87db8bbe2c107d7d98">More...</a><br /></td></tr>
<tr class="separator:ad1e49dd4bd9a1d87db8bbe2c107d7d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Initializable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Initializable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Initializable.html">foedus::Initializable</a></td></tr>
<tr class="memitem:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Initializable.html#aff308260543d18b3fd1367fd9017b176">~Initializable</a> ()</td></tr>
<tr class="separator:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9844e31662a30539f1859670101c508c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::xct::XctManager::XctManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00022">22</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                     : pimpl_(<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  pimpl_ = <span class="keyword">new</span> XctManagerPimpl(engine);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81bde72414d8527471175c21c077b109"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::xct::XctManager::~XctManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00025">25</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                        {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <span class="keyword">delete</span> pimpl_;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  pimpl_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af7e22e71a4949608902fafa814b2155e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::xct::XctManager::XctManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a708af3d115ce8b65ea9317e0f69ffb31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::xct::XctManager::XctManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1xct_1_1XctManager.html">XctManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa176159e8ab007d35ea467226f5d2475"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::xct::XctManager::abort_xct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts the currently running transaction on the thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">context</td><td>Thread context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>context-&gt;is_running_xct() == true </dd></dl>

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00082">82</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00954">foedus::xct::XctManagerPimpl::abort_xct()</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696">abort_xct</a>(context); }</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a71f565f69929d90febd7beb6b1dca696"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696">foedus::xct::XctManagerPimpl::abort_xct</a></div><div class="ttdeci">ErrorCode abort_xct(thread::Thread *context)</div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00954">xct_manager_pimpl.cpp:954</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_aa176159e8ab007d35ea467226f5d2475_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_aa176159e8ab007d35ea467226f5d2475_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_aa176159e8ab007d35ea467226f5d2475_cgraph" id="classfoedus_1_1xct_1_1XctManager_aa176159e8ab007d35ea467226f5d2475_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="216,781,411,823"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="771,785,921,827"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199" title="Returns whether the object is an active transaction. " alt="" coords="781,253,911,295"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="503,781,654,823"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1Xct.html#ae523b00cead387e6addb1366fe08546a" title="foedus::xct::Xct::get\l_read_set" alt="" coords="777,319,915,360"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1Xct.html#af7b9c43800807db798d2e58bc07ad5cd" title="foedus::xct::Xct::get\l_read_set_size" alt="" coords="777,384,915,425"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1RwLockableXctId.html#aba859c4eb829f83fa767720d5b745646" title="foedus::xct::RwLockableXct\lId::hotter" alt="" coords="487,129,670,171"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1Xct.html#aae4b0ccd575851276efddf752c90a273" title="foedus::xct::Xct::is\l_enable_rll_for_this_xct" alt="" coords="499,847,658,888"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1Xct.html#a8a5728b0376ffa45b801a560051d7d7a" title="foedus::xct::Xct::get\l_rll_threshold_for_this_xct" alt="" coords="492,912,665,953"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1Xct.html#a8b718008691c004c92d863b8b75dbe07" title="foedus::xct::Xct::get\l_retrospective_lock_list" alt="" coords="500,977,657,1019"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a38d217000e4df1d2d8e829c37218f93e" title="Fill out this retrospetive lock list for the next run of the given transaction. " alt="" coords="493,533,665,575"/>
<area shape="rect" id="node29" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846" title="foedus::xct::Retrospective\lLockList::clear_entries" alt="" coords="493,1043,665,1084"/>
<area shape="rect" id="node30" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a3c2ee2d08709ff62e77e0dff6eded376" title="unlocking all acquired locks, used when commit/abort. " alt="" coords="459,716,699,757"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1Xct.html#abbc9a5e976aadfba9f1fbf9e9fb39a9a" title="Closes the transaction. " alt="" coords="489,1109,668,1135"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="502,1160,655,1201"/>
<area shape="rect" id="node48" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9fecc418442394a926c49930cb95cc47" title="Called when the current transaction aborts. " alt="" coords="485,1225,672,1267"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="771,188,921,229"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1Thread.html#a83bb972b117e155dc7f0faa56751571b" title="foedus::thread::Thread\l::get_lock_rnd" alt="" coords="771,71,921,112"/>
<area shape="rect" id="node11" href="structfoedus_1_1assorted_1_1ProbCounter.html#a168e04a3f3aa5c426c6f7980b9f358a7" title="foedus::assorted::ProbCounter\l::increment" alt="" coords="747,5,945,47"/>
<area shape="rect" id="node13" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="2386,450,2551,477"/>
<area shape="rect" id="node12" href="classfoedus_1_1assorted_1_1UniformRandom.html#a5aba938f3a43d80fbfcca815637bbcfc" title="foedus::assorted::Uniform\lRandom::next_uint32" alt="" coords="1000,5,1171,47"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e" title="foedus::xct::Retrospective\lLockList::assert_sorted" alt="" coords="999,668,1171,709"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1Xct.html#ae5fa3dcdb891b99e5bc7d83ff2029f46" title="foedus::xct::Xct::get\l_write_set" alt="" coords="777,501,915,543"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1Xct.html#a674e3ce0252c1c9d2f73edf3b3c4307e" title="foedus::xct::Xct::get\l_write_set_size" alt="" coords="777,567,915,608"/>
<area shape="rect" id="node27" href="structfoedus_1_1xct_1_1LockEntry.html#a54190c5faf4f6943043c1d83ed435f44" title="foedus::xct::LockEntry::set" alt="" coords="757,633,935,659"/>
<area shape="rect" id="node28" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1467,727,1612,768"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129" title="foedus::xct::Retrospective\lLockList::assert_sorted_impl" alt="" coords="1881,668,2071,709"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="2136,668,2297,709"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="2394,661,2543,703"/>
<area shape="rect" id="node22" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="2387,727,2550,768"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="2623,759,2816,800"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="2639,693,2800,735"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1Thread.html#a21bff0861e0c12573bc0a6b776857b76" title="foedus::thread::Thread\l::cll_release_all_locks" alt="" coords="771,968,921,1009"/>
<area shape="rect" id="node33" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="1248,844,1387,885"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1CurrentLockList.html#abb020fdb3951460f9c283d4700696ad2" title="foedus::xct::CurrentLock\lList::clear_entries" alt="" coords="764,903,928,944"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a6367855f3aa3549b2d7b74adf383c87a" title="foedus::thread::ThreadPimpl\l::cll_release_all_locks" alt="" coords="993,939,1177,980"/>
<area shape="rect" id="node34" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="1225,909,1409,951"/>
<area shape="rect" id="node35" href="classfoedus_1_1xct_1_1CurrentLockList.html#a069941b140019c23d86092e68cd9b331" title="foedus::xct::CurrentLock\lList::release_all_locks" alt="" coords="1235,975,1399,1016"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1CurrentLockList.html#ace2e6a593d7b975f1756ce9eec0fd1f2" title="Release all locks in CLL whose addresses are canonically ordered before the parameter. " alt="" coords="1457,945,1621,987"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="2119,909,2315,951"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="1669,815,1833,856"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1CurrentLockList.html#ae0cbd2f6b369d0340c3222f124fe122b" title="foedus::xct::CurrentLock\lList::begin" alt="" coords="1669,945,1833,987"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1CurrentLockList.html#ad34e69a6289f0860fe000c3bbecda1cb" title="foedus::xct::CurrentLock\lList::end" alt="" coords="1669,880,1833,921"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="2363,909,2575,951"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="2631,902,2807,958"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="1894,815,2058,856"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1CurrentLockList.html#a761b506c86d1d8e5681cab34fac1ad29" title="foedus::xct::CurrentLock\lList::is_empty" alt="" coords="764,1101,928,1143"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa75089821b48c98a00cd7e4ddc0615da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::XctManager::advance_current_global_epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests to advance the current global epoch as soon as possible and blocks until it actually does. </p>
<p>This method is used when some thread immediately needs the next epoch for some reason, eg transactional threads ran out of ordinal (per-thread/epoch identifier) in the epoch. </p>

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00070">70</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00255">foedus::xct::XctManagerPimpl::advance_current_global_epoch()</a>.</p>

<p>Referenced by <a class="el" href="meta__log__buffer_8cpp_source.html#l00033">foedus::log::MetaLogBuffer::commit()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00789">foedus::thread::ThreadPimpl::flush_retired_volatile_page()</a>, <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>, and <a class="el" href="xct_8cpp_source.html#l00134">foedus::xct::Xct::issue_next_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{ pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6">advance_current_global_epoch</a>(); }</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a925da0bb4b846daa21eb947e4f67b0c6"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6">foedus::xct::XctManagerPimpl::advance_current_global_epoch</a></div><div class="ttdeci">void advance_current_global_epoch()</div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00255">xct_manager_pimpl.cpp:255</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_cgraph" id="classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6" title="foedus::xct::XctManagerPimpl\l::advance_current_global_epoch" alt="" coords="260,156,467,197"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch" alt="" coords="518,5,713,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1Epoch.html#a786afd92afdc87b54dfa11ef093f06f3" title="foedus::Epoch::one_more" alt="" coords="530,71,701,98"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a03678427b184e7ce71f9bbb164dd0bad" title="foedus::xct::XctManagerPimpl\l::set_requested_global_epoch" alt="" coords="518,123,713,164"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#afce787897428bd372c67224acd3e8ea7" title="foedus::xct::XctManagerPimpl\l::wakeup_epoch_chime_thread" alt="" coords="515,188,716,229"/>
<area shape="rect" id="node12" href="classfoedus_1_1soc_1_1SharedPolling.html#ac6ad7822e42e2e942b55708b1da8516b" title="Gives the ticket to. " alt="" coords="773,249,950,291"/>
<area shape="rect" id="node13" href="classfoedus_1_1soc_1_1SharedPolling.html#a9fc7bfaf57e1f2224be9869a8e9708d3" title="Unconditionally wait for signal. " alt="" coords="527,305,704,347"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a6071efec3ffc3876192101db2a1873b4" title="foedus::xct::XctManagerPimpl\l::get_requested_global_epoch" alt="" coords="764,65,959,107"/>
<area shape="rect" id="node7" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="790,131,933,158"/>
<area shape="rect" id="node9" href="classfoedus_1_1soc_1_1SharedPolling.html#ae523f3b3bda39c0c81bfb5cb0d5ad626" title="Signal it to let waiters exit. " alt="" coords="773,184,950,225"/>
<area shape="rect" id="node10" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="1015,245,1189,287"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1soc.html#ad6b40c6c8e2db3fbf1bbdf6daa025275" title="foedus::soc::ugly_atomic_inc" alt="" coords="1007,191,1197,218"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_icgraph" id="classfoedus_1_1xct_1_1XctManager_aa75089821b48c98a00cd7e4ddc0615da_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1log_1_1MetaLogBuffer.html#ab94212c9c14361971679c5581c99e7c3" title="Synchronously writes out the given log to metadata log file. " alt="" coords="271,123,447,165"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="267,233,451,274"/>
<area shape="rect" id="node20" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="260,298,459,339"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#a208310505c3d16cf2dc10f94f968d4a4" title="Called while a successful commit of xct to issue a new xct id. " alt="" coords="284,371,435,413"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a9eec079742233abb22d147da7b4fa50a" title="foedus::storage::Storage\lManagerPimpl::create_storage\l_and_log" alt="" coords="507,5,705,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a252f35e96555817a5eba6ab2e2275d53" title="foedus::storage::Storage\lManagerPimpl::drop_storage" alt="" coords="512,86,700,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="517,152,695,208"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1StorageManager.html#a2f5e7bd059656ae653d0a326141e76f1" title="Removes the storage object. " alt="" coords="771,86,935,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a4d7e58057f2fb648b7ff9ee6ab7fa0" title="Discards all records in this storage before the given epoch. " alt="" coords="757,159,948,201"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="510,233,702,274"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="757,229,949,270"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="1011,214,1184,255"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1011,149,1184,190"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="1011,345,1184,386"/>
<area shape="rect" id="node17" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="1011,279,1184,321"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="1011,68,1184,124"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1253,182,1427,223"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="1253,345,1427,386"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="1243,279,1437,321"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1253,75,1427,117"/>
<area shape="rect" id="node21" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="507,298,705,339"/>
<area shape="rect" id="node22" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="753,298,952,339"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="509,379,703,421"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="755,395,950,437"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="1000,410,1195,451"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1259,410,1421,451"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0cd2ffb750756de7132eabf6d6a284ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::xct::XctManager::begin_xct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__XCT.html#ga9ac5dae4b91a288e9d887f28a7124c13">IsolationLevel</a>&#160;</td>
          <td class="paramname"><em>isolation_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins a new transaction on the thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isolation_level</td><td>concurrency isolation level of the new transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>context-&gt;is_running_xct() == false </dd></dl>

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00075">75</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00307">foedus::xct::XctManagerPimpl::begin_xct()</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                                                                       {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a">begin_xct</a>(context, isolation_level);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_ad01b60a93f2e107d9c63e7c28799ac1a"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a">foedus::xct::XctManagerPimpl::begin_xct</a></div><div class="ttdeci">ErrorCode begin_xct(thread::Thread *context, IsolationLevel isolation_level)</div><div class="ttdoc">User transactions related methods. </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00307">xct_manager_pimpl.cpp:307</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a0cd2ffb750756de7132eabf6d6a284ce_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a0cd2ffb750756de7132eabf6d6a284ce_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a0cd2ffb750756de7132eabf6d6a284ce_cgraph" id="classfoedus_1_1xct_1_1XctManager_a0cd2ffb750756de7132eabf6d6a284ce_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="216,369,411,411"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="495,5,645,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199" title="Returns whether the object is an active transaction. " alt="" coords="505,71,635,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ae2552e77d289757f643d7e7d4aa5fcf4" title="foedus::xct::XctManagerPimpl\l::wait_until_resume_accepting_xct" alt="" coords="459,136,681,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1Xct.html#a8b718008691c004c92d863b8b75dbe07" title="foedus::xct::Xct::get\l_retrospective_lock_list" alt="" coords="491,201,649,243"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#afeae5ce72d1c324ecc32dce36459340a" title="foedus::xct::Retrospective\lLockList::get_last_active_entry" alt="" coords="941,179,1143,220"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1Xct.html#ac525c6624f248cd869b111b7d4338b30" title="Begins the transaction. " alt="" coords="488,318,652,345"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1Xct.html#ac81cd23819603f9bdbf780b9f6a18e56" title="foedus::xct::Xct::get\l_mcs_block_current" alt="" coords="501,369,639,411"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="493,435,647,476"/>
<area shape="rect" id="node29" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a3077294533a21c3aa0a115cfd4c90224" title="The current cursor to which next log will be written. " alt="" coords="477,500,663,541"/>
<area shape="rect" id="node30" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#ad75e847585775d7c506815269a176941" title="This marks the position upto which transaction logs are committed by the thread. " alt="" coords="477,565,663,607"/>
<area shape="rect" id="node31" href="classfoedus_1_1xct_1_1Xct.html#af7b9c43800807db798d2e58bc07ad5cd" title="foedus::xct::Xct::get\l_read_set_size" alt="" coords="501,631,639,672"/>
<area shape="rect" id="node32" href="classfoedus_1_1xct_1_1Xct.html#a674e3ce0252c1c9d2f73edf3b3c4307e" title="foedus::xct::Xct::get\l_write_set_size" alt="" coords="501,696,639,737"/>
<area shape="rect" id="node33" href="classfoedus_1_1xct_1_1Xct.html#a4dfc3cd9b70a93615c3a0a8014aafbe1" title="foedus::xct::Xct::get\l_lock_free_write_set_size" alt="" coords="485,761,655,803"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1CurrentLockList.html#abb020fdb3951460f9c283d4700696ad2" title="foedus::xct::CurrentLock\lList::clear_entries" alt="" coords="729,399,893,440"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="956,505,1128,547"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1CurrentLockList.html#a4a10e19f1d603ab47e74c605a9909fb5" title="Another batch&#45;insert method used at the beginning of a transaction. " alt="" coords="729,318,893,374"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e" title="foedus::xct::Retrospective\lLockList::assert_sorted" alt="" coords="956,375,1128,416"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="960,440,1124,481"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="956,244,1128,285"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1CurrentLockList.html#a761b506c86d1d8e5681cab34fac1ad29" title="foedus::xct::CurrentLock\lList::is_empty" alt="" coords="960,309,1124,351"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129" title="foedus::xct::Retrospective\lLockList::assert_sorted_impl" alt="" coords="1191,375,1380,416"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="1445,375,1607,416"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="1703,361,1853,403"/>
<area shape="rect" id="node16" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1695,427,1861,454"/>
<area shape="rect" id="node17" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1697,296,1859,337"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1932,329,2125,371"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1948,264,2109,305"/>
<area shape="rect" id="node21" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="1203,440,1367,481"/>
<area shape="rect" id="node22" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="1428,465,1624,507"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1672,479,1884,520"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1941,471,2117,527"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a419a270d62522ede9bd871dd4adc0e2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::xct::XctManager::get_current_global_epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current global epoch, the epoch a newly started transaction will be in. </p>

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00057">57</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8hpp_source.html#l00107">foedus::xct::XctManagerPimpl::get_current_global_epoch()</a>.</p>

<p>Referenced by <a class="el" href="meta__log__buffer_8cpp_source.html#l00033">foedus::log::MetaLogBuffer::commit()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00789">foedus::thread::ThreadPimpl::flush_retired_volatile_page()</a>, <a class="el" href="engine__pimpl_8cpp_source.html#l00282">foedus::Engine::get_current_global_epoch()</a>, <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>, <a class="el" href="xct_8cpp_source.html#l00134">foedus::xct::Xct::issue_next_id()</a>, and <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00158">foedus::savepoint::SavepointManagerPimpl::savepoint_main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                                       {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522">get_current_global_epoch</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a787bb892079cb32d5a2065188825a522"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522">foedus::xct::XctManagerPimpl::get_current_global_epoch</a></div><div class="ttdeci">Epoch get_current_global_epoch() const </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8hpp_source.html#l00107">xct_manager_pimpl.hpp:107</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_cgraph" id="classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch" alt="" coords="232,5,427,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_icgraph" id="classfoedus_1_1xct_1_1XctManager_a419a270d62522ede9bd871dd4adc0e2a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1log_1_1MetaLogBuffer.html#ab94212c9c14361971679c5581c99e7c3" title="Synchronously writes out the given log to metadata log file. " alt="" coords="243,88,419,129"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="239,232,423,273"/>
<area shape="rect" id="node20" href="classfoedus_1_1Engine.html#a8d468737935eab05b3f9757cb6757fe1" title="Returns the current global epoch, the epoch a newly started transaction will be in. " alt="" coords="255,163,407,204"/>
<area shape="rect" id="node21" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="232,297,431,339"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#a208310505c3d16cf2dc10f94f968d4a4" title="Called while a successful commit of xct to issue a new xct id. " alt="" coords="256,363,407,404"/>
<area shape="rect" id="node29" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ae5e8a2671c819fc0ada038b3fa47105a" title="foedus::savepoint::\lSavepointManagerPimpl\l::savepoint_main" alt="" coords="251,429,412,485"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a9eec079742233abb22d147da7b4fa50a" title="foedus::storage::Storage\lManagerPimpl::create_storage\l_and_log" alt="" coords="479,71,677,127"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a252f35e96555817a5eba6ab2e2275d53" title="foedus::storage::Storage\lManagerPimpl::drop_storage" alt="" coords="484,5,672,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="489,151,667,207"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1StorageManager.html#a2f5e7bd059656ae653d0a326141e76f1" title="Removes the storage object. " alt="" coords="743,5,907,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a4d7e58057f2fb648b7ff9ee6ab7fa0" title="Discards all records in this storage before the given epoch. " alt="" coords="729,159,920,200"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="482,232,674,273"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="729,228,921,269"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="983,167,1156,208"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="983,101,1156,143"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="983,297,1156,339"/>
<area shape="rect" id="node17" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="983,232,1156,273"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="983,21,1156,77"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1225,135,1399,176"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="1225,297,1399,339"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="1215,232,1409,273"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1225,28,1399,69"/>
<area shape="rect" id="node22" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="479,297,677,339"/>
<area shape="rect" id="node23" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="725,297,924,339"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="481,363,675,404"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="727,363,922,404"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="972,363,1167,404"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1231,363,1393,404"/>
<area shape="rect" id="node30" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ad75cdea74e547a1f66d62b85a938a2cd" title="foedus::savepoint::\lSavepointManagerPimpl\l::initialize_once" alt="" coords="497,429,659,485"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4578dd6dab7925b95d7810335ae5cec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::xct::XctManager::get_current_global_epoch_weak </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00060">60</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8hpp_source.html#l00113">foedus::xct::XctManagerPimpl::get_current_global_epoch_weak()</a>.</p>

<p>Referenced by <a class="el" href="thread__pimpl_8cpp_source.html#l00777">foedus::thread::ThreadPimpl::collect_retired_volatile_page()</a>, and <a class="el" href="xct_8cpp_source.html#l00134">foedus::xct::Xct::issue_next_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                                            {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082">get_current_global_epoch_weak</a>();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_acd49fd67f3459df687ed08d5d8b54082"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082">foedus::xct::XctManagerPimpl::get_current_global_epoch_weak</a></div><div class="ttdeci">Epoch get_current_global_epoch_weak() const </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8hpp_source.html#l00113">xct_manager_pimpl.hpp:113</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_cgraph" id="classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch_weak" alt="" coords="268,5,483,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_icgraph" id="classfoedus_1_1xct_1_1XctManager_a4578dd6dab7925b95d7810335ae5cec0_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="268,217,460,258"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1Xct.html#a208310505c3d16cf2dc10f94f968d4a4" title="Called while a successful commit of xct to issue a new xct id. " alt="" coords="289,298,439,339"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="509,185,701,226"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="761,151,935,193"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="761,86,935,127"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="761,282,935,323"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="761,217,935,258"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="761,5,935,61"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1004,119,1177,161"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="1004,282,1177,323"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="993,217,1188,258"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1004,13,1177,54"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="508,306,703,347"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="751,347,945,389"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="993,347,1188,389"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1236,347,1399,389"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="addd36d7a9f38e055767f9a36c0889385"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::xct::XctManager::get_current_grace_epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current grace-period epoch (global epoch - 1), the epoch <em>some</em> transaction might be still in (though rare). </p>

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00063">63</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8hpp_source.html#l00107">foedus::xct::XctManagerPimpl::get_current_global_epoch()</a>, and <a class="el" href="epoch_8hpp_source.html#l00122">foedus::Epoch::one_less()</a>.</p>

<p>Referenced by <a class="el" href="engine__pimpl_8cpp_source.html#l00285">foedus::Engine::get_current_grace_epoch()</a>, and <a class="el" href="sequential__cursor_8cpp_source.html#l00050">foedus::storage::sequential::SequentialCursor::SequentialCursor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                                      {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522">get_current_global_epoch</a>().<a class="code" href="classfoedus_1_1Epoch.html#a701de077839df51ebe44749a116ec10f">one_less</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a701de077839df51ebe44749a116ec10f"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a701de077839df51ebe44749a116ec10f">foedus::Epoch::one_less</a></div><div class="ttdeci">Epoch one_less() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00122">epoch.hpp:122</a></div></div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a787bb892079cb32d5a2065188825a522"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522">foedus::xct::XctManagerPimpl::get_current_global_epoch</a></div><div class="ttdeci">Epoch get_current_global_epoch() const </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8hpp_source.html#l00107">xct_manager_pimpl.hpp:107</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_cgraph" id="classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch" alt="" coords="229,5,424,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#a701de077839df51ebe44749a116ec10f" title="foedus::Epoch::one_less" alt="" coords="244,71,409,98"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_icgraph" id="classfoedus_1_1xct_1_1XctManager_addd36d7a9f38e055767f9a36c0889385_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Engine.html#ab93f097823724ccb9ed885d6a5d0cd8d" title="Returns the current grace&#45;period epoch (global epoch &#45; 1), the epoch some transaction might be still ..." alt="" coords="272,5,423,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialCursor.html#a63f0ef6e7a9171191d4117e08da4e7d3" title="Constructs a cursor to read tuples from this storage. " alt="" coords="229,71,465,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5c5f89e66b63d3eb621906c8f88a654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::xct::XctManager::get_current_grace_epoch_weak </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00066">66</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8hpp_source.html#l00113">foedus::xct::XctManagerPimpl::get_current_global_epoch_weak()</a>, and <a class="el" href="epoch_8hpp_source.html#l00122">foedus::Epoch::one_less()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                           {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082">get_current_global_epoch_weak</a>().<a class="code" href="classfoedus_1_1Epoch.html#a701de077839df51ebe44749a116ec10f">one_less</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a701de077839df51ebe44749a116ec10f"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a701de077839df51ebe44749a116ec10f">foedus::Epoch::one_less</a></div><div class="ttdeci">Epoch one_less() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00122">epoch.hpp:122</a></div></div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_acd49fd67f3459df687ed08d5d8b54082"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082">foedus::xct::XctManagerPimpl::get_current_global_epoch_weak</a></div><div class="ttdeci">Epoch get_current_global_epoch_weak() const </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8hpp_source.html#l00113">xct_manager_pimpl.hpp:113</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_ac5c5f89e66b63d3eb621906c8f88a654_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_ac5c5f89e66b63d3eb621906c8f88a654_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_ac5c5f89e66b63d3eb621906c8f88a654_cgraph" id="classfoedus_1_1xct_1_1XctManager_ac5c5f89e66b63d3eb621906c8f88a654_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch_weak" alt="" coords="267,5,481,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#a701de077839df51ebe44749a116ec10f" title="foedus::Epoch::one_less" alt="" coords="291,71,457,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a559edb5c636898a775e6c60d42e0eaf5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::xct::XctManager::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires resources in this object, usually called right after constructor. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a8c2222c8c5db52f4f1175b1250bf1a4a" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> == FALSE</dd></dl>
<p>If and only if the return value was not an error, <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a8c2222c8c5db52f4f1175b1250bf1a4a" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return TRUE. This method is usually not idempotent, but some implementation can choose to be. In that case, the implementation class should clarify that it's idempotent. This method is responsible for releasing all acquired resources when initialization fails. This method itself is NOT thread-safe. Do not call this in a racy situation. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#aa087b096d1edaeb0304c250eadb0d7e1">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00030">30</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00169">foedus::DefaultInitializable::initialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">initialize</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a22a0dc3bbbca682c3bc41eace9b6d1ff"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">foedus::DefaultInitializable::initialize</a></div><div class="ttdeci">ErrorStack initialize() override final</div><div class="ttdoc">Typical implementation of Initializable::initialize() that provides initialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00169">initializable.hpp:169</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a559edb5c636898a775e6c60d42e0eaf5_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a559edb5c636898a775e6c60d42e0eaf5_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a559edb5c636898a775e6c60d42e0eaf5_cgraph" id="classfoedus_1_1xct_1_1XctManager_a559edb5c636898a775e6c60d42e0eaf5_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="216,104,388,145"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="436,5,608,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="457,71,587,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="436,136,608,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="436,201,608,243"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8c2222c8c5db52f4f1175b1250bf1a4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::xct::XctManager::is_initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the object has been already initialized or not. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#a3c3a54a44a7a86bd99f800dbebae90eb">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00031">31</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00196">foedus::DefaultInitializable::is_initialized()</a>.</p>

<p>Referenced by <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>, <a class="el" href="restart__manager__pimpl_8cpp_source.html#l00040">foedus::restart::RestartManagerPimpl::initialize_once()</a>, and <a class="el" href="restart__manager__pimpl_8cpp_source.html#l00057">foedus::restart::RestartManagerPimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">is_initialized</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a1abda1e84b8af8bd6916e52fd0a09f3e"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">foedus::DefaultInitializable::is_initialized</a></div><div class="ttdeci">bool is_initialized() const  override final</div><div class="ttdoc">Returns whether the object has been already initialized or not. </div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00196">initializable.hpp:196</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_cgraph" id="classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="216,5,388,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_icgraph" id="classfoedus_1_1xct_1_1XctManager_a8c2222c8c5db52f4f1175b1250bf1a4a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="221,5,420,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="223,71,418,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#ad6262cf557ce9b4e8295ccc67a865554" title="foedus::restart::Restart\lManagerPimpl::uninitialize_once" alt="" coords="216,136,425,177"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="473,5,672,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="720,5,919,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a226ee74947779684cbea4c92c0661f9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html">XctManager</a>&amp; foedus::xct::XctManager::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1xct_1_1XctManager.html">XctManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a494c96802826b99e62384b72c2252c84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::XctManager::pause_accepting_xct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause all begin_xct until you call <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#ad1e49dd4bd9a1d87db8bbe2c107d7d98" title="Make sure you call this after pause_accepting_xct(). ">resume_accepting_xct()</a> </p>

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00033">33</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00327">foedus::xct::XctManagerPimpl::pause_accepting_xct()</a>.</p>

<p>Referenced by <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00488">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{ pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a19be4bae2114e48eb5c041c29e991983">pause_accepting_xct</a>(); }</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a19be4bae2114e48eb5c041c29e991983"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a19be4bae2114e48eb5c041c29e991983">foedus::xct::XctManagerPimpl::pause_accepting_xct</a></div><div class="ttdeci">void pause_accepting_xct()</div><div class="ttdoc">Pause all begin_xct until you call resume_accepting_xct() </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00327">xct_manager_pimpl.cpp:327</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_cgraph" id="classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a19be4bae2114e48eb5c041c29e991983" title="Pause all begin_xct until you call resume_accepting_xct() " alt="" coords="216,5,411,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_icgraph" id="classfoedus_1_1xct_1_1XctManager_a494c96802826b99e62384b72c2252c84_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="216,39,443,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="491,31,701,87"/>
<area shape="rect" id="node4" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="749,5,960,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="777,71,932,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1008,5,1203,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1008,71,1203,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a486c653445cb64cc9514af3f1031bdf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::xct::XctManager::precommit_xct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> *&#160;</td>
          <td class="paramname"><em>commit_epoch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares the currently running transaction on the thread for commit. </p>
<dl class="section pre"><dt>Precondition</dt><dd>context-&gt;is_running_xct() == true </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">commit_epoch</td><td>When successfully prepared, this value indicates the commit epoch of the prepared transaction. When the global epoch reaches this value, the transaction is deemed as committed.</td></tr>
  </table>
  </dd>
</dl>
<p>As the name of this method implies, this method is <b>NOT</b> a commit yet. The transaction is deemed as committed only when the durable global epoch reaches the returned commit epoch. This method merely <em>prepares</em> this transaction to be committed so that the caller can <b>choose</b> either moving on to other transactions in the meantime or to immediately wait for the commit using <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a577f44c6f10022d645605d171ef4a781" title="Synchronously blocks until the durable global epoch reaches the given commit epoch or the given durat...">wait_for_commit()</a>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a577f44c6f10022d645605d171ef4a781" title="Synchronously blocks until the durable global epoch reaches the given commit epoch or the given durat...">wait_for_commit()</a> </dd></dl>

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00079">79</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00343">foedus::xct::XctManagerPimpl::precommit_xct()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                                                {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2">precommit_xct</a>(context, commit_epoch);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a014506b605e14b3df1b1b7522e8a23b2"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2">foedus::xct::XctManagerPimpl::precommit_xct</a></div><div class="ttdeci">ErrorCode precommit_xct(thread::Thread *context, Epoch *commit_epoch)</div><div class="ttdoc">This is the gut of commit protocol. </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00343">xct_manager_pimpl.cpp:343</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a486c653445cb64cc9514af3f1031bdf0_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a486c653445cb64cc9514af3f1031bdf0_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a486c653445cb64cc9514af3f1031bdf0_cgraph" id="classfoedus_1_1xct_1_1XctManager_a486c653445cb64cc9514af3f1031bdf0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="216,1638,411,1679"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1024,917,1175,958"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199" title="Returns whether the object is an active transaction. " alt="" coords="1034,1579,1165,1621"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1Xct.html#a148038efa6f37e2b89f057c5d5cd4cb3" title="This debug method checks whether the related_read_ and related_write_ fileds in read/write sets are c..." alt="" coords="1021,589,1177,630"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1Xct.html#ab8523ae5dcf4ee3d4554e291ab355230" title="Returns if this transaction makes no writes. " alt="" coords="491,902,621,943"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="459,315,653,357"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="459,967,653,1009"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="1030,1645,1169,1686"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="459,1722,653,1763"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1Xct.html#a8b718008691c004c92d863b8b75dbe07" title="foedus::xct::Xct::get\l_retrospective_lock_list" alt="" coords="743,2009,900,2050"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846" title="foedus::xct::Retrospective\lLockList::clear_entries" alt="" coords="735,2074,907,2115"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a3c2ee2d08709ff62e77e0dff6eded376" title="unlocking all acquired locks, used when commit/abort. " alt="" coords="701,2139,941,2181"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#abbc9a5e976aadfba9f1fbf9e9fb39a9a" title="Closes the transaction. " alt="" coords="732,2205,911,2232"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1CurrentLockList.html#a761b506c86d1d8e5681cab34fac1ad29" title="foedus::xct::CurrentLock\lList::is_empty" alt="" coords="1017,2237,1181,2278"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="745,646,898,687"/>
<area shape="rect" id="node9" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#ad75e847585775d7c506815269a176941" title="This marks the position upto which transaction logs are committed by the thread. " alt="" coords="728,217,915,258"/>
<area shape="rect" id="node10" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a3077294533a21c3aa0a115cfd4c90224" title="The current cursor to which next log will be written. " alt="" coords="728,282,915,323"/>
<area shape="rect" id="node11" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="735,347,908,389"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="717,99,925,141"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1Xct.html#ae523b00cead387e6addb1366fe08546a" title="foedus::xct::Xct::get\l_read_set" alt="" coords="1030,775,1169,817"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1Xct.html#af7b9c43800807db798d2e58bc07ad5cd" title="foedus::xct::Xct::get\l_read_set_size" alt="" coords="1030,847,1169,889"/>
<area shape="rect" id="node15" href="classfoedus_1_1Engine.html#ac27d3734638fe8d18fbdc9b4ee4666b2" title="See Storage Manager. " alt="" coords="1281,425,1416,466"/>
<area shape="rect" id="node16" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="1013,223,1185,265"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1StorageManager.html#ab3700d71eb463d5b9fae21a2704ea736" title="Returns the name of the given storage ID. " alt="" coords="1017,471,1181,513"/>
<area shape="rect" id="node18" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="1038,289,1161,330"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a36088cc39846c59f78352695f08fcbf9" title="foedus::xct::RwLockableXct\lId::needs_track_moved" alt="" coords="1257,253,1440,294"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="989,158,1209,199"/>
<area shape="rect" id="node21" href="classfoedus_1_1Epoch.html#adf886b8b219538b7dac2da820fbec68c" title="Kind of std::max(this, other). " alt="" coords="1012,5,1187,32"/>
<area shape="rect" id="node22" href="structfoedus_1_1xct_1_1XctId.html#af48118bbaf92a957116ae2873fe55b83" title="foedus::xct::XctId\l::get_epoch" alt="" coords="1038,406,1161,447"/>
<area shape="rect" id="node24" href="structfoedus_1_1xct_1_1XctId.html#ad18a2d4a528fa063786b6efaf1035377" title="foedus::xct::XctId::set" alt="" coords="747,1157,895,1184"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2376431f079ce60800c9c25d89d74896" title="Phase 1 of precommit_xct() " alt="" coords="724,1091,919,1133"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1Xct.html#ae5fa3dcdb891b99e5bc7d83ff2029f46" title="foedus::xct::Xct::get\l_write_set" alt="" coords="1030,1154,1169,1195"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1Xct.html#a674e3ce0252c1c9d2f73edf3b3c4307e" title="foedus::xct::Xct::get\l_write_set_size" alt="" coords="1030,1007,1169,1049"/>
<area shape="rect" id="node29" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1032,1237,1167,1278"/>
<area shape="rect" id="node30" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch_weak" alt="" coords="714,711,929,753"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1Thread.html#a6f19e6df65000416391b796d9b2f9d66" title="Currently we don&#39;t have sysxct_release_locks() etc. " alt="" coords="743,777,900,833"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="735,858,908,899"/>
<area shape="rect" id="node33" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="716,413,927,454"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="724,478,919,519"/>
<area shape="rect" id="node35" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1013,706,1186,747"/>
<area shape="rect" id="node36" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9fecc418442394a926c49930cb95cc47" title="Called when the current transaction aborts. " alt="" coords="728,1310,915,1351"/>
<area shape="rect" id="node37" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a58d7c07a52d42d459002bc590421de8a" title="Called when the current transaction is successfully committed. " alt="" coords="728,1026,915,1067"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="746,1747,897,1789"/>
<area shape="rect" id="node40" href="structfoedus_1_1xct_1_1RwLockableXctId.html#aba859c4eb829f83fa767720d5b745646" title="foedus::xct::RwLockableXct\lId::hotter" alt="" coords="730,1813,913,1854"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1Xct.html#aae4b0ccd575851276efddf752c90a273" title="foedus::xct::Xct::is\l_enable_rll_for_this_xct" alt="" coords="742,1878,901,1919"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1Xct.html#a8a5728b0376ffa45b801a560051d7d7a" title="foedus::xct::Xct::get\l_rll_threshold_for_this_xct" alt="" coords="735,1943,908,1985"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a38d217000e4df1d2d8e829c37218f93e" title="Fill out this retrospetive lock list for the next run of the given transaction. " alt="" coords="735,1529,907,1570"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1Thread.html#a21bff0861e0c12573bc0a6b776857b76" title="foedus::thread::Thread\l::cll_release_all_locks" alt="" coords="1024,2150,1175,2191"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1CurrentLockList.html#abb020fdb3951460f9c283d4700696ad2" title="foedus::xct::CurrentLock\lList::clear_entries" alt="" coords="1017,2085,1181,2126"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad1e49dd4bd9a1d87db8bbe2c107d7d98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::XctManager::resume_accepting_xct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make sure you call this after <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a494c96802826b99e62384b72c2252c84" title="Pause all begin_xct until you call resume_accepting_xct() ">pause_accepting_xct()</a>. </p>

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00034">34</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00330">foedus::xct::XctManagerPimpl::resume_accepting_xct()</a>.</p>

<p>Referenced by <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00488">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{ pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9affae9e06ad2324c5857d0dd686995c">resume_accepting_xct</a>(); }</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a9affae9e06ad2324c5857d0dd686995c"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9affae9e06ad2324c5857d0dd686995c">foedus::xct::XctManagerPimpl::resume_accepting_xct</a></div><div class="ttdeci">void resume_accepting_xct()</div><div class="ttdoc">Make sure you call this after pause_accepting_xct(). </div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00330">xct_manager_pimpl.cpp:330</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_cgraph" id="classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9affae9e06ad2324c5857d0dd686995c" title="Make sure you call this after pause_accepting_xct(). " alt="" coords="216,5,411,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_icgraph" id="classfoedus_1_1xct_1_1XctManager_ad1e49dd4bd9a1d87db8bbe2c107d7d98_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="216,39,443,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="491,31,701,87"/>
<area shape="rect" id="node4" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="749,5,960,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="777,71,932,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1008,5,1203,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1008,71,1203,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a91ca2007d1e8d64275a1d1eb8b034181"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::xct::XctManager::uninitialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An <em>idempotent</em> method to release all resources of this object, if any. </p>
<p>After this method, <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a8c2222c8c5db52f4f1175b1250bf1a4a" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return FALSE. <b>Whether</b> this method encounters an error or not, the implementation should make the best effort to release as many resources as possible. In other words, Do not leak <b>all</b> resources because of <b>one</b> issue. This method itself is NOT thread-safe. Do not call this in a racy situation. </p><dl class="section attention"><dt>Attention</dt><dd>This method is NOT automatically called from the destructor. This is due to the fundamental limitation in C++. Explicitly call this method as soon as you are done, checking the returned value. You can also use <a class="el" href="classfoedus_1_1UninitializeGuard.html" title="Calls Initializable::uninitialize() automatically when it gets out of scope. ">UninitializeGuard</a> to ameliorate the issue, but it's not perfect. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The error this method encounters, if any. In case there are multiple errors while uninitialization, the implementation should use <a class="el" href="classfoedus_1_1ErrorStackBatch.html" title="Batches zero or more ErrorStack objects to represent in one ErrorStack. ">ErrorStackBatch</a> to produce a batched <a class="el" href="classfoedus_1_1ErrorStack.html" title="Brings error stacktrace information as return value of functions. ">ErrorStack</a> object. </dd></dl>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#afbe5738b0bc85362fba80bdf788fd3c3">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00032">32</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00187">foedus::DefaultInitializable::uninitialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">uninitialize</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_ab14b136a7d26f9f499ab9dc15a45a8cb"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">foedus::DefaultInitializable::uninitialize</a></div><div class="ttdeci">ErrorStack uninitialize() override final</div><div class="ttdoc">Typical implementation of Initializable::uninitialize() that provides uninitialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00187">initializable.hpp:187</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a91ca2007d1e8d64275a1d1eb8b034181_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a91ca2007d1e8d64275a1d1eb8b034181_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a91ca2007d1e8d64275a1d1eb8b034181_cgraph" id="classfoedus_1_1xct_1_1XctManager_a91ca2007d1e8d64275a1d1eb8b034181_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="216,39,388,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="436,5,608,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="436,71,608,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a577f44c6f10022d645605d171ef4a781"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::xct::XctManager::wait_for_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td>
          <td class="paramname"><em>commit_epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>wait_microseconds</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronously blocks until the durable global epoch reaches the given commit epoch or the given duration elapses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">commit_epoch</td><td>Returns kRetOk <em>iff</em> the durable global epoch reaches this value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wait_microseconds</td><td>Or, returns a TIMEOUT error when this duration elapses, whichever comes first. Negative value means waiting forever. 0 means <em>conditional</em>, immediately returning without blocking, which is useful to quickly check the committed-ness.</td></tr>
  </table>
  </dd>
</dl>
<p>Client programs can either call this method for each transaction right after <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. ">precommit_xct()</a> or call this method after a bunch of <a class="el" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. ">precommit_xct()</a> calls (<em>group-commit</em>). In either case, remember that <b>both</b> read-only and read-write transactions must not return results to clients until the durable global epoch reaches the given commit epoch. Otherwise, you violate serializability (which might be okay depending on your desired isolation level). </p>

<p>Definition at line <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00071">71</a> of file <a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00290">foedus::xct::XctManagerPimpl::wait_for_commit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                                                     {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a69fb51b2a05a90f46b4658cb984928a0">wait_for_commit</a>(commit_epoch, wait_microseconds);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_a69fb51b2a05a90f46b4658cb984928a0"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a69fb51b2a05a90f46b4658cb984928a0">foedus::xct::XctManagerPimpl::wait_for_commit</a></div><div class="ttdeci">ErrorCode wait_for_commit(Epoch commit_epoch, int64_t wait_microseconds)</div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00290">xct_manager_pimpl.cpp:290</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_a577f44c6f10022d645605d171ef4a781_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_a577f44c6f10022d645605d171ef4a781_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_a577f44c6f10022d645605d171ef4a781_cgraph" id="classfoedus_1_1xct_1_1XctManager_a577f44c6f10022d645605d171ef4a781_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a69fb51b2a05a90f46b4658cb984928a0" title="foedus::xct::XctManagerPimpl\l::wait_for_commit" alt="" coords="216,155,411,197"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#a786afd92afdc87b54dfa11ef093f06f3" title="foedus::Epoch::one_more" alt="" coords="474,5,645,32"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch" alt="" coords="462,57,657,98"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a03678427b184e7ce71f9bbb164dd0bad" title="foedus::xct::XctManagerPimpl\l::set_requested_global_epoch" alt="" coords="462,122,657,163"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#afce787897428bd372c67224acd3e8ea7" title="foedus::xct::XctManagerPimpl\l::wakeup_epoch_chime_thread" alt="" coords="459,187,660,229"/>
<area shape="rect" id="node12" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="492,253,627,294"/>
<area shape="rect" id="node13" href="classfoedus_1_1log_1_1LogManager.html#aeadbabd0bc163b2301c3a9260f625f91" title="Synchronously blocks until the durable global epoch reaches the given commit epoch or the given durat..." alt="" coords="477,347,641,389"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a6071efec3ffc3876192101db2a1873b4" title="foedus::xct::XctManagerPimpl\l::get_requested_global_epoch" alt="" coords="709,66,904,107"/>
<area shape="rect" id="node7" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="735,132,878,159"/>
<area shape="rect" id="node9" href="classfoedus_1_1soc_1_1SharedPolling.html#ae523f3b3bda39c0c81bfb5cb0d5ad626" title="Signal it to let waiters exit. " alt="" coords="718,186,895,227"/>
<area shape="rect" id="node10" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="1199,190,1372,231"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1soc.html#ad6b40c6c8e2db3fbf1bbdf6daa025275" title="foedus::soc::ugly_atomic_inc" alt="" coords="957,193,1147,220"/>
<area shape="rect" id="node14" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a9835b4e2ce92a8ac46edd153be80a09d" title="foedus::log::LogManagerPimpl\l::wait_until_durable" alt="" coords="708,362,905,403"/>
<area shape="rect" id="node15" href="classfoedus_1_1soc_1_1SharedPolling.html#ac6ad7822e42e2e942b55708b1da8516b" title="Gives the ticket to. " alt="" coords="963,245,1141,286"/>
<area shape="rect" id="node16" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a61e44b4b7bb5dfc3d4111bb6bef25ea9" title="foedus::log::LogManagerPimpl\l::get_durable_global_epoch" alt="" coords="953,310,1151,351"/>
<area shape="rect" id="node17" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="965,375,1139,417"/>
<area shape="rect" id="node18" href="classfoedus_1_1soc_1_1SharedPolling.html#a1b9f5c8b129c454887a77d3255956157" title="Wait for signal up to the given timeout. " alt="" coords="963,441,1141,482"/>
<area shape="rect" id="node20" href="classfoedus_1_1soc_1_1SharedPolling.html#a9fc7bfaf57e1f2224be9869a8e9708d3" title="Unconditionally wait for signal. " alt="" coords="963,506,1141,547"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1soc.html#a875ded688a72b32f8f690f37750e609f" title="foedus::soc::get_now\l_microsec" alt="" coords="1213,441,1358,482"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa3178a6ce1c815fb88b6c8d5607da5d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::XctManager::wait_for_current_global_epoch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td>
          <td class="paramname"><em>target_epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>wait_microseconds</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Passively wait until the current global epoch becomes the given value. </p>

<p>Definition at line <a class="el" href="xct__manager_8cpp_source.html#l00035">35</a> of file <a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a>.</p>

<p>References <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00273">foedus::xct::XctManagerPimpl::wait_for_current_global_epoch()</a>.</p>

<p>Referenced by <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#af5cb0928185cf79dda519313f05fe0ee">wait_for_current_global_epoch</a>(target_epoch, wait_microseconds);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1XctManagerPimpl_html_af5cb0928185cf79dda519313f05fe0ee"><div class="ttname"><a href="classfoedus_1_1xct_1_1XctManagerPimpl.html#af5cb0928185cf79dda519313f05fe0ee">foedus::xct::XctManagerPimpl::wait_for_current_global_epoch</a></div><div class="ttdeci">void wait_for_current_global_epoch(Epoch target_epoch, int64_t wait_microseconds)</div><div class="ttdef"><b>Definition:</b> <a href="xct__manager__pimpl_8cpp_source.html#l00273">xct_manager_pimpl.cpp:273</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_cgraph" id="classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#af5cb0928185cf79dda519313f05fe0ee" title="foedus::xct::XctManagerPimpl\l::wait_for_current_global_epoch" alt="" coords="257,165,461,207"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a03678427b184e7ce71f9bbb164dd0bad" title="foedus::xct::XctManagerPimpl\l::set_requested_global_epoch" alt="" coords="509,35,704,76"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch" alt="" coords="509,100,704,141"/>
<area shape="rect" id="node7" href="classfoedus_1_1soc_1_1SharedPolling.html#ac6ad7822e42e2e942b55708b1da8516b" title="Gives the ticket to. " alt="" coords="518,165,695,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1soc_1_1SharedPolling.html#a9fc7bfaf57e1f2224be9869a8e9708d3" title="Unconditionally wait for signal. " alt="" coords="518,231,695,272"/>
<area shape="rect" id="node10" href="classfoedus_1_1soc_1_1SharedPolling.html#a1b9f5c8b129c454887a77d3255956157" title="Wait for signal up to the given timeout. " alt="" coords="518,296,695,337"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a6071efec3ffc3876192101db2a1873b4" title="foedus::xct::XctManagerPimpl\l::get_requested_global_epoch" alt="" coords="752,5,947,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="778,71,921,98"/>
<area shape="rect" id="node8" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="763,165,936,207"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1soc.html#a875ded688a72b32f8f690f37750e609f" title="foedus::soc::get_now\l_microsec" alt="" coords="777,296,922,337"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_icgraph" id="classfoedus_1_1xct_1_1XctManager_aa3178a6ce1c815fb88b6c8d5607da5d4_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="257,5,456,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="504,5,703,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="751,5,949,47"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/xct/<a class="el" href="xct__manager_8hpp_source.html">xct_manager.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/xct/<a class="el" href="xct__manager_8cpp_source.html">xct_manager.cpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/xct/<a class="el" href="xct__manager__pimpl_8cpp_source.html">xct_manager_pimpl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1xct.html">xct</a></li><li class="navelem"><a class="el" href="classfoedus_1_1xct_1_1XctManager.html">XctManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
