<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::log::LoggerControlBlock Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfoedus_1_1log_1_1LoggerControlBlock.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structfoedus_1_1log_1_1LoggerControlBlock-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::log::LoggerControlBlock Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Shared data of <a class="el" href="classfoedus_1_1log_1_1Logger.html" title="A log writer that writes out buffered logs to stable storages. ">Logger</a>.  
 <a href="structfoedus_1_1log_1_1LoggerControlBlock.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Shared data of <a class="el" href="classfoedus_1_1log_1_1Logger.html" title="A log writer that writes out buffered logs to stable storages. ">Logger</a>. </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00051">51</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for foedus::log::LoggerControlBlock:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1log_1_1LoggerControlBlock__coll__graph.png" border="0" usemap="#foedus_1_1log_1_1LoggerControlBlock_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1log_1_1LoggerControlBlock_coll__map" id="foedus_1_1log_1_1LoggerControlBlock_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SharedPolling.html" title="A polling&#45;wait mechanism that can be placed in shared memory and used from multiple processes..." alt="" coords="232,5,409,32"/>
<area shape="rect" id="node3" href="structfoedus_1_1log_1_1EpochHistory.html" title="Represents an event where a logger switched its epoch. " alt="" coords="235,119,406,145"/>
<area shape="rect" id="node4" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. " alt="" coords="5,85,111,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1soc_1_1SharedMutex.html" title="A mutex that can be placed in shared memory and used from multiple processes. " alt="" coords="233,169,408,196"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa383e16ec68bb4c7dd4516c238b83a21"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21">Constants</a> { <a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890">kMaxEpochHistory</a> = 1 &lt;&lt; 16
 }<tr class="separator:aa383e16ec68bb4c7dd4516c238b83a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac1be00f5090456a0c85c72591cd21ec5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#ac1be00f5090456a0c85c72591cd21ec5">LoggerControlBlock</a> ()=delete</td></tr>
<tr class="separator:ac1be00f5090456a0c85c72591cd21ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4821e747cf81047c08afd219c572ce76"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a4821e747cf81047c08afd219c572ce76">~LoggerControlBlock</a> ()=delete</td></tr>
<tr class="separator:a4821e747cf81047c08afd219c572ce76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d5e48db76c97f972599fee2aa8c241"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a39d5e48db76c97f972599fee2aa8c241">initialize</a> ()</td></tr>
<tr class="separator:a39d5e48db76c97f972599fee2aa8c241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dcc362527604b2ade878112be505bed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a7dcc362527604b2ade878112be505bed">uninitialize</a> ()</td></tr>
<tr class="separator:a7dcc362527604b2ade878112be505bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a87e989008a68da9414f04c6c1a0400"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a0a87e989008a68da9414f04c6c1a0400">is_epoch_history_empty</a> () const </td></tr>
<tr class="separator:a0a87e989008a68da9414f04c6c1a0400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d801475a0276b272b5b8a2444ca465"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a08d801475a0276b272b5b8a2444ca465">get_tail_epoch_history</a> () const </td></tr>
<tr class="separator:a08d801475a0276b272b5b8a2444ca465"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2ea42f83a57dfef92b090970f35d66c5"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a2ea42f83a57dfef92b090970f35d66c5">wrap_epoch_history_index</a> (uint32_t index)</td></tr>
<tr class="separator:a2ea42f83a57dfef92b090970f35d66c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a93eb081c8e74a1fb98fad03dec8733ab"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">Epoch::EpochInteger</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a93eb081c8e74a1fb98fad03dec8733ab">durable_epoch_</a></td></tr>
<tr class="memdesc:a93eb081c8e74a1fb98fad03dec8733ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upto what epoch the logger flushed logs in <b>all</b> buffers assigned to it.  <a href="#a93eb081c8e74a1fb98fad03dec8733ab">More...</a><br /></td></tr>
<tr class="separator:a93eb081c8e74a1fb98fad03dec8733ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69fd9ecc2fce86a789e7867f42215e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1soc_1_1SharedPolling.html">soc::SharedPolling</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#ae69fd9ecc2fce86a789e7867f42215e6">wakeup_cond_</a></td></tr>
<tr class="memdesc:ae69fd9ecc2fce86a789e7867f42215e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logger sleeps on this conditional.  <a href="#ae69fd9ecc2fce86a789e7867f42215e6">More...</a><br /></td></tr>
<tr class="separator:ae69fd9ecc2fce86a789e7867f42215e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e15f29861cb05f7d3a1c7fe06f32d6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a3e15f29861cb05f7d3a1c7fe06f32d6f">marked_epoch_</a></td></tr>
<tr class="memdesc:a3e15f29861cb05f7d3a1c7fe06f32d6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upto what epoch the logger has put epoch marker in the log file.  <a href="#a3e15f29861cb05f7d3a1c7fe06f32d6f">More...</a><br /></td></tr>
<tr class="separator:a3e15f29861cb05f7d3a1c7fe06f32d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01cb38b8e7c79b70fe3ae2f44d31b9a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="group__LOG.html#gaf9bdc25e509c2b27967b020708e61ea5">LogFileOrdinal</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#ae01cb38b8e7c79b70fe3ae2f44d31b9a">oldest_ordinal_</a></td></tr>
<tr class="memdesc:ae01cb38b8e7c79b70fe3ae2f44d31b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ordinal of the oldest active log file of this logger.  <a href="#ae01cb38b8e7c79b70fe3ae2f44d31b9a">More...</a><br /></td></tr>
<tr class="separator:ae01cb38b8e7c79b70fe3ae2f44d31b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf04a11d5676741e45668cbbf818f895"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#acf04a11d5676741e45668cbbf818f895">oldest_file_offset_begin_</a></td></tr>
<tr class="memdesc:acf04a11d5676741e45668cbbf818f895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inclusive beginning of active region in the oldest log file.  <a href="#acf04a11d5676741e45668cbbf818f895">More...</a><br /></td></tr>
<tr class="separator:acf04a11d5676741e45668cbbf818f895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12435b57756d971cd91b1133bb9119a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="group__LOG.html#gaf9bdc25e509c2b27967b020708e61ea5">LogFileOrdinal</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#af12435b57756d971cd91b1133bb9119a">current_ordinal_</a></td></tr>
<tr class="memdesc:af12435b57756d971cd91b1133bb9119a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ordinal of the log file this logger is currently appending to.  <a href="#af12435b57756d971cd91b1133bb9119a">More...</a><br /></td></tr>
<tr class="separator:af12435b57756d971cd91b1133bb9119a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6e61bd3090aa03b0fee70fb7964c46"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#adb6e61bd3090aa03b0fee70fb7964c46">current_file_durable_offset_</a></td></tr>
<tr class="memdesc:adb6e61bd3090aa03b0fee70fb7964c46"><td class="mdescLeft">&#160;</td><td class="mdescRight">We called fsync on current file up to this offset.  <a href="#adb6e61bd3090aa03b0fee70fb7964c46">More...</a><br /></td></tr>
<tr class="separator:adb6e61bd3090aa03b0fee70fb7964c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7f93cc0ab8997dee492839c3ae902e"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aac7f93cc0ab8997dee492839c3ae902e">stop_requested_</a></td></tr>
<tr class="memdesc:aac7f93cc0ab8997dee492839c3ae902e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this logger should terminate.  <a href="#aac7f93cc0ab8997dee492839c3ae902e">More...</a><br /></td></tr>
<tr class="separator:aac7f93cc0ab8997dee492839c3ae902e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac82a3ace73154d033978be7903bf84fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1soc_1_1SharedMutex.html">soc::SharedMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#ac82a3ace73154d033978be7903bf84fa">epoch_history_mutex_</a></td></tr>
<tr class="memdesc:ac82a3ace73154d033978be7903bf84fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">the followings are covered this mutex  <a href="#ac82a3ace73154d033978be7903bf84fa">More...</a><br /></td></tr>
<tr class="separator:ac82a3ace73154d033978be7903bf84fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5d72d38531d89a6a0922ef02c36ab7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a3b5d72d38531d89a6a0922ef02c36ab7">epoch_history_head_</a></td></tr>
<tr class="memdesc:a3b5d72d38531d89a6a0922ef02c36ab7"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of the oldest history in epoch_histories_  <a href="#a3b5d72d38531d89a6a0922ef02c36ab7">More...</a><br /></td></tr>
<tr class="separator:a3b5d72d38531d89a6a0922ef02c36ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0275538e9148950e32087dca429b36a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#af0275538e9148950e32087dca429b36a">epoch_history_count_</a></td></tr>
<tr class="memdesc:af0275538e9148950e32087dca429b36a"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of active entries in epoch_histories_ .  <a href="#af0275538e9148950e32087dca429b36a">More...</a><br /></td></tr>
<tr class="separator:af0275538e9148950e32087dca429b36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeeb61ef423351573198bac634adf60a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1log_1_1EpochHistory.html">EpochHistory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aeeeb61ef423351573198bac634adf60a">epoch_histories_</a> [<a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890">kMaxEpochHistory</a>]</td></tr>
<tr class="memdesc:aeeeb61ef423351573198bac634adf60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remembers all epoch switching in this logger.  <a href="#aeeeb61ef423351573198bac634adf60a">More...</a><br /></td></tr>
<tr class="separator:aeeeb61ef423351573198bac634adf60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="aa383e16ec68bb4c7dd4516c238b83a21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21">foedus::log::LoggerControlBlock::Constants</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890"></a>kMaxEpochHistory&#160;</td><td class="fielddoc">
<p>Max number of active epoch histories. </p>
<p>64k * 24b = 1536 kb. adjust kLoggerMemorySize according to this. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00052">52</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                 {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890">kMaxEpochHistory</a> = 1 &lt;&lt; 16,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  };</div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890">foedus::log::LoggerControlBlock::kMaxEpochHistory</a></div><div class="ttdoc">Max number of active epoch histories. </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00057">logger_impl.hpp:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac1be00f5090456a0c85c72591cd21ec5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::log::LoggerControlBlock::LoggerControlBlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4821e747cf81047c08afd219c572ce76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::log::LoggerControlBlock::~LoggerControlBlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a08d801475a0276b272b5b8a2444ca465"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::log::LoggerControlBlock::get_tail_epoch_history </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00077">77</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>References <a class="el" href="logger__impl_8hpp_source.html#l00151">epoch_history_count_</a>, <a class="el" href="logger__impl_8hpp_source.html#l00149">epoch_history_head_</a>, and <a class="el" href="logger__impl_8hpp_source.html#l00081">wrap_epoch_history_index()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                          {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a2ea42f83a57dfef92b090970f35d66c5">wrap_epoch_history_index</a>(<a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a3b5d72d38531d89a6a0922ef02c36ab7">epoch_history_head_</a> + <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#af0275538e9148950e32087dca429b36a">epoch_history_count_</a> - 1U);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_a3b5d72d38531d89a6a0922ef02c36ab7"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#a3b5d72d38531d89a6a0922ef02c36ab7">foedus::log::LoggerControlBlock::epoch_history_head_</a></div><div class="ttdeci">uint32_t epoch_history_head_</div><div class="ttdoc">index of the oldest history in epoch_histories_ </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00149">logger_impl.hpp:149</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_a2ea42f83a57dfef92b090970f35d66c5"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#a2ea42f83a57dfef92b090970f35d66c5">foedus::log::LoggerControlBlock::wrap_epoch_history_index</a></div><div class="ttdeci">static uint32_t wrap_epoch_history_index(uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00081">logger_impl.hpp:81</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_af0275538e9148950e32087dca429b36a"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#af0275538e9148950e32087dca429b36a">foedus::log::LoggerControlBlock::epoch_history_count_</a></div><div class="ttdeci">uint32_t epoch_history_count_</div><div class="ttdoc">number of active entries in epoch_histories_ . </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00151">logger_impl.hpp:151</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1log_1_1LoggerControlBlock_a08d801475a0276b272b5b8a2444ca465_cgraph.png" border="0" usemap="#structfoedus_1_1log_1_1LoggerControlBlock_a08d801475a0276b272b5b8a2444ca465_cgraph" alt=""/></div>
<map name="structfoedus_1_1log_1_1LoggerControlBlock_a08d801475a0276b272b5b8a2444ca465_cgraph" id="structfoedus_1_1log_1_1LoggerControlBlock_a08d801475a0276b272b5b8a2444ca465_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a2ea42f83a57dfef92b090970f35d66c5" title="foedus::log::LoggerControl\lBlock::wrap_epoch_history_index" alt="" coords="247,5,463,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a39d5e48db76c97f972599fee2aa8c241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::log::LoggerControlBlock::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00064">64</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>References <a class="el" href="logger__impl_8hpp_source.html#l00151">epoch_history_count_</a>, <a class="el" href="logger__impl_8hpp_source.html#l00149">epoch_history_head_</a>, <a class="el" href="logger__impl_8hpp_source.html#l00146">epoch_history_mutex_</a>, <a class="el" href="shared__mutex_8cpp_source.html#l00029">foedus::soc::SharedMutex::initialize()</a>, <a class="el" href="shared__polling_8cpp_source.html#l00032">foedus::soc::SharedPolling::initialize()</a>, <a class="el" href="logger__impl_8hpp_source.html#l00143">stop_requested_</a>, and <a class="el" href="logger__impl_8hpp_source.html#l00102">wakeup_cond_</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#ae69fd9ecc2fce86a789e7867f42215e6">wakeup_cond_</a>.<a class="code" href="classfoedus_1_1soc_1_1SharedPolling.html#ace449e19d0a13388da16570aefd42994">initialize</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#ac82a3ace73154d033978be7903bf84fa">epoch_history_mutex_</a>.<a class="code" href="classfoedus_1_1soc_1_1SharedMutex.html#a752dda273486899f5a58171c2ede01fb">initialize</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aac7f93cc0ab8997dee492839c3ae902e">stop_requested_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a3b5d72d38531d89a6a0922ef02c36ab7">epoch_history_head_</a> = 0;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#af0275538e9148950e32087dca429b36a">epoch_history_count_</a> = 0;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_ae69fd9ecc2fce86a789e7867f42215e6"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#ae69fd9ecc2fce86a789e7867f42215e6">foedus::log::LoggerControlBlock::wakeup_cond_</a></div><div class="ttdeci">soc::SharedPolling wakeup_cond_</div><div class="ttdoc">The logger sleeps on this conditional. </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00102">logger_impl.hpp:102</a></div></div>
<div class="ttc" id="classfoedus_1_1soc_1_1SharedMutex_html_a752dda273486899f5a58171c2ede01fb"><div class="ttname"><a href="classfoedus_1_1soc_1_1SharedMutex.html#a752dda273486899f5a58171c2ede01fb">foedus::soc::SharedMutex::initialize</a></div><div class="ttdeci">void initialize(bool recursive=false)</div><div class="ttdef"><b>Definition:</b> <a href="shared__mutex_8cpp_source.html#l00029">shared_mutex.cpp:29</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_aac7f93cc0ab8997dee492839c3ae902e"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#aac7f93cc0ab8997dee492839c3ae902e">foedus::log::LoggerControlBlock::stop_requested_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; stop_requested_</div><div class="ttdoc">Whether this logger should terminate. </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00143">logger_impl.hpp:143</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_ac82a3ace73154d033978be7903bf84fa"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#ac82a3ace73154d033978be7903bf84fa">foedus::log::LoggerControlBlock::epoch_history_mutex_</a></div><div class="ttdeci">soc::SharedMutex epoch_history_mutex_</div><div class="ttdoc">the followings are covered this mutex </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00146">logger_impl.hpp:146</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_a3b5d72d38531d89a6a0922ef02c36ab7"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#a3b5d72d38531d89a6a0922ef02c36ab7">foedus::log::LoggerControlBlock::epoch_history_head_</a></div><div class="ttdeci">uint32_t epoch_history_head_</div><div class="ttdoc">index of the oldest history in epoch_histories_ </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00149">logger_impl.hpp:149</a></div></div>
<div class="ttc" id="classfoedus_1_1soc_1_1SharedPolling_html_ace449e19d0a13388da16570aefd42994"><div class="ttname"><a href="classfoedus_1_1soc_1_1SharedPolling.html#ace449e19d0a13388da16570aefd42994">foedus::soc::SharedPolling::initialize</a></div><div class="ttdeci">void initialize()</div><div class="ttdef"><b>Definition:</b> <a href="shared__polling_8cpp_source.html#l00032">shared_polling.cpp:32</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_af0275538e9148950e32087dca429b36a"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#af0275538e9148950e32087dca429b36a">foedus::log::LoggerControlBlock::epoch_history_count_</a></div><div class="ttdeci">uint32_t epoch_history_count_</div><div class="ttdoc">number of active entries in epoch_histories_ . </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00151">logger_impl.hpp:151</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1log_1_1LoggerControlBlock_a39d5e48db76c97f972599fee2aa8c241_cgraph.png" border="0" usemap="#structfoedus_1_1log_1_1LoggerControlBlock_a39d5e48db76c97f972599fee2aa8c241_cgraph" alt=""/></div>
<map name="structfoedus_1_1log_1_1LoggerControlBlock_a39d5e48db76c97f972599fee2aa8c241_cgraph" id="structfoedus_1_1log_1_1LoggerControlBlock_a39d5e48db76c97f972599fee2aa8c241_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SharedMutex.html#a752dda273486899f5a58171c2ede01fb" title="foedus::soc::SharedMutex\l::initialize" alt="" coords="228,5,403,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1soc_1_1SharedPolling.html#ace449e19d0a13388da16570aefd42994" title="foedus::soc::SharedPolling\l::initialize" alt="" coords="227,71,404,112"/>
<area shape="rect" id="node3" href="classfoedus_1_1soc_1_1SharedMutex.html#a8631c8500a5ab03940e1358f23b654c4" title="foedus::soc::SharedMutex\l::uninitialize" alt="" coords="452,5,627,47"/>
<area shape="rect" id="node5" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="453,71,626,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a87e989008a68da9414f04c6c1a0400"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::log::LoggerControlBlock::is_epoch_history_empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00076">76</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>References <a class="el" href="logger__impl_8hpp_source.html#l00151">epoch_history_count_</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#af0275538e9148950e32087dca429b36a">epoch_history_count_</a> == 0; }</div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_af0275538e9148950e32087dca429b36a"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#af0275538e9148950e32087dca429b36a">foedus::log::LoggerControlBlock::epoch_history_count_</a></div><div class="ttdeci">uint32_t epoch_history_count_</div><div class="ttdoc">number of active entries in epoch_histories_ . </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00151">logger_impl.hpp:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7dcc362527604b2ade878112be505bed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::log::LoggerControlBlock::uninitialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00071">71</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>References <a class="el" href="logger__impl_8hpp_source.html#l00146">epoch_history_mutex_</a>, and <a class="el" href="shared__mutex_8cpp_source.html#l00049">foedus::soc::SharedMutex::uninitialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                      {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#ac82a3ace73154d033978be7903bf84fa">epoch_history_mutex_</a>.<a class="code" href="classfoedus_1_1soc_1_1SharedMutex.html#a8631c8500a5ab03940e1358f23b654c4">uninitialize</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SharedMutex_html_a8631c8500a5ab03940e1358f23b654c4"><div class="ttname"><a href="classfoedus_1_1soc_1_1SharedMutex.html#a8631c8500a5ab03940e1358f23b654c4">foedus::soc::SharedMutex::uninitialize</a></div><div class="ttdeci">void uninitialize()</div><div class="ttdef"><b>Definition:</b> <a href="shared__mutex_8cpp_source.html#l00049">shared_mutex.cpp:49</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_ac82a3ace73154d033978be7903bf84fa"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#ac82a3ace73154d033978be7903bf84fa">foedus::log::LoggerControlBlock::epoch_history_mutex_</a></div><div class="ttdeci">soc::SharedMutex epoch_history_mutex_</div><div class="ttdoc">the followings are covered this mutex </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00146">logger_impl.hpp:146</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1log_1_1LoggerControlBlock_a7dcc362527604b2ade878112be505bed_cgraph.png" border="0" usemap="#structfoedus_1_1log_1_1LoggerControlBlock_a7dcc362527604b2ade878112be505bed_cgraph" alt=""/></div>
<map name="structfoedus_1_1log_1_1LoggerControlBlock_a7dcc362527604b2ade878112be505bed_cgraph" id="structfoedus_1_1log_1_1LoggerControlBlock_a7dcc362527604b2ade878112be505bed_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SharedMutex.html#a8631c8500a5ab03940e1358f23b654c4" title="foedus::soc::SharedMutex\l::uninitialize" alt="" coords="227,5,401,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ea42f83a57dfef92b090970f35d66c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t foedus::log::LoggerControlBlock::wrap_epoch_history_index </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00081">81</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>References <a class="el" href="logger__impl_8hpp_source.html#l00057">kMaxEpochHistory</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8hpp_source.html#l00077">get_tail_epoch_history()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{ <span class="keywordflow">return</span> index % <a class="code" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890">kMaxEpochHistory</a>; }</div>
<div class="ttc" id="structfoedus_1_1log_1_1LoggerControlBlock_html_aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890"><div class="ttname"><a href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890">foedus::log::LoggerControlBlock::kMaxEpochHistory</a></div><div class="ttdoc">Max number of active epoch histories. </div><div class="ttdef"><b>Definition:</b> <a href="logger__impl_8hpp_source.html#l00057">logger_impl.hpp:57</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1log_1_1LoggerControlBlock_a2ea42f83a57dfef92b090970f35d66c5_icgraph.png" border="0" usemap="#structfoedus_1_1log_1_1LoggerControlBlock_a2ea42f83a57dfef92b090970f35d66c5_icgraph" alt=""/></div>
<map name="structfoedus_1_1log_1_1LoggerControlBlock_a2ea42f83a57dfef92b090970f35d66c5_icgraph" id="structfoedus_1_1log_1_1LoggerControlBlock_a2ea42f83a57dfef92b090970f35d66c5_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a08d801475a0276b272b5b8a2444ca465" title="foedus::log::LoggerControl\lBlock::get_tail_epoch_history" alt="" coords="269,5,463,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="adb6e61bd3090aa03b0fee70fb7964c46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; uint64_t &gt; foedus::log::LoggerControlBlock::current_file_durable_offset_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We called fsync on current file up to this offset. </p>
<dl class="section invariant"><dt>Invariant</dt><dd>current_file_durable_offset_ &lt;= current_file-&gt;get_current_offset() </dd>
<dd>
current_file_durable_offset_ % kLogWriteUnitSize == 0 (because we pad) </dd></dl>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00140">140</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af12435b57756d971cd91b1133bb9119a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; <a class="el" href="group__LOG.html#gaf9bdc25e509c2b27967b020708e61ea5">LogFileOrdinal</a> &gt; foedus::log::LoggerControlBlock::current_ordinal_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ordinal of the log file this logger is currently appending to. </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00133">133</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8cpp_source.html#l00533">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="a93eb081c8e74a1fb98fad03dec8733ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; <a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">Epoch::EpochInteger</a> &gt; foedus::log::LoggerControlBlock::durable_epoch_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Upto what epoch the logger flushed logs in <b>all</b> buffers assigned to it. </p>
<dl class="section invariant"><dt>Invariant</dt><dd>durable_epoch_.is_valid() </dd>
<dd>
global durable epoch &lt;= durable_epoch_ &lt; global current epoch - 1</dd></dl>
<p>The logger advances this value when it writes out all logs in all buffers in an epoch. The global durable epoch is an aggregate (min) of this value from all loggers. Even when some thread is idle, this value could be advanced upto "global current epoch - 2" because of the way the epoch-chime starts a new epoch. It is guaranteed that no thread will emit any log in that epoch or older. </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00094">94</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeeeb61ef423351573198bac634adf60a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1log_1_1EpochHistory.html">EpochHistory</a> foedus::log::LoggerControlBlock::epoch_histories_[<a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html#aa383e16ec68bb4c7dd4516c238b83a21ab9ae89223fcd9a6bdc4766338c718890">kMaxEpochHistory</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remembers all epoch switching in this logger. </p>
<p>This forms a circular buffer starting from epoch_history_head_. After log gleaning, we can move head forward and reduce epoch_history_count_. </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00158">158</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af0275538e9148950e32087dca429b36a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::log::LoggerControlBlock::epoch_history_count_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>number of active entries in epoch_histories_ . </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00151">151</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8hpp_source.html#l00077">get_tail_epoch_history()</a>, <a class="el" href="logger__impl_8hpp_source.html#l00064">initialize()</a>, <a class="el" href="logger__impl_8hpp_source.html#l00076">is_epoch_history_empty()</a>, and <a class="el" href="logger__impl_8cpp_source.html#l00533">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b5d72d38531d89a6a0922ef02c36ab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::log::LoggerControlBlock::epoch_history_head_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>index of the oldest history in epoch_histories_ </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00149">149</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8hpp_source.html#l00077">get_tail_epoch_history()</a>, <a class="el" href="logger__impl_8hpp_source.html#l00064">initialize()</a>, and <a class="el" href="logger__impl_8cpp_source.html#l00533">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="ac82a3ace73154d033978be7903bf84fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1soc_1_1SharedMutex.html">soc::SharedMutex</a> foedus::log::LoggerControlBlock::epoch_history_mutex_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the followings are covered this mutex </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00146">146</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8hpp_source.html#l00064">initialize()</a>, and <a class="el" href="logger__impl_8hpp_source.html#l00071">uninitialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e15f29861cb05f7d3a1c7fe06f32d6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::log::LoggerControlBlock::marked_epoch_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Upto what epoch the logger has put epoch marker in the log file. </p>
<dl class="section invariant"><dt>Invariant</dt><dd>marked_epoch_.is_valid() </dd>
<dd>
marked_epoch_ &lt;= durable_epoch_.one_more()</dd></dl>
<p>Usually, this value is always same as durable_epoch_.one_more(). This value becomes smaller than that if the logger had no log to write out when it advanced durable_epoch_. In that case, writing out an epoch marker is a waste (eg when the system is idle for long time, there will be tons of empty epochs), so we do not write out the epoch marker and let this value remain same. When the logger later writes out a log, it checks this value and writes out an epoch mark. </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00116">116</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8cpp_source.html#l00533">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="acf04a11d5676741e45668cbbf818f895"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; uint64_t &gt; foedus::log::LoggerControlBlock::oldest_file_offset_begin_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inclusive beginning of active region in the oldest log file. </p>
<dl class="section invariant"><dt>Invariant</dt><dd>oldest_file_offset_begin_ % kLogWriteUnitSize == 0 (because we pad) </dd></dl>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00129">129</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8cpp_source.html#l00533">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="ae01cb38b8e7c79b70fe3ae2f44d31b9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; <a class="el" href="group__LOG.html#gaf9bdc25e509c2b27967b020708e61ea5">LogFileOrdinal</a> &gt; foedus::log::LoggerControlBlock::oldest_ordinal_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ordinal of the oldest active log file of this logger. </p>
<dl class="section invariant"><dt>Invariant</dt><dd>oldest_ordinal_ &lt;= current_ordinal_ </dd></dl>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00124">124</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8cpp_source.html#l00533">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="aac7f93cc0ab8997dee492839c3ae902e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; foedus::log::LoggerControlBlock::stop_requested_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this logger should terminate. </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00143">143</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8hpp_source.html#l00064">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ae69fd9ecc2fce86a789e7867f42215e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1soc_1_1SharedPolling.html">soc::SharedPolling</a> foedus::log::LoggerControlBlock::wakeup_cond_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The logger sleeps on this conditional. </p>
<p>When someone else (whether in same SOC or other SOC) wants to wake up this logger, they fire this. There is no 'real' condition variable as this is not about correctness. The logger simply wakes on this cond and resumes as far as it wakes up. It might be a spurrious wakeup, but doesn't matter. </p>

<p>Definition at line <a class="el" href="logger__impl_8hpp_source.html#l00102">102</a> of file <a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="logger__impl_8hpp_source.html#l00064">initialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/log/<a class="el" href="logger__impl_8hpp_source.html">logger_impl.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1log.html">log</a></li><li class="navelem"><a class="el" href="structfoedus_1_1log_1_1LoggerControlBlock.html">LoggerControlBlock</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
