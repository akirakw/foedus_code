<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: Thread and Thread-Group</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__THREAD.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Thread and Thread-Group<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Thread</b> and <b>Thread-Group</b>, which abstracts NUMA-core/node and provides API to attach/detach tasks to pooled threads.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><b>Thread</b> and <b>Thread-Group</b>, which abstracts NUMA-core/node and provides API to attach/detach tasks to pooled threads. </p>
<p>This package is analogous to std::thread or boost::thread with a few additional features specific to our database engine. Among all, the main difference is that this package is fully aware of NUMA (Non Uniform Memory Access) architecture in hardware.</p>
<dl class="section user"><dt>Worker Thread vs NUMA-Core</dt><dd>In our library, each worker thread (a thread that runs user/system transactions) runs on exactly one NUMA core (using <a class="el" href="numa_8h.html#ac6618aae76a34e8a614451a78cc82e0a">numa_run_on_node()</a>), and each NUMA core runs at most one worker thread (except when the user runs multiple engines). Hence, we use the words "thread" and "NUMA-core" interchangablly. The one-to-one mapping is to save thread-context switches and processor cache misses.</dd></dl>
<dl class="section user"><dt>Thread and ThreadGroup: Thread Memory Hierarchy</dt><dd>NUMA cores have a hierarchy in hardware, which is explained in <a class="el" href="group__MEMHIERARCHY.html">Memory Hierarchy</a>. Our thread representations reflect the hierarchy; Thread=NUMA Core, and ThreadGroup=NUMA Node. Unfortunately, the terminology "thread group" has a different meaning in some other context, but I couldn't come with a better name.</dd></dl>
<dl class="section user"><dt>Thread Pool and Thread Impersonation</dt><dd>We pre-allocate worker threads in the engine and user-programs <em>impersonate</em> one of the threads to run transactions. For more details, see <a class="el" href="group__THREADPOOL.html">Thread-Pool and Impersonation</a>.</dd></dl>
<dl class="section user"><dt>C++11 and public headers</dt><dd>We do <b>NOT</b> allow C++11 features in public headers; see <a class="el" href="group__CXX11.html">C++11 Keywords in Public Headers</a>. However, C++11's std::thread and related classes are the only cross-platform library that has no dependencies (boost::thread is NOT header-only). Hence, we use C++11's std::thread but encapsulates the details in implementations (cpp) and non-public header files (-impl.hpp). </dd></dl>
<div class="dynheader">
Collaboration diagram for Thread and Thread-Group:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__THREAD.png" border="0" alt="" usemap="#group____THREAD"/>
<map name="group____THREAD" id="group____THREAD">
<area shape="rect" id="node1" href="group__THREADPOOL.html" title="APIs to pool and impersonate worker threads in libfoedus&#45;core. " alt="" coords="629,5,831,32"/>
<area shape="rect" id="node2" href="group__COMPONENTS.html" title="Main modules of libfoedus. " alt="" coords="5,81,159,108"/>
<area shape="rect" id="node3" href="group__MEMHIERARCHY.html" title="NUMA&#45;Aware Memory Hierarchy in libfoedus&#45;core. " alt="" coords="666,157,794,184"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__THREADPOOL"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREADPOOL.html">Thread-Pool and Impersonation</a></td></tr>
<tr class="memdesc:group__THREADPOOL"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIs to <b>pool</b> and <b>impersonate</b> worker threads in libfoedus-core. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:thread_2fwd_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_2fwd_8hpp.html">fwd.hpp</a></td></tr>
<tr class="memdesc:thread_2fwd_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declarations of classes in thread package. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:thread__id_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__id_8hpp.html">thread_id.hpp</a></td></tr>
<tr class="memdesc:thread__id_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedefs of ID types used in thread package. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structfoedus_1_1memory_1_1NumaCoreMemory_1_1SmallThreadLocalMemoryPieces"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MEMHIERARCHY.html#structfoedus_1_1memory_1_1NumaCoreMemory_1_1SmallThreadLocalMemoryPieces">foedus::memory::NumaCoreMemory::SmallThreadLocalMemoryPieces</a></td></tr>
<tr class="memdesc:structfoedus_1_1memory_1_1NumaCoreMemory_1_1SmallThreadLocalMemoryPieces"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packs pointers to pieces of small_thread_local_memory_.  <a href="group__MEMHIERARCHY.html#structfoedus_1_1memory_1_1NumaCoreMemory_1_1SmallThreadLocalMemoryPieces">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1memory_1_1NumaCoreMemory_1_1SmallThreadLocalMemoryPieces"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaCoreMemory.html">foedus::memory::NumaCoreMemory</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repository of memories dynamically acquired within one CPU core (thread).  <a href="classfoedus_1_1memory_1_1NumaCoreMemory.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemory.html">foedus::memory::NumaNodeMemory</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repository of memories dynamically acquired and shared within one NUMA node (socket).  <a href="classfoedus_1_1memory_1_1NumaNodeMemory.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ConditionVariable.html">foedus::thread::ConditionVariable</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An analogue of pthread's condition variable and std::condition_variable to avoid glibc's bug in pthread_cond_broadcast/signal (thus in notify_all/one in turn).  <a href="classfoedus_1_1thread_1_1ConditionVariable.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1thread_1_1NumaThreadScope.html">foedus::thread::NumaThreadScope</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin the current thread to the given NUMA node in this object's scope.  <a href="structfoedus_1_1thread_1_1NumaThreadScope.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Rendezvous.html">foedus::thread::Rendezvous</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The frequently appearing triplet of condition_varible, "signal" flag for spurious wakeup, and mutex for a one-time single-producer multiple-consumer event synchronization.  <a href="classfoedus_1_1thread_1_1Rendezvous.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1StoppableThread.html">foedus::thread::StoppableThread</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The frequently appearing quartet of std::thread, condition_varible, stop-request flag, and mutex.  <a href="classfoedus_1_1thread_1_1StoppableThread.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">foedus::thread::Thread</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one thread running on one NUMA core.  <a href="classfoedus_1_1thread_1_1Thread.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ThreadGroup.html">foedus::thread::ThreadGroup</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a group of pre-allocated threads running in one NUMA node.  <a href="classfoedus_1_1thread_1_1ThreadGroup.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1thread_1_1ThreadOptions.html">foedus::thread::ThreadOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of options about threads and thread-groups.  <a href="structfoedus_1_1thread_1_1ThreadOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ThreadPimpl.html">foedus::thread::ThreadPimpl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pimpl object of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a>.  <a href="classfoedus_1_1thread_1_1ThreadPimpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html">foedus::thread::ThreadPimplMcsAdaptor&lt; RW_BLOCK &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements McsAdaptorConcept over <a class="el" href="classfoedus_1_1thread_1_1ThreadPimpl.html" title="Pimpl object of Thread. ">ThreadPimpl</a>.  <a href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ThreadRef.html">foedus::thread::ThreadRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A view of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> object for other SOCs and master engine.  <a href="classfoedus_1_1thread_1_1ThreadRef.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1ThreadGroupRef.html">foedus::thread::ThreadGroupRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A view of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> group object for other SOCs and master engine.  <a href="classfoedus_1_1thread_1_1ThreadGroupRef.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga22e72bf147e8d7430e97721633adb3a7"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">foedus::thread::ThreadGroupId</a></td></tr>
<tr class="memdesc:ga22e72bf147e8d7430e97721633adb3a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for an ID of <a class="el" href="classfoedus_1_1thread_1_1ThreadGroup.html" title="Represents a group of pre-allocated threads running in one NUMA node. ">ThreadGroup</a> (NUMA node).  <a href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">More...</a><br /></td></tr>
<tr class="separator:ga22e72bf147e8d7430e97721633adb3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52762b7b4a53e17a0dddf7eab1effc28"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga52762b7b4a53e17a0dddf7eab1effc28">foedus::thread::ThreadLocalOrdinal</a></td></tr>
<tr class="memdesc:ga52762b7b4a53e17a0dddf7eab1effc28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for a <b>local</b> ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core), which is <b>NOT</b> unique across NUMA nodes.  <a href="group__THREAD.html#ga52762b7b4a53e17a0dddf7eab1effc28">More...</a><br /></td></tr>
<tr class="separator:ga52762b7b4a53e17a0dddf7eab1effc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga709a79fc1ed05a3543d8309ba391da93"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">foedus::thread::ThreadId</a></td></tr>
<tr class="memdesc:ga709a79fc1ed05a3543d8309ba391da93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for a <b>global</b> ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core), which is unique across NUMA nodes.  <a href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">More...</a><br /></td></tr>
<tr class="separator:ga709a79fc1ed05a3543d8309ba391da93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad998a8a9811ac9f9bd7c88bea3ce1d9b"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#gad998a8a9811ac9f9bd7c88bea3ce1d9b">foedus::thread::ThreadGlobalOrdinal</a></td></tr>
<tr class="memdesc:gad998a8a9811ac9f9bd7c88bea3ce1d9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for a globally and contiguously numbered ID of thread.  <a href="group__THREAD.html#gad998a8a9811ac9f9bd7c88bea3ce1d9b">More...</a><br /></td></tr>
<tr class="separator:gad998a8a9811ac9f9bd7c88bea3ce1d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea68524aab03a0e194a18ac008f9d484"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#gaea68524aab03a0e194a18ac008f9d484">foedus::thread::ThreadTicket</a></td></tr>
<tr class="memdesc:gaea68524aab03a0e194a18ac008f9d484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for a monotonically increasing ticket for thread impersonation.  <a href="group__THREAD.html#gaea68524aab03a0e194a18ac008f9d484">More...</a><br /></td></tr>
<tr class="separator:gaea68524aab03a0e194a18ac008f9d484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gadeea698ca80e53ff957927c4e7657c06"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#gadeea698ca80e53ff957927c4e7657c06">foedus::thread::ThreadPolicy</a> { <br />
&#160;&#160;<a class="el" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06a237f5beaa77ff15e7fc7bec31f99a85b">foedus::thread::kScheduleOther</a> = 0, 
<a class="el" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06abe130e4d917bbf88e9936d278efa34c6">foedus::thread::kScheduleFifo</a> = 1, 
<a class="el" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06ac2add7e4e37b398059a8b0c401503af6">foedus::thread::kScheduleRr</a> = 2, 
<a class="el" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06ad35338fa3260871669bd61fa8a9d347d">foedus::thread::kScheduleBatch</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06a3ab4a1f84d152f7f590e319b9b8481b4">foedus::thread::kScheduleIdle</a> = 5
<br />
 }<tr class="memdesc:gadeea698ca80e53ff957927c4e7657c06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread policy for worker threads.  <a href="group__THREAD.html#gadeea698ca80e53ff957927c4e7657c06">More...</a><br /></td></tr>
<tr class="separator:gadeea698ca80e53ff957927c4e7657c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga3cee4bcc7ad8a4a6fd107e5730113e6c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga3cee4bcc7ad8a4a6fd107e5730113e6c">foedus::thread::ThreadPriority</a> { <a class="el" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6cabb6f6d7214f713da8033d1ca3610a88c">foedus::thread::kPriorityIdle</a> = 0, 
<a class="el" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6cab82a6aa977db6367c468d8ab1ca54d72">foedus::thread::kPriorityLowest</a> = 1, 
<a class="el" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6ca7d911eaf3f8999b92975742f547ff03a">foedus::thread::kPriorityDefault</a> = 50, 
<a class="el" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6ca94a0e082572756c1b49f4361cbfc67bd">foedus::thread::kPriorityHighest</a> = 99
 }<tr class="memdesc:ga3cee4bcc7ad8a4a6fd107e5730113e6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread priority for worker threads.  <a href="group__THREAD.html#ga3cee4bcc7ad8a4a6fd107e5730113e6c">More...</a><br /></td></tr>
<tr class="separator:ga3cee4bcc7ad8a4a6fd107e5730113e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga8c4e8dcff52aa5328fe569fa44853d12"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga8c4e8dcff52aa5328fe569fa44853d12">foedus::thread::ThreadStatus</a> { <br />
&#160;&#160;<a class="el" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a3b9c59461ee89a25359ea69563068a9b">foedus::thread::kNotInitialized</a> = 0, 
<a class="el" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a72aee7fe031aa8f5648f624a68616ecd">foedus::thread::kWaitingForTask</a>, 
<a class="el" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12afa60273eee5d8d1548d0da34187b2a08">foedus::thread::kWaitingForExecution</a>, 
<a class="el" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12ae4da726d3c3a0db2b9e657ddcee9444d">foedus::thread::kRunningTask</a>, 
<br />
&#160;&#160;<a class="el" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a348b1e174a3d845ea1c808defd1de2a6">foedus::thread::kWaitingForClientRelease</a>, 
<a class="el" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a949e36ce3a330b30392c68f53455ab4d">foedus::thread::kWaitingForTerminate</a>, 
<a class="el" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12af713804e6a22002bd137b04e90560ca3">foedus::thread::kTerminated</a>
<br />
 }<tr class="memdesc:ga8c4e8dcff52aa5328fe569fa44853d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Impersonation status of each worker thread.  <a href="group__THREAD.html#ga8c4e8dcff52aa5328fe569fa44853d12">More...</a><br /></td></tr>
<tr class="separator:ga8c4e8dcff52aa5328fe569fa44853d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3cfa4441e96554e775ec6013c180e192"><td class="memItemLeft" align="right" valign="top">ThreadId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga3cfa4441e96554e775ec6013c180e192">foedus::thread::compose_thread_id</a> (ThreadGroupId node, ThreadLocalOrdinal local_core)</td></tr>
<tr class="memdesc:ga3cfa4441e96554e775ec6013c180e192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a globally unique ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core) for the given node and ordinal in the node.  <a href="group__THREAD.html#ga3cfa4441e96554e775ec6013c180e192">More...</a><br /></td></tr>
<tr class="separator:ga3cfa4441e96554e775ec6013c180e192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1622c6d8c64ca80f51c1bef5190ec4fa"><td class="memItemLeft" align="right" valign="top">ThreadGroupId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa">foedus::thread::decompose_numa_node</a> (ThreadId global_id)</td></tr>
<tr class="memdesc:ga1622c6d8c64ca80f51c1bef5190ec4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts NUMA node ID from the given globally unique ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core).  <a href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa">More...</a><br /></td></tr>
<tr class="separator:ga1622c6d8c64ca80f51c1bef5190ec4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93083d6b052db01851cb61c120522c1d"><td class="memItemLeft" align="right" valign="top">ThreadLocalOrdinal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga93083d6b052db01851cb61c120522c1d">foedus::thread::decompose_numa_local_ordinal</a> (ThreadId global_id)</td></tr>
<tr class="memdesc:ga93083d6b052db01851cb61c120522c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts local ordinal from the given globally unique ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core).  <a href="group__THREAD.html#ga93083d6b052db01851cb61c120522c1d">More...</a><br /></td></tr>
<tr class="separator:ga93083d6b052db01851cb61c120522c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga648bd40143c5203075b7ca4ebf3d279c"><td class="memItemLeft" align="right" valign="top">ThreadGlobalOrdinal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga648bd40143c5203075b7ca4ebf3d279c">foedus::thread::to_global_ordinal</a> (ThreadId thread_id, uint8_t threads_per_nodes)</td></tr>
<tr class="memdesc:ga648bd40143c5203075b7ca4ebf3d279c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate ThreadGlobalOrdinal from ThreadId.  <a href="group__THREAD.html#ga648bd40143c5203075b7ca4ebf3d279c">More...</a><br /></td></tr>
<tr class="separator:ga648bd40143c5203075b7ca4ebf3d279c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga7d1fa1a846b16ab8378ebba4c8b14137"><td class="memItemLeft" align="right" valign="top">const ThreadGroupId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#ga7d1fa1a846b16ab8378ebba4c8b14137">foedus::thread::kMaxThreadGroupId</a> = 0xFF</td></tr>
<tr class="memdesc:ga7d1fa1a846b16ab8378ebba4c8b14137"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum possible value of ThreadGroupId.  <a href="group__THREAD.html#ga7d1fa1a846b16ab8378ebba4c8b14137">More...</a><br /></td></tr>
<tr class="separator:ga7d1fa1a846b16ab8378ebba4c8b14137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac977ecfa954bdf702596888c4f779581"><td class="memItemLeft" align="right" valign="top">const ThreadLocalOrdinal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#gac977ecfa954bdf702596888c4f779581">foedus::thread::kMaxThreadLocalOrdinal</a> = 0xFF</td></tr>
<tr class="memdesc:gac977ecfa954bdf702596888c4f779581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum possible value of ThreadLocalOrdinal.  <a href="group__THREAD.html#gac977ecfa954bdf702596888c4f779581">More...</a><br /></td></tr>
<tr class="separator:gac977ecfa954bdf702596888c4f779581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5372dd17d607314c664326f3d4d1f91"><td class="memItemLeft" align="right" valign="top">const ThreadId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__THREAD.html#gab5372dd17d607314c664326f3d4d1f91">foedus::thread::kMaxThreadId</a> = 0xFFFF</td></tr>
<tr class="memdesc:gab5372dd17d607314c664326f3d4d1f91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum possible value of ThreadId.  <a href="group__THREAD.html#gab5372dd17d607314c664326f3d4d1f91">More...</a><br /></td></tr>
<tr class="separator:gab5372dd17d607314c664326f3d4d1f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structfoedus_1_1memory_1_1NumaCoreMemory_1_1SmallThreadLocalMemoryPieces" id="structfoedus_1_1memory_1_1NumaCoreMemory_1_1SmallThreadLocalMemoryPieces"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::memory::NumaCoreMemory::SmallThreadLocalMemoryPieces</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Packs pointers to pieces of small_thread_local_memory_. </p>

<p>Definition at line <a class="el" href="numa__core__memory_8hpp_source.html#l00049">49</a> of file <a class="el" href="numa__core__memory_8hpp_source.html">numa_core_memory.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a3c7ea7789c0989c9ac59a9fb532d7e69"></a>char *</td>
<td class="fieldname">
sysxct_workspace_memory_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5f8036024a45def08da764ed1d5cffb1"></a>char *</td>
<td class="fieldname">
xct_lock_free_read_access_memory_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aca2509b57d08a0a9614750c1a69c3622"></a>char *</td>
<td class="fieldname">
xct_lock_free_write_access_memory_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af61d2286d9766ed31244e5ebce1fcfd4"></a>char *</td>
<td class="fieldname">
xct_page_version_memory_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a831aaa8b02b924b748d999072a549659"></a>char *</td>
<td class="fieldname">
xct_pointer_access_memory_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a43d882917b1f12481ebce4a45934dd5a"></a>char *</td>
<td class="fieldname">
xct_read_access_memory_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a97637e9469b9d93d4df4f7a8c78c8269"></a>char *</td>
<td class="fieldname">
xct_write_access_memory_</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gad998a8a9811ac9f9bd7c88bea3ce1d9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#gad998a8a9811ac9f9bd7c88bea3ce1d9b">foedus::thread::ThreadGlobalOrdinal</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for a globally and contiguously numbered ID of thread. </p>
<p>ThreadId is not contiguous because its high byte is NUMA node, and that is what we use in most places. However, sometimes we need a contiguously numberd ID of thread, such as when we allocate an array of objects, one for each thread. This number is used in such cases. Be extra careful, both ThreadId and this are uint16_t, so compiler won't warn anything if we use them incorrectly. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00098">98</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga22e72bf147e8d7430e97721633adb3a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">foedus::thread::ThreadGroupId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for an ID of <a class="el" href="classfoedus_1_1thread_1_1ThreadGroup.html" title="Represents a group of pre-allocated threads running in one NUMA node. ">ThreadGroup</a> (NUMA node). </p>
<p>Currently, we assume there are at most 256 NUMA nodes. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00038">38</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga709a79fc1ed05a3543d8309ba391da93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">foedus::thread::ThreadId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for a <b>global</b> ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core), which is unique across NUMA nodes. </p>
<p>This is a composite of ThreadGroupId (high 1 byte) and ThreadLocalOrdinal (low 1 byte). For example, if there are 2 NUMA nodes and 8 cores each: thread-0=node-0 core-0, thread-1=node-0 core-1, ..., thread-256=node-1 core-0,... </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00080">80</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga52762b7b4a53e17a0dddf7eab1effc28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#ga52762b7b4a53e17a0dddf7eab1effc28">foedus::thread::ThreadLocalOrdinal</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for a <b>local</b> ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core), which is <b>NOT</b> unique across NUMA nodes. </p>
<p>Currently, we assume there are at most 256 cores per NUMA node. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00058">58</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaea68524aab03a0e194a18ac008f9d484"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#gaea68524aab03a0e194a18ac008f9d484">foedus::thread::ThreadTicket</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for a monotonically increasing ticket for thread impersonation. </p>
<p>For every impersonation, the thread increments this value in its control block. Each session receives the ticket and checks the ticket whenever it checks the status of the thread. This is required to avoid double-free and modifying input/output data of other sessions. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00117">117</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gadeea698ca80e53ff957927c4e7657c06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__THREAD.html#gadeea698ca80e53ff957927c4e7657c06">foedus::thread::ThreadPolicy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> policy for worker threads. </p>
<p>The values are compatible with pthread's values.</p>
<dl class="section see"><dt>See also</dt><dd><a href="http://man7.org/linux/man-pages/man3/pthread_getschedparam.3.html">http://man7.org/linux/man-pages/man3/pthread_getschedparam.3.html</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggadeea698ca80e53ff957927c4e7657c06a237f5beaa77ff15e7fc7bec31f99a85b"></a>kScheduleOther&#160;</td><td class="fielddoc">
<p>SCHED_OTHER. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggadeea698ca80e53ff957927c4e7657c06abe130e4d917bbf88e9936d278efa34c6"></a>kScheduleFifo&#160;</td><td class="fielddoc">
<p>SCHED_FIFO. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggadeea698ca80e53ff957927c4e7657c06ac2add7e4e37b398059a8b0c401503af6"></a>kScheduleRr&#160;</td><td class="fielddoc">
<p>SCHED_RR. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggadeea698ca80e53ff957927c4e7657c06ad35338fa3260871669bd61fa8a9d347d"></a>kScheduleBatch&#160;</td><td class="fielddoc">
<p>SCHED_BATCH. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggadeea698ca80e53ff957927c4e7657c06a3ab4a1f84d152f7f590e319b9b8481b4"></a>kScheduleIdle&#160;</td><td class="fielddoc">
<p>SCHED_IDLE. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00166">166</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                  {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06a237f5beaa77ff15e7fc7bec31f99a85b">kScheduleOther</a> = 0,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06abe130e4d917bbf88e9936d278efa34c6">kScheduleFifo</a> = 1,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06ac2add7e4e37b398059a8b0c401503af6">kScheduleRr</a> = 2,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06ad35338fa3260871669bd61fa8a9d347d">kScheduleBatch</a> = 3,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06a3ab4a1f84d152f7f590e319b9b8481b4">kScheduleIdle</a> = 5,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// no SCHED_DEADLINE. Too new (linux 3.14~).</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;};</div>
<div class="ttc" id="group__THREAD_html_ggadeea698ca80e53ff957927c4e7657c06ac2add7e4e37b398059a8b0c401503af6"><div class="ttname"><a href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06ac2add7e4e37b398059a8b0c401503af6">foedus::thread::kScheduleRr</a></div><div class="ttdoc">SCHED_RR. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00172">thread_id.hpp:172</a></div></div>
<div class="ttc" id="group__THREAD_html_ggadeea698ca80e53ff957927c4e7657c06ad35338fa3260871669bd61fa8a9d347d"><div class="ttname"><a href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06ad35338fa3260871669bd61fa8a9d347d">foedus::thread::kScheduleBatch</a></div><div class="ttdoc">SCHED_BATCH. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00174">thread_id.hpp:174</a></div></div>
<div class="ttc" id="group__THREAD_html_ggadeea698ca80e53ff957927c4e7657c06a3ab4a1f84d152f7f590e319b9b8481b4"><div class="ttname"><a href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06a3ab4a1f84d152f7f590e319b9b8481b4">foedus::thread::kScheduleIdle</a></div><div class="ttdoc">SCHED_IDLE. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00176">thread_id.hpp:176</a></div></div>
<div class="ttc" id="group__THREAD_html_ggadeea698ca80e53ff957927c4e7657c06abe130e4d917bbf88e9936d278efa34c6"><div class="ttname"><a href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06abe130e4d917bbf88e9936d278efa34c6">foedus::thread::kScheduleFifo</a></div><div class="ttdoc">SCHED_FIFO. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00170">thread_id.hpp:170</a></div></div>
<div class="ttc" id="group__THREAD_html_ggadeea698ca80e53ff957927c4e7657c06a237f5beaa77ff15e7fc7bec31f99a85b"><div class="ttname"><a href="group__THREAD.html#ggadeea698ca80e53ff957927c4e7657c06a237f5beaa77ff15e7fc7bec31f99a85b">foedus::thread::kScheduleOther</a></div><div class="ttdoc">SCHED_OTHER. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00168">thread_id.hpp:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3cee4bcc7ad8a4a6fd107e5730113e6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__THREAD.html#ga3cee4bcc7ad8a4a6fd107e5730113e6c">foedus::thread::ThreadPriority</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> priority for worker threads. </p>
<p>The values are compatible with pthread's values. Depending on policy, the lowest-highest might be overwritten by what sched_get_priority_max()/min returns.</p>
<dl class="section see"><dt>See also</dt><dd><a href="http://man7.org/linux/man-pages/man3/pthread_getschedparam.3.html">http://man7.org/linux/man-pages/man3/pthread_getschedparam.3.html</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga3cee4bcc7ad8a4a6fd107e5730113e6cabb6f6d7214f713da8033d1ca3610a88c"></a>kPriorityIdle&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3cee4bcc7ad8a4a6fd107e5730113e6cab82a6aa977db6367c468d8ab1ca54d72"></a>kPriorityLowest&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3cee4bcc7ad8a4a6fd107e5730113e6ca7d911eaf3f8999b92975742f547ff03a"></a>kPriorityDefault&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3cee4bcc7ad8a4a6fd107e5730113e6ca94a0e082572756c1b49f4361cbfc67bd"></a>kPriorityHighest&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00186">186</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6cabb6f6d7214f713da8033d1ca3610a88c">kPriorityIdle</a> = 0,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6cab82a6aa977db6367c468d8ab1ca54d72">kPriorityLowest</a> = 1,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6ca7d911eaf3f8999b92975742f547ff03a">kPriorityDefault</a> = 50,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6ca94a0e082572756c1b49f4361cbfc67bd">kPriorityHighest</a> = 99,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;};</div>
<div class="ttc" id="group__THREAD_html_gga3cee4bcc7ad8a4a6fd107e5730113e6ca7d911eaf3f8999b92975742f547ff03a"><div class="ttname"><a href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6ca7d911eaf3f8999b92975742f547ff03a">foedus::thread::kPriorityDefault</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00189">thread_id.hpp:189</a></div></div>
<div class="ttc" id="group__THREAD_html_gga3cee4bcc7ad8a4a6fd107e5730113e6cabb6f6d7214f713da8033d1ca3610a88c"><div class="ttname"><a href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6cabb6f6d7214f713da8033d1ca3610a88c">foedus::thread::kPriorityIdle</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00187">thread_id.hpp:187</a></div></div>
<div class="ttc" id="group__THREAD_html_gga3cee4bcc7ad8a4a6fd107e5730113e6ca94a0e082572756c1b49f4361cbfc67bd"><div class="ttname"><a href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6ca94a0e082572756c1b49f4361cbfc67bd">foedus::thread::kPriorityHighest</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00190">thread_id.hpp:190</a></div></div>
<div class="ttc" id="group__THREAD_html_gga3cee4bcc7ad8a4a6fd107e5730113e6cab82a6aa977db6367c468d8ab1ca54d72"><div class="ttname"><a href="group__THREAD.html#gga3cee4bcc7ad8a4a6fd107e5730113e6cab82a6aa977db6367c468d8ab1ca54d72">foedus::thread::kPriorityLowest</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00188">thread_id.hpp:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8c4e8dcff52aa5328fe569fa44853d12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__THREAD.html#ga8c4e8dcff52aa5328fe569fa44853d12">foedus::thread::ThreadStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Impersonation status of each worker thread. </p>
<p>The transition is basically only to next one. Exceptions are: </p><ul>
<li>Every state might jump to kTerminated for whatever reason. </li>
<li>kWaitingForClientRelease goes back to kWaitingForTask when the client picks the result up and closes the session. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga8c4e8dcff52aa5328fe569fa44853d12a3b9c59461ee89a25359ea69563068a9b"></a>kNotInitialized&#160;</td><td class="fielddoc">
<p>Initial state. </p>
<p>The thread does nothing in this state </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8c4e8dcff52aa5328fe569fa44853d12a72aee7fe031aa8f5648f624a68616ecd"></a>kWaitingForTask&#160;</td><td class="fielddoc">
<p>Idle state, receiving a new task. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8c4e8dcff52aa5328fe569fa44853d12afa60273eee5d8d1548d0da34187b2a08"></a>kWaitingForExecution&#160;</td><td class="fielddoc">
<p>A client has set a next task. </p>
<p>The thread has not picked it up yet. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8c4e8dcff52aa5328fe569fa44853d12ae4da726d3c3a0db2b9e657ddcee9444d"></a>kRunningTask&#160;</td><td class="fielddoc">
<p>The thread has picked the task up and is now running. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8c4e8dcff52aa5328fe569fa44853d12a348b1e174a3d845ea1c808defd1de2a6"></a>kWaitingForClientRelease&#160;</td><td class="fielddoc">
<p>The thread has completed the task and set the result. </p>
<p>The client has not picked it up yet. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8c4e8dcff52aa5328fe569fa44853d12a949e36ce3a330b30392c68f53455ab4d"></a>kWaitingForTerminate&#160;</td><td class="fielddoc">
<p>The thread is requested to terminate. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8c4e8dcff52aa5328fe569fa44853d12af713804e6a22002bd137b04e90560ca3"></a>kTerminated&#160;</td><td class="fielddoc">
<p>The thread has terminated (either error or normal, check the result to differentiate them). </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00203">203</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                  {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a3b9c59461ee89a25359ea69563068a9b">kNotInitialized</a> = 0,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a72aee7fe031aa8f5648f624a68616ecd">kWaitingForTask</a>,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12afa60273eee5d8d1548d0da34187b2a08">kWaitingForExecution</a>,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12ae4da726d3c3a0db2b9e657ddcee9444d">kRunningTask</a>,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a348b1e174a3d845ea1c808defd1de2a6">kWaitingForClientRelease</a>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a949e36ce3a330b30392c68f53455ab4d">kWaitingForTerminate</a>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12af713804e6a22002bd137b04e90560ca3">kTerminated</a>,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;};</div>
<div class="ttc" id="group__THREAD_html_gga8c4e8dcff52aa5328fe569fa44853d12a72aee7fe031aa8f5648f624a68616ecd"><div class="ttname"><a href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a72aee7fe031aa8f5648f624a68616ecd">foedus::thread::kWaitingForTask</a></div><div class="ttdoc">Idle state, receiving a new task. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00207">thread_id.hpp:207</a></div></div>
<div class="ttc" id="group__THREAD_html_gga8c4e8dcff52aa5328fe569fa44853d12afa60273eee5d8d1548d0da34187b2a08"><div class="ttname"><a href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12afa60273eee5d8d1548d0da34187b2a08">foedus::thread::kWaitingForExecution</a></div><div class="ttdoc">A client has set a next task. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00209">thread_id.hpp:209</a></div></div>
<div class="ttc" id="group__THREAD_html_gga8c4e8dcff52aa5328fe569fa44853d12a949e36ce3a330b30392c68f53455ab4d"><div class="ttname"><a href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a949e36ce3a330b30392c68f53455ab4d">foedus::thread::kWaitingForTerminate</a></div><div class="ttdoc">The thread is requested to terminate. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00215">thread_id.hpp:215</a></div></div>
<div class="ttc" id="group__THREAD_html_gga8c4e8dcff52aa5328fe569fa44853d12a3b9c59461ee89a25359ea69563068a9b"><div class="ttname"><a href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a3b9c59461ee89a25359ea69563068a9b">foedus::thread::kNotInitialized</a></div><div class="ttdoc">Initial state. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00205">thread_id.hpp:205</a></div></div>
<div class="ttc" id="group__THREAD_html_gga8c4e8dcff52aa5328fe569fa44853d12ae4da726d3c3a0db2b9e657ddcee9444d"><div class="ttname"><a href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12ae4da726d3c3a0db2b9e657ddcee9444d">foedus::thread::kRunningTask</a></div><div class="ttdoc">The thread has picked the task up and is now running. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00211">thread_id.hpp:211</a></div></div>
<div class="ttc" id="group__THREAD_html_gga8c4e8dcff52aa5328fe569fa44853d12a348b1e174a3d845ea1c808defd1de2a6"><div class="ttname"><a href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12a348b1e174a3d845ea1c808defd1de2a6">foedus::thread::kWaitingForClientRelease</a></div><div class="ttdoc">The thread has completed the task and set the result. </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00213">thread_id.hpp:213</a></div></div>
<div class="ttc" id="group__THREAD_html_gga8c4e8dcff52aa5328fe569fa44853d12af713804e6a22002bd137b04e90560ca3"><div class="ttname"><a href="group__THREAD.html#gga8c4e8dcff52aa5328fe569fa44853d12af713804e6a22002bd137b04e90560ca3">foedus::thread::kTerminated</a></div><div class="ttdoc">The thread has terminated (either error or normal, check the result to differentiate them)...</div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00217">thread_id.hpp:217</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3cfa4441e96554e775ec6013c180e192"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ThreadId foedus::thread::compose_thread_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">ThreadGroupId</a>&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga52762b7b4a53e17a0dddf7eab1effc28">ThreadLocalOrdinal</a>&#160;</td>
          <td class="paramname"><em>local_core</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a globally unique ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core) for the given node and ordinal in the node. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00123">123</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00309">foedus::storage::sequential::SequentialComposer::drop_volatiles()</a>, <a class="el" href="sequential__storage__pimpl_8hpp_source.html#l00196">foedus::storage::sequential::SequentialStoragePimpl::for_every_page()</a>, <a class="el" href="thread__group_8cpp_source.html#l00038">foedus::thread::ThreadGroup::initialize_once()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00049">foedus::log::LogManagerPimpl::initialize_once()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00039">foedus::memory::NumaCoreMemory::NumaCoreMemory()</a>, and <a class="el" href="thread__ref_8cpp_source.html#l00106">foedus::thread::ThreadGroupRef::ThreadGroupRef()</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                                                                     {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> (node &lt;&lt; 8) | local_core;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__THREAD_ga3cfa4441e96554e775ec6013c180e192_icgraph.png" border="0" usemap="#group__THREAD_ga3cfa4441e96554e775ec6013c180e192_icgraph" alt=""/></div>
<map name="group__THREAD_ga3cfa4441e96554e775ec6013c180e192_icgraph" id="group__THREAD_ga3cfa4441e96554e775ec6013c180e192_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="219,5,421,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="229,71,411,127"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab8595b7fa861e2f16b04f6758a7508a5" title="Traverse all pages and call back the handler for every page. " alt="" coords="231,151,409,207"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1ThreadGroup.html#a527a2a713742fa6383c50b5062c229a7" title="foedus::thread::ThreadGroup\l::initialize_once" alt="" coords="227,232,413,273"/>
<area shape="rect" id="node16" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a8b2cfe458668cc3f8cf4ccbfeab179dc" title="foedus::log::LogManagerPimpl\l::initialize_once" alt="" coords="221,297,419,339"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ae52c70de54b28d69dc585e33ee5775b1" title="foedus::memory::NumaCore\lMemory::NumaCoreMemory" alt="" coords="227,363,413,404"/>
<area shape="rect" id="node18" href="classfoedus_1_1thread_1_1ThreadGroupRef.html#ac8cdc980dbc00f40af968c407c41af9d" title="foedus::thread::ThreadGroup\lRef::ThreadGroupRef" alt="" coords="227,428,413,469"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="469,5,648,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="469,79,648,120"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="696,71,880,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="928,79,1155,120"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1203,71,1413,127"/>
<area shape="rect" id="node9" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1489,45,1644,87"/>
<area shape="rect" id="node11" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1461,111,1672,152"/>
<area shape="rect" id="node10" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1720,45,1915,87"/>
<area shape="rect" id="node12" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1720,111,1915,152"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage_1_1sequential.html#aab3041ddf08dbde93ee896a1efff26d1" title="foedus::storage::sequential\l::operator\&lt;\&lt;" alt="" coords="469,159,648,200"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga93083d6b052db01851cb61c120522c1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ThreadLocalOrdinal foedus::thread::decompose_numa_local_ordinal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">ThreadId</a>&#160;</td>
          <td class="paramname"><em>global_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts local ordinal from the given globally unique ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core). </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00139">139</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8hpp_source.html#l00067">foedus::memory::NumaNodeMemory::get_core_memory()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00378">foedus::storage::sequential::SequentialStoragePimpl::get_head_pointer()</a>, <a class="el" href="xct__mcs__adapter__impl_8hpp_source.html#l00340">foedus::xct::McsMockAdaptor&lt; RW_BLOCK &gt;::get_other_thread()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00392">foedus::storage::sequential::SequentialStoragePimpl::get_tail_pointer()</a>, <a class="el" href="thread__pool__pimpl_8cpp_source.html#l00074">foedus::thread::ThreadPoolPimpl::get_thread()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00526">foedus::soc::SharedMemoryRepo::get_thread_memory_anchors()</a>, <a class="el" href="thread__pool__pimpl_8hpp_source.html#l00092">foedus::thread::ThreadPoolPimpl::get_thread_ref()</a>, <a class="el" href="logger__impl_8cpp_source.html#l00074">foedus::log::Logger::initialize_once()</a>, and <a class="el" href="thread__id_8hpp_source.html#l00147">foedus::thread::to_global_ordinal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                                           {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">return</span> global_id &amp; 0xFF;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__THREAD_ga93083d6b052db01851cb61c120522c1d_icgraph.png" border="0" usemap="#group__THREAD_ga93083d6b052db01851cb61c120522c1d_icgraph" alt=""/></div>
<map name="group__THREAD_ga93083d6b052db01851cb61c120522c1d_icgraph" id="group__THREAD_ga93083d6b052db01851cb61c120522c1d_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a58cd4f9c594cdcfd85fb3c3e9d47a983" title="foedus::memory::NumaNode\lMemory::get_core_memory" alt="" coords="237,373,423,415"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aa13fb52d28c1ad2fd240bc877b18dc85" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head_pointer" alt="" coords="241,151,419,207"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a4c191006302da5e849dba51583e3ca89" title="foedus::xct::McsMockAdaptor\l::get_other_thread" alt="" coords="232,632,428,673"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ae819655e8bea414d1152509866ddfd39" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_tail_pointer" alt="" coords="241,231,419,287"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1ThreadPoolPimpl.html#a3bc54c2f85a462fc295d4c31637b14f0" title="foedus::thread::ThreadPool\lPimpl::get_thread" alt="" coords="241,728,419,769"/>
<area shape="rect" id="node28" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#ae22e59b0c58a7f6fa519e2c4149afd9c" title="foedus::soc::SharedMemory\lRepo::get_thread_memory\l_anchors" alt="" coords="237,439,423,495"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1ThreadPoolPimpl.html#a61040189c343e97c3f0ee961df7a9f31" title="For better performance, but for some reason this method causes an issue in MCS lock. " alt="" coords="241,793,419,835"/>
<area shape="rect" id="node38" href="classfoedus_1_1log_1_1Logger.html#a3b1d647f1458d1172a511b7e57a2a237" title="foedus::log::Logger\l::initialize_once" alt="" coords="264,859,396,900"/>
<area shape="rect" id="node39" href="group__THREAD.html#ga648bd40143c5203075b7ca4ebf3d279c" title="Calculate ThreadGlobalOrdinal from ThreadId. " alt="" coords="269,985,391,1027"/>
<area shape="rect" id="node3" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8303f5db549570913eefd0e123dbfc2e" title="foedus::log::ThreadLogBuffer\l::initialize_once" alt="" coords="496,312,683,353"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a741208e803d0a0bb5f979ebb099d2a8d" title="foedus::thread::ThreadPimpl\l::initialize_once" alt="" coords="497,377,681,419"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="500,151,679,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a9754dc5a7c8b8f1f45a77714dfa8a53f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head" alt="" coords="500,71,679,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="770,151,949,207"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="1021,151,1204,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab8595b7fa861e2f16b04f6758a7508a5" title="Traverse all pages and call back the handler for every page. " alt="" coords="770,71,949,127"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="758,5,961,47"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1storage_1_1sequential.html#aab3041ddf08dbde93ee896a1efff26d1" title="foedus::storage::sequential\l::operator\&lt;\&lt;" alt="" coords="1023,79,1202,120"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="1023,5,1202,47"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a8a9ff1a65cfd2b91f490eae30825804f" title="foedus::xct::McsMockAdaptor\l::other_waiting" alt="" coords="491,691,687,732"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#ada97de36f530f44a6e46142d78abb21f" title="foedus::xct::McsMockAdaptor\l::get_other_cur_block" alt="" coords="491,756,687,797"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a729ff31eccedd92db8470fdd9007f3bd" title="foedus::xct::McsMockAdaptor\l::get_ww_other_block" alt="" coords="491,508,687,549"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#abb0ac860a7c0682159044480c0870e26" title="foedus::xct::McsMockAdaptor\l::get_rw_other_block" alt="" coords="491,573,687,615"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a44902001fcbcc2b977cd53f1101ef50e" title="foedus::xct::McsMockAdaptor\l::get_rw_other_async_block" alt="" coords="761,632,957,673"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a168323fea7c51d746908b90ccc3f89fd" title="foedus::xct::McsMockAdaptor\l::dereference_rw_tail_block" alt="" coords="761,567,957,608"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aeed5645880f0c4dfe3bca57ad9846ea4" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_tail" alt="" coords="500,231,679,287"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1ThreadPool.html#ac30dc90d5770fcaa8c302ea5d58ce17e" title="foedus::thread::ThreadPool\l::get_thread_ref" alt="" coords="501,887,678,928"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1ThreadPoolPimpl.html#a15f304020e9adda3eb4f7c00f5b9311f" title="foedus::thread::ThreadPool\lPimpl::impersonate_on_numa_core" alt="" coords="476,821,703,863"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1ThreadPool.html#a4f8014506cf0eea7986d26df628d4a71" title="Overload to specify a core to run on. " alt="" coords="763,795,956,836"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1ThreadPool.html#a3024f0646533edde18e9718d9180e97e" title="A shorthand for impersonating a session and synchronously waiting for its end. " alt="" coords="1016,787,1209,843"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1ThreadRef.html#a3f798a317603d0d463863c75805d30d6" title="foedus::thread::ThreadRef\l::ThreadRef" alt="" coords="504,443,675,484"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1ThreadPimpl.html#af52661009b044c7a6553234720d71923" title="foedus::thread::ThreadPimpl\l::get_thread_ref" alt="" coords="497,952,681,993"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#a3e8a52b170df473aaaf3efad96b5f6b3" title="foedus::thread::ThreadPimpl\lMcsAdaptor::other_waiting" alt="" coords="767,912,951,953"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#a3e123fc4b38a06c77a0f8f12234eb5e0" title="foedus::thread::ThreadPimpl\lMcsAdaptor::get_other_cur_block" alt="" coords="751,977,968,1019"/>
<area shape="rect" id="node34" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#a6b6b5272a4f797f30df41bd32ad13ad6" title="foedus::thread::ThreadPimpl\lMcsAdaptor::get_ww_other_block" alt="" coords="751,1043,968,1084"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#a3fec4f48fa468bf3c18986943938a47c" title="foedus::thread::ThreadPimpl\lMcsAdaptor::get_rw_other_block" alt="" coords="753,1108,965,1149"/>
<area shape="rect" id="node37" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#a99408b01841c4cd34977a90b71e04dfa" title="foedus::thread::ThreadPimpl\lMcsAdaptor::get_rw_other\l_async_block" alt="" coords="1021,943,1205,999"/>
<area shape="rect" id="node36" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#ab70a7b7dfedbfd2444de64f9a946b262" title="foedus::thread::ThreadPimpl\lMcsAdaptor::dereference\l_rw_tail_block" alt="" coords="1021,1101,1205,1157"/>
<area shape="rect" id="node40" href="classfoedus_1_1thread_1_1ThreadGroup.html#a527a2a713742fa6383c50b5062c229a7" title="foedus::thread::ThreadGroup\l::initialize_once" alt="" coords="496,1017,683,1059"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1622c6d8c64ca80f51c1bef5190ec4fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ThreadGroupId foedus::thread::decompose_numa_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">ThreadId</a>&#160;</td>
          <td class="paramname"><em>global_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts NUMA node ID from the given globally unique ID of <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> (core). </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00131">131</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00378">foedus::storage::sequential::SequentialStoragePimpl::get_head_pointer()</a>, <a class="el" href="thread__ref_8hpp_source.html#l00061">foedus::thread::ThreadRef::get_numa_node()</a>, <a class="el" href="thread_8hpp_source.html#l00066">foedus::thread::Thread::get_numa_node()</a>, <a class="el" href="xct__mcs__adapter__impl_8hpp_source.html#l00340">foedus::xct::McsMockAdaptor&lt; RW_BLOCK &gt;::get_other_thread()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00392">foedus::storage::sequential::SequentialStoragePimpl::get_tail_pointer()</a>, <a class="el" href="thread__pool__pimpl_8cpp_source.html#l00074">foedus::thread::ThreadPoolPimpl::get_thread()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00526">foedus::soc::SharedMemoryRepo::get_thread_memory_anchors()</a>, <a class="el" href="thread__pool__pimpl_8hpp_source.html#l00092">foedus::thread::ThreadPoolPimpl::get_thread_ref()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00163">foedus::thread::ThreadPimpl::handle_tasks()</a>, and <a class="el" href="thread__id_8hpp_source.html#l00147">foedus::thread::to_global_ordinal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                                             {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">return</span> (global_id &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__THREAD_ga1622c6d8c64ca80f51c1bef5190ec4fa_icgraph.png" border="0" usemap="#group__THREAD_ga1622c6d8c64ca80f51c1bef5190ec4fa_icgraph" alt=""/></div>
<map name="group__THREAD_ga1622c6d8c64ca80f51c1bef5190ec4fa_icgraph" id="group__THREAD_ga1622c6d8c64ca80f51c1bef5190ec4fa_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aa13fb52d28c1ad2fd240bc877b18dc85" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head_pointer" alt="" coords="241,939,419,995"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1ThreadRef.html#a6b8cf2f8ff6a6000a342310b6331b972" title="foedus::thread::ThreadRef\l::get_numa_node" alt="" coords="245,1231,415,1272"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="255,436,405,477"/>
<area shape="rect" id="node32" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a4c191006302da5e849dba51583e3ca89" title="foedus::xct::McsMockAdaptor\l::get_other_thread" alt="" coords="232,1296,428,1337"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ae819655e8bea414d1152509866ddfd39" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_tail_pointer" alt="" coords="241,1019,419,1075"/>
<area shape="rect" id="node40" href="classfoedus_1_1thread_1_1ThreadPoolPimpl.html#a3bc54c2f85a462fc295d4c31637b14f0" title="foedus::thread::ThreadPool\lPimpl::get_thread" alt="" coords="241,1409,419,1451"/>
<area shape="rect" id="node43" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#ae22e59b0c58a7f6fa519e2c4149afd9c" title="foedus::soc::SharedMemory\lRepo::get_thread_memory\l_anchors" alt="" coords="237,1541,423,1597"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1ThreadPoolPimpl.html#a61040189c343e97c3f0ee961df7a9f31" title="For better performance, but for some reason this method causes an issue in MCS lock. " alt="" coords="241,1633,419,1675"/>
<area shape="rect" id="node48" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a73a9dfcab4771b1a5c6362406b27faeb" title="Main routine of the worker thread. " alt="" coords="238,1475,422,1516"/>
<area shape="rect" id="node49" href="group__THREAD.html#ga648bd40143c5203075b7ca4ebf3d279c" title="Calculate ThreadGlobalOrdinal from ThreadId. " alt="" coords="269,1723,391,1764"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="500,939,679,995"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a9754dc5a7c8b8f1f45a77714dfa8a53f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head" alt="" coords="500,859,679,915"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="769,1013,948,1069"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab8595b7fa861e2f16b04f6758a7508a5" title="Traverse all pages and call back the handler for every page. " alt="" coords="769,933,948,989"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="757,867,960,908"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="500,669,679,725"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="499,749,680,805"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da" title="foedus::storage::masstree\l::allocate_new_border_page" alt="" coords="498,5,681,47"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="772,13,945,55"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="503,123,676,164"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="503,189,676,245"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="503,269,676,325"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a45396b70b246f330355397b447af55f3" title="implementation of delete_record family. " alt="" coords="503,349,676,405"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="503,429,676,485"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="503,509,676,565"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="503,589,676,645"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="752,640,965,681"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="768,786,949,842"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="768,706,949,762"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="772,85,945,127"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="753,232,965,273"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="772,151,945,207"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="755,297,963,339"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1015,389,1229,431"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="772,414,945,470"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="751,575,967,616"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="772,494,945,550"/>
<area shape="rect" id="node33" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a8a9ff1a65cfd2b91f490eae30825804f" title="foedus::xct::McsMockAdaptor\l::other_waiting" alt="" coords="491,1100,687,1141"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#ada97de36f530f44a6e46142d78abb21f" title="foedus::xct::McsMockAdaptor\l::get_other_cur_block" alt="" coords="491,1165,687,1207"/>
<area shape="rect" id="node35" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a729ff31eccedd92db8470fdd9007f3bd" title="foedus::xct::McsMockAdaptor\l::get_ww_other_block" alt="" coords="491,1231,687,1272"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#abb0ac860a7c0682159044480c0870e26" title="foedus::xct::McsMockAdaptor\l::get_rw_other_block" alt="" coords="491,1296,687,1337"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1McsMockAdaptor.html#a44902001fcbcc2b977cd53f1101ef50e" title="foedus::xct::McsMockAdaptor\l::get_rw_other_async_block" alt="" coords="761,1325,957,1367"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aeed5645880f0c4dfe3bca57ad9846ea4" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_tail" alt="" coords="500,1019,679,1075"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1ThreadPool.html#ac30dc90d5770fcaa8c302ea5d58ce17e" title="foedus::thread::ThreadPool\l::get_thread_ref" alt="" coords="501,1479,678,1520"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1ThreadPoolPimpl.html#a15f304020e9adda3eb4f7c00f5b9311f" title="foedus::thread::ThreadPool\lPimpl::impersonate_on_numa_core" alt="" coords="476,1413,703,1455"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a741208e803d0a0bb5f979ebb099d2a8d" title="foedus::thread::ThreadPimpl\l::initialize_once" alt="" coords="497,1544,681,1585"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1ThreadRef.html#a3f798a317603d0d463863c75805d30d6" title="foedus::thread::ThreadRef\l::ThreadRef" alt="" coords="504,1609,675,1651"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1ThreadPimpl.html#af52661009b044c7a6553234720d71923" title="foedus::thread::ThreadPimpl\l::get_thread_ref" alt="" coords="497,1675,681,1716"/>
<area shape="rect" id="node50" href="classfoedus_1_1thread_1_1ThreadGroup.html#a527a2a713742fa6383c50b5062c229a7" title="foedus::thread::ThreadGroup\l::initialize_once" alt="" coords="496,1740,683,1781"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga648bd40143c5203075b7ca4ebf3d279c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ThreadGlobalOrdinal foedus::thread::to_global_ordinal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">ThreadId</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>threads_per_nodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate ThreadGlobalOrdinal from ThreadId. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00147">147</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

<p>References <a class="el" href="thread__id_8hpp_source.html#l00139">foedus::thread::decompose_numa_local_ordinal()</a>, and <a class="el" href="thread__id_8hpp_source.html#l00131">foedus::thread::decompose_numa_node()</a>.</p>

<p>Referenced by <a class="el" href="thread__group_8cpp_source.html#l00038">foedus::thread::ThreadGroup::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa">decompose_numa_node</a>(thread_id) * threads_per_nodes</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    + <a class="code" href="group__THREAD.html#ga93083d6b052db01851cb61c120522c1d">decompose_numa_local_ordinal</a>(thread_id);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="ttc" id="group__THREAD_html_ga93083d6b052db01851cb61c120522c1d"><div class="ttname"><a href="group__THREAD.html#ga93083d6b052db01851cb61c120522c1d">foedus::thread::decompose_numa_local_ordinal</a></div><div class="ttdeci">ThreadLocalOrdinal decompose_numa_local_ordinal(ThreadId global_id)</div><div class="ttdoc">Extracts local ordinal from the given globally unique ID of Thread (core). </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00139">thread_id.hpp:139</a></div></div>
<div class="ttc" id="group__THREAD_html_ga1622c6d8c64ca80f51c1bef5190ec4fa"><div class="ttname"><a href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa">foedus::thread::decompose_numa_node</a></div><div class="ttdeci">ThreadGroupId decompose_numa_node(ThreadId global_id)</div><div class="ttdoc">Extracts NUMA node ID from the given globally unique ID of Thread (core). </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00131">thread_id.hpp:131</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_cgraph.png" border="0" usemap="#group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_cgraph" alt=""/></div>
<map name="group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_cgraph" id="group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_cgraph">
<area shape="rect" id="node2" href="group__THREAD.html#ga93083d6b052db01851cb61c120522c1d" title="Extracts local ordinal from the given globally unique ID of Thread (core). " alt="" coords="176,5,355,47"/>
<area shape="rect" id="node3" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="176,71,355,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_icgraph.png" border="0" usemap="#group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_icgraph" alt=""/></div>
<map name="group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_icgraph" id="group__THREAD_ga648bd40143c5203075b7ca4ebf3d279c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadGroup.html#a527a2a713742fa6383c50b5062c229a7" title="foedus::thread::ThreadGroup\l::initialize_once" alt="" coords="176,5,363,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga7d1fa1a846b16ab8378ebba4c8b14137"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::kMaxThreadGroupId = 0xFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum possible value of ThreadGroupId. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00049">49</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gab5372dd17d607314c664326f3d4d1f91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::kMaxThreadId = 0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum possible value of ThreadId. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00105">105</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gac977ecfa954bdf702596888c4f779581"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::kMaxThreadLocalOrdinal = 0xFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum possible value of ThreadLocalOrdinal. </p>

<p>Definition at line <a class="el" href="thread__id_8hpp_source.html#l00069">69</a> of file <a class="el" href="thread__id_8hpp_source.html">thread_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8hpp_source.html#l00062">foedus::memory::NumaNodeMemory::get_core_memory_count()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
