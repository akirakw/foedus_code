<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: Debug-Support functionalities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__DEBUGGING.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Debug-Support functionalities<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &#124; <a class="el" href="group__IDIOMS.html">FOEDUS Programming Idioms</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Debug-Support</b> functionalities.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><b>Debug-Support</b> functionalities. </p>
<p>The engine provides API to turn on/of various debug-support functionalities.</p>
<dl class="section user"><dt>Debug Logging with glog</dt><dd>We use the flexible debug-logging framework, <a href="http://google-glog.googlecode.com/svn/trunk/doc/glog.html">Google-logging</a>, or <em>glog</em> for short. Everyone who writes code in libfoedus should be familiar with glog. For example, use it as follows. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;glog/logging.h&gt;</span></div>
<div class="line"><span class="keywordtype">void</span> your_func() {</div>
<div class="line">    VLOG(1) &lt;&lt; <span class="stringliteral">&quot;Entered your_func()&quot;</span>;  <span class="comment">// verbose debug log with level 1</span></div>
<div class="line">    LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;some info. some_var=&quot;</span> &lt;&lt; some_var;  <span class="comment">// debug log in INFO level</span></div>
<div class="line">    <span class="keywordflow">if</span> (some_error_happened) {</div>
<div class="line">       LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;error!&quot;</span>;  <span class="comment">// debug log in ERROR level</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Where Debug Logs are output</dt><dd>With the default settings, all logs are written to /tmp/libfoedus.'level', such as /tmp/libfoedus.INFO. LOG(ERROR) and LOG(FATAL) are also copied to stderr. Logs of specific execution are written to another file, /tmp/libfoedus.'hostname'.'user name'.log.'severity level'.'date'.'time'.'pid', such as: /tmp/libfoedus.hkimura-z820.kimurhid.log.INFO.20140406-215444.26946</dd></dl>
<dl class="section user"><dt>DLOG and DVLOG</dt><dd>DLOG() and DVLOG() are completely disabled and wiped from our binary if our cmake build level is RELEASE or RELWITHDBGINFO. Most of our code each user transaction goes through should use only DLOG or DVLOG in its critical path.</dd></dl>
<dl class="section user"><dt>Debug Logging Configurations</dt><dd>Although we don't expose glog classes themselves in our APIs, we provide our own APIs to configure them at both start-time and run-time for easier development. The start-time configuration is <a class="el" href="structfoedus_1_1debugging_1_1DebuggingOptions.html" title="Set of options for debugging support. ">foedus::debugging::DebuggingOptions</a> (foedus::EngineOptions::debug_). The run-time configuration APIs are provided by <a class="el" href="classfoedus_1_1debugging_1_1DebuggingSupports.html" title="APIs to support debugging functionalities. ">foedus::debugging::DebuggingSupports</a>, which you can obtain via <a class="el" href="classfoedus_1_1Engine.html#a7a74b38a862f1671322e3c72169e48cc" title="See Debug-Support functionalities. ">foedus::Engine::get_debug()</a>.</dd></dl>
<dl class="section user"><dt>Debug Logging Level House-Rules</dt><dd><ul>
<li>LOG(FATAL) is used where we are not ready for graceful shutdown. Eventually there should be none except asserting code bugs. </li>
<li>LOG(ERROR) is the default level for problemetic cases. Most error logging would be this. Do not use DLOG(ERROR). Instead always use LOG(ERROR). </li>
<li>LOG(WARNING) should be used only for expected and minor user-triggered errors. If it's either unexpected or major (eg out-of-disk is a user error, but worth raising as an error), use LOG(ERROR). You can use DLOG(WARNING) to avoid affecting performance in critical places. </li>
<li>For normal events that happen only once or a few times over very <em>long</em> time (seconds or more), then use LOG(INFO). For example, module initializations logs. </li>
<li>For more frequent normal events (hundreds/thousands per second), use DLOG(INFO). </li>
<li>For debug-messages that <em>YOU</em> wouldn't want to see unless you are writing code in that module, use VLOG. VLOG level 0: ~tens per second, 1: ~hundreds per second, 2: ~thousand per second. If it's more than thousand per second, do NOT use VLOG. It means (at least) that many level checkings per second! Use DLOG/DVLOG then.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Performance Counters</dt><dd>See <a class="el" href="classfoedus_1_1debugging_1_1StopWatch.html" title="A high-resolution stop watch. ">foedus::debugging::StopWatch</a>, <a class="el" href="classfoedus_1_1debugging_1_1RdtscWatch.html" title="A RDTSC-based low-overhead stop watch. ">foedus::debugging::RdtscWatch</a>, and related methods. </dd></dl>
<div class="dynheader">
Collaboration diagram for Debug-Support functionalities:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__DEBUGGING.png" border="0" alt="" usemap="#group____DEBUGGING"/>
<map name="group____DEBUGGING" id="group____DEBUGGING">
<area shape="rect" id="node2" href="group__COMPONENTS.html" title="Main modules of libfoedus. " alt="" coords="7,5,161,32"/>
<area shape="rect" id="node3" href="group__IDIOMS.html" title="You must first get used to these things to use/develop libfoedus. " alt="" coords="5,57,163,98"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:debugging_2fwd_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debugging_2fwd_8hpp.html">fwd.hpp</a></td></tr>
<tr class="memdesc:debugging_2fwd_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declarations of classes in debugging package. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:rdtsc_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdtsc_8hpp.html">rdtsc.hpp</a></td></tr>
<tr class="memdesc:rdtsc_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements an RDTSC (Real-time time stamp counter) wait to emulate latency on slower devices. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1debugging_1_1DebuggingOptions.html">foedus::debugging::DebuggingOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of options for debugging support.  <a href="structfoedus_1_1debugging_1_1DebuggingOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1debugging_1_1DebuggingSupports_1_1PapiCounters"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEBUGGING.html#structfoedus_1_1debugging_1_1DebuggingSupports_1_1PapiCounters">foedus::debugging::DebuggingSupports::PapiCounters</a></td></tr>
<tr class="separator:structfoedus_1_1debugging_1_1DebuggingSupports_1_1PapiCounters"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1debugging_1_1DebuggingSupports.html">foedus::debugging::DebuggingSupports</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIs to support debugging functionalities.  <a href="classfoedus_1_1debugging_1_1DebuggingSupports.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1debugging_1_1RdtscWatch.html">foedus::debugging::RdtscWatch</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A RDTSC-based low-overhead stop watch.  <a href="classfoedus_1_1debugging_1_1RdtscWatch.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1debugging_1_1StopWatch.html">foedus::debugging::StopWatch</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A high-resolution stop watch.  <a href="classfoedus_1_1debugging_1_1StopWatch.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga48dd46b3a1382506a34fcb4e6e0941f6"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">foedus::debugging::get_rdtsc</a> ()</td></tr>
<tr class="memdesc:ga48dd46b3a1382506a34fcb4e6e0941f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current CPU cycle via x86 RDTSC.  <a href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">More...</a><br /></td></tr>
<tr class="separator:ga48dd46b3a1382506a34fcb4e6e0941f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7eac15b41b0fab4e689f62d147ce620"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620">foedus::debugging::wait_rdtsc_cycles</a> (uint64_t cycles)</td></tr>
<tr class="memdesc:gac7eac15b41b0fab4e689f62d147ce620"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until the given CPU cycles elapse.  <a href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620">More...</a><br /></td></tr>
<tr class="separator:gac7eac15b41b0fab4e689f62d147ce620"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structfoedus_1_1debugging_1_1DebuggingSupports_1_1PapiCounters" id="structfoedus_1_1debugging_1_1DebuggingSupports_1_1PapiCounters"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::debugging::DebuggingSupports::PapiCounters</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="debugging__supports_8hpp_source.html#l00037">37</a> of file <a class="el" href="debugging__supports_8hpp_source.html">debugging_supports.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aba5439fdfa294cb4396687d5dc3750c7"></a>long long int</td>
<td class="fieldname">
counters_[128]</td>
<td class="fielddoc">
wanna use int64_t, but to align with PAPI... </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga48dd46b3a1382506a34fcb4e6e0941f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::debugging::get_rdtsc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current CPU cycle via x86 RDTSC. </p>

<p>Definition at line <a class="el" href="rdtsc_8hpp_source.html#l00035">35</a> of file <a class="el" href="rdtsc_8hpp_source.html">rdtsc.hpp</a>.</p>

<p>Referenced by <a class="el" href="shared__memory_8cpp_source.html#l00067">foedus::memory::SharedMemory::alloc()</a>, <a class="el" href="rdtsc__watch_8hpp_source.html#l00042">foedus::debugging::RdtscWatch::start()</a>, <a class="el" href="rdtsc__watch_8hpp_source.html#l00047">foedus::debugging::RdtscWatch::stop()</a>, and <a class="el" href="rdtsc_8hpp_source.html#l00060">foedus::debugging::wait_rdtsc_cycles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                            {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#ifndef __aarch64__</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// x86.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  uint32_t low, high;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;rdtsc&quot;</span> : <span class="stringliteral">&quot;=a&quot;</span> (low), <span class="stringliteral">&quot;=d&quot;</span> (high));</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> (static_cast&lt;uint64_t&gt;(high) &lt;&lt; 32) | low;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#else  // __aarch64__</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment">// AArch64. &quot;cntvct_el0&quot; gives read-only physical 64bit timer.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">// http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0488d/ch09s03s01.html</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  uint64_t ret;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;isb; mrs %0, cntvct_el0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (ret));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#endif  // __aarch64__</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__DEBUGGING_ga48dd46b3a1382506a34fcb4e6e0941f6_icgraph.png" border="0" usemap="#group__DEBUGGING_ga48dd46b3a1382506a34fcb4e6e0941f6_icgraph" alt=""/></div>
<map name="group__DEBUGGING_ga48dd46b3a1382506a34fcb4e6e0941f6_icgraph" id="group__DEBUGGING_ga48dd46b3a1382506a34fcb4e6e0941f6_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1SharedMemory.html#ae4b91eee2dce03e4b3aac612c71b88a0" title="Newly allocate a shared memory of given size on given NUMA node. " alt="" coords="188,55,399,96"/>
<area shape="rect" id="node6" href="classfoedus_1_1debugging_1_1RdtscWatch.html#a3a99892cf6abe4e0b189b757fb9292c4" title="Take current time tick. " alt="" coords="226,155,361,196"/>
<area shape="rect" id="node8" href="classfoedus_1_1debugging_1_1RdtscWatch.html#a0f5961269d79e636777d722ade37dd2e" title="Take another current time tick. " alt="" coords="226,264,361,305"/>
<area shape="rect" id="node29" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="226,1059,361,1100"/>
<area shape="rect" id="node3" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#aa42d7f6cd529569e79e4cfc298adb39b" title="Master process creates shared memories by calling this method. " alt="" coords="447,20,661,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a3dd3a524e5fbb0b8f9cb52dd21689d0a" title="Called as part of initialize_once() if this is a master engine. " alt="" coords="709,11,912,52"/>
<area shape="rect" id="node5" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#aa14e68e8b8e3902f2b139b6388e712d8" title="foedus::soc::SocManagerPimpl\l::initialize_once" alt="" coords="979,5,1182,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1debugging_1_1RdtscWatch.html#a98931bdba67db8c79d8053dab82ce2b8" title="foedus::debugging::\lRdtscWatch::RdtscWatch" alt="" coords="467,111,641,152"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1assorted.html#aba5893ad8aab7d6aafff7be7f92e1372" title="Spin locally until the given condition returns true. " alt="" coords="479,337,629,379"/>
<area shape="rect" id="node24" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a4ea0f6f073f92ff447cc34429adafbda" title="Append the log entries of one storage in the given buffer to this reducer&#39;s buffer. " alt="" coords="455,403,653,444"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#aa88be4c928d4254f51e1e1252680f87e" title="foedus::storage::masstree\l::MasstreePartitioner::\lpartition_batch" alt="" coords="467,177,641,233"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ae4789d8489571fa435c97a03b4f93619" title="Subroutine to lock existing records in target_. " alt="" coords="465,257,643,313"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1McsRwSimpleBlock.html#ae9b048fb68813b17ed9da1e872c5b941" title="MCS block classes. " alt="" coords="722,439,899,480"/>
<area shape="rect" id="node11" href="structfoedus_1_1xct_1_1McsRwExtendedBlock.html#aeace6e87cba5c5f3863de14f365ba950" title="foedus::xct::McsRwExtended\lBlock::timeout_granted" alt="" coords="715,321,907,363"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1xct.html#ad815773827f1856f8fd25a9d4b41d490" title="foedus::xct::spin_until" alt="" coords="736,387,885,414"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1McsWwImpl.html#ab45630bd77311e8604ca265ffcbc4edd" title="[WW] Unconditionally takes exclusive&#45;only MCS lock on the given lock. " alt="" coords="998,635,1163,676"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1McsWwImpl.html#a23095f2685916d313450e79bdb27b872" title="[WW] Unlcok an MCS lock acquired by this thread. " alt="" coords="998,71,1163,112"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1McsWwOwnerlessImpl.html#a1ccdb01d5d5921f397b5e6e138e4435c" title="[WW&#45;Guest] Unconditionally takes exclusive&#45;only guest lock on the given MCSg lock. " alt="" coords="979,137,1182,193"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1McsWwOwnerlessImpl.html#a401267b664485526790472daafedb231" title="foedus::xct::McsWwOwnerless\lImpl::ownerless_release" alt="" coords="979,217,1182,259"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#ac713a116ff5be76bf0c654c1c3a59c18" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::acquire_unconditional\l_rw_reader" alt="" coords="971,283,1190,353"/>
<area shape="rect" id="node21" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#a9286b4d7d998f425b6ee284a7416f05f" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::release_rw_reader" alt="" coords="971,378,1190,434"/>
<area shape="rect" id="node22" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#af28ba663c64241396718beb6dfd21a4e" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::acquire_unconditional\l_rw_writer" alt="" coords="971,459,1190,529"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#a738f4d3121fd8d9ceea494d46b3611ab" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::release_rw_writer" alt="" coords="971,554,1190,610"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1SysxctLockList.html#a8f37f1ac6ee205126ce76fe7ae2f5d52" title="Releases all locks that were acquired. " alt="" coords="1249,71,1433,112"/>
<area shape="rect" id="node17" href="structfoedus_1_1xct_1_1McsWwLock.html#adb1f6d8968c71a9ce91c7a3c812cb43c" title="foedus::xct::McsWwLock\l::ownerless_acquire_lock" alt="" coords="1257,144,1426,185"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1McsWwLock.html#a5d7d7206c9ffc1261829346148361414" title="foedus::xct::McsWwLock\l::ownerless_release_lock" alt="" coords="1257,217,1426,259"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="721,184,900,225"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="724,256,897,297"/>
<area shape="rect" id="node30" href="structfoedus_1_1assorted_1_1SpinlockStat.html#ada983d4699b63992edd5dc4439d25a3e" title="foedus::assorted::Spinlock\lStat::yield_backoff" alt="" coords="466,1124,642,1165"/>
<area shape="rect" id="node31" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="479,1059,629,1100"/>
<area shape="rect" id="node48" href="classfoedus_1_1fs_1_1DirectIoFile.html#abee93267c52644978643dedc44965970" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="479,1189,629,1231"/>
<area shape="rect" id="node50" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="479,993,629,1035"/>
<area shape="rect" id="node32" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="717,1059,904,1100"/>
<area shape="rect" id="node44" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#aae67209f9aa9d03e45a9934067c8245b" title="Read contiguous pages in one shot. " alt="" coords="717,888,904,929"/>
<area shape="rect" id="node47" href="classfoedus_1_1fs_1_1DirectIoFile.html#a16f9c1053d076007620b4d1c4dfec9bf" title="Memory slice version. " alt="" coords="735,1124,886,1165"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="989,928,1173,969"/>
<area shape="rect" id="node35" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="975,993,1186,1035"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="975,1059,1186,1100"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#a230f7dbb47f1b22e7295fe7c00a96fa4" title="Recursively opens pages down from fixed_upto_level. " alt="" coords="979,1125,1182,1181"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#ac5ad2e7fa792d58965a05be6bd43e43c" title="foedus::storage::hash\l::HashComposer::construct_root" alt="" coords="975,1205,1186,1247"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="1001,1271,1160,1312"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#a1aedc45cc5621bd3889f1bf2d47ab79c" title="foedus::storage::masstree\l::MasstreePartitioner::\ldesign_partition" alt="" coords="994,1337,1167,1393"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adb503d118f53a417bf11f9e486bd3cf7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread_follow" alt="" coords="977,1417,1184,1473"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a91db842a6ef8780d3fe4ba2f0f625da7" title="foedus::storage::sequential\l::SequentialComposer::construct_root" alt="" coords="960,1497,1201,1539"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#ad5f949c2d00aea4cb2186c93108b7dcc" title="Special method called only from recovery manager. " alt="" coords="995,847,1166,903"/>
<area shape="rect" id="node34" href="classfoedus_1_1thread_1_1Thread.html#a29e87db0559d67ac9a942e345e3a2ea2" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="1259,928,1423,969"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4c828d75840906244fd52c44a793232d" title="Read contiguous pages in one shot. " alt="" coords="989,781,1173,823"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsBuffer.html#a5fe3533ff092920e41ddc56ebcd4165c" title="Read pages to buffer_. " alt="" coords="1005,701,1156,757"/>
<area shape="rect" id="node49" href="classfoedus_1_1fs_1_1DirectIoFile.html#ad2419b5b2a19b6307143876baffcc783" title="Memory slice version. " alt="" coords="735,1189,886,1231"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac7eac15b41b0fab4e689f62d147ce620"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::debugging::wait_rdtsc_cycles </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>cycles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait until the given CPU cycles elapse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cycles</td><td>CPU cycles to wait for</td></tr>
  </table>
  </dd>
</dl>
<p>In case of context switch to a different CPU that has a very different timing (esp on NUMA), we also check if the RDTSC value is not bogus. In that case, we exit the wait. This is also a safety net for wrap-around. Anyways, it's a rare case. </p>

<p>Definition at line <a class="el" href="rdtsc_8hpp_source.html#l00060">60</a> of file <a class="el" href="rdtsc_8hpp_source.html">rdtsc.hpp</a>.</p>

<p>References <a class="el" href="rdtsc_8hpp_source.html#l00035">foedus::debugging::get_rdtsc()</a>.</p>

<p>Referenced by <a class="el" href="direct__io__file_8cpp_source.html#l00162">foedus::fs::DirectIoFile::read_raw()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00326">foedus::fs::DirectIoFile::seek()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00236">foedus::fs::DirectIoFile::write_raw()</a>, and <a class="el" href="assorted__func_8cpp_source.html#l00206">foedus::assorted::SpinlockStat::yield_backoff()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                               {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  uint64_t cycle_error = <a class="code" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">get_rdtsc</a>() - cycles;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  uint64_t cycle_until = <a class="code" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">get_rdtsc</a>() + cycles;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    uint64_t current = <a class="code" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">get_rdtsc</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (current &gt;= cycle_until || current &lt;= cycle_error) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="group__DEBUGGING_html_ga48dd46b3a1382506a34fcb4e6e0941f6"><div class="ttname"><a href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">foedus::debugging::get_rdtsc</a></div><div class="ttdeci">uint64_t get_rdtsc()</div><div class="ttdoc">Returns the current CPU cycle via x86 RDTSC. </div><div class="ttdef"><b>Definition:</b> <a href="rdtsc_8hpp_source.html#l00035">rdtsc.hpp:35</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_cgraph.png" border="0" usemap="#group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_cgraph" alt=""/></div>
<map name="group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_cgraph" id="group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_cgraph">
<area shape="rect" id="node2" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="188,5,323,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_icgraph.png" border="0" usemap="#group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_icgraph" alt=""/></div>
<map name="group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_icgraph" id="group__DEBUGGING_gac7eac15b41b0fab4e689f62d147ce620_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="201,1057,351,1099"/>
<area shape="rect" id="node47" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="201,992,351,1033"/>
<area shape="rect" id="node48" href="classfoedus_1_1fs_1_1DirectIoFile.html#abee93267c52644978643dedc44965970" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="201,1123,351,1164"/>
<area shape="rect" id="node50" href="structfoedus_1_1assorted_1_1SpinlockStat.html#ada983d4699b63992edd5dc4439d25a3e" title="foedus::assorted::Spinlock\lStat::yield_backoff" alt="" coords="188,1188,364,1229"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="412,831,599,872"/>
<area shape="rect" id="node41" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#aae67209f9aa9d03e45a9934067c8245b" title="Read contiguous pages in one shot. " alt="" coords="412,1024,599,1065"/>
<area shape="rect" id="node46" href="classfoedus_1_1fs_1_1DirectIoFile.html#a16f9c1053d076007620b4d1c4dfec9bf" title="Memory slice version. " alt="" coords="430,1089,581,1131"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="675,772,859,813"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="662,889,873,931"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="662,1020,873,1061"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#a230f7dbb47f1b22e7295fe7c00a96fa4" title="Recursively opens pages down from fixed_upto_level. " alt="" coords="666,71,869,127"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#ac5ad2e7fa792d58965a05be6bd43e43c" title="foedus::storage::hash\l::HashComposer::construct_root" alt="" coords="662,1085,873,1127"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="688,249,847,291"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#a1aedc45cc5621bd3889f1bf2d47ab79c" title="foedus::storage::masstree\l::MasstreePartitioner::\ldesign_partition" alt="" coords="681,351,854,407"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adb503d118f53a417bf11f9e486bd3cf7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread_follow" alt="" coords="664,465,871,521"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a91db842a6ef8780d3fe4ba2f0f625da7" title="foedus::storage::sequential\l::SequentialComposer::construct_root" alt="" coords="647,955,888,996"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#ad5f949c2d00aea4cb2186c93108b7dcc" title="Special method called only from recovery manager. " alt="" coords="682,603,853,659"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a29e87db0559d67ac9a942e345e3a2ea2" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="968,655,1132,696"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1212,713,1421,755"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1225,809,1409,865"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="958,772,1142,813"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1469,743,1679,784"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1482,677,1666,719"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1727,648,1911,689"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1494,889,1654,945"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1482,809,1666,865"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="965,889,1135,931"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="965,955,1135,996"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="953,1020,1147,1061"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aa0f536b8252655076528b290abb84a87" title="foedus::storage::array\l::ArrayStorage::load" alt="" coords="1243,889,1391,931"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a200dd1b1b2b5bc937cae55120e1befc9" title="foedus::storage::hash\l::HashStorage::load" alt="" coords="1243,955,1390,996"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2731aaf3a733c773a63df6d691ede3ac" title="foedus::storage::masstree\l::MasstreeStorage::load" alt="" coords="1230,1020,1403,1061"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="961,1085,1139,1127"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#af617a04eb5df3795abfe4900a20a6db6" title="foedus::storage::hash\l::ComposedBinsMergedStream::init" alt="" coords="936,5,1164,47"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#ad9d314f5d6c1a5f698ca623ef7d0188e" title="Moves cur_path_ to a page that cotains the specified bin. " alt="" coords="949,71,1151,127"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ae68923a3afe20ce445002b85764a9f17" title="These are defined in hash_storage_debug.cpp. " alt="" coords="1475,235,1673,291"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad9f8e63fe91ea8623c537e3fffc1f3c1" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_intermediate" alt="" coords="1217,202,1416,258"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa220f1f2d268290263483476d85be47b" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_data" alt="" coords="951,202,1149,258"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a144b7a6f95482f2ab8f8564776689fb9" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="1735,235,1902,291"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="961,333,1139,375"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a41e664c7035f1b89121ef06678a71386" title="These are defined in masstree_storage_debug.cpp. " alt="" coords="963,494,1137,550"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6358da556d81e06726320b30c78755f7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread\l_recurse" alt="" coords="963,399,1137,469"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a9d2f5eb65777d851bee6809acf6fe153" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="1221,494,1412,550"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1StorageManager.html#ad207f2d607f78db439621dd82a4b9470" title="Special method called only from recovery manager. " alt="" coords="967,574,1133,630"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4c828d75840906244fd52c44a793232d" title="Read contiguous pages in one shot. " alt="" coords="675,1151,859,1192"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsBuffer.html#a5fe3533ff092920e41ddc56ebcd4165c" title="Read pages to buffer_. " alt="" coords="692,1217,843,1273"/>
<area shape="rect" id="node43" href="classfoedus_1_1thread_1_1Thread.html#a1455488538dd235b4de2730693bfd718" title="Read contiguous pages in one shot. " alt="" coords="971,1151,1129,1192"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsBuffer.html#a87975eab41db6a99b88424bd2d6dbb90" title="Moves on to next bin. " alt="" coords="975,1217,1125,1273"/>
<area shape="rect" id="node49" href="classfoedus_1_1fs_1_1DirectIoFile.html#ad2419b5b2a19b6307143876baffcc783" title="Memory slice version. " alt="" coords="430,1155,581,1196"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
