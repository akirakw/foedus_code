<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::snapshot Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacefoedus_1_1snapshot.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">foedus::snapshot Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b><a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html" title="Represents one snapshot that converts all logs from base epoch to valid_until epoch into snapshot fil...">Snapshot</a></b> <b>Manager</b>, which manages snapshot files of the database.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b><a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html" title="Represents one snapshot that converts all logs from base epoch to valid_until epoch into snapshot fil...">Snapshot</a></b> <b>Manager</b>, which manages snapshot files of the database. </p>
<p>This package contains classes to handle <em>snapshot</em> files.</p>
<h1><a class="anchor" id="SP"></a>
Snapshot</h1>
<p>One snapshot consists of a set of snapshot files and a snapshot metadata file (snapshot.xml). Every snapshot is tagged with <em>base</em> epoch and <em>valid-until</em> epoch. The snapshot <em>logically</em> contains all information of the database upto valid-until epoch, meaning the previous snapshot (whose valid-until should be equal to base epoch of the snapshot) as well as all log entries in the transactional log from a base epoch until valid-until epoch.</p>
<h1><a class="anchor" id="SPFiles"></a>
Snapshot Files</h1>
<p>However, the snapshot does not necessarily <em>physically</em> contains all information from the previous snapshot because it makes each snapshot-ing too expensive. One common approach is LSM-Tree (Log Structured Merge Tree), but it is not a good fit for serializable transactional processing. Even a trivial primary key constraint would be too expensive on top of LSM-Tree.</p>
<p>Instead, snapshot files in FOEDUS are <b>overlays</b> of the database image. Each snapshot file contains new version of data pages that <b>overwrite</b> a required portion of storages. They are not incremental new-tuples/tombstones data as in LSM. They are a complete representation of the storages, but it might contain pointers to old snapshot files if pages under it had no change.</p>
<p>In the worst case, transactions in one epoch updates just one tuple in every page, resulting in a snapshot that physically contains all data. However, it is rare and such a workload is fundamentally expensive if data size does not fit DRAM (if it does, this approach is also fine).</p>
<h1><a class="anchor" id="SNAPSHOTTING"></a>
Making a new Snapshot</h1>
<p><a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html" title="Represents one snapshot that converts all logs from base epoch to valid_until epoch into snapshot fil...">Snapshot</a> Manager creates a new set of snapshot files as well as its metadata file occasionally. The frequency is a tuning knob. The mechanism to create snapshot files is called <b>Log-Gleaner</b> (<a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">foedus::snapshot::LogGleaner</a>). See its documentation below.</p>
<h1><a class="anchor" id="GLEANER_OVERVIEW"></a>
Log Gleaner Overview</h1>
<p><a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">LogGleaner</a> is the main class that manages most mechanisms to construct a new set of snapshot files. <a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html" title="Represents one snapshot that converts all logs from base epoch to valid_until epoch into snapshot fil...">Snapshot</a> procedure constructs and calls this object during snapshot. It receives partitioning policy (which snapshot partitions to send ranges of keys) per storage and beginning/ending epoch of logs to <em>glean</em> while log-gleaning.</p>
<p>Log-gleaning consists of two components; <b>mapper</b> (<a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html" title="A log mapper, which reads log files from one logger and sends them to corresponding log reducers...">foedus::snapshot::LogMapper</a>) and <b>reducer</b> (<a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html" title="A log reducer, which receives log entries sent from mappers and applies them to construct new snapsho...">foedus::snapshot::LogReducer</a>), obviously named after the well-known map-reduce concepts.</p>
<h1><a class="anchor" id="GLEANER_MAPPER"></a>
Mapper</h1>
<p><a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">LogGleaner</a> launches a set of mapper threads (<a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html" title="A log mapper, which reads log files from one logger and sends them to corresponding log reducers...">foedus::snapshot::LogMapper</a>) to read log files. Each <a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html" title="A log mapper, which reads log files from one logger and sends them to corresponding log reducers...">LogMapper</a> corresponds to <a class="el" href="classfoedus_1_1log_1_1Logger.html" title="A log writer that writes out buffered logs to stable storages. ">foedus::log::Logger</a>, the NUMA-local log writer which simply writes out log entries produced by local worker threads. Thus, the log files contain log entries that might be sent to any partitions. <a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html" title="A log mapper, which reads log files from one logger and sends them to corresponding log reducers...">LogMapper</a> <em>maps</em> each log entry to some partition and send it to a reducer corresponding to the partition. For more details, see <a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html" title="A log mapper, which reads log files from one logger and sends them to corresponding log reducers...">foedus::snapshot::LogMapper</a>.</p>
<h1><a class="anchor" id="GLEANER_REDUCER"></a>
Reducer</h1>
<p><a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">LogGleaner</a> also launches a set of reducer threads (<a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html" title="A log reducer, which receives log entries sent from mappers and applies them to construct new snapsho...">foedus::snapshot::LogReducer</a>), one for each NUMA node. <a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html" title="A log reducer, which receives log entries sent from mappers and applies them to construct new snapsho...">LogReducer</a> sorts log entries sent from <a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html" title="A log mapper, which reads log files from one logger and sends them to corresponding log reducers...">LogMapper</a>. The log entries are sorted by key and ordinal (*), then processed just like usual APPLY at the end of transaction, but on top of snapshot files.</p>
<p>(*) otherwise correct result is not guaranteed. For example, imagine the following case: </p><ul>
<li>UPDATE rec-1 to A. Log-ordinal 1. </li>
<li>UPDATE rec-1 to B. Log-ordinal 2.</li>
</ul>
<p>Ordinal-1 must be processed before ordinal 2.</p>
<h1><a class="anchor" id="GLEANER_SYNC"></a>
Synchronization</h1>
<p><a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">LogGleaner</a> coordinates the synchronization between mappers and reducers during snapshotting. At the beginning of snapshotting, gleaner wakes up reducers and mappers. Mappers go in to sleep when they process all logs. When all mappers went to sleep, reducers start to also go into sleep when they process all logs they receive. When all of them are done, gleaner initiates the last wrap-up phase. Additionally, <a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">LogGleaner</a> is in charge of receiving termination request from the engine if the user invokes <a class="el" href="classfoedus_1_1Engine.html#ab9107891ec9e48472d68bbd91e5f5934" title="Terminates the database engine. ">Engine::uninitialize()</a> and requesting reducers/mappers to stop.</p>
<p>Reducers/mappers occasionally check if they are requested to stop when they get idle or complete all work. They do the check at least once for a while so that the latency to stop can not be catastrophic.</p>
<h1><a class="anchor" id="GLEANER_ROOT"></a>
Constructing Root Pages</h1>
<p>After all mappers and reducers complete, the last phase of log gleaning is to construct root pages for the storages modified in this snapshotting. Gleaner collects <em>root-page-info</em> from each reducer and combines them to create the root page(s). When all set, gleaner produces maps from storage ID to a new root page ID. This will be written out in a snapshot metadata file by snapshot manager.</p>
<dl class="section note"><dt>Note</dt><dd>This is a private implementation-details of <a class="el" href="group__SNAPSHOT.html">Snapshot Manager</a>, thus file name ends with _impl. Do not include this header from a client program. There is no case client program needs to access this internal class. </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1BlockHeaderBase.html">BlockHeaderBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">All log blocks in mapper/reducers start with this header.  <a href="structfoedus_1_1snapshot_1_1BlockHeaderBase.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1DumpFileSortedBuffer.html">DumpFileSortedBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html" title="Represents one input stream of sorted log entries. ">SortedBuffer</a> that is backed by a dumped file.  <a href="classfoedus_1_1snapshot_1_1DumpFileSortedBuffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1FillerBlockHeader.html">FillerBlockHeader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A header for a dummy storage block that fills the gap between the end of previous storage block and the beginning of next storage block.  <a href="structfoedus_1_1snapshot_1_1FillerBlockHeader.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1FullBlockHeader.html">FullBlockHeader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">All blocks that have content start with this header.  <a href="structfoedus_1_1snapshot_1_1FullBlockHeader.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html">InMemorySortedBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html" title="Represents one input stream of sorted log entries. ">SortedBuffer</a> that is backed by fully in-memory buffer.  <a href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1LogBuffer.html">LogBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packages handling of 4-bytes representation of position in log buffers.  <a href="structfoedus_1_1snapshot_1_1LogBuffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html">LogGleaner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A log-gleaner, which constructs a new set of snapshot files during snapshotting.  <a href="classfoedus_1_1snapshot_1_1LogGleaner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1LogGleanerControlBlock.html">LogGleanerControlBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared data for <a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">LogGleaner</a>.  <a href="structfoedus_1_1snapshot_1_1LogGleanerControlBlock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1LogGleanerRef.html">LogGleanerRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A remote view of <a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html" title="A log-gleaner, which constructs a new set of snapshot files during snapshotting. ">LogGleaner</a> from all engines.  <a href="classfoedus_1_1snapshot_1_1LogGleanerRef.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1LogGleanerResource.html">LogGleanerResource</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local resource for the log gleaner, which runs only in the master node.  <a href="structfoedus_1_1snapshot_1_1LogGleanerResource.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html">LogMapper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A log mapper, which reads log files from one logger and sends them to corresponding log reducers.  <a href="classfoedus_1_1snapshot_1_1LogMapper.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html">LogReducer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A log reducer, which receives log entries sent from mappers and applies them to construct new snapshot files.  <a href="classfoedus_1_1snapshot_1_1LogReducer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1LogReducerControlBlock.html">LogReducerControlBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared data for <a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html" title="A log reducer, which receives log entries sent from mappers and applies them to construct new snapsho...">LogReducer</a>.  <a href="structfoedus_1_1snapshot_1_1LogReducerControlBlock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1LogReducerRef.html">LogReducerRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A remote view of <a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html" title="A log reducer, which receives log entries sent from mappers and applies them to construct new snapsho...">LogReducer</a> from all engines.  <a href="classfoedus_1_1snapshot_1_1LogReducerRef.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1MapReduceBase.html">MapReduceBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for <a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html" title="A log mapper, which reads log files from one logger and sends them to corresponding log reducers...">LogMapper</a> and <a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html" title="A log reducer, which receives log entries sent from mappers and applies them to construct new snapsho...">LogReducer</a> to share common code.  <a href="classfoedus_1_1snapshot_1_1MapReduceBase.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1MergeSort.html">MergeSort</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives an arbitrary number of sorted buffers and emits one fully sorted stream of logs.  <a href="classfoedus_1_1snapshot_1_1MergeSort.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionfoedus_1_1snapshot_1_1ReducerBufferStatus.html">ReducerBufferStatus</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compactly represents important status informations of a reducer buffer.  <a href="unionfoedus_1_1snapshot_1_1ReducerBufferStatus.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html">Snapshot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one snapshot that converts all logs from base epoch to valid_until epoch into snapshot file(s).  <a href="structfoedus_1_1snapshot_1_1Snapshot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SnapshotManager.html">SnapshotManager</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html" title="Represents one snapshot that converts all logs from base epoch to valid_until epoch into snapshot fil...">Snapshot</a> manager that atomically and durably writes out a snapshot file.  <a href="classfoedus_1_1snapshot_1_1SnapshotManager.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1SnapshotManagerControlBlock.html">SnapshotManagerControlBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared data in <a class="el" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html" title="Pimpl object of SnapshotManager. ">SnapshotManagerPimpl</a>.  <a href="structfoedus_1_1snapshot_1_1SnapshotManagerControlBlock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html">SnapshotManagerPimpl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pimpl object of <a class="el" href="classfoedus_1_1snapshot_1_1SnapshotManager.html" title="Snapshot manager that atomically and durably writes out a snapshot file. ">SnapshotManager</a>.  <a href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1SnapshotMetadata.html">SnapshotMetadata</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the data in one snapshot metadata file.  <a href="structfoedus_1_1snapshot_1_1SnapshotMetadata.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1snapshot_1_1SnapshotOptions.html">SnapshotOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of options for snapshot manager.  <a href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SnapshotWriter.html">SnapshotWriter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes out one snapshot file for all data pages in one reducer.  <a href="classfoedus_1_1snapshot_1_1SnapshotWriter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">SortedBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one input stream of sorted log entries.  <a href="classfoedus_1_1snapshot_1_1SortedBuffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaec32eb05303ebec1048d120f73295031"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">SnapshotId</a></td></tr>
<tr class="memdesc:gaec32eb05303ebec1048d120f73295031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique ID of <a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html" title="Represents one snapshot that converts all logs from base epoch to valid_until epoch into snapshot fil...">Snapshot</a>.  <a href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">More...</a><br /></td></tr>
<tr class="separator:gaec32eb05303ebec1048d120f73295031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2482840d665e70d93678f530b452b79"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">BufferPosition</a></td></tr>
<tr class="memdesc:gad2482840d665e70d93678f530b452b79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a position in some buffer.  <a href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">More...</a><br /></td></tr>
<tr class="separator:gad2482840d665e70d93678f530b452b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4f25261ad53b056011203342a22b40d0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a4f25261ad53b056011203342a22b40d0">ReducerConstants</a> { <a class="el" href="namespacefoedus_1_1snapshot.html#a4f25261ad53b056011203342a22b40d0aff1acff80c35cb454d09cdd425e7f1a7">kFlagNoMoreWriters</a> = 0x0001
 }<tr class="separator:a4f25261ad53b056011203342a22b40d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad14ca759e5237dd7ea7df74bed6177c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#ad14ca759e5237dd7ea7df74bed6177c3">is_array_log_type</a> (uint16_t log_type)</td></tr>
<tr class="separator:ad14ca759e5237dd7ea7df74bed6177c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6d7b1659fa9bb2a7fd504230d762ba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a3e6d7b1659fa9bb2a7fd504230d762ba">is_hash_log_type</a> (uint16_t log_type)</td></tr>
<tr class="separator:a3e6d7b1659fa9bb2a7fd504230d762ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578d8d62195c51d1480d3bd8f8577f18"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a578d8d62195c51d1480d3bd8f8577f18">is_masstree_log_type</a> (uint16_t log_type)</td></tr>
<tr class="separator:a578d8d62195c51d1480d3bd8f8577f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1370b531dc11ee1b942d3d8ad829730"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">SnapshotId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SNAPSHOT.html#gad1370b531dc11ee1b942d3d8ad829730">increment</a> (<a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">SnapshotId</a> id)</td></tr>
<tr class="memdesc:gad1370b531dc11ee1b942d3d8ad829730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment SnapshotId.  <a href="group__SNAPSHOT.html#gad1370b531dc11ee1b942d3d8ad829730">More...</a><br /></td></tr>
<tr class="separator:gad1370b531dc11ee1b942d3d8ad829730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecb433ddae550c78d00cbbbdc510301"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">BufferPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a6ecb433ddae550c78d00cbbbdc510301">to_buffer_position</a> (uint64_t byte_position)</td></tr>
<tr class="separator:a6ecb433ddae550c78d00cbbbdc510301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499edf9829f41f833e2057346e8bbf3a"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a499edf9829f41f833e2057346e8bbf3a">from_buffer_position</a> (<a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">BufferPosition</a> buffer_position)</td></tr>
<tr class="separator:a499edf9829f41f833e2057346e8bbf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b4f198ec72a56867a4b2d1fcbebd6f"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#ae5b4f198ec72a56867a4b2d1fcbebd6f">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">SortedBuffer</a> &amp;v)</td></tr>
<tr class="separator:ae5b4f198ec72a56867a4b2d1fcbebd6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05a19d2496b0ae1c275ae0642113dd5"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#ab05a19d2496b0ae1c275ae0642113dd5">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html">LogGleaner</a> &amp;v)</td></tr>
<tr class="separator:ab05a19d2496b0ae1c275ae0642113dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66cdf0fb3cc0cff4a78335b8f1ee4756"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a66cdf0fb3cc0cff4a78335b8f1ee4756">calculate_logger_id</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, uint16_t local_ordinal)</td></tr>
<tr class="memdesc:a66cdf0fb3cc0cff4a78335b8f1ee4756"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique ID of this log mapper.  <a href="#a66cdf0fb3cc0cff4a78335b8f1ee4756">More...</a><br /></td></tr>
<tr class="separator:a66cdf0fb3cc0cff4a78335b8f1ee4756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a5a7f9b4c2a9bde992df8ce496c05e"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a55a5a7f9b4c2a9bde992df8ce496c05e">align_io_floor</a> (uint64_t offset)</td></tr>
<tr class="separator:a55a5a7f9b4c2a9bde992df8ce496c05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa683c40c30267d3f0bdc27b1f626deaa"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#aa683c40c30267d3f0bdc27b1f626deaa">align_io_ceil</a> (uint64_t offset)</td></tr>
<tr class="separator:aa683c40c30267d3f0bdc27b1f626deaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3baf5ce3f3598d0caa4fdcbad2f8571c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a3baf5ce3f3598d0caa4fdcbad2f8571c">update_key_lengthes</a> (const <a class="el" href="structfoedus_1_1log_1_1LogHeader.html">log::LogHeader</a> *header, <a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">storage::StorageType</a> storage_type, uint32_t *shortest_key_length, uint32_t *longest_key_length)</td></tr>
<tr class="separator:a3baf5ce3f3598d0caa4fdcbad2f8571c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af280b7012ea240a7dc8909d34c504819"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#af280b7012ea240a7dc8909d34c504819">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html">LogMapper</a> &amp;v)</td></tr>
<tr class="separator:af280b7012ea240a7dc8909d34c504819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27216ce73304d2da4c3d48c9f1dddf1e"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a27216ce73304d2da4c3d48c9f1dddf1e">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html">LogReducer</a> &amp;v)</td></tr>
<tr class="separator:a27216ce73304d2da4c3d48c9f1dddf1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c31d92a5aaeb2d2495ad411e22dd19"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#ad7c31d92a5aaeb2d2495ad411e22dd19">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1snapshot_1_1BlockHeaderBase.html">BlockHeaderBase</a> &amp;v)</td></tr>
<tr class="separator:ad7c31d92a5aaeb2d2495ad411e22dd19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8166ef904d2958fbdb05d16ea7f67b95"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a8166ef904d2958fbdb05d16ea7f67b95">extract_shortest_key_length</a> (<a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">SortedBuffer</a> *const *inputs, uint16_t inputs_count)</td></tr>
<tr class="separator:a8166ef904d2958fbdb05d16ea7f67b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d9928250c74ba8164983beaab80249"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a98d9928250c74ba8164983beaab80249">extract_longest_key_length</a> (<a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">SortedBuffer</a> *const *inputs, uint16_t inputs_count)</td></tr>
<tr class="separator:a98d9928250c74ba8164983beaab80249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21c6fa294d9ec100017540797f2a0f3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af21c6fa294d9ec100017540797f2a0f3"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#af21c6fa294d9ec100017540797f2a0f3">compare_logs_as</a> (const <a class="el" href="structfoedus_1_1log_1_1RecordLogType.html">log::RecordLogType</a> *lhs, const <a class="el" href="structfoedus_1_1log_1_1RecordLogType.html">log::RecordLogType</a> *rhs)</td></tr>
<tr class="separator:af21c6fa294d9ec100017540797f2a0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265e62f0b3a6eceaff096b4b082f48c2"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a265e62f0b3a6eceaff096b4b082f48c2">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html">Snapshot</a> &amp;v)</td></tr>
<tr class="separator:a265e62f0b3a6eceaff096b4b082f48c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b9f29fbca7a3c2a03878347f5f7e5a"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a57b9f29fbca7a3c2a03878347f5f7e5a">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1snapshot_1_1SnapshotWriter.html">SnapshotWriter</a> &amp;v)</td></tr>
<tr class="separator:a57b9f29fbca7a3c2a03878347f5f7e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a26a2120f7b28c565f2d22ff799ee2280"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">SnapshotId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a26a2120f7b28c565f2d22ff799ee2280">kNullSnapshotId</a> = 0</td></tr>
<tr class="separator:a26a2120f7b28c565f2d22ff799ee2280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89839c441708b28c071de9c34378421"><td class="memItemLeft" align="right" valign="top">const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#ab89839c441708b28c071de9c34378421">kIoAlignment</a> = 0x1000</td></tr>
<tr class="separator:ab89839c441708b28c071de9c34378421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8431b7272d9809dfb2f05bd9a49a665f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfoedus_1_1snapshot_1_1MergeSort.html#a06d3f7294cb6bd1a08fd3806f56add6d">MergeSort::InputIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#a8431b7272d9809dfb2f05bd9a49a665f">kInvalidInput</a> = static_cast&lt;<a class="el" href="classfoedus_1_1snapshot_1_1MergeSort.html#a06d3f7294cb6bd1a08fd3806f56add6d">MergeSort::InputIndex</a>&gt;(-1U)</td></tr>
<tr class="memdesc:a8431b7272d9809dfb2f05bd9a49a665f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents null.  <a href="#a8431b7272d9809dfb2f05bd9a49a665f">More...</a><br /></td></tr>
<tr class="separator:a8431b7272d9809dfb2f05bd9a49a665f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1e6cf25470bbf343f33e0a31a6e8b0"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#ace1e6cf25470bbf343f33e0a31a6e8b0">kWindowMoveThreshold</a> = 0.95</td></tr>
<tr class="memdesc:ace1e6cf25470bbf343f33e0a31a6e8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Also, when the input consumed more than this fraction of current window, we move the window.  <a href="#ace1e6cf25470bbf343f33e0a31a6e8b0">More...</a><br /></td></tr>
<tr class="separator:ace1e6cf25470bbf343f33e0a31a6e8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77b1ca857e9bfb4c068209412369d8e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1snapshot.html#af77b1ca857e9bfb4c068209412369d8e">kStoragesTagName</a> = &quot;storages&quot;</td></tr>
<tr class="separator:af77b1ca857e9bfb4c068209412369d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a4f25261ad53b056011203342a22b40d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="namespacefoedus_1_1snapshot.html#a4f25261ad53b056011203342a22b40d0">foedus::snapshot::ReducerConstants</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a4f25261ad53b056011203342a22b40d0aff1acff80c35cb454d09cdd425e7f1a7"></a>kFlagNoMoreWriters&#160;</td><td class="fielddoc">
<p>A bit-wise flag in <a class="el" href="unionfoedus_1_1snapshot_1_1ReducerBufferStatus.html" title="Compactly represents important status informations of a reducer buffer. ">ReducerBufferStatus</a>'s flags_. </p>
<p>If this bit is on, no more mappers can enter the buffer as a new writer. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="log__reducer__impl_8hpp_source.html#l00055">55</a> of file <a class="el" href="log__reducer__impl_8hpp_source.html">log_reducer_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                      {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="namespacefoedus_1_1snapshot.html#a4f25261ad53b056011203342a22b40d0aff1acff80c35cb454d09cdd425e7f1a7">kFlagNoMoreWriters</a> = 0x0001,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;};</div>
<div class="ttc" id="namespacefoedus_1_1snapshot_html_a4f25261ad53b056011203342a22b40d0aff1acff80c35cb454d09cdd425e7f1a7"><div class="ttname"><a href="namespacefoedus_1_1snapshot.html#a4f25261ad53b056011203342a22b40d0aff1acff80c35cb454d09cdd425e7f1a7">foedus::snapshot::kFlagNoMoreWriters</a></div><div class="ttdoc">A bit-wise flag in ReducerBufferStatus&#39;s flags_. </div><div class="ttdef"><b>Definition:</b> <a href="log__reducer__impl_8hpp_source.html#l00060">log_reducer_impl.hpp:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa683c40c30267d3f0bdc27b1f626deaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::snapshot::align_io_ceil </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__mapper__impl_8cpp_source.html#l00138">138</a> of file <a class="el" href="log__mapper__impl_8cpp_source.html">log_mapper_impl.cpp</a>.</p>

<p>References <a class="el" href="log__mapper__impl_8cpp_source.html#l00137">align_io_floor()</a>.</p>

<p>Referenced by <a class="el" href="log__mapper__impl_8cpp_source.html#l00140">foedus::snapshot::LogMapper::handle_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="namespacefoedus_1_1snapshot.html#a55a5a7f9b4c2a9bde992df8ce496c05e">align_io_floor</a>(offset + <a class="code" href="namespacefoedus_1_1snapshot.html#ab89839c441708b28c071de9c34378421">kIoAlignment</a> - 1U); }</div>
<div class="ttc" id="namespacefoedus_1_1snapshot_html_ab89839c441708b28c071de9c34378421"><div class="ttname"><a href="namespacefoedus_1_1snapshot.html#ab89839c441708b28c071de9c34378421">foedus::snapshot::kIoAlignment</a></div><div class="ttdeci">const uint64_t kIoAlignment</div><div class="ttdef"><b>Definition:</b> <a href="log__mapper__impl_8cpp_source.html#l00136">log_mapper_impl.cpp:136</a></div></div>
<div class="ttc" id="namespacefoedus_1_1snapshot_html_a55a5a7f9b4c2a9bde992df8ce496c05e"><div class="ttname"><a href="namespacefoedus_1_1snapshot.html#a55a5a7f9b4c2a9bde992df8ce496c05e">foedus::snapshot::align_io_floor</a></div><div class="ttdeci">uint64_t align_io_floor(uint64_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="log__mapper__impl_8cpp_source.html#l00137">log_mapper_impl.cpp:137</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_cgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_cgraph" id="namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1snapshot.html#a55a5a7f9b4c2a9bde992df8ce496c05e" title="foedus::snapshot::align\l_io_floor" alt="" coords="209,5,365,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_icgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_icgraph" id="namespacefoedus_1_1snapshot_aa683c40c30267d3f0bdc27b1f626deaa_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1LogMapper.html#a661014d4832400f072544ff4b7e74a45" title="Implements the specific logics in derived class. " alt="" coords="209,5,403,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a55a5a7f9b4c2a9bde992df8ce496c05e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::snapshot::align_io_floor </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__mapper__impl_8cpp_source.html#l00137">137</a> of file <a class="el" href="log__mapper__impl_8cpp_source.html">log_mapper_impl.cpp</a>.</p>

<p>References <a class="el" href="log__mapper__impl_8cpp_source.html#l00136">kIoAlignment</a>.</p>

<p>Referenced by <a class="el" href="log__mapper__impl_8cpp_source.html#l00138">align_io_ceil()</a>, and <a class="el" href="log__mapper__impl_8cpp_source.html#l00140">foedus::snapshot::LogMapper::handle_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{ <span class="keywordflow">return</span> (offset / <a class="code" href="namespacefoedus_1_1snapshot.html#ab89839c441708b28c071de9c34378421">kIoAlignment</a>) * <a class="code" href="namespacefoedus_1_1snapshot.html#ab89839c441708b28c071de9c34378421">kIoAlignment</a>; }</div>
<div class="ttc" id="namespacefoedus_1_1snapshot_html_ab89839c441708b28c071de9c34378421"><div class="ttname"><a href="namespacefoedus_1_1snapshot.html#ab89839c441708b28c071de9c34378421">foedus::snapshot::kIoAlignment</a></div><div class="ttdeci">const uint64_t kIoAlignment</div><div class="ttdef"><b>Definition:</b> <a href="log__mapper__impl_8cpp_source.html#l00136">log_mapper_impl.cpp:136</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_a55a5a7f9b4c2a9bde992df8ce496c05e_icgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_a55a5a7f9b4c2a9bde992df8ce496c05e_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_a55a5a7f9b4c2a9bde992df8ce496c05e_icgraph" id="namespacefoedus_1_1snapshot_a55a5a7f9b4c2a9bde992df8ce496c05e_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1snapshot.html#aa683c40c30267d3f0bdc27b1f626deaa" title="foedus::snapshot::align\l_io_ceil" alt="" coords="209,5,365,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1snapshot_1_1LogMapper.html#a661014d4832400f072544ff4b7e74a45" title="Implements the specific logics in derived class. " alt="" coords="413,35,607,76"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a66cdf0fb3cc0cff4a78335b8f1ee4756"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t foedus::snapshot::calculate_logger_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>local_ordinal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unique ID of this log mapper. </p>
<p>One log mapper corresponds to one logger, so this ID is also the corresponding logger's ID (<a class="el" href="group__LOG.html#gac1e67c911232180318c56380d45bf4a1" title="Typedef for an ID of Logger. ">log::LoggerId</a>). </p>

<p>Definition at line <a class="el" href="log__mapper__impl_8cpp_source.html#l00054">54</a> of file <a class="el" href="log__mapper__impl_8cpp_source.html">log_mapper_impl.cpp</a>.</p>

<p>References <a class="el" href="engine_8cpp_source.html#l00039">foedus::Engine::get_options()</a>, <a class="el" href="engine_8cpp_source.html#l00073">foedus::Engine::get_soc_id()</a>, <a class="el" href="engine__options_8hpp_source.html#l00138">foedus::EngineOptions::log_</a>, and <a class="el" href="log__options_8hpp_source.html#l00080">foedus::log::LogOptions::loggers_per_node_</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                                                     {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">return</span> engine-&gt;get_options().log_.loggers_per_node_ * engine-&gt;get_soc_id() + local_ordinal;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_a66cdf0fb3cc0cff4a78335b8f1ee4756_cgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_a66cdf0fb3cc0cff4a78335b8f1ee4756_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_a66cdf0fb3cc0cff4a78335b8f1ee4756_cgraph" id="namespacefoedus_1_1snapshot_a66cdf0fb3cc0cff4a78335b8f1ee4756_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="235,5,369,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#a8d9a31e48aec9b73e16b64170c0250f9" title="If this is a child instance, returns its SOC ID (NUMA node). " alt="" coords="235,71,369,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af21c6fa294d9ec100017540797f2a0f3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int foedus::snapshot::compare_logs_as </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1log_1_1RecordLogType.html">log::RecordLogType</a> *&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1log_1_1RecordLogType.html">log::RecordLogType</a> *&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="merge__sort_8cpp_source.html#l00548">548</a> of file <a class="el" href="merge__sort_8cpp_source.html">merge_sort.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                                                              {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keyword">const</span> T* lhs_log = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>T*<span class="keyword">&gt;</span>(lhs);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keyword">const</span> T* rhs_log = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>T*<span class="keyword">&gt;</span>(rhs);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">return</span> T::compare_logs(lhs_log, rhs_log);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98d9928250c74ba8164983beaab80249"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t foedus::snapshot::extract_longest_key_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">SortedBuffer</a> *const *&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>inputs_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="merge__sort_8cpp_source.html#l00055">55</a> of file <a class="el" href="merge__sort_8cpp_source.html">merge_sort.cpp</a>.</p>

<p>References <a class="el" href="log__buffer_8hpp_source.html#l00135">foedus::snapshot::SortedBuffer::get_cur_block_longest_key_length()</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                                                                        {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  uint16_t ret = inputs[0]-&gt;get_cur_block_longest_key_length();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">for</span> (uint16_t i = 1; i &lt; inputs_count; ++i) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    ret = std::max&lt;uint16_t&gt;(ret, inputs[i]-&gt;get_cur_block_longest_key_length());</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_a98d9928250c74ba8164983beaab80249_cgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_a98d9928250c74ba8164983beaab80249_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_a98d9928250c74ba8164983beaab80249_cgraph" id="namespacefoedus_1_1snapshot_a98d9928250c74ba8164983beaab80249_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ab5c67b4da8ef78d0e6fd77e001dbcec2" title="Current storage block&#39;s longest key length. " alt="" coords="223,5,389,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8166ef904d2958fbdb05d16ea7f67b95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t foedus::snapshot::extract_shortest_key_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">SortedBuffer</a> *const *&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>inputs_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="merge__sort_8cpp_source.html#l00048">48</a> of file <a class="el" href="merge__sort_8cpp_source.html">merge_sort.cpp</a>.</p>

<p>References <a class="el" href="log__buffer_8hpp_source.html#l00133">foedus::snapshot::SortedBuffer::get_cur_block_shortest_key_length()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                                                                         {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  uint16_t ret = inputs[0]-&gt;get_cur_block_shortest_key_length();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">for</span> (uint16_t i = 1; i &lt; inputs_count; ++i) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    ret = std::min&lt;uint16_t&gt;(ret, inputs[i]-&gt;get_cur_block_shortest_key_length());</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_a8166ef904d2958fbdb05d16ea7f67b95_cgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_a8166ef904d2958fbdb05d16ea7f67b95_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_a8166ef904d2958fbdb05d16ea7f67b95_cgraph" id="namespacefoedus_1_1snapshot_a8166ef904d2958fbdb05d16ea7f67b95_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a22ee75d99fe376183f671bf4b896d797" title="Current storage block&#39;s shortest key length. " alt="" coords="223,5,389,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a499edf9829f41f833e2057346e8bbf3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::snapshot::from_buffer_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">BufferPosition</a>&#160;</td>
          <td class="paramname"><em>buffer_position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__id_8hpp_source.html#l00078">78</a> of file <a class="el" href="snapshot__id_8hpp_source.html">snapshot_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="log__reducer__ref_8cpp_source.html#l00121">foedus::snapshot::LogReducerRef::append_log_chunk()</a>, <a class="el" href="log__reducer__impl_8hpp_source.html#l00083">foedus::snapshot::ReducerBufferStatus::get_tail_bytes()</a>, and <a class="el" href="log__buffer_8hpp_source.html#l00042">foedus::snapshot::LogBuffer::resolve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                                     {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(buffer_position) &lt;&lt; 3;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_a499edf9829f41f833e2057346e8bbf3a_icgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_a499edf9829f41f833e2057346e8bbf3a_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_a499edf9829f41f833e2057346e8bbf3a_icgraph" id="namespacefoedus_1_1snapshot_a499edf9829f41f833e2057346e8bbf3a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a4ea0f6f073f92ff447cc34429adafbda" title="Append the log entries of one storage in the given buffer to this reducer&#39;s buffer. " alt="" coords="208,64,407,105"/>
<area shape="rect" id="node3" href="unionfoedus_1_1snapshot_1_1ReducerBufferStatus.html#a0a0ef4ca2f2ebeb8bf9fbea20ba8a914" title="foedus::snapshot::Reducer\lBufferStatus::get_tail_bytes" alt="" coords="216,129,399,171"/>
<area shape="rect" id="node4" href="structfoedus_1_1snapshot_1_1LogBuffer.html#a4c866d7cc1684237eca5fff49215b80e" title="foedus::snapshot::LogBuffer\l::resolve" alt="" coords="216,195,399,236"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage_1_1masstree.html#a7df011f1d7015440e30e6013add5a667" title="foedus::storage::masstree\l::resolve_log" alt="" coords="455,129,628,171"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#a69580ef7442b8b75d49f3e277614210f" title="foedus::storage::array\l::ArrayPartitioner::partition_batch" alt="" coords="676,5,889,47"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage_1_1array.html#a0d5e107fe3c1885c8984bacd1f5cf188" title="subroutine of sort_batch " alt="" coords="467,195,615,236"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1storage_1_1array.html#a7466ab3ddec9b0f64a0d8a8f0bf170b8" title="subroutine of sort_batch " alt="" coords="467,260,615,301"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a7b2f3ff32863d2e4e44c96b93071067e" title="foedus::storage::hash\l::HashPartitioner::partition_batch" alt="" coords="677,71,889,112"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage_1_1hash.html#a213ec023dfa3d7901e0c40ce20fc538d" title="subroutine of sort_batch " alt="" coords="467,325,615,367"/>
<area shape="rect" id="node16" href="namespacefoedus_1_1storage_1_1masstree.html#ad9efa7b5f1f339fd33444e0e62e46d40" title="subroutine of sort_batch_8bytes " alt="" coords="455,391,628,432"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#aa88be4c928d4254f51e1e1252680f87e" title="foedus::storage::masstree\l::MasstreePartitioner::\lpartition_batch" alt="" coords="696,137,869,193"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="937,71,1116,112"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#abcc2f61287dd0e9f643cc7c7b406ed32" title="foedus::storage::array\l::ArrayPartitioner::sort_batch" alt="" coords="688,260,877,301"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1Partitioner.html#a8c8909d8a44ae9d6a4afee0ded0add4c" title="Called from log reducer to sort log entries by keys. " alt="" coords="937,292,1116,333"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a8255043c6cb91246cbff43cceb88f596" title="foedus::storage::hash\l::HashPartitioner::sort_batch" alt="" coords="689,325,877,367"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad14ca759e5237dd7ea7df74bed6177c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::snapshot::is_array_log_type </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>log_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="merge__sort_8hpp_source.html#l00516">516</a> of file <a class="el" href="merge__sort_8hpp_source.html">merge_sort.hpp</a>.</p>

<p>References <a class="el" href="log__type_8hpp_source.html#l00116">foedus::log::kLogCodeArrayIncrement</a>, and <a class="el" href="log__type_8hpp_source.html#l00115">foedus::log::kLogCodeArrayOverwrite</a>.</p>
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                                 {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">return</span> log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a6a78db5a65164c4b7847b593bb37f3dc">log::kLogCodeArrayOverwrite</a> || log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3afd556c25a942e70624cc64bff1ae95ce">log::kLogCodeArrayIncrement</a>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3afd556c25a942e70624cc64bff1ae95ce"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3afd556c25a942e70624cc64bff1ae95ce">foedus::log::kLogCodeArrayIncrement</a></div><div class="ttdoc">0x0023 : foedus::storage::array::ArrayIncrementLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00116">log_type.hpp:116</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3a6a78db5a65164c4b7847b593bb37f3dc"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a6a78db5a65164c4b7847b593bb37f3dc">foedus::log::kLogCodeArrayOverwrite</a></div><div class="ttdoc">0x0022 : foedus::storage::array::ArrayOverwriteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00115">log_type.hpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3e6d7b1659fa9bb2a7fd504230d762ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::snapshot::is_hash_log_type </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>log_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="merge__sort_8hpp_source.html#l00519">519</a> of file <a class="el" href="merge__sort_8hpp_source.html">merge_sort.hpp</a>.</p>

<p>References <a class="el" href="log__type_8hpp_source.html#l00123">foedus::log::kLogCodeHashDelete</a>, <a class="el" href="log__type_8hpp_source.html#l00122">foedus::log::kLogCodeHashInsert</a>, <a class="el" href="log__type_8hpp_source.html#l00121">foedus::log::kLogCodeHashOverwrite</a>, and <a class="el" href="log__type_8hpp_source.html#l00124">foedus::log::kLogCodeHashUpdate</a>.</p>
<div class="fragment"><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                                {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">return</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3af1e72cac4d729e9591757f5e7e0b8501">log::kLogCodeHashOverwrite</a></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    || log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abc9a5a032f53b5e961b0a9f3187b1a56">log::kLogCodeHashInsert</a></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    || log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a54814d96f40284d750d6bc54d94cfc3e">log::kLogCodeHashDelete</a></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    || log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a089aa807a0dd65098177b5e6610ef4a1">log::kLogCodeHashUpdate</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3a54814d96f40284d750d6bc54d94cfc3e"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a54814d96f40284d750d6bc54d94cfc3e">foedus::log::kLogCodeHashDelete</a></div><div class="ttdoc">0x002A : foedus::storage::hash::HashDeleteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00123">log_type.hpp:123</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3abc9a5a032f53b5e961b0a9f3187b1a56"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abc9a5a032f53b5e961b0a9f3187b1a56">foedus::log::kLogCodeHashInsert</a></div><div class="ttdoc">0x0029 : foedus::storage::hash::HashInsertLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00122">log_type.hpp:122</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3af1e72cac4d729e9591757f5e7e0b8501"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3af1e72cac4d729e9591757f5e7e0b8501">foedus::log::kLogCodeHashOverwrite</a></div><div class="ttdoc">0x0028 : foedus::storage::hash::HashOverwriteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00121">log_type.hpp:121</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3a089aa807a0dd65098177b5e6610ef4a1"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a089aa807a0dd65098177b5e6610ef4a1">foedus::log::kLogCodeHashUpdate</a></div><div class="ttdoc">0x002B : foedus::storage::hash::HashUpdateLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00124">log_type.hpp:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a578d8d62195c51d1480d3bd8f8577f18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::snapshot::is_masstree_log_type </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>log_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="merge__sort_8hpp_source.html#l00526">526</a> of file <a class="el" href="merge__sort_8hpp_source.html">merge_sort.hpp</a>.</p>

<p>References <a class="el" href="log__type_8hpp_source.html#l00128">foedus::log::kLogCodeMasstreeDelete</a>, <a class="el" href="log__type_8hpp_source.html#l00127">foedus::log::kLogCodeMasstreeInsert</a>, <a class="el" href="log__type_8hpp_source.html#l00126">foedus::log::kLogCodeMasstreeOverwrite</a>, and <a class="el" href="log__type_8hpp_source.html#l00129">foedus::log::kLogCodeMasstreeUpdate</a>.</p>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                                                    {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">return</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a">log::kLogCodeMasstreeInsert</a></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    || log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235">log::kLogCodeMasstreeDelete</a></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    || log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd">log::kLogCodeMasstreeUpdate</a></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    || log_type == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9">log::kLogCodeMasstreeOverwrite</a>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a">foedus::log::kLogCodeMasstreeInsert</a></div><div class="ttdoc">0x0033 : foedus::storage::masstree::MasstreeInsertLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00127">log_type.hpp:127</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9">foedus::log::kLogCodeMasstreeOverwrite</a></div><div class="ttdoc">0x0032 : foedus::storage::masstree::MasstreeOverwriteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00126">log_type.hpp:126</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235">foedus::log::kLogCodeMasstreeDelete</a></div><div class="ttdoc">0x0034 : foedus::storage::masstree::MasstreeDeleteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00128">log_type.hpp:128</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd">foedus::log::kLogCodeMasstreeUpdate</a></div><div class="ttdoc">0x0035 : foedus::storage::masstree::MasstreeUpdateLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00129">log_type.hpp:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a265e62f0b3a6eceaff096b4b082f48c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::snapshot::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1snapshot_1_1Snapshot.html">Snapshot</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot_8cpp_source.html#l00024">24</a> of file <a class="el" href="snapshot_8cpp_source.html">snapshot.cpp</a>.</p>

<p>References <a class="el" href="snapshot_8hpp_source.html#l00049">foedus::snapshot::Snapshot::base_epoch_</a>, <a class="el" href="snapshot_8hpp_source.html#l00043">foedus::snapshot::Snapshot::id_</a>, <a class="el" href="snapshot_8hpp_source.html#l00058">foedus::snapshot::Snapshot::max_storage_id_</a>, and <a class="el" href="snapshot_8hpp_source.html#l00055">foedus::snapshot::Snapshot::valid_until_epoch_</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                                                         {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;Snapshot&gt;&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;id_&gt;&quot;</span> &lt;&lt; v.id_ &lt;&lt; <span class="stringliteral">&quot;&lt;/id_&gt;&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;base_epoch_&gt;&quot;</span> &lt;&lt; v.base_epoch_ &lt;&lt; <span class="stringliteral">&quot;&lt;/base_epoch_&gt;&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;valid_until_epoch_&gt;&quot;</span> &lt;&lt; v.valid_until_epoch_ &lt;&lt; <span class="stringliteral">&quot;&lt;/valid_until_epoch_&gt;&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;max_storage_id_&gt;&quot;</span> &lt;&lt; v.max_storage_id_ &lt;&lt; <span class="stringliteral">&quot;&lt;/max_storage_id_&gt;&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/Snapshot&gt;&quot;</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5b4f198ec72a56867a4b2d1fcbebd6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::snapshot::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">SortedBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__buffer_8cpp_source.html#l00032">32</a> of file <a class="el" href="log__buffer_8cpp_source.html">log_buffer.cpp</a>.</p>

<p>References <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ad46cfcb6686707a3d9d899ef9fcb7c92">foedus::snapshot::SortedBuffer::describe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                                             {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  v.describe(&amp;o);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_ae5b4f198ec72a56867a4b2d1fcbebd6f_cgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_ae5b4f198ec72a56867a4b2d1fcbebd6f_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_ae5b4f198ec72a56867a4b2d1fcbebd6f_cgraph" id="namespacefoedus_1_1snapshot_ae5b4f198ec72a56867a4b2d1fcbebd6f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ad46cfcb6686707a3d9d899ef9fcb7c92" title="Writes out a detailed description of this object to stream. " alt="" coords="245,5,412,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a57b9f29fbca7a3c2a03878347f5f7e5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::snapshot::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1snapshot_1_1SnapshotWriter.html">SnapshotWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__writer__impl_8cpp_source.html#l00174">174</a> of file <a class="el" href="snapshot__writer__impl_8cpp_source.html">snapshot_writer_impl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                               {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;SnapshotWriter&gt;&quot;</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;numa_node_&gt;&quot;</span> &lt;&lt; v.numa_node_ &lt;&lt; <span class="stringliteral">&quot;&lt;/numa_node_&gt;&quot;</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;append_&gt;&quot;</span> &lt;&lt; v.append_ &lt;&lt; <span class="stringliteral">&quot;&lt;/append_&gt;&quot;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;snapshot_id_&gt;&quot;</span> &lt;&lt; v.snapshot_id_ &lt;&lt; <span class="stringliteral">&quot;&lt;/snapshot_id_&gt;&quot;</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;pool_memory_&gt;&quot;</span> &lt;&lt; *v.pool_memory_ &lt;&lt; <span class="stringliteral">&quot;&lt;/pool_memory_&gt;&quot;</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;intermediate_memory_&gt;&quot;</span> &lt;&lt; *v.intermediate_memory_ &lt;&lt; <span class="stringliteral">&quot;&lt;/intermediate_memory_&gt;&quot;</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;next_page_id_&gt;&quot;</span> &lt;&lt; v.next_page_id_ &lt;&lt; <span class="stringliteral">&quot;&lt;/next_page_id_&gt;&quot;</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/SnapshotWriter&gt;&quot;</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab05a19d2496b0ae1c275ae0642113dd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::snapshot::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1snapshot_1_1LogGleaner.html">LogGleaner</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__gleaner__impl_8cpp_source.html#l00312">312</a> of file <a class="el" href="log__gleaner__impl_8cpp_source.html">log_gleaner_impl.cpp</a>.</p>

<p>References <a class="el" href="snapshot__manager__pimpl_8hpp_source.html#l00090">foedus::snapshot::LogGleanerControlBlock::completed_count_</a>, <a class="el" href="snapshot__manager__pimpl_8hpp_source.html#l00097">foedus::snapshot::LogGleanerControlBlock::completed_mapper_count_</a>, <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; CONTROL_BLOCK &gt;::control_block_</a>, <a class="el" href="snapshot__manager__pimpl_8hpp_source.html#l00103">foedus::snapshot::LogGleanerControlBlock::error_count_</a>, and <a class="el" href="snapshot__manager__pimpl_8hpp_source.html#l00109">foedus::snapshot::LogGleanerControlBlock::exit_count_</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                           {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;LogGleaner&gt;&quot;</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    &lt;&lt; v.new_snapshot_</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;completed_count_&gt;&quot;</span> &lt;&lt; v.control_block_-&gt;completed_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/completed_count_&gt;&quot;</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;completed_mapper_count_&gt;&quot;</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      &lt;&lt; v.control_block_-&gt;completed_mapper_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/completed_mapper_count_&gt;&quot;</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;error_count_&gt;&quot;</span> &lt;&lt; v.control_block_-&gt;error_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/error_count_&gt;&quot;</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;exit_count_&gt;&quot;</span> &lt;&lt; v.control_block_-&gt;exit_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/exit_count_&gt;&quot;</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/LogGleaner&gt;&quot;</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af280b7012ea240a7dc8909d34c504819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::snapshot::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1snapshot_1_1LogMapper.html">LogMapper</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__mapper__impl_8cpp_source.html#l00700">700</a> of file <a class="el" href="log__mapper__impl_8cpp_source.html">log_mapper_impl.cpp</a>.</p>

<p>References <a class="el" href="mapreduce__base__impl_8hpp_source.html#l00074">foedus::snapshot::MapReduceBase::id_</a>, and <a class="el" href="mapreduce__base__impl_8hpp_source.html#l00075">foedus::snapshot::MapReduceBase::numa_node_</a>.</p>
<div class="fragment"><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                                                          {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;LogMapper&gt;&quot;</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;id_&gt;&quot;</span> &lt;&lt; v.id_ &lt;&lt; <span class="stringliteral">&quot;&lt;/id_&gt;&quot;</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;numa_node_&gt;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(v.numa_node_) &lt;&lt; <span class="stringliteral">&quot;&lt;/numa_node_&gt;&quot;</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;buckets_allocated_count_&gt;&quot;</span> &lt;&lt; v.buckets_allocated_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/buckets_allocated_count_&gt;&quot;</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;hashlist_allocated_count&gt;&quot;</span> &lt;&lt; v.hashlist_allocated_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/hashlist_allocated_count&gt;&quot;</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;processed_log_count_&gt;&quot;</span> &lt;&lt; v.processed_log_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/processed_log_count_&gt;&quot;</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/LogMapper&gt;&quot;</span>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27216ce73304d2da4c3d48c9f1dddf1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::snapshot::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1snapshot_1_1LogReducer.html">LogReducer</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__reducer__impl_8cpp_source.html#l00912">912</a> of file <a class="el" href="log__reducer__impl_8cpp_source.html">log_reducer_impl.cpp</a>.</p>

<p>References <a class="el" href="log__reducer__impl_8hpp_source.html#l00202">foedus::snapshot::LogReducerControlBlock::current_buffer_</a>, <a class="el" href="mapreduce__base__impl_8hpp_source.html#l00060">foedus::snapshot::MapReduceBase::get_id()</a>, <a class="el" href="mapreduce__base__impl_8hpp_source.html#l00061">foedus::snapshot::MapReduceBase::get_numa_node()</a>, and <a class="el" href="log__reducer__impl_8hpp_source.html#l00209">foedus::snapshot::LogReducerControlBlock::total_storage_count_</a>.</p>
<div class="fragment"><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                                           {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;LogReducer&gt;&quot;</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;id_&gt;&quot;</span> &lt;&lt; v.get_id() &lt;&lt; <span class="stringliteral">&quot;&lt;/id_&gt;&quot;</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;numa_node&gt;&quot;</span> &lt;&lt; v.get_numa_node() &lt;&lt; <span class="stringliteral">&quot;&lt;/numa_node&gt;&quot;</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;total_storage_count&gt;&quot;</span> &lt;&lt; v.control_block_-&gt;total_storage_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/total_storage_count&gt;&quot;</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;sort_buffer_&gt;&quot;</span> &lt;&lt; v.sort_buffer_ &lt;&lt; <span class="stringliteral">&quot;&lt;/sort_buffer_&gt;&quot;</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;positions_buffers_&gt;&quot;</span> &lt;&lt; v.positions_buffers_ &lt;&lt; <span class="stringliteral">&quot;&lt;/positions_buffers_&gt;&quot;</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;current_buffer_&gt;&quot;</span> &lt;&lt; v.control_block_-&gt;current_buffer_ &lt;&lt; <span class="stringliteral">&quot;&lt;/current_buffer_&gt;&quot;</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;sorted_runs_&gt;&quot;</span> &lt;&lt; v.sorted_runs_ &lt;&lt; <span class="stringliteral">&quot;&lt;/sorted_runs_&gt;&quot;</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/LogReducer&gt;&quot;</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_a27216ce73304d2da4c3d48c9f1dddf1e_cgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_a27216ce73304d2da4c3d48c9f1dddf1e_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_a27216ce73304d2da4c3d48c9f1dddf1e_cgraph" id="namespacefoedus_1_1snapshot_a27216ce73304d2da4c3d48c9f1dddf1e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1MapReduceBase.html#ab3711faba6c5e0191c3edf66ea88805f" title="foedus::snapshot::MapReduce\lBase::get_id" alt="" coords="245,5,444,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1snapshot_1_1MapReduceBase.html#a649cad8103f0e450c68866e7f44bea74" title="foedus::snapshot::MapReduce\lBase::get_numa_node" alt="" coords="245,71,444,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad7c31d92a5aaeb2d2495ad411e22dd19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::snapshot::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1snapshot_1_1BlockHeaderBase.html">BlockHeaderBase</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__reducer__impl_8cpp_source.html#l00925">925</a> of file <a class="el" href="log__reducer__impl_8cpp_source.html">log_reducer_impl.cpp</a>.</p>

<p>References <a class="el" href="log__reducer__impl_8hpp_source.html#l00119">foedus::snapshot::BlockHeaderBase::block_length_</a>, and <a class="el" href="log__reducer__impl_8hpp_source.html#l00117">foedus::snapshot::BlockHeaderBase::magic_word_</a>.</p>
<div class="fragment"><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                                                {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;BlockHeader&gt;&quot;</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;magic_word_&gt;&quot;</span> &lt;&lt; assorted::Hex(v.magic_word_) &lt;&lt; <span class="stringliteral">&quot;&lt;/magic_word_&gt;&quot;</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;block_length_&gt;&quot;</span> &lt;&lt; v.block_length_ &lt;&lt; <span class="stringliteral">&quot;&lt;/block_length_&gt;&quot;</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/BlockHeader&gt;&quot;</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ecb433ddae550c78d00cbbbdc510301"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">BufferPosition</a> foedus::snapshot::to_buffer_position </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>byte_position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__id_8hpp_source.html#l00074">74</a> of file <a class="el" href="snapshot__id_8hpp_source.html">snapshot_id.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>.</p>

<p>Referenced by <a class="el" href="log__reducer__ref_8cpp_source.html#l00121">foedus::snapshot::LogReducerRef::append_log_chunk()</a>, and <a class="el" href="log__buffer_8hpp_source.html#l00046">foedus::snapshot::LogBuffer::compact()</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                                                 {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(byte_position % 8 == 0);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> byte_position &gt;&gt; 3;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1snapshot_a6ecb433ddae550c78d00cbbbdc510301_icgraph.png" border="0" usemap="#namespacefoedus_1_1snapshot_a6ecb433ddae550c78d00cbbbdc510301_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1snapshot_a6ecb433ddae550c78d00cbbbdc510301_icgraph" id="namespacefoedus_1_1snapshot_a6ecb433ddae550c78d00cbbbdc510301_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a4ea0f6f073f92ff447cc34429adafbda" title="Append the log entries of one storage in the given buffer to this reducer&#39;s buffer. " alt="" coords="193,5,392,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1snapshot_1_1LogBuffer.html#aa16ef4199a6f4fd0d7beecdd21a0fcb5" title="foedus::snapshot::LogBuffer\l::compact" alt="" coords="201,71,384,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3baf5ce3f3598d0caa4fdcbad2f8571c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::snapshot::update_key_lengthes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1log_1_1LogHeader.html">log::LogHeader</a> *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">storage::StorageType</a>&#160;</td>
          <td class="paramname"><em>storage_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>shortest_key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>longest_key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__mapper__impl_8cpp_source.html#l00540">540</a> of file <a class="el" href="log__mapper__impl_8cpp_source.html">log_mapper_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage__id_8hpp_source.html#l00126">foedus::storage::kArrayStorage</a>, <a class="el" href="hash__log__types_8hpp_source.html#l00077">foedus::storage::hash::HashCommonLogType::key_length_</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00088">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a>, <a class="el" href="storage__id_8hpp_source.html#l00128">foedus::storage::kHashStorage</a>, <a class="el" href="storage__id_8hpp_source.html#l00130">foedus::storage::kMasstreeStorage</a>, and <a class="el" href="storage__id_8hpp_source.html#l00132">foedus::storage::kSequentialStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">if</span> (storage_type == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">storage::kArrayStorage</a>) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    *shortest_key_length = <span class="keyword">sizeof</span>(<a class="code" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">storage::array::ArrayOffset</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    *longest_key_length = <span class="keyword">sizeof</span>(<a class="code" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">storage::array::ArrayOffset</a>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (storage_type == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">storage::kMasstreeStorage</a>) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keyword">const</span> storage::masstree::MasstreeCommonLogType* the_log =</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>storage::masstree::MasstreeCommonLogType*<span class="keyword">&gt;</span>(header);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    uint16_t key_length = the_log-&gt;key_length_;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(key_length &gt; 0);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    *shortest_key_length = std::min&lt;uint32_t&gt;(*shortest_key_length, key_length);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    *longest_key_length = std::max&lt;uint32_t&gt;(*longest_key_length, key_length);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (storage_type == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">storage::kHashStorage</a>) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keyword">const</span> storage::hash::HashCommonLogType* the_log =</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>storage::hash::HashCommonLogType*<span class="keyword">&gt;</span>(header);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    uint16_t key_length = the_log-&gt;key_length_;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(key_length &gt; 0);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    *shortest_key_length = std::min&lt;uint32_t&gt;(*shortest_key_length, key_length);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    *longest_key_length = std::max&lt;uint32_t&gt;(*longest_key_length, key_length);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (storage_type == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">storage::kSequentialStorage</a>) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// this has no meaning for sequential storage. just put some number.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    *shortest_key_length = 8U;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    *longest_key_length = 8U;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
<div class="ttc" id="group__ARRAY_html_ga032dbb5dc93f7b51ac0ab5200ae013ab"><div class="ttname"><a href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">foedus::storage::array::ArrayOffset</a></div><div class="ttdeci">uint64_t ArrayOffset</div><div class="ttdoc">The only key type in array storage. </div><div class="ttdef"><b>Definition:</b> <a href="array__id_8hpp_source.html#l00048">array_id.hpp:48</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">foedus::storage::kMasstreeStorage</a></div><div class="ttdoc">Masstree Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00130">storage_id.hpp:130</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">foedus::storage::kHashStorage</a></div><div class="ttdoc">Hashtable Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00128">storage_id.hpp:128</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">foedus::storage::kSequentialStorage</a></div><div class="ttdoc">Sequential Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00132">storage_id.hpp:132</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">foedus::storage::kArrayStorage</a></div><div class="ttdoc">Array Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00126">storage_id.hpp:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a8431b7272d9809dfb2f05bd9a49a665f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfoedus_1_1snapshot_1_1MergeSort.html#a06d3f7294cb6bd1a08fd3806f56add6d">MergeSort::InputIndex</a> foedus::snapshot::kInvalidInput = static_cast&lt;<a class="el" href="classfoedus_1_1snapshot_1_1MergeSort.html#a06d3f7294cb6bd1a08fd3806f56add6d">MergeSort::InputIndex</a>&gt;(-1U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents null. </p>

<p>Definition at line <a class="el" href="merge__sort_8cpp_source.html#l00040">40</a> of file <a class="el" href="merge__sort_8cpp_source.html">merge_sort.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab89839c441708b28c071de9c34378421"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t foedus::snapshot::kIoAlignment = 0x1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__mapper__impl_8cpp_source.html#l00136">136</a> of file <a class="el" href="log__mapper__impl_8cpp_source.html">log_mapper_impl.cpp</a>.</p>

<p>Referenced by <a class="el" href="log__mapper__impl_8cpp_source.html#l00137">align_io_floor()</a>.</p>

</div>
</div>
<a class="anchor" id="a26a2120f7b28c565f2d22ff799ee2280"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">SnapshotId</a> foedus::snapshot::kNullSnapshotId = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__id_8hpp_source.html#l00045">45</a> of file <a class="el" href="snapshot__id_8hpp_source.html">snapshot_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="snapshot__metadata_8cpp_source.html#l00033">foedus::snapshot::SnapshotMetadata::clear()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l00102">foedus::storage::masstree::from_this_snapshot()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00316">foedus::snapshot::SnapshotManagerPimpl::handle_snapshot_triggered()</a>, <a class="el" href="savepoint__manager__pimpl_8hpp_source.html#l00043">foedus::savepoint::SavepointManagerControlBlock::initialize()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00094">foedus::storage::StorageManagerPimpl::initialize_read_latest_snapshot()</a>, <a class="el" href="snapshot__manager__pimpl_8hpp_source.html#l00239">foedus::snapshot::SnapshotManagerPimpl::issue_next_snapshot_id()</a>, <a class="el" href="savepoint_8cpp_source.html#l00079">foedus::savepoint::Savepoint::populate_empty()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00158">foedus::savepoint::SavepointManagerPimpl::savepoint_main()</a>, and <a class="el" href="log__reducer__ref_8cpp_source.html#l00082">foedus::snapshot::LogReducerRef::verify_log_chunk()</a>.</p>

</div>
</div>
<a class="anchor" id="af77b1ca857e9bfb4c068209412369d8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* foedus::snapshot::kStoragesTagName = &quot;storages&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__metadata_8cpp_source.html#l00032">32</a> of file <a class="el" href="snapshot__metadata_8cpp_source.html">snapshot_metadata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ace1e6cf25470bbf343f33e0a31a6e8b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float foedus::snapshot::kWindowMoveThreshold = 0.95</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Also, when the input consumed more than this fraction of current window, we move the window. </p>
<p>This means we have to memmove 5% everytime, but instead we can avoid many-small batches. </p>

<p>Definition at line <a class="el" href="merge__sort_8cpp_source.html#l00045">45</a> of file <a class="el" href="merge__sort_8cpp_source.html">merge_sort.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1snapshot.html">snapshot</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
