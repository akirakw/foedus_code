<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: Storage Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__STORAGE.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Storage Manager<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Storage</b> <b>Manager</b>, which implements a couple of key/value stores.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><b>Storage</b> <b>Manager</b>, which implements a couple of key/value stores. </p>
<p>This package contains core classes that store key/value pairs. This layer has no idea about what is stored, thus no notion of columns either.</p>
<h1><a class="anchor" id="TYPES"></a>
Types of Storage</h1>
<p>So far we provide four types of storages; <a class="el" href="group__ARRAY.html">Array Storage</a>, <a class="el" href="group__HASH.html">Hashtable Storage</a>, <a class="el" href="group__SEQUENTIAL.html">Sequential Storage</a>, and <a class="el" href="group__MASSTREE.html">Masstree Storage</a>. Choose the type of storage based on the data to store and access patterns. </p><ul>
<li><a class="el" href="group__ARRAY.html">Array Storage</a> is extremely simple, fast, and compact (doesn't even store keys), but it only works for arrays that are fix-sized, dense, and regular. </li>
<li><a class="el" href="group__HASH.html">Hashtable Storage</a> is also simple, fast, and yet general except it can't process range accesses. </li>
<li><a class="el" href="group__SEQUENTIAL.html">Sequential Storage</a> is very simple and fast, but it can do only appends and full scans. </li>
<li><a class="el" href="group__MASSTREE.html">Masstree Storage</a> is the most general, addressing all the issues above. But, it's not as simple/fast as others (though optimized as much as possible for many-cores).</li>
</ul>
<dl class="section user"><dt>General Recommendation</dt><dd>In general, you should use <a class="el" href="group__HASH.html">Hashtable Storage</a> or <a class="el" href="group__MASSTREE.html">Masstree Storage</a> for most tables/indexes. If the access pattern contains no range accesses, equality on prefix, nor non-equality, then pick <a class="el" href="group__HASH.html">Hashtable Storage</a>. Otherwise, <a class="el" href="group__MASSTREE.html">Masstree Storage</a>. Use <a class="el" href="group__ARRAY.html">Array Storage</a> and <a class="el" href="group__SEQUENTIAL.html">Sequential Storage</a> where they shine; when you literally needs arrays and append-only data. </dd></dl>
<div class="dynheader">
Collaboration diagram for Storage Manager:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__STORAGE.png" border="0" alt="" usemap="#group____STORAGE"/>
<map name="group____STORAGE" id="group____STORAGE">
<area shape="rect" id="node1" href="group__HASH.html" title="Hashtable Storage, a concurrent hashtable. " alt="" coords="563,5,692,32"/>
<area shape="rect" id="node3" href="group__MASSTREE.html" title="Masstree Storage, 64&#45;bit B&#45;tries with internal B&#45;trees. " alt="" coords="565,56,690,83"/>
<area shape="rect" id="node4" href="group__SNAPSHOT.html" title="Snapshot Manager, which manages snapshot files of the database. " alt="" coords="562,201,693,228"/>
<area shape="rect" id="node6" href="group__ARRAY.html" title="Array Storage, a dense and regular array. " alt="" coords="576,252,679,279"/>
<area shape="rect" id="node7" href="group__LOGTYPE.html" title="Defines the content and apply logic of transactional operatrions. " alt="" coords="587,303,668,329"/>
<area shape="rect" id="node8" href="group__SEQUENTIAL.html" title="Sequential Storage, an append/scan only data structure. " alt="" coords="561,353,693,380"/>
<area shape="rect" id="node5" href="group__COMPONENTS.html" title="Main modules of libfoedus. " alt="" coords="5,231,159,257"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__ARRAY"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html">Array Storage</a></td></tr>
<tr class="memdesc:group__ARRAY"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>Array</b> Storage, a dense and regular array. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__HASH"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HASH.html">Hashtable Storage</a></td></tr>
<tr class="memdesc:group__HASH"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>Hashtable</b> Storage, a concurrent hashtable. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__MASSTREE"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html">Masstree Storage</a></td></tr>
<tr class="memdesc:group__MASSTREE"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>Masstree</b> Storage, 64-bit B-tries with internal B-trees. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SEQUENTIAL"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SEQUENTIAL.html">Sequential Storage</a></td></tr>
<tr class="memdesc:group__SEQUENTIAL"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>Sequential</b> Storage, an append/scan only data structure. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:storage_2fwd_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_2fwd_8hpp.html">fwd.hpp</a></td></tr>
<tr class="memdesc:storage_2fwd_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declarations of classes in storage package. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:storage__id_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage__id_8hpp.html">storage_id.hpp</a></td></tr>
<tr class="memdesc:storage__id_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions of IDs in this package and a few related constant values. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:storage__log__types_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage__log__types_8hpp.html">storage_log_types.hpp</a></td></tr>
<tr class="memdesc:storage__log__types_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares common log types for all (or at least multiple) storage types. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1Composer_1_1ComposeArguments"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Composer_1_1ComposeArguments">foedus::storage::Composer::ComposeArguments</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1Composer_1_1ComposeArguments"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arguments for <a class="el" href="classfoedus_1_1storage_1_1Composer.html#a28c752ec784b85418c0bfafab7ee60c0" title="Construct snapshot pages from sorted run files of one storage. ">compose()</a>  <a href="group__STORAGE.html#structfoedus_1_1storage_1_1Composer_1_1ComposeArguments">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1Composer_1_1ComposeArguments"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments">foedus::storage::Composer::ConstructRootArguments</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arguments for <a class="el" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). ">construct_root()</a>  <a href="group__STORAGE.html#structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html">foedus::storage::Composer::DropVolatilesArguments</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arguments for <a class="el" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. ">drop_volatiles()</a>  <a href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Composer_1_1DropResult.html">foedus::storage::Composer::DropResult</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrun value of <a class="el" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. ">drop_volatiles()</a>  <a href="structfoedus_1_1storage_1_1Composer_1_1DropResult.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Composer.html">foedus::storage::Composer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a logic to compose a new version of data pages for one storage.  <a href="classfoedus_1_1storage_1_1Composer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html">foedus::storage::Metadata::SnapshotThresholds</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tuning parameters related to snapshotting.  <a href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html">foedus::storage::Metadata</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> of one storage.  <a href="structfoedus_1_1storage_1_1Metadata.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1PageVersion.html">foedus::storage::PageVersion</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just a synonym of XctId to be used as a page lock mechanism.  <a href="structfoedus_1_1storage_1_1PageVersion.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1PageHeader.html">foedus::storage::PageHeader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just a marker to denote that a memory region represents a data page.  <a href="structfoedus_1_1storage_1_1PageHeader.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Page.html">foedus::storage::Page</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just a marker to denote that the memory region represents a data page.  <a href="structfoedus_1_1storage_1_1Page.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1VolatilePageInitArguments"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1VolatilePageInitArguments">foedus::storage::VolatilePageInitArguments</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1VolatilePageInitArguments"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of arguments, both inputs and outputs, given to each volatile page initializer.  <a href="group__STORAGE.html#structfoedus_1_1storage_1_1VolatilePageInitArguments">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1VolatilePageInitArguments"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments">foedus::storage::Partitioner::DesignPartitionArguments</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arguments for <a class="el" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. ">design_partition()</a>  <a href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments">foedus::storage::Partitioner::PartitionBatchArguments</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arguments for <a class="el" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. ">partition_batch()</a>  <a href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments">foedus::storage::Partitioner::SortBatchArguments</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arguments for <a class="el" href="classfoedus_1_1storage_1_1Partitioner.html#a8c8909d8a44ae9d6a4afee0ded0add4c" title="Called from log reducer to sort log entries by keys. ">sort_batch()</a>  <a href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Partitioner.html">foedus::storage::Partitioner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partitioning and sorting logic for one storage.  <a href="classfoedus_1_1storage_1_1Partitioner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1PartitionerMetadata.html">foedus::storage::PartitionerMetadata</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tiny metadata of partitioner for every storage used while log gleaning.  <a href="structfoedus_1_1storage_1_1PartitionerMetadata.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Record.html">foedus::storage::Record</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one record in our key-value store.  <a href="structfoedus_1_1storage_1_1Record.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">foedus::storage::StorageControlBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base layout of shared data for all storage types.  <a href="structfoedus_1_1storage_1_1StorageControlBlock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html">foedus::storage::Storage&lt; CONTROL_BLOCK &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one key-value store.  <a href="classfoedus_1_1storage_1_1Storage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">foedus::storage::VolatilePagePointer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a pointer to a volatile page with modification count for preventing ABA.  <a href="structfoedus_1_1storage_1_1VolatilePagePointer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">foedus::storage::DualPagePointer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a pointer to another page (usually a child page).  <a href="structfoedus_1_1storage_1_1DualPagePointer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1DropLogType.html">foedus::storage::DropLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of DROP STORAGE operation.  <a href="structfoedus_1_1storage_1_1DropLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1CreateLogType.html">foedus::storage::CreateLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base type for CREATE STORAGE operation.  <a href="structfoedus_1_1storage_1_1CreateLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1StorageManager.html">foedus::storage::StorageManager</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1Storage.html" title="Represents one key-value store. ">Storage</a> Manager class that provides API to create/open/close/drop key-value stores.  <a href="classfoedus_1_1storage_1_1StorageManager.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html">foedus::storage::StorageManagerPimpl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pimpl object of <a class="el" href="classfoedus_1_1storage_1_1StorageManager.html" title="Storage Manager class that provides API to create/open/close/drop key-value stores. ">StorageManager</a>.  <a href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1StorageOptions.html">foedus::storage::StorageOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of options for storage manager.  <a href="structfoedus_1_1storage_1_1StorageOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gab1f01cb8d7e103171a991936c4805486"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">foedus::storage::VolatilePageInit</a>) (const VolatilePageInitArguments &amp;args)</td></tr>
<tr class="memdesc:gab1f01cb8d7e103171a991936c4805486"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function pointer to initialize a volatile page.  <a href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">More...</a><br /></td></tr>
<tr class="separator:gab1f01cb8d7e103171a991936c4805486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga595ca7fc4a3011a9704a883a25141e5f"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">foedus::storage::StorageId</a></td></tr>
<tr class="memdesc:ga595ca7fc4a3011a9704a883a25141e5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique ID for storage.  <a href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">More...</a><br /></td></tr>
<tr class="separator:ga595ca7fc4a3011a9704a883a25141e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d50cbff79d98d6068fe0b8add81d06a"><td class="memItemLeft" align="right" valign="top">typedef thread::ThreadGroupId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga0d50cbff79d98d6068fe0b8add81d06a">foedus::storage::PartitionId</a></td></tr>
<tr class="memdesc:ga0d50cbff79d98d6068fe0b8add81d06a"><td class="mdescLeft">&#160;</td><td class="mdescRight">As partition=NUMA node, this is just a synonym of <a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7" title="Typedef for an ID of ThreadGroup (NUMA node). ">foedus::thread::ThreadGroupId</a>.  <a href="group__STORAGE.html#ga0d50cbff79d98d6068fe0b8add81d06a">More...</a><br /></td></tr>
<tr class="separator:ga0d50cbff79d98d6068fe0b8add81d06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga629d4b8103bfb83ef9c11b842a4fd398"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">foedus::storage::SnapshotPagePointer</a></td></tr>
<tr class="memdesc:ga629d4b8103bfb83ef9c11b842a4fd398"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">Page</a> ID of a snapshot page.  <a href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">More...</a><br /></td></tr>
<tr class="separator:ga629d4b8103bfb83ef9c11b842a4fd398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0175df2e74855e270faffcf960b132b1"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga0175df2e74855e270faffcf960b132b1">foedus::storage::SnapshotLocalPageId</a></td></tr>
<tr class="memdesc:ga0175df2e74855e270faffcf960b132b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a local page ID in each one snapshot file in some NUMA node.  <a href="group__STORAGE.html#ga0175df2e74855e270faffcf960b132b1">More...</a><br /></td></tr>
<tr class="separator:ga0175df2e74855e270faffcf960b132b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae75e0a76f72c04c08d3dacbd40483262"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#gae75e0a76f72c04c08d3dacbd40483262">foedus::storage::Checksum</a></td></tr>
<tr class="memdesc:gae75e0a76f72c04c08d3dacbd40483262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checksum of a snapshot page.  <a href="group__STORAGE.html#gae75e0a76f72c04c08d3dacbd40483262">More...</a><br /></td></tr>
<tr class="separator:gae75e0a76f72c04c08d3dacbd40483262"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga14e35f7fbe4bc18276fde8e8ba460f5b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">foedus::storage::PageType</a> { <br />
&#160;&#160;<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba18f525b6ef92b673f700503ce6cae114">foedus::storage::kUnknownPageType</a> = 0, 
<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba380b52578df6af9a6dbd0eb084ba1081">foedus::storage::kArrayPageType</a> = 1, 
<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b">foedus::storage::kMasstreeIntermediatePageType</a> = 2, 
<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba0fb7a3d57453730f4ed6bb2914d076db">foedus::storage::kMasstreeBorderPageType</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5bad2edfb1d75bfb7a956f20b40e05a2483">foedus::storage::kSequentialPageType</a> = 4, 
<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba9557afe1aef72d0c5bc290fc6f450a14">foedus::storage::kSequentialRootPageType</a> = 5, 
<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714">foedus::storage::kHashIntermediatePageType</a> = 6, 
<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c">foedus::storage::kHashDataPageType</a> = 7, 
<br />
&#160;&#160;<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba071f6326484564c712e98623488fd639">foedus::storage::kHashComposedBinsPageType</a> = 8, 
<a class="el" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5bade5c5c6a633f490ef4b09592bf621afb">foedus::storage::kDummyLastPageType</a>
<br />
 }<tr class="memdesc:ga14e35f7fbe4bc18276fde8e8ba460f5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following 1-byte value is stored in the common page header.  <a href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">More...</a><br /></td></tr>
<tr class="separator:ga14e35f7fbe4bc18276fde8e8ba460f5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga016025043f5ef9c02be03f2f2a17a0de"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">foedus::storage::StorageType</a> { <br />
&#160;&#160;<a class="el" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb">foedus::storage::kInvalidStorage</a> = 0, 
<a class="el" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">foedus::storage::kArrayStorage</a>, 
<a class="el" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">foedus::storage::kHashStorage</a>, 
<a class="el" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">foedus::storage::kMasstreeStorage</a>, 
<br />
&#160;&#160;<a class="el" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">foedus::storage::kSequentialStorage</a>
<br />
 }<tr class="memdesc:ga016025043f5ef9c02be03f2f2a17a0de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the storage, such as hash.  <a href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">More...</a><br /></td></tr>
<tr class="separator:ga016025043f5ef9c02be03f2f2a17a0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:gaa532fc59a87dc23b6d432d444e98d63f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#gaa532fc59a87dc23b6d432d444e98d63f">foedus::storage::StorageStatus</a> { <a class="el" href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fa575d70cdedf5a8f649628558f1e0d264">foedus::storage::kNotExists</a> = 0, 
<a class="el" href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fadb3a41d3a531bce354f2df2aebef8dd1">foedus::storage::kExists</a>, 
<a class="el" href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fa2620cb8ad5053ba2c1658c36dbc7ba83">foedus::storage::kMarkedForDeath</a>
 }<tr class="memdesc:gaa532fc59a87dc23b6d432d444e98d63f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status of a storage.  <a href="group__STORAGE.html#gaa532fc59a87dc23b6d432d444e98d63f">More...</a><br /></td></tr>
<tr class="separator:gaa532fc59a87dc23b6d432d444e98d63f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa114fc1859c2d4cb8b9e2021cb11cb25"><td class="memItemLeft" align="right" valign="top">Page *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">foedus::storage::to_page</a> (const void *address)</td></tr>
<tr class="memdesc:gaa114fc1859c2d4cb8b9e2021cb11cb25"><td class="mdescLeft">&#160;</td><td class="mdescRight">super-dirty way to obtain <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">Page</a> the address belongs to.  <a href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">More...</a><br /></td></tr>
<tr class="separator:gaa114fc1859c2d4cb8b9e2021cb11cb25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a2f9d6e4c010712ecd8987d65e634c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga9a2f9d6e4c010712ecd8987d65e634c3">foedus::storage::prefetch_page_l2</a> (const void *page)</td></tr>
<tr class="memdesc:ga9a2f9d6e4c010712ecd8987d65e634c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefetch a page to L2/L3 cache.  <a href="group__STORAGE.html#ga9a2f9d6e4c010712ecd8987d65e634c3">More...</a><br /></td></tr>
<tr class="separator:ga9a2f9d6e4c010712ecd8987d65e634c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4449085638502d211183762cf81fa580"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga4449085638502d211183762cf81fa580">foedus::storage::to_storage_type_name</a> (StorageType type)</td></tr>
<tr class="memdesc:ga4449085638502d211183762cf81fa580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives a string representation of StorageType.  <a href="group__STORAGE.html#ga4449085638502d211183762cf81fa580">More...</a><br /></td></tr>
<tr class="separator:ga4449085638502d211183762cf81fa580"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga1a3c05fe1d44455fc3e761947c6e21e6"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a> = 1 &lt;&lt; 12</td></tr>
<tr class="memdesc:ga1a3c05fe1d44455fc3e761947c6e21e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A constant defining the page size (in bytes) of both snapshot pages and volatile pages.  <a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">More...</a><br /></td></tr>
<tr class="separator:ga1a3c05fe1d44455fc3e761947c6e21e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structfoedus_1_1storage_1_1Composer_1_1ComposeArguments" id="structfoedus_1_1storage_1_1Composer_1_1ComposeArguments"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::Composer::ComposeArguments</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Arguments for <a class="el" href="classfoedus_1_1storage_1_1Composer.html#a28c752ec784b85418c0bfafab7ee60c0" title="Construct snapshot pages from sorted run files of one storage. ">compose()</a> </p>

<p>Definition at line <a class="el" href="composer_8hpp_source.html#l00095">95</a> of file <a class="el" href="composer_8hpp_source.html">composer.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::Composer::ComposeArguments:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Composer_1_1ComposeArguments__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1Composer_1_1ComposeArguments_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1Composer_1_1ComposeArguments_coll__map" id="foedus_1_1storage_1_1Composer_1_1ComposeArguments_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SnapshotWriter.html" title="Writes out one snapshot file for all data pages in one reducer. " alt="" coords="423,5,607,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. " alt="" coords="440,71,589,98"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1SnapshotFileSet.html" title="Holds a set of read&#45;only file objects for snapshot files. " alt="" coords="411,122,618,149"/>
<area shape="rect" id="node5" href="classfoedus_1_1DefaultInitializable.html" title="Typical implementation of Initializable as a skeleton base class. " alt="" coords="187,122,359,149"/>
<area shape="rect" id="node6" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="5,122,137,149"/>
<area shape="rect" id="node7" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. " alt="" coords="462,173,567,199"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1AlignedMemory.html" title="Represents one memory block aligned to actual OS/hardware pages. " alt="" coords="408,223,621,250"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SortedBuffer.html" title="Represents one input stream of sorted log entries. " alt="" coords="431,275,598,316"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2357fc574d9b4b24ff7962d99fa903a6"></a><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a></td>
<td class="fieldname">
base_epoch_</td>
<td class="fielddoc">
All log entries in this inputs are assured to be after this epoch. <p>Also, it is assured to be within 2^16 from this epoch. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a708121027bd0babb9a89fe0f45f5056d"></a>SortedBuffer *const *</td>
<td class="fieldname">
log_streams_</td>
<td class="fielddoc">
Sorted runs. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4a7218b354966f4d3de56dd11c8c1725"></a>uint32_t</td>
<td class="fieldname">
log_streams_count_</td>
<td class="fielddoc">
Number of sorted runs. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5a1088a90d1f70d8dccbec8724a8ce18"></a>SnapshotFileSet *</td>
<td class="fieldname">
previous_snapshot_files_</td>
<td class="fielddoc">
To read existing snapshots. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2eee0b46b2de53032aceae070f993329"></a><a class="el" href="structfoedus_1_1storage_1_1Page.html">Page</a> *</td>
<td class="fieldname">
root_info_page_</td>
<td class="fielddoc">
[OUT] Returns pointers and related information that is required to construct the root page. <p>The data format depends on the composer. In all implementations, the information must fit in one page (should be, otherwise we can't have a root page) </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aad05b2c2a53ad3641caabd2fa6258782"></a>SnapshotWriter *</td>
<td class="fieldname">
snapshot_writer_</td>
<td class="fielddoc">
Writes out composed pages. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac0cd0fa1ce2de4626b82ca9b5be9049e"></a>AlignedMemory *</td>
<td class="fieldname">
work_memory_</td>
<td class="fielddoc">
Working memory to be used in this method. <p>Automatically expand if needed. </p>
</td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments" id="structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::Composer::ConstructRootArguments</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Arguments for <a class="el" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). ">construct_root()</a> </p>

<p>Definition at line <a class="el" href="composer_8hpp_source.html#l00124">124</a> of file <a class="el" href="composer_8hpp_source.html">composer.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::Composer::ConstructRootArguments:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1Composer_1_1ConstructRootArguments_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1Composer_1_1ConstructRootArguments_coll__map" id="foedus_1_1storage_1_1Composer_1_1ConstructRootArguments_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SnapshotWriter.html" title="Writes out one snapshot file for all data pages in one reducer. " alt="" coords="1137,5,1321,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. " alt="" coords="1154,71,1303,98"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1SnapshotFileSet.html" title="Holds a set of read&#45;only file objects for snapshot files. " alt="" coords="1125,122,1332,149"/>
<area shape="rect" id="node5" href="classfoedus_1_1DefaultInitializable.html" title="Typical implementation of Initializable as a skeleton base class. " alt="" coords="756,98,928,125"/>
<area shape="rect" id="node6" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="407,90,539,117"/>
<area shape="rect" id="node7" href="structfoedus_1_1snapshot_1_1LogGleanerResource.html" title="Local resource for the log gleaner, which runs only in the master node. " alt="" coords="1131,205,1326,247"/>
<area shape="rect" id="node9" href="structfoedus_1_1snapshot_1_1LogGleanerResource_1_1PerNodeResource.html" title="These buffers are used to read intermediate results from each reducer to compose the root page or oth..." alt="" coords="376,283,571,324"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1AlignedMemory.html" title="Represents one memory block aligned to actual OS/hardware pages. " alt="" coords="5,253,219,279"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a54873841faf29cc3f2f8b7e51d0c5eb3"></a>LogGleanerResource *</td>
<td class="fieldname">
gleaner_resource_</td>
<td class="fielddoc">
All pre-allocated resouces to help run <a class="el" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). ">construct_root()</a>, such as memory buffers. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5fe97ae932df0a5ff337429b38d27ddf"></a><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> *</td>
<td class="fieldname">
new_root_page_pointer_</td>
<td class="fielddoc">
[OUT] Returns pointer to new root snapshot page/ </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad93f59f4f2671486832c3baa3e73562c"></a>SnapshotFileSet *</td>
<td class="fieldname">
previous_snapshot_files_</td>
<td class="fielddoc">
To read existing snapshots. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a50a94b00807fe3666996480562b31072"></a>const <a class="el" href="structfoedus_1_1storage_1_1Page.html">Page</a> *const *</td>
<td class="fieldname">
root_info_pages_</td>
<td class="fielddoc">
Root info pages output by <a class="el" href="classfoedus_1_1storage_1_1Composer.html#a28c752ec784b85418c0bfafab7ee60c0" title="Construct snapshot pages from sorted run files of one storage. ">compose()</a> </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5bc4649af515f379e0b35ce47eee9085"></a>uint32_t</td>
<td class="fieldname">
root_info_pages_count_</td>
<td class="fielddoc">
Number of root info pages. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2e4631f50021ca8d5a351403eaf92768"></a>SnapshotWriter *</td>
<td class="fieldname">
snapshot_writer_</td>
<td class="fielddoc">
Writes out composed pages. </td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1VolatilePageInitArguments" id="structfoedus_1_1storage_1_1VolatilePageInitArguments"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::VolatilePageInitArguments</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Set of arguments, both inputs and outputs, given to each volatile page initializer. </p>

<p>Definition at line <a class="el" href="page_8hpp_source.html#l00365">365</a> of file <a class="el" href="page_8hpp_source.html">page.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::VolatilePageInitArguments:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1VolatilePageInitArguments__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1VolatilePageInitArguments_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1VolatilePageInitArguments_coll__map" id="foedus_1_1storage_1_1VolatilePageInitArguments_coll__map">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. " alt="" coords="5,89,155,115"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. " alt="" coords="179,89,330,115"/>
<area shape="rect" id="node4" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="189,5,321,32"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="354,81,515,123"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="add0268bff0052838330c6b1c6e50bb16"></a>Thread *</td>
<td class="fieldname">
context_</td>
<td class="fielddoc">
[IN] Thread on which the procedure is running </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae2c544229358b3085cddd4d3dcc762d8"></a>uint16_t</td>
<td class="fieldname">
index_in_parent_</td>
<td class="fielddoc">
[IN] Some index (meaning depends on page type) of pointer in parent page to the new page. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a17b323e762c5f588b8b54cb0c4e1f9ee"></a><a class="el" href="structfoedus_1_1storage_1_1Page.html">Page</a> *</td>
<td class="fieldname">
page_</td>
<td class="fielddoc">
[IN, OUT] The new page to initialize. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac0fb2306485283949f05b902022ac9c0"></a><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a></td>
<td class="fieldname">
page_id</td>
<td class="fielddoc">
[IN] New page ID </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa64d62ff7c0fe2651fa06775720b6958"></a>const <a class="el" href="structfoedus_1_1storage_1_1Page.html">Page</a> *</td>
<td class="fieldname">
parent_</td>
<td class="fielddoc">
[IN] Parent of the new page. </td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments" id="structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::Partitioner::DesignPartitionArguments</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Arguments for <a class="el" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. ">design_partition()</a> </p>

<p>Definition at line <a class="el" href="partitioner_8hpp_source.html#l00101">101</a> of file <a class="el" href="partitioner_8hpp_source.html">partitioner.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::Partitioner::DesignPartitionArguments:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments_coll__map" id="foedus_1_1storage_1_1Partitioner_1_1DesignPartitionArguments_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1SnapshotFileSet.html" title="Holds a set of read&#45;only file objects for snapshot files. " alt="" coords="5,157,212,184"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html" title="Typical implementation of Initializable as a skeleton base class. " alt="" coords="23,81,195,108"/>
<area shape="rect" id="node4" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="43,5,175,32"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1AlignedMemory.html" title="Represents one memory block aligned to actual OS/hardware pages. " alt="" coords="237,157,450,184"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ade1e411b7e20442598d95f34998e69a1"></a>SnapshotFileSet *</td>
<td class="fieldname">
snapshot_files_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad48d4c641666da08a9b727a245e61071"></a>AlignedMemory *</td>
<td class="fieldname">
work_memory_</td>
<td class="fielddoc">
Working memory to be used in this method. <p>Automatically expand if needed. </p>
</td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments" id="structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::Partitioner::PartitionBatchArguments</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Arguments for <a class="el" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. ">partition_batch()</a> </p>

<p>Definition at line <a class="el" href="partitioner_8hpp_source.html#l00116">116</a> of file <a class="el" href="partitioner_8hpp_source.html">partitioner.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::Partitioner::PartitionBatchArguments:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments_coll__map" id="foedus_1_1storage_1_1Partitioner_1_1PartitionBatchArguments_coll__map">
<area shape="rect" id="node2" href="structfoedus_1_1snapshot_1_1LogBuffer.html" title="Packages handling of 4&#45;bytes representation of position in log buffers. " alt="" coords="5,5,188,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad4b04d5b32aa84ae5f06523969d2c803"></a><a class="el" href="group__STORAGE.html#ga0d50cbff79d98d6068fe0b8add81d06a">PartitionId</a></td>
<td class="fieldname">
local_partition_</td>
<td class="fielddoc">
The node the caller (mapper) resides in. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a410a6b640efa12afffa1125f52f498d4"></a>const LogBuffer &amp;</td>
<td class="fieldname">
log_buffer_</td>
<td class="fielddoc">
Converts from positions to physical pointers. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4bca78edf9df8aa78b21f636f291433c"></a>const BufferPosition *</td>
<td class="fieldname">
log_positions_</td>
<td class="fielddoc">
positions of log records. <p>All of them must be logs of this storage. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a22f6c88a410fd7dd6eabb26de0461951"></a>uint32_t</td>
<td class="fieldname">
logs_count_</td>
<td class="fielddoc">
number of entries to process. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aab2f25e818e8e4b028889225de406383"></a><a class="el" href="group__STORAGE.html#ga0d50cbff79d98d6068fe0b8add81d06a">PartitionId</a> *</td>
<td class="fieldname">
results_</td>
<td class="fielddoc">
[OUT] this method will set the partition of logs[i] to results[i]. </td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments" id="structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::Partitioner::SortBatchArguments</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Arguments for <a class="el" href="classfoedus_1_1storage_1_1Partitioner.html#a8c8909d8a44ae9d6a4afee0ded0add4c" title="Called from log reducer to sort log entries by keys. ">sort_batch()</a> </p>

<p>Definition at line <a class="el" href="partitioner_8hpp_source.html#l00140">140</a> of file <a class="el" href="partitioner_8hpp_source.html">partitioner.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::Partitioner::SortBatchArguments:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1Partitioner_1_1SortBatchArguments_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1Partitioner_1_1SortBatchArguments_coll__map" id="foedus_1_1storage_1_1Partitioner_1_1SortBatchArguments_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. " alt="" coords="5,5,111,32"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1AlignedMemory.html" title="Represents one memory block aligned to actual OS/hardware pages. " alt="" coords="135,5,349,32"/>
<area shape="rect" id="node4" href="structfoedus_1_1snapshot_1_1LogBuffer.html" title="Packages handling of 4&#45;bytes representation of position in log buffers. " alt="" coords="373,5,556,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5da2332e815bc5618ab321190d3650ce"></a><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a></td>
<td class="fieldname">
base_epoch_</td>
<td class="fielddoc">
All log entries in this inputs are assured to be after this epoch. <p>Also, it is assured to be within 2^16 from this epoch. Even with 10 milliseconds per epoch, this corresponds to more than 10 hours. Snapshot surely happens more often than that. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad01b205a0e1ca37a14b1425d1bb3832f"></a>const LogBuffer &amp;</td>
<td class="fieldname">
log_buffer_</td>
<td class="fielddoc">
Converts from positions to physical pointers. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa716f17425b733a5e86176c0ef29994d"></a>const BufferPosition *</td>
<td class="fieldname">
log_positions_</td>
<td class="fielddoc">
positions of log records. <p>All of them must be logs of this storage. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af683216b20c23c38fcb824d4bc12ab45"></a>uint32_t</td>
<td class="fieldname">
logs_count_</td>
<td class="fielddoc">
number of entries to process. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac2116bee375db20f07cd9678b662e907"></a>uint32_t</td>
<td class="fieldname">
longest_key_length_</td>
<td class="fielddoc">
[masstree/hash] longest key length in the log entries. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="add3cf22722a107c9f44c153dd6361de9"></a>BufferPosition *</td>
<td class="fieldname">
output_buffer_</td>
<td class="fielddoc">
sorted results are written to this variable. <p>the buffer size is at least of log_positions_count_. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9d25a435cafe38ea737cf850cdc8d6c9"></a>uint32_t</td>
<td class="fieldname">
shortest_key_length_</td>
<td class="fielddoc">
[masstree/hash] shortest key length in the log entries. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a42d37fcaa2a5210ea5997511809bbf2e"></a>AlignedMemory *</td>
<td class="fieldname">
work_memory_</td>
<td class="fielddoc">
Working memory to be used in this method. <p>Automatically expand if needed. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad5e6cb5d6525dbbfe99bb55ab12f9146"></a>uint32_t *</td>
<td class="fieldname">
written_count_</td>
<td class="fielddoc">
[OUT] how many logs written to output_buffer. <p>If there was no compaction, this will be same as log_positions_count_. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gae75e0a76f72c04c08d3dacbd40483262"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__STORAGE.html#gae75e0a76f72c04c08d3dacbd40483262">foedus::storage::Checksum</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checksum of a snapshot page. </p>
<p>Each snapshot page contains this checksum to be verified when we read it from media or occasionally. </p>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00174">174</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d50cbff79d98d6068fe0b8add81d06a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef thread::ThreadGroupId <a class="el" href="group__STORAGE.html#ga0d50cbff79d98d6068fe0b8add81d06a">foedus::storage::PartitionId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>As partition=NUMA node, this is just a synonym of <a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7" title="Typedef for an ID of ThreadGroup (NUMA node). ">foedus::thread::ThreadGroupId</a>. </p>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00065">65</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga0175df2e74855e270faffcf960b132b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t <a class="el" href="group__STORAGE.html#ga0175df2e74855e270faffcf960b132b1">foedus::storage::SnapshotLocalPageId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents a local page ID in each one snapshot file in some NUMA node. </p>
<p>This is the low 40 bits of SnapshotPagePointer. Just an alias for readability. This value must not exceed 2^40. 0 means null pointer (which is a valid value). </p>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00089">89</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga629d4b8103bfb83ef9c11b842a4fd398"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">foedus::storage::SnapshotPagePointer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">Page</a> ID of a snapshot page. </p>
<p>Snapshot <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">Page</a> ID is a 64-bit integer. The high 16 bits indicate which snapshot it is in (<a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031" title="Unique ID of Snapshot. ">foedus::snapshot::SnapshotId</a>). As we periodically merge all snapshots, we won't have 2^16 snapshots at one time. The mid 8 bits indicate the NUMA node ID, or which file it is in. We have one snapshot file per NUMA node, so it won't be more than 2^8. The last 40 bits indicate page offset in the file. So, one file in one snapshot must be within 4kb * 2^40 = 4PB, which is surely the case. </p>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00079">79</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga595ca7fc4a3011a9704a883a25141e5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">foedus::storage::StorageId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unique ID for storage. </p>
<p>StorageId is an unsigned integer starting from 1. Value 0 is an always invalid ID (empty). Name of storage is also unique, but it's an auxiliary information for convenience. The primary way to identify storages is this StorageId. </p>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00055">55</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gab1f01cb8d7e103171a991936c4805486"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* foedus::storage::VolatilePageInit) (const VolatilePageInitArguments &amp;args)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function pointer to initialize a volatile page. </p>
<p>Used as a callback argument to follow_page_pointer. This is used when a method might initialize a volatile page (eg following a page pointer). <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">Page</a> initialization depends on page type and many of them need custom logic, so we made it a callback. </p>

<p>Definition at line <a class="el" href="page_8hpp_source.html#l00387">387</a> of file <a class="el" href="page_8hpp_source.html">page.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga14e35f7fbe4bc18276fde8e8ba460f5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">foedus::storage::PageType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following 1-byte value is stored in the common page header. </p>
<p>These values are stored in snapshot pages too, so we must keep values' compatibility. Specify values for that reason. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5ba18f525b6ef92b673f700503ce6cae114"></a>kUnknownPageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5ba380b52578df6af9a6dbd0eb084ba1081"></a>kArrayPageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b"></a>kMasstreeIntermediatePageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5ba0fb7a3d57453730f4ed6bb2914d076db"></a>kMasstreeBorderPageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5bad2edfb1d75bfb7a956f20b40e05a2483"></a>kSequentialPageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5ba9557afe1aef72d0c5bc290fc6f450a14"></a>kSequentialRootPageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714"></a>kHashIntermediatePageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c"></a>kHashDataPageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5ba071f6326484564c712e98623488fd639"></a>kHashComposedBinsPageType&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga14e35f7fbe4bc18276fde8e8ba460f5bade5c5c6a633f490ef4b09592bf621afb"></a>kDummyLastPageType&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="page_8hpp_source.html#l00046">46</a> of file <a class="el" href="page_8hpp_source.html">page.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;              {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba18f525b6ef92b673f700503ce6cae114">kUnknownPageType</a> = 0,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba380b52578df6af9a6dbd0eb084ba1081">kArrayPageType</a> = 1,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b">kMasstreeIntermediatePageType</a> = 2,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba0fb7a3d57453730f4ed6bb2914d076db">kMasstreeBorderPageType</a> = 3,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5bad2edfb1d75bfb7a956f20b40e05a2483">kSequentialPageType</a> = 4,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba9557afe1aef72d0c5bc290fc6f450a14">kSequentialRootPageType</a> = 5,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714">kHashIntermediatePageType</a> = 6,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c">kHashDataPageType</a> = 7,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba071f6326484564c712e98623488fd639">kHashComposedBinsPageType</a> = 8,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5bade5c5c6a633f490ef4b09592bf621afb">kDummyLastPageType</a>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;};</div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714">foedus::storage::kHashIntermediatePageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00053">page.hpp:53</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba9557afe1aef72d0c5bc290fc6f450a14"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba9557afe1aef72d0c5bc290fc6f450a14">foedus::storage::kSequentialRootPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00052">page.hpp:52</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba0fb7a3d57453730f4ed6bb2914d076db"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba0fb7a3d57453730f4ed6bb2914d076db">foedus::storage::kMasstreeBorderPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00050">page.hpp:50</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5bad2edfb1d75bfb7a956f20b40e05a2483"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5bad2edfb1d75bfb7a956f20b40e05a2483">foedus::storage::kSequentialPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00051">page.hpp:51</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba071f6326484564c712e98623488fd639"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba071f6326484564c712e98623488fd639">foedus::storage::kHashComposedBinsPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00055">page.hpp:55</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b">foedus::storage::kMasstreeIntermediatePageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00049">page.hpp:49</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba18f525b6ef92b673f700503ce6cae114"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba18f525b6ef92b673f700503ce6cae114">foedus::storage::kUnknownPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00047">page.hpp:47</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c">foedus::storage::kHashDataPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00054">page.hpp:54</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5bade5c5c6a633f490ef4b09592bf621afb"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5bade5c5c6a633f490ef4b09592bf621afb">foedus::storage::kDummyLastPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00056">page.hpp:56</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba380b52578df6af9a6dbd0eb084ba1081"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba380b52578df6af9a6dbd0eb084ba1081">foedus::storage::kArrayPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00048">page.hpp:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa532fc59a87dc23b6d432d444e98d63f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__STORAGE.html#gaa532fc59a87dc23b6d432d444e98d63f">foedus::storage::StorageStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status of a storage. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaa532fc59a87dc23b6d432d444e98d63fa575d70cdedf5a8f649628558f1e0d264"></a>kNotExists&#160;</td><td class="fielddoc">
<p>Initial state, which means the storage has not been created yet. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa532fc59a87dc23b6d432d444e98d63fadb3a41d3a531bce354f2df2aebef8dd1"></a>kExists&#160;</td><td class="fielddoc">
<p>The storage has been created and ready for use. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa532fc59a87dc23b6d432d444e98d63fa2620cb8ad5053ba2c1658c36dbc7ba83"></a>kMarkedForDeath&#160;</td><td class="fielddoc">
<p>The storage has been marked for drop and can't be used. </p>
<p>The status becomes kNotExists at next restart. the system. So far there is no path from this state to kNotExists. No reuse of StorageId. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00154">154</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                   {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fa575d70cdedf5a8f649628558f1e0d264">kNotExists</a> = 0,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fadb3a41d3a531bce354f2df2aebef8dd1">kExists</a>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fa2620cb8ad5053ba2c1658c36dbc7ba83">kMarkedForDeath</a>,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;};</div>
<div class="ttc" id="group__STORAGE_html_ggaa532fc59a87dc23b6d432d444e98d63fa2620cb8ad5053ba2c1658c36dbc7ba83"><div class="ttname"><a href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fa2620cb8ad5053ba2c1658c36dbc7ba83">foedus::storage::kMarkedForDeath</a></div><div class="ttdoc">The storage has been marked for drop and can&#39;t be used. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00164">storage_id.hpp:164</a></div></div>
<div class="ttc" id="group__STORAGE_html_ggaa532fc59a87dc23b6d432d444e98d63fadb3a41d3a531bce354f2df2aebef8dd1"><div class="ttname"><a href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fadb3a41d3a531bce354f2df2aebef8dd1">foedus::storage::kExists</a></div><div class="ttdoc">The storage has been created and ready for use. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00158">storage_id.hpp:158</a></div></div>
<div class="ttc" id="group__STORAGE_html_ggaa532fc59a87dc23b6d432d444e98d63fa575d70cdedf5a8f649628558f1e0d264"><div class="ttname"><a href="group__STORAGE.html#ggaa532fc59a87dc23b6d432d444e98d63fa575d70cdedf5a8f649628558f1e0d264">foedus::storage::kNotExists</a></div><div class="ttdoc">Initial state, which means the storage has not been created yet. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00156">storage_id.hpp:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga016025043f5ef9c02be03f2f2a17a0de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">foedus::storage::StorageType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the storage, such as hash. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb"></a>kInvalidStorage&#160;</td><td class="fielddoc">
<p>0 indicates invalid type. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff"></a>kArrayStorage&#160;</td><td class="fielddoc">
<p><a class="el" href="group__ARRAY.html">Array Storage</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc"></a>kHashStorage&#160;</td><td class="fielddoc">
<p><a class="el" href="group__HASH.html">Hashtable Storage</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e"></a>kMasstreeStorage&#160;</td><td class="fielddoc">
<p><a class="el" href="group__MASSTREE.html">Masstree Storage</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6"></a>kSequentialStorage&#160;</td><td class="fielddoc">
<p><a class="el" href="group__SEQUENTIAL.html">Sequential Storage</a> </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00122">122</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                 {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb">kInvalidStorage</a> = 0,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">kArrayStorage</a>,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">kHashStorage</a>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">kMasstreeStorage</a>,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">kSequentialStorage</a>,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;};</div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb">foedus::storage::kInvalidStorage</a></div><div class="ttdoc">0 indicates invalid type. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00124">storage_id.hpp:124</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">foedus::storage::kMasstreeStorage</a></div><div class="ttdoc">Masstree Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00130">storage_id.hpp:130</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">foedus::storage::kHashStorage</a></div><div class="ttdoc">Hashtable Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00128">storage_id.hpp:128</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">foedus::storage::kSequentialStorage</a></div><div class="ttdoc">Sequential Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00132">storage_id.hpp:132</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">foedus::storage::kArrayStorage</a></div><div class="ttdoc">Array Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00126">storage_id.hpp:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9a2f9d6e4c010712ecd8987d65e634c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::prefetch_page_l2 </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prefetch a page to L2/L3 cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">page</td><td>page to prefetch.</td></tr>
  </table>
  </dd>
</dl>
<p>In order to prefetch a specific part of the page to L1, directly use <a class="el" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. ">foedus::assorted::prefetch_cacheline()</a>. </p>

<p>Definition at line <a class="el" href="page__prefetch_8hpp_source.html#l00034">34</a> of file <a class="el" href="page__prefetch_8hpp_source.html">page_prefetch.hpp</a>.</p>

<p>References <a class="el" href="cacheline_8hpp_source.html#l00042">foedus::assorted::kCachelineSize</a>, <a class="el" href="storage__id_8hpp_source.html#l00045">foedus::storage::kPageSize</a>, and <a class="el" href="cacheline_8hpp_source.html#l00079">foedus::assorted::prefetch_l2()</a>.</p>

<p>Referenced by <a class="el" href="array__storage__prefetch_8cpp_source.html#l00031">foedus::storage::array::ArrayStoragePimpl::prefetch_pages()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00112">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_follow()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00030">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_normalized()</a>, and <a class="el" href="array__storage__prefetch_8cpp_source.html#l00053">foedus::storage::array::ArrayStoragePimpl::prefetch_pages_recurse()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                               {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="group__ASSORTED.html#ga776c53f69f97c1edfc5d34a0f6cb3100">assorted::prefetch_l2</a>(page, <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a> / <a class="code" href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">assorted::kCachelineSize</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_gad5ea63b0770685f3aad857fbd6e9096e"><div class="ttname"><a href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">foedus::assorted::kCachelineSize</a></div><div class="ttdeci">const uint16_t kCachelineSize</div><div class="ttdoc">Byte count of one cache line. </div><div class="ttdef"><b>Definition:</b> <a href="cacheline_8hpp_source.html#l00042">cacheline.hpp:42</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga1a3c05fe1d44455fc3e761947c6e21e6"><div class="ttname"><a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a></div><div class="ttdeci">const uint16_t kPageSize</div><div class="ttdoc">A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00045">storage_id.hpp:45</a></div></div>
<div class="ttc" id="group__ASSORTED_html_ga776c53f69f97c1edfc5d34a0f6cb3100"><div class="ttname"><a href="group__ASSORTED.html#ga776c53f69f97c1edfc5d34a0f6cb3100">foedus::assorted::prefetch_l2</a></div><div class="ttdeci">void prefetch_l2(const void *address, int cacheline_count)</div><div class="ttdoc">Prefetch multiple contiguous cachelines to L2/L3 cache. </div><div class="ttdef"><b>Definition:</b> <a href="cacheline_8hpp_source.html#l00079">cacheline.hpp:79</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_cgraph.png" border="0" usemap="#group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_cgraph" alt=""/></div>
<map name="group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_cgraph" id="group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga776c53f69f97c1edfc5d34a0f6cb3100" title="Prefetch multiple contiguous cachelines to L2/L3 cache. " alt="" coords="219,13,408,39"/>
<area shape="rect" id="node3" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="456,5,628,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_icgraph.png" border="0" usemap="#group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_icgraph" alt=""/></div>
<map name="group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_icgraph" id="group__STORAGE_ga9a2f9d6e4c010712ecd8987d65e634c3_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="460,10,695,52"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="229,115,402,171"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="750,151,938,207"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="219,35,412,91"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="743,10,945,52"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="483,108,671,178"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="993,151,1176,207"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa114fc1859c2d4cb8b9e2021cb11cb25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Page* foedus::storage::to_page </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>super-dirty way to obtain <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">Page</a> the address belongs to. </p>
<p>because all pages are 4kb aligned, we can just divide and multiply. </p>

<p>Definition at line <a class="el" href="page_8hpp_source.html#l00395">395</a> of file <a class="el" href="page_8hpp_source.html">page.hpp</a>.</p>

<p>References <a class="el" href="storage__id_8hpp_source.html#l00045">foedus::storage::kPageSize</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00248">foedus::storage::masstree::MasstreeCommonLogType::apply_record_prepare()</a>, <a class="el" href="sysxct__impl_8cpp_source.html#l00078">foedus::xct::SysxctLockList::assert_sorted_impl()</a>, <a class="el" href="page_8cpp_source.html#l00085">foedus::storage::assert_within_valid_volatile_page_impl()</a>, <a class="el" href="retrospective__lock__list_8cpp_source.html#l00252">foedus::xct::RetrospectiveLockList::construct()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00072">foedus::storage::masstree::extract_page_layer()</a>, <a class="el" href="xct__id_8cpp_source.html#l00074">foedus::xct::RwLockableXctId::hotter()</a>, <a class="el" href="xct__id_8cpp_source.html#l00070">foedus::xct::RwLockableXctId::is_hot()</a>, <a class="el" href="retrospective__lock__list_8cpp_source.html#l00159">foedus::xct::lock_assert_sorted()</a>, <a class="el" href="xct_8cpp_source.html#l00258">foedus::xct::Xct::on_record_read()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00112">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_follow()</a>, <a class="el" href="xct__id_8cpp_source.html#l00036">foedus::xct::to_universal_lock_id()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l01099">foedus::storage::hash::HashStoragePimpl::track_moved_record()</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00848">foedus::storage::masstree::MasstreeStoragePimpl::track_moved_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                          {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  uintptr_t int_address = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(address);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  uint64_t aligned_address = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(int_address) / <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a> * <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>Page*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(aligned_address)));</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_ga1a3c05fe1d44455fc3e761947c6e21e6"><div class="ttname"><a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a></div><div class="ttdeci">const uint16_t kPageSize</div><div class="ttdoc">A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00045">storage_id.hpp:45</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__STORAGE_gaa114fc1859c2d4cb8b9e2021cb11cb25_icgraph.png" border="0" usemap="#group__STORAGE_gaa114fc1859c2d4cb8b9e2021cb11cb25_icgraph" alt=""/></div>
<map name="group__STORAGE_gaa114fc1859c2d4cb8b9e2021cb11cb25_icgraph" id="group__STORAGE_gaa114fc1859c2d4cb8b9e2021cb11cb25_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aec913d81af968b22bfd4be9956d59b37" title="Common parts of apply_record() in these log types that extract relevant addresses from the record hea..." alt="" coords="462,80,646,136"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1SysxctLockList.html#a9cc41f0ba309899664d4068bdbb8f2fb" title="foedus::xct::SysxctLockList\l::assert_sorted_impl" alt="" coords="219,322,403,363"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="233,435,388,491"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="962,439,1097,481"/>
<area shape="rect" id="node31" href="namespacefoedus_1_1xct.html#a40089fc3fcaa7d0c02e9a92eb0d899a2" title="Always use this method rather than doing the conversion yourself. " alt="" coords="716,547,879,589"/>
<area shape="rect" id="node32" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a38d217000e4df1d2d8e829c37218f93e" title="Fill out this retrospetive lock list for the next run of the given transaction. " alt="" coords="943,839,1115,881"/>
<area shape="rect" id="node36" href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123" title="Retrieve masstree layer information from the header of the page that contains the pointer..." alt="" coords="224,167,397,209"/>
<area shape="rect" id="node38" href="structfoedus_1_1xct_1_1RwLockableXctId.html#aba859c4eb829f83fa767720d5b745646" title="foedus::xct::RwLockableXct\lId::hotter" alt="" coords="938,715,1121,757"/>
<area shape="rect" id="node39" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a5901bd2379f57ce799dcd58efd342790" title="foedus::xct::RwLockableXct\lId::is_hot" alt="" coords="219,839,402,881"/>
<area shape="rect" id="node40" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="230,715,391,757"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="224,905,397,961"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af3a7066a8881f653e759362cf39e01c4" title="foedus::storage::hash\l::HashStoragePimpl::track\l_moved_record" alt="" coords="223,987,398,1043"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff57df4d2b237e63e459d5fefe9d4cfb" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::track_moved_record" alt="" coords="224,1071,397,1127"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1SysxctLockList.html#a10843e662ca3b9986465a44a0b12dc48" title="Inline definitions of SysxctLockList methods. " alt="" coords="462,241,646,282"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1SysxctLockList.html#a56013b57350b29742790c8333995b36f" title="Remove all entries. " alt="" coords="705,182,889,223"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1SysxctLockList.html#a241bea116d8bbceba98949d1ba13d7a8" title="foedus::xct::SysxctLockList\l::get_or_add_entry" alt="" coords="705,51,889,93"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1SysxctLockList.html#a9a12a820ec2e222073992d584fdf683c" title="Batched version of get_or_add_entry(). " alt="" coords="937,95,1121,137"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1SysxctLockList.html#a3846f340ffc539d6a6f66c6d9bf7d257" title="Unlike clear_entries(), this is used when a sysxct is aborted and will be retried. " alt="" coords="705,117,889,158"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="467,438,641,479"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="714,467,881,523"/>
<area shape="rect" id="node29" href="classfoedus_1_1xct_1_1Xct.html#a1fd2a90acadfa8e01d93187ee10a55b2" title="Use this in case you already have owner_lock_id. " alt="" coords="727,401,868,442"/>
<area shape="rect" id="node30" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="959,247,1100,289"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="1204,166,1339,207"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="1189,232,1354,288"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="1189,312,1354,368"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="1189,392,1354,448"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="1189,472,1354,528"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="1169,5,1373,61"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="1189,552,1354,608"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="1189,632,1354,688"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="1189,712,1354,768"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1183,792,1360,848"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="1183,85,1360,141"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="1431,239,1606,281"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="1431,312,1606,368"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="1431,392,1606,448"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="1431,472,1606,528"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="1433,5,1604,61"/>
<area shape="rect" id="node33" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="1174,873,1369,914"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="1437,905,1600,946"/>
<area shape="rect" id="node35" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="1421,839,1616,881"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a290b894a14cac91b105ecbab235c0a2d" title="used only for sanity check. " alt="" coords="451,160,657,216"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="472,715,636,757"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129" title="foedus::xct::Retrospective\lLockList::assert_sorted_impl" alt="" coords="459,781,649,822"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="715,715,879,757"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e" title="foedus::xct::Retrospective\lLockList::assert_sorted" alt="" coords="711,781,883,822"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="460,898,648,969"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ab763d5d37f053808257f662611f2e603" title="Resolves a &quot;moved&quot; record. " alt="" coords="481,993,627,1049"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2370f71beab1eb4b8b02e3ac9e4f29bd" title="Resolves a &quot;moved&quot; record. " alt="" coords="467,1073,641,1129"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4449085638502d211183762cf81fa580"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* foedus::storage::to_storage_type_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gives a string representation of StorageType. </p>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00139">139</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>

<p>References <a class="el" href="storage__id_8hpp_source.html#l00126">foedus::storage::kArrayStorage</a>, <a class="el" href="storage__id_8hpp_source.html#l00128">foedus::storage::kHashStorage</a>, <a class="el" href="storage__id_8hpp_source.html#l00124">foedus::storage::kInvalidStorage</a>, <a class="el" href="storage__id_8hpp_source.html#l00130">foedus::storage::kMasstreeStorage</a>, and <a class="el" href="storage__id_8hpp_source.html#l00132">foedus::storage::kSequentialStorage</a>.</p>

<p>Referenced by <a class="el" href="composer_8cpp_source.html#l00039">foedus::storage::operator&lt;&lt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                          {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb">kInvalidStorage</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid&quot;</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">kArrayStorage</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Array&quot;</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">kHashStorage</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Hash&quot;</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">kMasstreeStorage</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Masstree&quot;</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">kSequentialStorage</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Sequential&quot;</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb">foedus::storage::kInvalidStorage</a></div><div class="ttdoc">0 indicates invalid type. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00124">storage_id.hpp:124</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">foedus::storage::kMasstreeStorage</a></div><div class="ttdoc">Masstree Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00130">storage_id.hpp:130</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">foedus::storage::kHashStorage</a></div><div class="ttdoc">Hashtable Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00128">storage_id.hpp:128</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">foedus::storage::kSequentialStorage</a></div><div class="ttdoc">Sequential Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00132">storage_id.hpp:132</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">foedus::storage::kArrayStorage</a></div><div class="ttdoc">Array Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00126">storage_id.hpp:126</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__STORAGE_ga4449085638502d211183762cf81fa580_icgraph.png" border="0" usemap="#group__STORAGE_ga4449085638502d211183762cf81fa580_icgraph" alt=""/></div>
<map name="group__STORAGE_ga4449085638502d211183762cf81fa580_icgraph" id="group__STORAGE_ga4449085638502d211183762cf81fa580_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage.html#abbd6e6acadf026d93acf4bd901900579" title="foedus::storage::operator\&lt;\&lt;" alt="" coords="196,13,379,39"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga1a3c05fe1d44455fc3e761947c6e21e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::kPageSize = 1 &lt;&lt; 12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </p>
<p>This number must be at least 4kb (2^12) because that's Linux's page alignment. </p>

<p>Definition at line <a class="el" href="storage__id_8hpp_source.html#l00045">45</a> of file <a class="el" href="storage__id_8hpp_source.html">storage_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00248">foedus::storage::masstree::MasstreeCommonLogType::apply_record_prepare()</a>, <a class="el" href="page_8hpp_source.html#l00402">foedus::storage::assert_aligned_page()</a>, <a class="el" href="hash__page__debug_8cpp_source.html#l00089">foedus::storage::hash::HashDataPage::assert_entries_impl()</a>, <a class="el" href="hash__composed__bins__impl_8cpp_source.html#l00074">foedus::storage::hash::ComposedBinsBuffer::assure_read_buffer_size()</a>, <a class="el" href="page__pool__pimpl_8cpp_source.html#l00047">foedus::memory::PagePoolPimpl::attach()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l00126">foedus::storage::hash::HashComposer::construct_root()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l00111">foedus::storage::masstree::MasstreeComposer::construct_root()</a>, <a class="el" href="hash__tmpbin_8cpp_source.html#l00036">foedus::storage::hash::HashTmpBin::create_memory()</a>, <a class="el" href="hash__page__impl_8hpp_source.html#l00480">foedus::storage::hash::HashDataPage::create_record_in_snapshot()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00064">foedus::storage::masstree::MasstreePartitioner::design_partition()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00230">foedus::storage::array::ArrayComposeContext::execute()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l00487">foedus::storage::hash::HashComposeContext::execute()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00647">foedus::thread::ThreadPimpl::find_or_read_a_snapshot_page()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00687">foedus::thread::ThreadPimpl::find_or_read_snapshot_pages_batch()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="snapshot__writer__impl_8hpp_source.html#l00111">foedus::snapshot::SnapshotWriter::get_intermediate_size()</a>, <a class="el" href="snapshot__writer__impl_8hpp_source.html#l00105">foedus::snapshot::SnapshotWriter::get_page_size()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l00436">foedus::storage::hash::HashComposeContext::HashComposeContext()</a>, <a class="el" href="hash__composed__bins__impl_8cpp_source.html#l00087">foedus::storage::hash::ComposedBinsMergedStream::init()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00188">foedus::storage::sequential::SequentialStoragePimpl::initialize_head_tail_pages()</a>, <a class="el" href="numa__node__memory_8cpp_source.html#l00057">foedus::memory::NumaNodeMemory::initialize_once()</a>, <a class="el" href="merge__sort_8cpp_source.html#l00093">foedus::snapshot::MergeSort::initialize_once()</a>, <a class="el" href="array__page__impl_8cpp_source.html#l00032">foedus::storage::array::ArrayPage::initialize_snapshot_page()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00058">foedus::storage::hash::HashIntermediatePage::initialize_snapshot_page()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00093">foedus::storage::hash::HashDataPage::initialize_snapshot_page()</a>, <a class="el" href="array__page__impl_8cpp_source.html#l00055">foedus::storage::array::ArrayPage::initialize_volatile_page()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00040">foedus::storage::hash::HashIntermediatePage::initialize_volatile_page()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00070">foedus::storage::hash::HashDataPage::initialize_volatile_page()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00292">foedus::thread::ThreadPimpl::install_a_volatile_page()</a>, <a class="el" href="page__prefetch_8hpp_source.html#l00034">foedus::storage::prefetch_page_l2()</a>, <a class="el" href="sequential__cursor_8cpp_source.html#l00050">foedus::storage::sequential::SequentialCursor::SequentialCursor()</a>, and <a class="el" href="page_8hpp_source.html#l00395">foedus::storage::to_page()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
