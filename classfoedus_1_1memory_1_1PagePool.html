<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::memory::PagePool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1memory_1_1PagePool.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1memory_1_1PagePool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::memory::PagePool Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__MEMORY.html">Memory Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Page pool for volatile read/write store (VolatilePage) and the read-only bufferpool (SnapshotPage).  
 <a href="classfoedus_1_1memory_1_1PagePool.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Page pool for volatile read/write store (VolatilePage) and the read-only bufferpool (SnapshotPage). </p>
<p>The engine maintains a few instances of this class; one for each NUMA node. Each page pool provides in-memory pages for both volatile pages and snapshot pages. </p>

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00173">173</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::memory::PagePool:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool__inherit__graph.png" border="0" usemap="#foedus_1_1memory_1_1PagePool_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1memory_1_1PagePool_inherit__map" id="foedus_1_1memory_1_1PagePool_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="29,5,161,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::memory::PagePool:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool__coll__graph.png" border="0" usemap="#foedus_1_1memory_1_1PagePool_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1memory_1_1PagePool_coll__map" id="foedus_1_1memory_1_1PagePool_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="29,5,161,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structfoedus_1_1memory_1_1PagePool_1_1Stat"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MEMORY.html#structfoedus_1_1memory_1_1PagePool_1_1Stat">Stat</a></td></tr>
<tr class="separator:structfoedus_1_1memory_1_1PagePool_1_1Stat"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aab9393114275163abc2e45fd45d9cd37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aab9393114275163abc2e45fd45d9cd37">PagePool</a> ()</td></tr>
<tr class="separator:aab9393114275163abc2e45fd45d9cd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fdf2bc5015451f3e2f7c9f088256a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a72fdf2bc5015451f3e2f7c9f088256a3">~PagePool</a> ()</td></tr>
<tr class="separator:a72fdf2bc5015451f3e2f7c9f088256a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6522fe3b6b37b4e87c0e4170e573b8d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a6522fe3b6b37b4e87c0e4170e573b8d2">attach</a> (<a class="el" href="structfoedus_1_1memory_1_1PagePoolControlBlock.html">PagePoolControlBlock</a> *control_block, void *memory, uint64_t memory_size, bool owns, bool rigorous_page_boundary_check)</td></tr>
<tr class="separator:a6522fe3b6b37b4e87c0e4170e573b8d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad6830fcb0e6f6b3d242fbf3b66ccb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a8ad6830fcb0e6f6b3d242fbf3b66ccb2">PagePool</a> (const <a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> &amp;)=delete</td></tr>
<tr class="separator:a8ad6830fcb0e6f6b3d242fbf3b66ccb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d0f36ec9bfd9d8387aae9dd81efa24c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a5d0f36ec9bfd9d8387aae9dd81efa24c">operator=</a> (const <a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> &amp;)=delete</td></tr>
<tr class="separator:a5d0f36ec9bfd9d8387aae9dd81efa24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b1043207496ee52b2abf56e065b068"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a88b1043207496ee52b2abf56e065b068">initialize</a> () override</td></tr>
<tr class="memdesc:a88b1043207496ee52b2abf56e065b068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires resources in this object, usually called right after constructor.  <a href="#a88b1043207496ee52b2abf56e065b068">More...</a><br /></td></tr>
<tr class="separator:a88b1043207496ee52b2abf56e065b068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea9acc75679861935dc7d2833ea458e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aea9acc75679861935dc7d2833ea458e4">is_initialized</a> () const  override</td></tr>
<tr class="memdesc:aea9acc75679861935dc7d2833ea458e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already initialized or not.  <a href="#aea9acc75679861935dc7d2833ea458e4">More...</a><br /></td></tr>
<tr class="separator:aea9acc75679861935dc7d2833ea458e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b989911378d6bf2d7d75352dc77165"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a90b989911378d6bf2d7d75352dc77165">uninitialize</a> () override</td></tr>
<tr class="memdesc:a90b989911378d6bf2d7d75352dc77165"><td class="mdescLeft">&#160;</td><td class="mdescRight">An <em>idempotent</em> method to release all resources of this object, if any.  <a href="#a90b989911378d6bf2d7d75352dc77165">More...</a><br /></td></tr>
<tr class="separator:a90b989911378d6bf2d7d75352dc77165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9db36a92eb5116e01545d73cc7e1ab8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8">get_base</a> () const </td></tr>
<tr class="separator:af9db36a92eb5116e01545d73cc7e1ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaba316ea864179aa8460a57a61f1ff3"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#adaba316ea864179aa8460a57a61f1ff3">get_free_pool_capacity</a> () const </td></tr>
<tr class="separator:adaba316ea864179aa8460a57a61f1ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb83fc01491a9886ee654d377b62696f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#adb83fc01491a9886ee654d377b62696f">get_memory_size</a> () const </td></tr>
<tr class="separator:adb83fc01491a9886ee654d377b62696f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3708e19114cb64dbf56c32791686eb2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#ac3708e19114cb64dbf56c32791686eb2">get_recommended_pages_per_grab</a> () const </td></tr>
<tr class="separator:ac3708e19114cb64dbf56c32791686eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae17b661b01fd08a3019128c82227e7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MEMORY.html#structfoedus_1_1memory_1_1PagePool_1_1Stat">Stat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aae17b661b01fd08a3019128c82227e7c">get_stat</a> () const </td></tr>
<tr class="separator:aae17b661b01fd08a3019128c82227e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48069fa315e278b85dc3509527f97f7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#ab48069fa315e278b85dc3509527f97f7">get_debug_pool_name</a> () const </td></tr>
<tr class="separator:ab48069fa315e278b85dc3509527f97f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaee1accaade5856ad8786a2f8a3a22a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aeaee1accaade5856ad8786a2f8a3a22a">set_debug_pool_name</a> (const std::string &amp;name)</td></tr>
<tr class="memdesc:aeaee1accaade5856ad8786a2f8a3a22a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this anytime after <a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a6522fe3b6b37b4e87c0e4170e573b8d2">attach()</a>  <a href="#aeaee1accaade5856ad8786a2f8a3a22a">More...</a><br /></td></tr>
<tr class="separator:aeaee1accaade5856ad8786a2f8a3a22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdd8ce2a10921faeccc1fe38ffd25c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a1fdd8ce2a10921faeccc1fe38ffd25c0">grab</a> (uint32_t desired_grab_count, <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html">PagePoolOffsetChunk</a> *chunk)</td></tr>
<tr class="memdesc:a1fdd8ce2a10921faeccc1fe38ffd25c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the specified number of free pages to the chunk.  <a href="#a1fdd8ce2a10921faeccc1fe38ffd25c0">More...</a><br /></td></tr>
<tr class="separator:a1fdd8ce2a10921faeccc1fe38ffd25c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9390381783077a504116988cae05c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a3e9390381783077a504116988cae05c4">grab_one</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *offset)</td></tr>
<tr class="memdesc:a3e9390381783077a504116988cae05c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grab only one page.  <a href="#a3e9390381783077a504116988cae05c4">More...</a><br /></td></tr>
<tr class="separator:a3e9390381783077a504116988cae05c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802171ff0578875748d20b4e9c8c9463"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463">release</a> (uint32_t desired_release_count, <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html">PagePoolOffsetChunk</a> *chunk)</td></tr>
<tr class="memdesc:a802171ff0578875748d20b4e9c8c9463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the specified number of free pages from the chunk.  <a href="#a802171ff0578875748d20b4e9c8c9463">More...</a><br /></td></tr>
<tr class="separator:a802171ff0578875748d20b4e9c8c9463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b1e15e332e971b0dd00c9e393ed255"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a71b1e15e332e971b0dd00c9e393ed255">release</a> (uint32_t desired_release_count, <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetDynamicChunk.html">PagePoolOffsetDynamicChunk</a> *chunk)</td></tr>
<tr class="separator:a71b1e15e332e971b0dd00c9e393ed255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560b48480c6d6917496d2ec5c44333eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a560b48480c6d6917496d2ec5c44333eb">release</a> (uint32_t desired_release_count, <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html">PagePoolOffsetAndEpochChunk</a> *chunk)</td></tr>
<tr class="memdesc:a560b48480c6d6917496d2ec5c44333eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overload for <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html" title="Used to store an epoch value with each entry in PagePoolOffsetChunk. ">PagePoolOffsetAndEpochChunk</a>.  <a href="#a560b48480c6d6917496d2ec5c44333eb">More...</a><br /></td></tr>
<tr class="separator:a560b48480c6d6917496d2ec5c44333eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7220391af1f368d1fd36b48cc1e2995"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aa7220391af1f368d1fd36b48cc1e2995">release_one</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> offset)</td></tr>
<tr class="memdesc:aa7220391af1f368d1fd36b48cc1e2995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns only one page.  <a href="#aa7220391af1f368d1fd36b48cc1e2995">More...</a><br /></td></tr>
<tr class="separator:aa7220391af1f368d1fd36b48cc1e2995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18916c76eea7aa49572e69e48e75717e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html">LocalPageResolver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e">get_resolver</a> () const </td></tr>
<tr class="memdesc:a18916c76eea7aa49572e69e48e75717e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives an object to resolve an offset in <em>this</em> page pool (thus <em>local</em>) to an actual pointer and vice versa.  <a href="#a18916c76eea7aa49572e69e48e75717e">More...</a><br /></td></tr>
<tr class="separator:a18916c76eea7aa49572e69e48e75717e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Initializable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Initializable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Initializable.html">foedus::Initializable</a></td></tr>
<tr class="memitem:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Initializable.html#aff308260543d18b3fd1367fd9017b176">~Initializable</a> ()</td></tr>
<tr class="separator:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:abe4dd63cab94f7eb13f9665b8e881176"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#abe4dd63cab94f7eb13f9665b8e881176">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> &amp;v)</td></tr>
<tr class="separator:abe4dd63cab94f7eb13f9665b8e881176"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aab9393114275163abc2e45fd45d9cd37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::PagePool::PagePool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00098">98</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                   {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  pimpl_ = <span class="keyword">new</span> PagePoolPimpl();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72fdf2bc5015451f3e2f7c9f088256a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::PagePool::~PagePool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00109">109</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keyword">delete</span> pimpl_;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  pimpl_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ad6830fcb0e6f6b3d242fbf3b66ccb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::PagePool::PagePool </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6522fe3b6b37b4e87c0e4170e573b8d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePool::attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1memory_1_1PagePoolControlBlock.html">PagePoolControlBlock</a> *&#160;</td>
          <td class="paramname"><em>control_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>memory_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>owns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rigorous_page_boundary_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00101">101</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00047">foedus::memory::PagePoolPimpl::attach()</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8cpp_source.html#l00057">foedus::memory::NumaNodeMemory::initialize_once()</a>, and <a class="el" href="numa__node__memory_8cpp_source.html#l00235">foedus::memory::NumaNodeMemoryRef::NumaNodeMemoryRef()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                     {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a655d84c0582b445cbbdb5560e5fe4e07">attach</a>(control_block, memory, memory_size, owns, rigorous_page_boundary_check);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a655d84c0582b445cbbdb5560e5fe4e07"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a655d84c0582b445cbbdb5560e5fe4e07">foedus::memory::PagePoolPimpl::attach</a></div><div class="ttdeci">void attach(PagePoolControlBlock *control_block, void *memory, uint64_t memory_size, bool owns, bool rigorous_page_boundary_check)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00047">page_pool_pimpl.cpp:47</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_cgraph" id="classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a655d84c0582b445cbbdb5560e5fe4e07" title="foedus::memory::PagePool\lPimpl::attach" alt="" coords="232,39,411,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1assorted_1_1FixedString.html#ad175b4520982eaf19692255255125b06" title="Clear string. " alt="" coords="459,5,651,47"/>
<area shape="rect" id="node4" href="group__ASSORTED.html#gae2beea4717aef7ca9d43b91e48cf5824" title="Efficient ceil(dividee/dividor) for integer. " alt="" coords="485,71,625,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_icgraph" id="classfoedus_1_1memory_1_1PagePool_a6522fe3b6b37b4e87c0e4170e573b8d2_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="252,5,439,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a8e735f7411d3a28d4ddf0c25f3eced4e" title="foedus::memory::NumaNode\lMemoryRef::NumaNodeMemoryRef" alt="" coords="232,71,459,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af9db36a92eb5116e01545d73cc7e1ab8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> * foedus::memory::PagePool::get_base </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00119">119</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8hpp_source.html#l00164">foedus::memory::PagePoolPimpl::pool_base_</a>.</p>

<p>Referenced by <a class="el" href="thread__pimpl_8cpp_source.html#l00647">foedus::thread::ThreadPimpl::find_or_read_a_snapshot_page()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00687">foedus::thread::ThreadPimpl::find_or_read_snapshot_pages_batch()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00043">foedus::memory::EngineMemory::initialize_once()</a>, and <a class="el" href="thread__pimpl_8cpp_source.html#l00741">foedus::thread::ThreadPimpl::on_snapshot_cache_miss()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a90b0a48f828f795b128ce9bc2e73b44a">pool_base_</a>; }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a90b0a48f828f795b128ce9bc2e73b44a"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a90b0a48f828f795b128ce9bc2e73b44a">foedus::memory::PagePoolPimpl::pool_base_</a></div><div class="ttdeci">storage::Page * pool_base_</div><div class="ttdoc">Just an auxiliary variable to the beginning of the pool. </div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8hpp_source.html#l00164">page_pool_pimpl.hpp:164</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_af9db36a92eb5116e01545d73cc7e1ab8_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_af9db36a92eb5116e01545d73cc7e1ab8_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_af9db36a92eb5116e01545d73cc7e1ab8_icgraph" id="classfoedus_1_1memory_1_1PagePool_af9db36a92eb5116e01545d73cc7e1ab8_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="491,662,700,703"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="503,772,687,828"/>
<area shape="rect" id="node49" href="classfoedus_1_1memory_1_1EngineMemory.html#a56f86610c89fff23bf3f834a6fcbf7a5" title="foedus::memory::EngineMemory\l::initialize_once" alt="" coords="232,838,443,879"/>
<area shape="rect" id="node50" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="245,721,429,762"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1212,721,1421,762"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="748,651,932,693"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="980,575,1164,617"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1469,757,1663,813"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="1721,371,1935,413"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1477,387,1655,443"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1475,996,1657,1052"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="1479,907,1653,963"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="1711,758,1945,799"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="1995,638,2197,679"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="1993,491,2199,533"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="2266,513,2430,569"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="2266,593,2430,649"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="2259,673,2437,729"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="2257,753,2439,809"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="2257,833,2439,889"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="2250,353,2446,409"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="2247,433,2449,489"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="1737,1000,1919,1056"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="2005,1000,2187,1056"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="2005,704,2187,760"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="1734,905,1922,975"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="2002,557,2190,613"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1237,786,1396,827"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="980,641,1164,697"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1241,362,1392,403"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="1477,517,1655,573"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="1483,597,1649,653"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="1484,256,1648,312"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="1479,96,1653,152"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff31f521523d7a7b81ff5b750e081dac" title="Thread::follow_page_pointer() for masstree. " alt="" coords="1479,176,1653,232"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="1735,517,1921,573"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="1735,437,1921,493"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="1735,824,1921,880"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="1735,677,1921,733"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac612c67d7e9e1a68dcccce98648cad0c" title="foedus::storage::array\l::ArrayStoragePimpl::verify\l_single_thread" alt="" coords="1740,597,1916,653"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="1741,129,1915,170"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6c9eb02ad32cc1bffe9daac3521ad24" title="Returns the count of direct children in the first&#45;root node. " alt="" coords="1741,34,1915,105"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a32332060560b864a857a839bb0adb4fd" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::fatify_first_root_double" alt="" coords="2009,41,2183,97"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1241,640,1392,696"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="1477,677,1655,733"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="760,772,920,828"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="748,852,932,908"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="997,852,1147,908"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="1227,852,1406,908"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab48069fa315e278b85dc3509527f97f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::memory::PagePool::get_debug_pool_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00121">121</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8hpp_source.html#l00124">foedus::memory::PagePoolPimpl::get_debug_pool_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6">get_debug_pool_name</a>(); }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_abd594ac94d8ac0445ebef734b7305fb6"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6">foedus::memory::PagePoolPimpl::get_debug_pool_name</a></div><div class="ttdeci">std::string get_debug_pool_name() const </div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8hpp_source.html#l00124">page_pool_pimpl.hpp:124</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_ab48069fa315e278b85dc3509527f97f7_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_ab48069fa315e278b85dc3509527f97f7_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_ab48069fa315e278b85dc3509527f97f7_cgraph" id="classfoedus_1_1memory_1_1PagePool_ab48069fa315e278b85dc3509527f97f7_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="232,35,425,76"/>
<area shape="rect" id="node3" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="485,5,677,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="473,71,688,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adaba316ea864179aa8460a57a61f1ff3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::memory::PagePool::get_free_pool_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Number of all addressible data pages in this pool. </dd></dl>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00120">120</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8hpp_source.html#l00100">foedus::memory::PagePoolPimpl::get_free_pool_capacity()</a>.</p>

<p>Referenced by <a class="el" href="numa__core__memory_8cpp_source.html#l00088">foedus::memory::NumaCoreMemory::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#afb133ecb2760b19892c492b1a8e07fa8">get_free_pool_capacity</a>(); }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_afb133ecb2760b19892c492b1a8e07fa8"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#afb133ecb2760b19892c492b1a8e07fa8">foedus::memory::PagePoolPimpl::get_free_pool_capacity</a></div><div class="ttdeci">uint64_t get_free_pool_capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8hpp_source.html#l00100">page_pool_pimpl.hpp:100</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_cgraph" id="classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#afb133ecb2760b19892c492b1a8e07fa8" title="foedus::memory::PagePool\lPimpl::get_free_pool_capacity" alt="" coords="232,5,428,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_icgraph" id="classfoedus_1_1memory_1_1PagePool_adaba316ea864179aa8460a57a61f1ff3_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="232,5,416,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adb83fc01491a9886ee654d377b62696f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::memory::PagePool::get_memory_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00117">117</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8hpp_source.html#l00149">foedus::memory::PagePoolPimpl::memory_size_</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8cpp_source.html#l00057">foedus::memory::NumaNodeMemory::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a86c50e36539db6cd804fb455d9e05210">memory_size_</a>; }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a86c50e36539db6cd804fb455d9e05210"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a86c50e36539db6cd804fb455d9e05210">foedus::memory::PagePoolPimpl::memory_size_</a></div><div class="ttdeci">uint64_t memory_size_</div><div class="ttdoc">Byte size of this page pool. </div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8hpp_source.html#l00149">page_pool_pimpl.hpp:149</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_adb83fc01491a9886ee654d377b62696f_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_adb83fc01491a9886ee654d377b62696f_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_adb83fc01491a9886ee654d377b62696f_icgraph" id="classfoedus_1_1memory_1_1PagePool_adb83fc01491a9886ee654d377b62696f_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="232,5,419,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac3708e19114cb64dbf56c32791686eb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::memory::PagePool::get_recommended_pages_per_grab </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>recommended number of pages to grab at once.</dd></dl>
<p>Especially in testcases, grabbing chunk-full of pages (4k pages) at a time immediately runs out of free pages unless we allocate huge pools for each run, which would make test-time significantly longer. For example, if the pool has only 1024 pages, it doesn't make sense to grab 2000 pages at a time! As soon as one thread does it, all other threads will get out-of-memory error although the culprit probably needs only a few pages. To avoid that, we respect this value in most places. </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00124">124</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8hpp_source.html#l00183">foedus::memory::PagePoolPimpl::free_pool_capacity_</a>.</p>

<p>Referenced by <a class="el" href="page__pool_8cpp_source.html#l00202">foedus::memory::RoundRobinPageGrabBatch::grab()</a>, <a class="el" href="page__pool_8cpp_source.html#l00267">foedus::memory::DivvyupPageGrabBatch::grab()</a>, and <a class="el" href="numa__core__memory_8cpp_source.html#l00088">foedus::memory::NumaCoreMemory::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                                        {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> std::min&lt;uint32_t&gt;(1U &lt;&lt; 12, pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a5a438e3edeac7f4d4a92c666f8c8117f">free_pool_capacity_</a> / 8U);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a5a438e3edeac7f4d4a92c666f8c8117f"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a5a438e3edeac7f4d4a92c666f8c8117f">foedus::memory::PagePoolPimpl::free_pool_capacity_</a></div><div class="ttdeci">uint64_t free_pool_capacity_</div><div class="ttdoc">Size of free_pool_. </div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8hpp_source.html#l00183">page_pool_pimpl.hpp:183</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_ac3708e19114cb64dbf56c32791686eb2_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_ac3708e19114cb64dbf56c32791686eb2_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_ac3708e19114cb64dbf56c32791686eb2_icgraph" id="classfoedus_1_1memory_1_1PagePool_ac3708e19114cb64dbf56c32791686eb2_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="233,5,427,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#a3fcf76c5c95efed24463c7c9eb5e8dc0" title="Grabs an in&#45;memory page in specified NUMA node. " alt="" coords="232,71,428,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="238,136,422,177"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad1cb17d3564061683f038da9e30ba305" title="Grabs an in&#45;memory page evenly and contiguously from each NUMA node. " alt="" coords="476,71,672,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a18916c76eea7aa49572e69e48e75717e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html">LocalPageResolver</a> &amp; foedus::memory::PagePool::get_resolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gives an object to resolve an offset in <em>this</em> page pool (thus <em>local</em>) to an actual pointer and vice versa. </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00146">146</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8hpp_source.html#l00096">foedus::memory::PagePoolPimpl::get_resolver()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00076">foedus::storage::hash::HashStoragePimpl::create()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00309">foedus::storage::sequential::SequentialComposer::drop_volatiles()</a>, <a class="el" href="sequential__storage__pimpl_8hpp_source.html#l00196">foedus::storage::sequential::SequentialStoragePimpl::for_every_page()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00136">foedus::memory::EngineMemory::grab_one_volatile_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00188">foedus::storage::sequential::SequentialStoragePimpl::initialize_head_tail_pages()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00043">foedus::memory::EngineMemory::initialize_once()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00081">foedus::thread::ThreadPimpl::initialize_once()</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6">get_resolver</a>(); }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_ae901dc06f6b6f4594626ed0b233daec6"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6">foedus::memory::PagePoolPimpl::get_resolver</a></div><div class="ttdeci">const LocalPageResolver &amp; get_resolver() const </div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8hpp_source.html#l00096">page_pool_pimpl.hpp:96</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_cgraph" id="classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="232,5,411,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_icgraph" id="classfoedus_1_1memory_1_1PagePool_a18916c76eea7aa49572e69e48e75717e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a2823bcc0a488ad58faee46d876db8abe" title="foedus::storage::hash\l::HashStoragePimpl::create" alt="" coords="246,15,429,56"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="236,80,439,121"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="246,147,429,203"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab8595b7fa861e2f16b04f6758a7508a5" title="Traverse all pages and call back the handler for every page. " alt="" coords="248,230,427,286"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1EngineMemory.html#ae35d16d716451eaa878ec2888960127d" title="A convenience function to grab one free volatile page from the given node. " alt="" coords="232,316,443,357"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#acc045528304f2d22f64b3f1c76b99fa5" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::initialize_head_tail_pages" alt="" coords="248,462,427,518"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1EngineMemory.html#a56f86610c89fff23bf3f834a6fcbf7a5" title="foedus::memory::EngineMemory\l::initialize_once" alt="" coords="232,543,443,584"/>
<area shape="rect" id="node34" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a741208e803d0a0bb5f979ebb099d2a8d" title="foedus::thread::ThreadPimpl\l::initialize_once" alt="" coords="245,608,429,649"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a9c2b2febfce356451e8183f66f71dcc3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::load_empty" alt="" coords="251,382,424,438"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac77a3ace0e46fc133fa68affc8901409" title="foedus::storage::hash\l::HashStorage::create" alt="" coords="523,5,673,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="509,71,687,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="509,136,687,177"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="759,121,943,177"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="996,128,1223,169"/>
<area shape="rect" id="node10" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1271,121,1481,177"/>
<area shape="rect" id="node11" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1557,95,1712,136"/>
<area shape="rect" id="node13" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1529,160,1740,201"/>
<area shape="rect" id="node12" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1788,95,1983,136"/>
<area shape="rect" id="node14" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1788,160,1983,201"/>
<area shape="rect" id="node16" href="namespacefoedus_1_1storage_1_1sequential.html#aab3041ddf08dbde93ee896a1efff26d1" title="foedus::storage::sequential\l::operator\&lt;\&lt;" alt="" coords="509,201,687,243"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2bf1f0e04d213efe49f4e250968a60b9" title="foedus::storage::array\l::ArrayStoragePimpl::load_empty" alt="" coords="491,267,705,308"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="493,332,703,373"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af6387df1cf86cecbbaba2c41635bbe7a" title="foedus::storage::array\l::ArrayStoragePimpl::create" alt="" coords="759,201,942,243"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="765,267,936,308"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a84737e8c5a5048f583cb07b8b746ed94" title="foedus::storage::array\l::ArrayStorage::create" alt="" coords="1034,201,1185,243"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aa0f536b8252655076528b290abb84a87" title="foedus::storage::array\l::ArrayStorage::load" alt="" coords="1035,267,1183,308"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="753,397,948,439"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="765,332,936,373"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2731aaf3a733c773a63df6d691ede3ac" title="foedus::storage::masstree\l::MasstreeStorage::load" alt="" coords="1023,397,1196,439"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a200dd1b1b2b5bc937cae55120e1befc9" title="foedus::storage::hash\l::HashStorage::load" alt="" coords="1036,332,1183,373"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab9ccf59655effed1a259100c4d46b06b" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::create" alt="" coords="509,529,687,585"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aaf7d413df08f874c5d7caf175260c02f" title="foedus::storage::sequential\l::SequentialStoragePimpl::load" alt="" coords="497,609,699,651"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a1b3fd99bf6040a5ee42164d31135f433" title="foedus::storage::sequential\l::SequentialStorage::create" alt="" coords="761,536,941,577"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a2ba6c181226fb2b20ee12b012382f2fa" title="foedus::storage::sequential\l::SequentialStorage::load" alt="" coords="761,609,940,651"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a192a4976aa71f457b356bf536d9f5fc2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::create" alt="" coords="511,449,685,505"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a92ad35031262ae95e767c53746de2e29" title="foedus::storage::masstree\l::MasstreeStorage::create" alt="" coords="764,463,937,504"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae17b661b01fd08a3019128c82227e7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MEMORY.html#structfoedus_1_1memory_1_1PagePool_1_1Stat">PagePool::Stat</a> foedus::memory::PagePool::get_stat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00118">118</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00359">foedus::memory::PagePoolPimpl::get_stat()</a>.</p>

<p>Referenced by <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00213">foedus::cache::CacheManagerPimpl::describe()</a>, <a class="el" href="numa__node__memory_8cpp_source.html#l00220">foedus::memory::NumaNodeMemory::dump_free_memory_stat()</a>, <a class="el" href="numa__node__memory_8cpp_source.html#l00246">foedus::memory::NumaNodeMemoryRef::dump_free_memory_stat()</a>, <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>, and <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00047">foedus::cache::CacheManagerPimpl::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a55ba648cb98718804a890ea3b4965e39">get_stat</a>(); }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a55ba648cb98718804a890ea3b4965e39"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a55ba648cb98718804a890ea3b4965e39">foedus::memory::PagePoolPimpl::get_stat</a></div><div class="ttdeci">PagePool::Stat get_stat() const </div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00359">page_pool_pimpl.cpp:359</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_cgraph" id="classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a55ba648cb98718804a890ea3b4965e39" title="foedus::memory::PagePool\lPimpl::get_stat" alt="" coords="232,5,411,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="459,5,637,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_icgraph" id="classfoedus_1_1memory_1_1PagePool_aae17b661b01fd08a3019128c82227e7c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a2876d026b658af099cdf153ed1529369" title="foedus::cache::CacheManager\lPimpl::describe" alt="" coords="252,73,451,115"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="525,136,723,177"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="777,165,976,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a3dbec4cb10130e169f203c7a8d52d3c9" title="Report rough statistics of free memory. " alt="" coords="241,253,461,295"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a269381dd81631fda44b63559d0a9fbd0" title="Report rough statistics of free memory. " alt="" coords="232,319,471,360"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1CacheManager.html#a210cd75b484f0961e84c3400f203d69b" title="kind of to_string(). " alt="" coords="525,71,723,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a1322d8be16a7fe558bd83de18eb41c85" title="foedus::cache::CacheManager\lPimpl::uninitialize_once" alt="" coords="525,5,723,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="1024,165,1223,207"/>
<area shape="rect" id="node8" href="classfoedus_1_1cache_1_1CacheManager.html#ab7dbe48b7c06d1bcefcf787bce285c25" title="foedus::cache::CacheManager\l::uninitialize_once" alt="" coords="777,5,976,47"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1EngineMemory.html#a7d348c5c4edbe01bbe7d72676880d2a2" title="Report rough statistics of free memory. " alt="" coords="519,319,729,360"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1fdd8ce2a10921faeccc1fe38ffd25c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::memory::PagePool::grab </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_grab_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html">PagePoolOffsetChunk</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the specified number of free pages to the chunk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_grab_count</td><td>we grab this number of free pages at most </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chunk</td><td>we <em>append</em> the grabbed free pages to this chunk </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>chunk-&gt;size() + desired_grab_count &lt;= chunk-&gt;capacity() </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>only OUTOFMEMORY is possible</dd></dl>
<p>Callers usually maintain one <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html" title="To reduce the overhead of grabbing/releasing pages from pool, we pack this many pointers for each gra...">PagePoolOffsetChunk</a> for its private use and calls this method when the size() goes below some threshold (eg 10%) so as to get size() about 50%. </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00129">129</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00191">foedus::memory::PagePoolPimpl::grab()</a>.</p>

<p>Referenced by <a class="el" href="page__pool_8cpp_source.html#l00202">foedus::memory::RoundRobinPageGrabBatch::grab()</a>, <a class="el" href="page__pool_8cpp_source.html#l00267">foedus::memory::DivvyupPageGrabBatch::grab()</a>, and <a class="el" href="numa__core__memory_8cpp_source.html#l00088">foedus::memory::NumaCoreMemory::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abec400efafc2d5e23b8f240e10abdfb3">grab</a>(desired_grab_count, chunk);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_abec400efafc2d5e23b8f240e10abdfb3"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abec400efafc2d5e23b8f240e10abdfb3">foedus::memory::PagePoolPimpl::grab</a></div><div class="ttdeci">ErrorCode grab(uint32_t desired_grab_count, PagePoolOffsetChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00191">page_pool_pimpl.cpp:191</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_cgraph" id="classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abec400efafc2d5e23b8f240e10abdfb3" title="foedus::memory::PagePool\lPimpl::grab" alt="" coords="232,224,411,265"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#affa4e09fc9e251f5cc259de81c23c6e2" title="foedus::memory::PagePool\lOffsetChunk::size" alt="" coords="477,5,655,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a73a995a98dc72fa504271482bf14ac56" title="foedus::memory::PagePool\lOffsetChunk::capacity" alt="" coords="477,71,655,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="469,136,663,177"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="739,207,918,248"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ab2c94997f724139b950b66b18d786bd5" title="Not thread safe. " alt="" coords="477,253,655,295"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="739,283,918,324"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="477,371,655,412"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a1a41295b63274fb300e5937a9bb1eca7" title="foedus::memory::PagePool\lPimpl::decrease_free_pool_count" alt="" coords="459,436,673,477"/>
<area shape="rect" id="node6" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="733,84,925,125"/>
<area shape="rect" id="node7" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="721,150,936,177"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="739,371,918,412"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_icgraph" id="classfoedus_1_1memory_1_1PagePool_a1fdd8ce2a10921faeccc1fe38ffd25c0_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="233,5,427,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#a3fcf76c5c95efed24463c7c9eb5e8dc0" title="Grabs an in&#45;memory page in specified NUMA node. " alt="" coords="232,71,428,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="238,136,422,177"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad1cb17d3564061683f038da9e30ba305" title="Grabs an in&#45;memory page evenly and contiguously from each NUMA node. " alt="" coords="476,71,672,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e9390381783077a504116988cae05c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::memory::PagePool::grab_one </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grab only one page. </p>
<p>More expensive, but handy in some situation. </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00132">132</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00230">foedus::memory::PagePoolPimpl::grab_one()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00076">foedus::storage::hash::HashStoragePimpl::create()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00136">foedus::memory::EngineMemory::grab_one_volatile_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00188">foedus::storage::sequential::SequentialStoragePimpl::initialize_head_tail_pages()</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f">grab_one</a>(offset); }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a3293a43a76f3720cf5c92c5fbcf2d02f"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f">foedus::memory::PagePoolPimpl::grab_one</a></div><div class="ttdeci">ErrorCode grab_one(PagePoolOffset *offset)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00230">page_pool_pimpl.cpp:230</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_cgraph" id="classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f" title="foedus::memory::PagePool\lPimpl::grab_one" alt="" coords="232,133,411,175"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="469,35,663,76"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="477,100,655,141"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="477,165,655,207"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a1a41295b63274fb300e5937a9bb1eca7" title="foedus::memory::PagePool\lPimpl::decrease_free_pool_count" alt="" coords="459,231,673,272"/>
<area shape="rect" id="node4" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="733,5,925,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="721,71,936,98"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_icgraph" id="classfoedus_1_1memory_1_1PagePool_a3e9390381783077a504116988cae05c4_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a2823bcc0a488ad58faee46d876db8abe" title="foedus::storage::hash\l::HashStoragePimpl::create" alt="" coords="246,35,429,76"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1EngineMemory.html#ae35d16d716451eaa878ec2888960127d" title="A convenience function to grab one free volatile page from the given node. " alt="" coords="232,132,443,173"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#acc045528304f2d22f64b3f1c76b99fa5" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::initialize_head_tail_pages" alt="" coords="248,339,427,395"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a9c2b2febfce356451e8183f66f71dcc3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::load_empty" alt="" coords="251,198,424,254"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac77a3ace0e46fc133fa68affc8901409" title="foedus::storage::hash\l::HashStorage::create" alt="" coords="523,5,673,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2bf1f0e04d213efe49f4e250968a60b9" title="foedus::storage::array\l::ArrayStoragePimpl::load_empty" alt="" coords="491,71,705,112"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="493,136,703,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af6387df1cf86cecbbaba2c41635bbe7a" title="foedus::storage::array\l::ArrayStoragePimpl::create" alt="" coords="759,5,942,47"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="765,71,936,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a84737e8c5a5048f583cb07b8b746ed94" title="foedus::storage::array\l::ArrayStorage::create" alt="" coords="1007,5,1158,47"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aa0f536b8252655076528b290abb84a87" title="foedus::storage::array\l::ArrayStorage::load" alt="" coords="1009,71,1157,112"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="753,201,948,243"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="765,136,936,177"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2731aaf3a733c773a63df6d691ede3ac" title="foedus::storage::masstree\l::MasstreeStorage::load" alt="" coords="996,201,1169,243"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a200dd1b1b2b5bc937cae55120e1befc9" title="foedus::storage::hash\l::HashStorage::load" alt="" coords="1009,136,1156,177"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab9ccf59655effed1a259100c4d46b06b" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::create" alt="" coords="509,339,687,395"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aaf7d413df08f874c5d7caf175260c02f" title="foedus::storage::sequential\l::SequentialStoragePimpl::load" alt="" coords="497,420,699,461"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a1b3fd99bf6040a5ee42164d31135f433" title="foedus::storage::sequential\l::SequentialStorage::create" alt="" coords="761,347,941,388"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a2ba6c181226fb2b20ee12b012382f2fa" title="foedus::storage::sequential\l::SequentialStorage::load" alt="" coords="761,420,940,461"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a192a4976aa71f457b356bf536d9f5fc2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::create" alt="" coords="511,259,685,315"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a92ad35031262ae95e767c53746de2e29" title="foedus::storage::masstree\l::MasstreeStorage::create" alt="" coords="764,267,937,308"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a88b1043207496ee52b2abf56e065b068"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::memory::PagePool::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires resources in this object, usually called right after constructor. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aea9acc75679861935dc7d2833ea458e4" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> == FALSE</dd></dl>
<p>If and only if the return value was not an error, <a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aea9acc75679861935dc7d2833ea458e4" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return TRUE. This method is usually not idempotent, but some implementation can choose to be. In that case, the implementation class should clarify that it's idempotent. This method is responsible for releasing all acquired resources when initialization fails. This method itself is NOT thread-safe. Do not call this in a racy situation. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#aa087b096d1edaeb0304c250eadb0d7e1">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00114">114</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00169">foedus::DefaultInitializable::initialize()</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8cpp_source.html#l00057">foedus::memory::NumaNodeMemory::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">initialize</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a22a0dc3bbbca682c3bc41eace9b6d1ff"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">foedus::DefaultInitializable::initialize</a></div><div class="ttdeci">ErrorStack initialize() override final</div><div class="ttdoc">Typical implementation of Initializable::initialize() that provides initialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00169">initializable.hpp:169</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_cgraph" id="classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="232,104,404,145"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="452,5,624,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="473,71,603,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="452,136,624,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="452,201,624,243"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_icgraph" id="classfoedus_1_1memory_1_1PagePool_a88b1043207496ee52b2abf56e065b068_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="232,5,419,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aea9acc75679861935dc7d2833ea458e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::memory::PagePool::is_initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the object has been already initialized or not. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#a3c3a54a44a7a86bd99f800dbebae90eb">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00115">115</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00196">foedus::DefaultInitializable::is_initialized()</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8cpp_source.html#l00057">foedus::memory::NumaNodeMemory::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">is_initialized</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a1abda1e84b8af8bd6916e52fd0a09f3e"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">foedus::DefaultInitializable::is_initialized</a></div><div class="ttdeci">bool is_initialized() const  override final</div><div class="ttdoc">Returns whether the object has been already initialized or not. </div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00196">initializable.hpp:196</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_cgraph" id="classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="232,5,404,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_icgraph" id="classfoedus_1_1memory_1_1PagePool_aea9acc75679861935dc7d2833ea458e4_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="232,5,419,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d0f36ec9bfd9d8387aae9dd81efa24c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a>&amp; foedus::memory::PagePool::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a802171ff0578875748d20b4e9c8c9463"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePool::release </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_release_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html">PagePoolOffsetChunk</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the specified number of free pages from the chunk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_release_count</td><td>we release this number of free pages </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chunk</td><td>we release free pages from the tail of this chunk </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>chunk-&gt;size() - desired_release_count &gt;= 0</dd></dl>
<p>Callers usually maintain one <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html" title="To reduce the overhead of grabbing/releasing pages from pool, we pack this many pointers for each gra...">PagePoolOffsetChunk</a> for its private use and calls this method when the size() goes above some threshold (eg 90%) so as to get size() about 50%. </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00134">134</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00302">foedus::memory::PagePoolPimpl::release()</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="composer_8cpp_source.html#l00114">foedus::storage::Composer::DropVolatilesArguments::drop()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00789">foedus::thread::ThreadPimpl::flush_retired_volatile_page()</a>, <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>, <a class="el" href="page__pool_8cpp_source.html#l00241">foedus::memory::RoundRobinPageGrabBatch::release_all()</a>, <a class="el" href="page__pool_8cpp_source.html#l00298">foedus::memory::DivvyupPageGrabBatch::release_all()</a>, <a class="el" href="page__pool_8cpp_source.html#l00178">foedus::memory::PageReleaseBatch::release_chunk()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00170">foedus::memory::NumaCoreMemory::uninitialize_once()</a>, and <a class="el" href="thread__pimpl_8cpp_source.html#l00122">foedus::thread::ThreadPimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                                                        {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c">release</a>(desired_release_count, chunk);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a13d785355359fd936c2b3863d296ba2c"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c">foedus::memory::PagePoolPimpl::release</a></div><div class="ttdeci">void release(uint32_t desired_release_count, PagePoolOffsetChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00302">page_pool_pimpl.cpp:302</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_cgraph" id="classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="232,5,411,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_icgraph" id="classfoedus_1_1memory_1_1PagePool_a802171ff0578875748d20b4e9c8c9463_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="232,5,435,47"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html#aa29872b9c654848dde2e5c0ca1409da0" title="Returns (might cache) the given pointer to volatile pool. " alt="" coords="232,133,435,175"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="1014,57,1198,113"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="241,203,425,244"/>
<area shape="rect" id="node26" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="234,268,433,309"/>
<area shape="rect" id="node29" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a256ca43b80dc2eb1dfdf5fd630fe3dd4" title="Called at the end to return all remaining pages to their pools. " alt="" coords="237,333,430,375"/>
<area shape="rect" id="node31" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ab199aa6af43bf8493868d70a5e1732fe" title="Called at the end to return all remaining pages to their pools. " alt="" coords="235,399,431,440"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#af16728969f6c3544544000355b6d4f30" title="Return all batched pages in the given chunk to its pool. " alt="" coords="233,464,433,505"/>
<area shape="rect" id="node45" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a4a7a7f3ef2839774e1e35fc0b9f79336" title="foedus::memory::NumaCore\lMemory::uninitialize_once" alt="" coords="241,529,425,571"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aba7104a56eaff1c1f8c87f5bb03f4045" title="foedus::thread::ThreadPimpl\l::uninitialize_once" alt="" coords="241,595,425,636"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="511,5,689,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="509,122,691,178"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="776,127,955,168"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1247,64,1473,105"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1521,57,1732,113"/>
<area shape="rect" id="node10" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1808,31,1963,72"/>
<area shape="rect" id="node12" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1780,96,1991,137"/>
<area shape="rect" id="node11" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="2039,31,2233,72"/>
<area shape="rect" id="node13" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="2039,96,2233,137"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="504,203,696,244"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="769,203,961,244"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="1019,333,1193,375"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1019,268,1193,309"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="1019,137,1193,179"/>
<area shape="rect" id="node23" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="1019,203,1193,244"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="1019,399,1193,455"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1273,301,1447,343"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="1273,203,1447,244"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="1263,137,1457,179"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1273,407,1447,448"/>
<area shape="rect" id="node27" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="501,268,699,309"/>
<area shape="rect" id="node28" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="766,268,965,309"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a9e55ed7e111f63dc91c5fbb610baf30e" title="foedus::memory::RoundRobin\lPageGrabBatch::~RoundRobinPage\lGrabBatch" alt="" coords="485,334,715,390"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad3b2fa88186f79546ae747162510af76" title="foedus::memory::DivvyupPage\lGrabBatch::~DivvyupPageGrabBatch" alt="" coords="483,415,717,456"/>
<area shape="rect" id="node34" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aedda2314df207e1d39509858cbee6bbd" title="Returns the given in&#45;memory page to the specified NUMA node. " alt="" coords="500,545,700,587"/>
<area shape="rect" id="node35" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aacfb0dd808ba1a987cea4d957e8e511b" title="Called at the end to return all batched pages to their pools. " alt="" coords="500,480,700,521"/>
<area shape="rect" id="node36" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#ac93d73bec0e959851e5a29482e83c5a9" title="foedus::memory::PageRelease\lBatch::~PageReleaseBatch" alt="" coords="765,375,965,416"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ab725dd6fcc1f7345bb27123575555f6a" title="foedus::storage::array\l::ArrayStorage::drop" alt="" coords="791,440,939,481"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a72474ba11f14c8e37ab6b9b3bd92d64b" title="foedus::storage::hash\l::HashIntermediatePage\l::release_pages_recursive\l_parallel" alt="" coords="779,505,951,576"/>
<area shape="rect" id="node41" href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3" title="foedus::storage::masstree\l::release_parallel" alt="" coords="779,600,952,641"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a79c499b589d9e31709b066f1457bc1e3" title="foedus::storage::hash\l::HashStoragePimpl::drop" alt="" coords="1021,520,1191,561"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ab5edd3becb0d83ffab431754e2d80118" title="foedus::storage::hash\l::HashStorage::drop" alt="" coords="1287,520,1433,561"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a854ff4750eb7aad99b3cff474882ec5c" title="This method is used when we release a large number of volatile pages, most likely when we drop a stor..." alt="" coords="1013,585,1199,656"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67ab7c42dbfd788773d6293ffdb64d52" title="Storage&#45;wide operations, such as drop, create, etc. " alt="" coords="1263,600,1457,641"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a40e22349aa6902839d3b80ac35e84790" title="foedus::storage::masstree\l::MasstreeStorage::drop" alt="" coords="1540,600,1713,641"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a71b1e15e332e971b0dd00c9e393ed255"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePool::release </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_release_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetDynamicChunk.html">PagePoolOffsetDynamicChunk</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00137">137</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00302">foedus::memory::PagePoolPimpl::release()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                                                                               {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c">release</a>(desired_release_count, chunk);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a13d785355359fd936c2b3863d296ba2c"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c">foedus::memory::PagePoolPimpl::release</a></div><div class="ttdeci">void release(uint32_t desired_release_count, PagePoolOffsetChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00302">page_pool_pimpl.cpp:302</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a71b1e15e332e971b0dd00c9e393ed255_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a71b1e15e332e971b0dd00c9e393ed255_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a71b1e15e332e971b0dd00c9e393ed255_cgraph" id="classfoedus_1_1memory_1_1PagePool_a71b1e15e332e971b0dd00c9e393ed255_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="232,5,411,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a560b48480c6d6917496d2ec5c44333eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePool::release </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_release_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html">PagePoolOffsetAndEpochChunk</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overload for <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html" title="Used to store an epoch value with each entry in PagePoolOffsetChunk. ">PagePoolOffsetAndEpochChunk</a>. </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00140">140</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00302">foedus::memory::PagePoolPimpl::release()</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                                                                                {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c">release</a>(desired_release_count, chunk);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a13d785355359fd936c2b3863d296ba2c"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c">foedus::memory::PagePoolPimpl::release</a></div><div class="ttdeci">void release(uint32_t desired_release_count, PagePoolOffsetChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00302">page_pool_pimpl.cpp:302</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a560b48480c6d6917496d2ec5c44333eb_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a560b48480c6d6917496d2ec5c44333eb_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a560b48480c6d6917496d2ec5c44333eb_cgraph" id="classfoedus_1_1memory_1_1PagePool_a560b48480c6d6917496d2ec5c44333eb_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="232,5,411,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa7220391af1f368d1fd36b48cc1e2995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePool::release_one </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns only one page. </p>
<p>More expensive, but handy in some situation. </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00144">144</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8cpp_source.html#l00312">foedus::memory::PagePoolPimpl::release_one()</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00271">foedus::storage::hash::HashIntermediatePage::release_pages_recursive_parallel()</a>, and <a class="el" href="masstree__page__impl_8cpp_source.html#l00188">foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive_parallel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{ pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a741d98bc9dd15581c1316ae5eaf492d5">release_one</a>(offset); }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a741d98bc9dd15581c1316ae5eaf492d5"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a741d98bc9dd15581c1316ae5eaf492d5">foedus::memory::PagePoolPimpl::release_one</a></div><div class="ttdeci">void release_one(PagePoolOffset offset)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8cpp_source.html#l00312">page_pool_pimpl.cpp:312</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_cgraph" id="classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a741d98bc9dd15581c1316ae5eaf492d5" title="foedus::memory::PagePool\lPimpl::release_one" alt="" coords="232,136,411,177"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="478,5,650,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="467,71,661,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="475,136,653,177"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="475,201,653,243"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3b5b895c26ed502d93e753389ce0a21b" title="foedus::memory::PagePool\lPimpl::increase_free_pool_count" alt="" coords="459,267,669,308"/>
<area shape="rect" id="node5" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="729,41,921,83"/>
<area shape="rect" id="node6" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="717,107,932,134"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_icgraph" id="classfoedus_1_1memory_1_1PagePool_aa7220391af1f368d1fd36b48cc1e2995_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="232,5,435,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a72474ba11f14c8e37ab6b9b3bd92d64b" title="foedus::storage::hash\l::HashIntermediatePage\l::release_pages_recursive\l_parallel" alt="" coords="247,71,419,141"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a854ff4750eb7aad99b3cff474882ec5c" title="This method is used when we release a large number of volatile pages, most likely when we drop a stor..." alt="" coords="241,165,426,236"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="491,5,669,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a79c499b589d9e31709b066f1457bc1e3" title="foedus::storage::hash\l::HashStoragePimpl::drop" alt="" coords="495,85,665,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ab5edd3becb0d83ffab431754e2d80118" title="foedus::storage::hash\l::HashStorage::drop" alt="" coords="739,85,885,127"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67ab7c42dbfd788773d6293ffdb64d52" title="Storage&#45;wide operations, such as drop, create, etc. " alt="" coords="483,180,677,221"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a40e22349aa6902839d3b80ac35e84790" title="foedus::storage::masstree\l::MasstreeStorage::drop" alt="" coords="725,180,899,221"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeaee1accaade5856ad8786a2f8a3a22a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePool::set_debug_pool_name </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this anytime after <a class="el" href="classfoedus_1_1memory_1_1PagePool.html#a6522fe3b6b37b4e87c0e4170e573b8d2">attach()</a> </p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00122">122</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="page__pool__pimpl_8hpp_source.html#l00135">foedus::memory::PagePoolPimpl::set_debug_pool_name()</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8cpp_source.html#l00057">foedus::memory::NumaNodeMemory::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{ pimpl_-&gt;<a class="code" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a4b74a063f1e70b1a634a77092b61e435">set_debug_pool_name</a>(name); }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolPimpl_html_a4b74a063f1e70b1a634a77092b61e435"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a4b74a063f1e70b1a634a77092b61e435">foedus::memory::PagePoolPimpl::set_debug_pool_name</a></div><div class="ttdeci">void set_debug_pool_name(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool__pimpl_8hpp_source.html#l00135">page_pool_pimpl.hpp:135</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_cgraph" id="classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a4b74a063f1e70b1a634a77092b61e435" title="foedus::memory::PagePool\lPimpl::set_debug_pool_name" alt="" coords="232,5,425,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1assorted_1_1FixedString.html#a4d6e347fcdae7d141e0167ad5a4a4bd2" title="Assign operator for all FixedString objects. " alt="" coords="473,5,665,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_icgraph" id="classfoedus_1_1memory_1_1PagePool_aeaee1accaade5856ad8786a2f8a3a22a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="232,5,419,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a90b989911378d6bf2d7d75352dc77165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::memory::PagePool::uninitialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An <em>idempotent</em> method to release all resources of this object, if any. </p>
<p>After this method, <a class="el" href="classfoedus_1_1memory_1_1PagePool.html#aea9acc75679861935dc7d2833ea458e4" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return FALSE. <b>Whether</b> this method encounters an error or not, the implementation should make the best effort to release as many resources as possible. In other words, Do not leak <b>all</b> resources because of <b>one</b> issue. This method itself is NOT thread-safe. Do not call this in a racy situation. </p><dl class="section attention"><dt>Attention</dt><dd>This method is NOT automatically called from the destructor. This is due to the fundamental limitation in C++. Explicitly call this method as soon as you are done, checking the returned value. You can also use <a class="el" href="classfoedus_1_1UninitializeGuard.html" title="Calls Initializable::uninitialize() automatically when it gets out of scope. ">UninitializeGuard</a> to ameliorate the issue, but it's not perfect. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The error this method encounters, if any. In case there are multiple errors while uninitialization, the implementation should use <a class="el" href="classfoedus_1_1ErrorStackBatch.html" title="Batches zero or more ErrorStack objects to represent in one ErrorStack. ">ErrorStackBatch</a> to produce a batched <a class="el" href="classfoedus_1_1ErrorStack.html" title="Brings error stacktrace information as return value of functions. ">ErrorStack</a> object. </dd></dl>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#afbe5738b0bc85362fba80bdf788fd3c3">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00116">116</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00187">foedus::DefaultInitializable::uninitialize()</a>.</p>

<p>Referenced by <a class="el" href="numa__node__memory_8cpp_source.html#l00175">foedus::memory::NumaNodeMemory::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">uninitialize</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_ab14b136a7d26f9f499ab9dc15a45a8cb"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">foedus::DefaultInitializable::uninitialize</a></div><div class="ttdeci">ErrorStack uninitialize() override final</div><div class="ttdoc">Typical implementation of Initializable::uninitialize() that provides uninitialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00187">initializable.hpp:187</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_cgraph" id="classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="232,39,404,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="452,5,624,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="452,71,624,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_icgraph" id="classfoedus_1_1memory_1_1PagePool_a90b989911378d6bf2d7d75352dc77165_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#ac0413b28301186a33621d72b12c92870" title="foedus::memory::NumaNode\lMemory::uninitialize_once" alt="" coords="232,5,419,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="abe4dd63cab94f7eb13f9665b8e881176"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00148">148</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                                         {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  o &lt;&lt; v.pimpl_;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/memory/<a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/memory/<a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1memory.html">memory</a></li><li class="navelem"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
