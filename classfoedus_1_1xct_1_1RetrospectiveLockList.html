<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::xct::RetrospectiveLockList Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1xct_1_1RetrospectiveLockList.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1xct_1_1RetrospectiveLockList-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::xct::RetrospectiveLockList Class Reference<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__XCT.html">Transaction Manager</a> &raquo; <a class="el" href="group__RLL.html">Retrospective Lock List</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Retrospective lock list.  
 <a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Retrospective lock list. </p>
<p>This is <em>NOT</em> a POD because we need dynamic memory for the list. </p><dl class="section note"><dt>Note</dt><dd>This object itself is thread-private. No concurrency control needed. </dd></dl>

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00189">189</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae5243dadf1989a036c762589ac12ac13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#ae5243dadf1989a036c762589ac12ac13">RetrospectiveLockList</a> ()</td></tr>
<tr class="memdesc:ae5243dadf1989a036c762589ac12ac13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init/Uninit.  <a href="#ae5243dadf1989a036c762589ac12ac13">More...</a><br /></td></tr>
<tr class="separator:ae5243dadf1989a036c762589ac12ac13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483e36fdf16824e1c72b37cc140b4930"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a483e36fdf16824e1c72b37cc140b4930">~RetrospectiveLockList</a> ()</td></tr>
<tr class="separator:a483e36fdf16824e1c72b37cc140b4930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b7a86ff61fec046d3c0645023fb535"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a94b7a86ff61fec046d3c0645023fb535">init</a> (<a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *array, uint32_t capacity, const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;resolver)</td></tr>
<tr class="separator:a94b7a86ff61fec046d3c0645023fb535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7bc64fe85e2d2173c67b6bd8efc9e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c7bc64fe85e2d2173c67b6bd8efc9e5">uninit</a> ()</td></tr>
<tr class="separator:a6c7bc64fe85e2d2173c67b6bd8efc9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd6c3ee6c1e8b0da192818e70fec846"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846">clear_entries</a> ()</td></tr>
<tr class="separator:acdd6c3ee6c1e8b0da192818e70fec846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa962bee534789c572b6c38984c5d5d38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38">binary_search</a> (<a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">UniversalLockId</a> lock) const </td></tr>
<tr class="memdesc:aa962bee534789c572b6c38984c5d5d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogous to std::binary_search() for the given lock.  <a href="#aa962bee534789c572b6c38984c5d5d38">More...</a><br /></td></tr>
<tr class="separator:aa962bee534789c572b6c38984c5d5d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a3371918f47951ef47af35c2979697"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a67a3371918f47951ef47af35c2979697">lower_bound</a> (<a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">UniversalLockId</a> lock) const </td></tr>
<tr class="memdesc:a67a3371918f47951ef47af35c2979697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogous to std::lower_bound() for the given lock.  <a href="#a67a3371918f47951ef47af35c2979697">More...</a><br /></td></tr>
<tr class="separator:a67a3371918f47951ef47af35c2979697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d217000e4df1d2d8e829c37218f93e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a38d217000e4df1d2d8e829c37218f93e">construct</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, uint32_t read_lock_threshold)</td></tr>
<tr class="memdesc:a38d217000e4df1d2d8e829c37218f93e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill out this retrospetive lock list for the next run of the given transaction.  <a href="#a38d217000e4df1d2d8e829c37218f93e">More...</a><br /></td></tr>
<tr class="separator:a38d217000e4df1d2d8e829c37218f93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd7b6530aeff7f5323880bf0b6b14ce0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0">get_array</a> () const </td></tr>
<tr class="separator:acd7b6530aeff7f5323880bf0b6b14ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b2aa926de8d4dd514580344f8c0d85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a74b2aa926de8d4dd514580344f8c0d85">get_entry</a> (<a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> pos)</td></tr>
<tr class="separator:a74b2aa926de8d4dd514580344f8c0d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7102ba677654ac12ad43d6bbca6ac2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a5b7102ba677654ac12ad43d6bbca6ac2">get_entry</a> (<a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> pos) const </td></tr>
<tr class="separator:a5b7102ba677654ac12ad43d6bbca6ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1f0c4eb14a988576037fc8f58a3241"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a3d1f0c4eb14a988576037fc8f58a3241">get_capacity</a> () const </td></tr>
<tr class="separator:a3d1f0c4eb14a988576037fc8f58a3241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeae5ce72d1c324ecc32dce36459340a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#afeae5ce72d1c324ecc32dce36459340a">get_last_active_entry</a> () const </td></tr>
<tr class="separator:afeae5ce72d1c324ecc32dce36459340a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0614dd1f8d7b7f42bc1777af270ebbce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a0614dd1f8d7b7f42bc1777af270ebbce">is_valid_entry</a> (<a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> pos) const </td></tr>
<tr class="separator:a0614dd1f8d7b7f42bc1777af270ebbce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c96bb5725be6694030bd8ce88d68698"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698">is_empty</a> () const </td></tr>
<tr class="separator:a6c96bb5725be6694030bd8ce88d68698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1397c6847c1ee46ba9c09457b4f5866e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e">assert_sorted</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a1397c6847c1ee46ba9c09457b4f5866e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d555cbd9ddee31c68c9c81ff84c129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129">assert_sorted_impl</a> () const </td></tr>
<tr class="separator:a14d555cbd9ddee31c68c9c81ff84c129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8816862df9a53481685a257632eaeea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa8816862df9a53481685a257632eaeea">begin</a> ()</td></tr>
<tr class="separator:aa8816862df9a53481685a257632eaeea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87841ca555b8fb3fb984baf5c2c0e591"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a87841ca555b8fb3fb984baf5c2c0e591">end</a> ()</td></tr>
<tr class="separator:a87841ca555b8fb3fb984baf5c2c0e591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bcb008d4e620f5508f7c69485ade366"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a9bcb008d4e620f5508f7c69485ade366">cbegin</a> () const </td></tr>
<tr class="separator:a9bcb008d4e620f5508f7c69485ade366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81de3b551fb5d282fb34a18c9949875a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a81de3b551fb5d282fb34a18c9949875a">cend</a> () const </td></tr>
<tr class="separator:a81de3b551fb5d282fb34a18c9949875a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff8ccbccdede750fb5a18b4da505ad9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1ff8ccbccdede750fb5a18b4da505ad9">get_volatile_page_resolver</a> () const </td></tr>
<tr class="separator:a1ff8ccbccdede750fb5a18b4da505ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:acbba6436107d44463bc78619ffe1e6a3"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acbba6436107d44463bc78619ffe1e6a3">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html">RetrospectiveLockList</a> &amp;v)</td></tr>
<tr class="separator:acbba6436107d44463bc78619ffe1e6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae5243dadf1989a036c762589ac12ac13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::xct::RetrospectiveLockList::RetrospectiveLockList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init/Uninit. </p>

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00039">39</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>References <a class="el" href="retrospective__lock__list_8cpp_source.html#l00059">clear_entries()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                             {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  array_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  capacity_ = 0;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846">clear_entries</a>();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_acdd6c3ee6c1e8b0da192818e70fec846"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846">foedus::xct::RetrospectiveLockList::clear_entries</a></div><div class="ttdeci">void clear_entries()</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8cpp_source.html#l00059">retrospective_lock_list.cpp:59</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_ae5243dadf1989a036c762589ac12ac13_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_ae5243dadf1989a036c762589ac12ac13_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_ae5243dadf1989a036c762589ac12ac13_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_ae5243dadf1989a036c762589ac12ac13_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846" title="foedus::xct::Retrospective\lLockList::clear_entries" alt="" coords="260,5,432,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a483e36fdf16824e1c72b37cc140b4930"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::xct::RetrospectiveLockList::~RetrospectiveLockList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00045">45</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>References <a class="el" href="retrospective__lock__list_8cpp_source.html#l00070">uninit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                              {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c7bc64fe85e2d2173c67b6bd8efc9e5">uninit</a>();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_a6c7bc64fe85e2d2173c67b6bd8efc9e5"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c7bc64fe85e2d2173c67b6bd8efc9e5">foedus::xct::RetrospectiveLockList::uninit</a></div><div class="ttdeci">void uninit()</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8cpp_source.html#l00070">retrospective_lock_list.cpp:70</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a483e36fdf16824e1c72b37cc140b4930_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a483e36fdf16824e1c72b37cc140b4930_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a483e36fdf16824e1c72b37cc140b4930_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a483e36fdf16824e1c72b37cc140b4930_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c7bc64fe85e2d2173c67b6bd8efc9e5" title="foedus::xct::Retrospective\lLockList::uninit" alt="" coords="268,5,440,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846" title="foedus::xct::Retrospective\lLockList::clear_entries" alt="" coords="488,5,660,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1397c6847c1ee46ba9c09457b4f5866e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::RetrospectiveLockList::assert_sorted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00548">548</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>References <a class="el" href="retrospective__lock__list_8cpp_source.html#l00182">assert_sorted_impl()</a>.</p>

<p>Referenced by <a class="el" href="retrospective__lock__list_8cpp_source.html#l00252">construct()</a>, and <a class="el" href="retrospective__lock__list_8cpp_source.html#l00445">foedus::xct::CurrentLockList::prepopulate_for_retrospective_lock_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                                       {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// In release mode, this code must be completely erased by compiler</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="preprocessor">#ifndef  NDEBUG</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129">assert_sorted_impl</a>();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="preprocessor">#endif  // NDEBUG</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_a14d555cbd9ddee31c68c9c81ff84c129"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129">foedus::xct::RetrospectiveLockList::assert_sorted_impl</a></div><div class="ttdeci">void assert_sorted_impl() const </div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8cpp_source.html#l00182">retrospective_lock_list.cpp:182</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129" title="foedus::xct::Retrospective\lLockList::assert_sorted_impl" alt="" coords="225,64,415,105"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="463,64,624,105"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="680,5,829,47"/>
<area shape="rect" id="node5" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="672,71,837,98"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="673,123,836,164"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="885,89,1079,131"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="901,155,1063,196"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a1397c6847c1ee46ba9c09457b4f5866e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a38d217000e4df1d2d8e829c37218f93e" title="Fill out this retrospetive lock list for the next run of the given transaction. " alt="" coords="225,67,397,108"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#a4a10e19f1d603ab47e74c605a9909fb5" title="Another batch&#45;insert method used at the beginning of a transaction. " alt="" coords="229,133,393,189"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="445,67,640,108"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="704,5,867,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="688,71,883,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="931,71,1093,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1Xct.html#ac525c6624f248cd869b111b7d4338b30" title="Begins the transaction. " alt="" coords="461,147,625,174"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="688,140,883,181"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. " alt="" coords="931,140,1093,181"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14d555cbd9ddee31c68c9c81ff84c129"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::RetrospectiveLockList::assert_sorted_impl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00182">182</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>References <a class="el" href="retrospective__lock__list_8cpp_source.html#l00159">foedus::xct::lock_assert_sorted()</a>.</p>

<p>Referenced by <a class="el" href="retrospective__lock__list_8hpp_source.html#l00548">assert_sorted()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                                     {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68">lock_assert_sorted</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1xct_html_a736225e9852f9c75b92e134dbbe40a68"><div class="ttname"><a href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68">foedus::xct::lock_assert_sorted</a></div><div class="ttdeci">void lock_assert_sorted(const LOCK_LIST &amp;list)</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8cpp_source.html#l00159">retrospective_lock_list.cpp:159</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="243,64,404,105"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="460,5,609,47"/>
<area shape="rect" id="node4" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="452,71,617,98"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="453,123,616,164"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="665,89,859,131"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="681,155,843,196"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a14d555cbd9ddee31c68c9c81ff84c129_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e" title="foedus::xct::Retrospective\lLockList::assert_sorted" alt="" coords="243,104,415,145"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a38d217000e4df1d2d8e829c37218f93e" title="Fill out this retrospetive lock list for the next run of the given transaction. " alt="" coords="463,67,635,108"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#a4a10e19f1d603ab47e74c605a9909fb5" title="Another batch&#45;insert method used at the beginning of a transaction. " alt="" coords="467,133,631,189"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="683,67,877,108"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="941,5,1104,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="925,71,1120,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1168,71,1331,112"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1Xct.html#ac525c6624f248cd869b111b7d4338b30" title="Begins the transaction. " alt="" coords="698,147,862,174"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="925,140,1120,181"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. " alt="" coords="1168,140,1331,181"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa8816862df9a53481685a257632eaeea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a>* foedus::xct::RetrospectiveLockList::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00254">254</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{ <span class="keywordflow">return</span> array_ + 1U; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa962bee534789c572b6c38984c5d5d38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> foedus::xct::RetrospectiveLockList::binary_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">UniversalLockId</a>&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analogous to std::binary_search() for the given lock. </p>
<dl class="section return"><dt>Returns</dt><dd>Index of an entry whose lock_ == lock. kLockListPositionInvalid if not found. </dd></dl>

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00193">193</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>Referenced by <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                                                                {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> lock_binary_search&lt;RetrospectiveLockList, LockEntry&gt;(*<span class="keyword">this</span>, lock);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_aa962bee534789c572b6c38984c5d5d38_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_aa962bee534789c572b6c38984c5d5d38_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_aa962bee534789c572b6c38984c5d5d38_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_aa962bee534789c572b6c38984c5d5d38_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="225,391,392,447"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="440,399,575,440"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="657,5,792,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="642,71,807,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="642,151,807,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="642,231,807,287"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="642,311,807,367"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="623,391,827,447"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="642,471,807,527"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="642,551,807,607"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="642,631,807,687"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="636,711,813,767"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="636,1111,813,1167"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="879,79,1054,120"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="879,151,1054,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="879,231,1054,287"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="879,311,1054,367"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="881,391,1052,447"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="879,471,1054,527"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="879,551,1054,607"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="879,631,1054,687"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="876,711,1057,767"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1124,631,1305,687"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1124,711,1305,767"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1399,551,1580,607"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1407,631,1571,687"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1407,711,1571,767"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1128,951,1301,1007"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="877,1111,1056,1167"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="880,1425,1053,1481"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="875,1563,1059,1619"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1382,799,1597,840"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1390,864,1589,905"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1403,1157,1576,1213"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1403,930,1576,986"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1371,1011,1608,1052"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1374,1257,1605,1299"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1396,1077,1583,1133"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1128,791,1301,847"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1128,871,1301,927"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1128,1031,1301,1087"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1120,1111,1309,1167"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="1117,1191,1312,1247"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="1121,1271,1308,1327"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="1120,1351,1309,1407"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1109,1432,1321,1473"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1107,1497,1323,1539"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1128,1563,1301,1619"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1128,1643,1301,1699"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9bcb008d4e620f5508f7c69485ade366"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a>* foedus::xct::RetrospectiveLockList::cbegin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00256">256</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{ <span class="keywordflow">return</span> array_ + 1U; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81de3b551fb5d282fb34a18c9949875a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a>* foedus::xct::RetrospectiveLockList::cend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00257">257</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{ <span class="keywordflow">return</span> array_ + 1U + last_active_entry_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acdd6c3ee6c1e8b0da192818e70fec846"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::RetrospectiveLockList::clear_entries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00059">59</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>References <a class="el" href="xct__id_8hpp_source.html#l00149">foedus::xct::kLockListPositionInvalid</a>, <a class="el" href="xct__id_8hpp_source.html#l00100">foedus::xct::kNoLock</a>, <a class="el" href="retrospective__lock__list_8hpp_source.html#l00130">foedus::xct::LockEntry::lock_</a>, <a class="el" href="retrospective__lock__list_8hpp_source.html#l00136">foedus::xct::LockEntry::preferred_mode_</a>, <a class="el" href="retrospective__lock__list_8hpp_source.html#l00139">foedus::xct::LockEntry::taken_mode_</a>, and <a class="el" href="retrospective__lock__list_8hpp_source.html#l00125">foedus::xct::LockEntry::universal_lock_id_</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00954">foedus::xct::XctManagerPimpl::abort_xct()</a>, <a class="el" href="retrospective__lock__list_8cpp_source.html#l00049">init()</a>, <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00343">foedus::xct::XctManagerPimpl::precommit_xct()</a>, <a class="el" href="retrospective__lock__list_8cpp_source.html#l00039">RetrospectiveLockList()</a>, and <a class="el" href="retrospective__lock__list_8cpp_source.html#l00070">uninit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                          {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  last_active_entry_ = <a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">if</span> (array_) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Dummy entry</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    array_[<a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>].<a class="code" href="structfoedus_1_1xct_1_1LockEntry.html#ac4dd063e8f157e49b468d9acb3efa276">universal_lock_id_</a> = 0;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    array_[<a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>].<a class="code" href="structfoedus_1_1xct_1_1LockEntry.html#a1a081cde83f98cb29241c65708ac84ed">lock_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    array_[<a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>].<a class="code" href="structfoedus_1_1xct_1_1LockEntry.html#a6dd08e0e30b67bb07a86dfd66dba2fd1">preferred_mode_</a> = <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c">kNoLock</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    array_[<a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>].<a class="code" href="structfoedus_1_1xct_1_1LockEntry.html#a045022b5415f8fa093fe7ec0ff17b565">taken_mode_</a> = <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c">kNoLock</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="structfoedus_1_1xct_1_1LockEntry_html_ac4dd063e8f157e49b468d9acb3efa276"><div class="ttname"><a href="structfoedus_1_1xct_1_1LockEntry.html#ac4dd063e8f157e49b468d9acb3efa276">foedus::xct::LockEntry::universal_lock_id_</a></div><div class="ttdeci">UniversalLockId universal_lock_id_</div><div class="ttdoc">Used to order locks in canonical order. </div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00125">retrospective_lock_list.hpp:125</a></div></div>
<div class="ttc" id="namespacefoedus_1_1xct_html_a3882c3684e3adb4a6992ef230443a02c"><div class="ttname"><a href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">foedus::xct::kLockListPositionInvalid</a></div><div class="ttdeci">const LockListPosition kLockListPositionInvalid</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00149">xct_id.hpp:149</a></div></div>
<div class="ttc" id="group__XCT_html_ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c"><div class="ttname"><a href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c">foedus::xct::kNoLock</a></div><div class="ttdoc">taken_mode_: Not taken the lock yet. </div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00100">xct_id.hpp:100</a></div></div>
<div class="ttc" id="structfoedus_1_1xct_1_1LockEntry_html_a6dd08e0e30b67bb07a86dfd66dba2fd1"><div class="ttname"><a href="structfoedus_1_1xct_1_1LockEntry.html#a6dd08e0e30b67bb07a86dfd66dba2fd1">foedus::xct::LockEntry::preferred_mode_</a></div><div class="ttdeci">LockMode preferred_mode_</div><div class="ttdoc">Whick lock mode we should take according to RLL. </div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00136">retrospective_lock_list.hpp:136</a></div></div>
<div class="ttc" id="structfoedus_1_1xct_1_1LockEntry_html_a045022b5415f8fa093fe7ec0ff17b565"><div class="ttname"><a href="structfoedus_1_1xct_1_1LockEntry.html#a045022b5415f8fa093fe7ec0ff17b565">foedus::xct::LockEntry::taken_mode_</a></div><div class="ttdeci">LockMode taken_mode_</div><div class="ttdoc">Whick lock mode we have taken during the current run (of course initially kNoLock) ...</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00139">retrospective_lock_list.hpp:139</a></div></div>
<div class="ttc" id="structfoedus_1_1xct_1_1LockEntry_html_a1a081cde83f98cb29241c65708ac84ed"><div class="ttname"><a href="structfoedus_1_1xct_1_1LockEntry.html#a1a081cde83f98cb29241c65708ac84ed">foedus::xct::LockEntry::lock_</a></div><div class="ttdeci">RwLockableXctId * lock_</div><div class="ttdoc">Virtual address of the lock. </div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00130">retrospective_lock_list.hpp:130</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_acdd6c3ee6c1e8b0da192818e70fec846_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_acdd6c3ee6c1e8b0da192818e70fec846_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_acdd6c3ee6c1e8b0da192818e70fec846_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_acdd6c3ee6c1e8b0da192818e70fec846_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="231,41,426,83"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="490,71,685,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a94b7a86ff61fec046d3c0645023fb535" title="foedus::xct::Retrospective\lLockList::init" alt="" coords="243,159,415,200"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="245,225,412,281"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#ae5243dadf1989a036c762589ac12ac13" title="Init/Uninit. " alt="" coords="225,305,432,347"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c7bc64fe85e2d2173c67b6bd8efc9e5" title="foedus::xct::Retrospective\lLockList::uninit" alt="" coords="243,432,415,473"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="506,5,669,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="763,31,926,72"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1Xct.html#a9dd027b4a8d21f45a60f82d110c5a529" title="foedus::xct::Xct::initialize" alt="" coords="504,151,671,178"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a741208e803d0a0bb5f979ebb099d2a8d" title="foedus::thread::ThreadPimpl\l::initialize_once" alt="" coords="753,96,937,137"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="520,489,655,531"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="777,643,912,684"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="762,734,927,790"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="762,827,927,883"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="762,907,927,963"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="762,987,927,1043"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="743,162,947,218"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="762,242,927,298"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="762,322,927,378"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="762,402,927,458"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="756,482,933,538"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="756,562,933,618"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="999,773,1174,815"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="999,839,1174,895"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="999,919,1174,975"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="999,999,1174,1055"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="1001,82,1172,138"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="999,162,1174,218"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="999,242,1174,298"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="999,322,1174,378"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="996,402,1177,458"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1231,322,1412,378"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1231,242,1412,298"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1235,722,1408,778"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="997,482,1176,538"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="1000,562,1173,618"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="995,642,1179,698"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1475,456,1690,497"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1483,533,1682,575"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1496,609,1669,665"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1496,835,1669,891"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1464,916,1701,957"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1467,689,1698,731"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1489,755,1676,811"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1235,402,1408,458"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1235,482,1408,538"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1235,642,1408,698"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1227,562,1416,618"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a483e36fdf16824e1c72b37cc140b4930" title="foedus::xct::Retrospective\lLockList::~RetrospectiveLockList" alt="" coords="480,555,695,596"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a38d217000e4df1d2d8e829c37218f93e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::RetrospectiveLockList::construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>read_lock_threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill out this retrospetive lock list for the next run of the given transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>the thread conveying the transaction. must be currently running a xct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_lock_threshold</td><td>we "recommend" a read lock in RLL for records whose page have this value or more in the temperature-stat. This value should be a bit lower than the threshold we trigger read-locks without RLL. Otherwise, the next run might often take a read-lock the RLL discarded due to a concurrent abort, which might violate canonical order.</td></tr>
  </table>
  </dd>
</dl>
<p>This method is invoked when a transaction aborts at precommit due to some conflict. Based on the current transaction's read/write-sets, this builds an RLL that contains locks we <em>probably</em> should take next time in a canonical order. </p><dl class="section note"><dt>Note</dt><dd>we should keep an eye on the CPU cost of this method. Hopefully negligible. We can speed up this method by merging RLL/CLL to read/write-set in xct so that we don't need another sorting. </dd></dl>

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00252">252</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="retrospective__lock__list_8hpp_source.html#l00548">assert_sorted()</a>, <a class="el" href="thread_8cpp_source.html#l00075">foedus::thread::Thread::get_current_xct()</a>, <a class="el" href="page_8hpp_source.html#l00336">foedus::storage::Page::get_header()</a>, <a class="el" href="xct_8hpp_source.html#l00162">foedus::xct::Xct::get_read_set()</a>, <a class="el" href="xct_8hpp_source.html#l00156">foedus::xct::Xct::get_read_set_size()</a>, <a class="el" href="xct_8hpp_source.html#l00163">foedus::xct::Xct::get_write_set()</a>, <a class="el" href="xct_8hpp_source.html#l00157">foedus::xct::Xct::get_write_set_size()</a>, <a class="el" href="page_8hpp_source.html#l00268">foedus::storage::PageHeader::hotness_</a>, <a class="el" href="xct_8hpp_source.html#l00121">foedus::xct::Xct::is_active()</a>, <a class="el" href="xct__id_8hpp_source.html#l00149">foedus::xct::kLockListPositionInvalid</a>, <a class="el" href="xct__id_8hpp_source.html#l00100">foedus::xct::kNoLock</a>, <a class="el" href="xct__id_8hpp_source.html#l00105">foedus::xct::kReadLock</a>, <a class="el" href="xct__id_8hpp_source.html#l00110">foedus::xct::kWriteLock</a>, <a class="el" href="retrospective__lock__list_8hpp_source.html#l00136">foedus::xct::LockEntry::preferred_mode_</a>, <a class="el" href="retrospective__lock__list_8hpp_source.html#l00150">foedus::xct::LockEntry::set()</a>, <a class="el" href="page_8hpp_source.html#l00395">foedus::storage::to_page()</a>, <a class="el" href="prob__counter_8hpp_source.html#l00043">foedus::assorted::ProbCounter::value_</a>, <a class="el" href="xct__id_8hpp_source.html#l01137">foedus::xct::RwLockableXctId::xct_id_</a>, and <a class="el" href="xct__id_8hpp_source.html#l01226">foedus::xct::xct_id_to_universal_lock_id()</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00954">foedus::xct::XctManagerPimpl::abort_xct()</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                                                         {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  Xct* xct = &amp;context-&gt;get_current_xct();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(xct-&gt;is_active());</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// We currently hold read/write-set separately. So, we need to sort and merge them.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  ReadXctAccess* read_set = xct-&gt;get_read_set();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keyword">const</span> uint32_t read_set_size = xct-&gt;get_read_set_size();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  WriteXctAccess* write_set = xct-&gt;get_write_set();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keyword">const</span> uint32_t write_set_size = xct-&gt;get_write_set_size();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(capacity_ &gt;= read_set_size + write_set_size);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  last_active_entry_ = <a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">if</span> (read_set_size == 0 &amp;&amp; write_set_size == 0) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; read_set_size; ++i) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    RwLockableXctId* lock = read_set[i].owner_id_address_;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    storage::Page* page = <a class="code" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">storage::to_page</a>(lock);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (page-&gt;get_header().hotness_.value_ &lt; read_lock_threshold</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      &amp;&amp; lock-&gt;xct_id_ == read_set[i].observed_owner_id_) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">// We also add it to RLL whenever we observed a verification error.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">auto</span> pos = issue_new_position();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      read_set[i].owner_lock_id_ ==</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <a class="code" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748">xct_id_to_universal_lock_id</a>(volatile_page_resolver_, lock));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    array_[pos].<a class="code" href="structfoedus_1_1xct_1_1LockEntry.html#a54190c5faf4f6943043c1d83ed435f44">set</a>(read_set[i].owner_lock_id_, lock, <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca86b3d42905f04dcb855f26eb27fd9a85">kReadLock</a>, <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c">kNoLock</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  DVLOG(1) &lt;&lt; <span class="stringliteral">&quot;Added &quot;</span> &lt;&lt; last_active_entry_ &lt;&lt; <span class="stringliteral">&quot; to RLL for read-locks&quot;</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Writes are always added to RLL.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; write_set_size; ++i) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keyword">auto</span> pos = issue_new_position();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      write_set[i].owner_lock_id_ ==</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <a class="code" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748">xct_id_to_universal_lock_id</a>(volatile_page_resolver_, write_set[i].owner_id_address_));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    array_[pos].<a class="code" href="structfoedus_1_1xct_1_1LockEntry.html#a54190c5faf4f6943043c1d83ed435f44">set</a>(</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      write_set[i].owner_lock_id_,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      write_set[i].owner_id_address_,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca05c9c6b8c4d5e6e6cb32d7d407189826">kWriteLock</a>,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c">kNoLock</a>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// Now, the entries are not sorted and we might have duplicates.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// Sort them, and merge entries for the same record.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// std::set? no joke. we can&#39;t afford heap allocation here.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(last_active_entry_ != <a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  std::sort(array_ + 1U, array_ + last_active_entry_ + 1U);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> prev_pos = 1U;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  uint32_t merged_count = 0U;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> pos = 2U; pos &lt;= last_active_entry_; ++pos) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(prev_pos &lt; pos);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(array_[prev_pos].universal_lock_id_ &lt;= array_[pos].universal_lock_id_);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (array_[prev_pos].universal_lock_id_ == array_[pos].universal_lock_id_) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="comment">// Merge!</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> (array_[pos].preferred_mode_ == <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca05c9c6b8c4d5e6e6cb32d7d407189826">kWriteLock</a>) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        array_[prev_pos].<a class="code" href="structfoedus_1_1xct_1_1LockEntry.html#a6dd08e0e30b67bb07a86dfd66dba2fd1">preferred_mode_</a> = <a class="code" href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca05c9c6b8c4d5e6e6cb32d7d407189826">kWriteLock</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      ++merged_count;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// No merge.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">if</span> (prev_pos + 1U &lt; pos) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        std::memcpy(array_ + prev_pos + 1U, array_ + pos, <span class="keyword">sizeof</span>(LockEntry));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      ++prev_pos;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// For example, last_active_entry_ was 3 (0=Dummy, 1=A, 2=A, 3=B),</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// prev_pos becomes 2 while merged count is 1.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(prev_pos + merged_count == last_active_entry_);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  last_active_entry_ = prev_pos;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e">assert_sorted</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="ttc" id="group__XCT_html_ggae2b82bc723691c581c22944ef3cef43ca86b3d42905f04dcb855f26eb27fd9a85"><div class="ttname"><a href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca86b3d42905f04dcb855f26eb27fd9a85">foedus::xct::kReadLock</a></div><div class="ttdoc">taken_mode_: we took a read-lock, not write-lock yet. </div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00105">xct_id.hpp:105</a></div></div>
<div class="ttc" id="group__STORAGE_html_gaa114fc1859c2d4cb8b9e2021cb11cb25"><div class="ttname"><a href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">foedus::storage::to_page</a></div><div class="ttdeci">Page * to_page(const void *address)</div><div class="ttdoc">super-dirty way to obtain Page the address belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00395">page.hpp:395</a></div></div>
<div class="ttc" id="structfoedus_1_1xct_1_1LockEntry_html_a54190c5faf4f6943043c1d83ed435f44"><div class="ttname"><a href="structfoedus_1_1xct_1_1LockEntry.html#a54190c5faf4f6943043c1d83ed435f44">foedus::xct::LockEntry::set</a></div><div class="ttdeci">void set(UniversalLockId id, RwLockableXctId *lock, LockMode preferred_mode, LockMode taken_mode)</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00150">retrospective_lock_list.hpp:150</a></div></div>
<div class="ttc" id="namespacefoedus_1_1xct_html_a3882c3684e3adb4a6992ef230443a02c"><div class="ttname"><a href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">foedus::xct::kLockListPositionInvalid</a></div><div class="ttdeci">const LockListPosition kLockListPositionInvalid</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00149">xct_id.hpp:149</a></div></div>
<div class="ttc" id="group__XCT_html_ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c"><div class="ttname"><a href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca46a4f32dedfe259835e730a34150e07c">foedus::xct::kNoLock</a></div><div class="ttdoc">taken_mode_: Not taken the lock yet. </div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00100">xct_id.hpp:100</a></div></div>
<div class="ttc" id="namespacefoedus_1_1xct_html_ae36b3307af22f430a8f11765e3e57748"><div class="ttname"><a href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748">foedus::xct::xct_id_to_universal_lock_id</a></div><div class="ttdeci">UniversalLockId xct_id_to_universal_lock_id(const memory::GlobalVolatilePageResolver &amp;resolver, RwLockableXctId *lock)</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l01226">xct_id.hpp:1226</a></div></div>
<div class="ttc" id="group__XCT_html_gaf1e1817b6663c210b329ce1ea57e63fb"><div class="ttname"><a href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">foedus::xct::LockListPosition</a></div><div class="ttdeci">uint32_t LockListPosition</div><div class="ttdoc">Index in a lock-list, either RLL or CLL. </div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00148">xct_id.hpp:148</a></div></div>
<div class="ttc" id="structfoedus_1_1xct_1_1LockEntry_html_a6dd08e0e30b67bb07a86dfd66dba2fd1"><div class="ttname"><a href="structfoedus_1_1xct_1_1LockEntry.html#a6dd08e0e30b67bb07a86dfd66dba2fd1">foedus::xct::LockEntry::preferred_mode_</a></div><div class="ttdeci">LockMode preferred_mode_</div><div class="ttdoc">Whick lock mode we should take according to RLL. </div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00136">retrospective_lock_list.hpp:136</a></div></div>
<div class="ttc" id="group__XCT_html_ggae2b82bc723691c581c22944ef3cef43ca05c9c6b8c4d5e6e6cb32d7d407189826"><div class="ttname"><a href="group__XCT.html#ggae2b82bc723691c581c22944ef3cef43ca05c9c6b8c4d5e6e6cb32d7d407189826">foedus::xct::kWriteLock</a></div><div class="ttdoc">taken_mode_: we took a write-lock. </div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00110">xct_id.hpp:110</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_a1397c6847c1ee46ba9c09457b4f5866e"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e">foedus::xct::RetrospectiveLockList::assert_sorted</a></div><div class="ttdeci">void assert_sorted() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00548">retrospective_lock_list.hpp:548</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1397c6847c1ee46ba9c09457b4f5866e" title="foedus::xct::Retrospective\lLockList::assert_sorted" alt="" coords="229,109,401,150"/>
<area shape="rect" id="node6" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="899,57,1064,84"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="239,174,390,215"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="240,239,389,281"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1Xct.html#ae523b00cead387e6addb1366fe08546a" title="foedus::xct::Xct::get\l_read_set" alt="" coords="245,305,384,346"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1Xct.html#af7b9c43800807db798d2e58bc07ad5cd" title="foedus::xct::Xct::get\l_read_set_size" alt="" coords="245,370,384,411"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1Xct.html#ae5fa3dcdb891b99e5bc7d83ff2029f46" title="foedus::xct::Xct::get\l_write_set" alt="" coords="245,435,384,477"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1Xct.html#a674e3ce0252c1c9d2f73edf3b3c4307e" title="foedus::xct::Xct::get\l_write_set_size" alt="" coords="245,501,384,542"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199" title="Returns whether the object is an active transaction. " alt="" coords="249,566,380,607"/>
<area shape="rect" id="node17" href="structfoedus_1_1xct_1_1LockEntry.html#a54190c5faf4f6943043c1d83ed435f44" title="foedus::xct::LockEntry::set" alt="" coords="225,632,404,659"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="474,613,619,654"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a14d555cbd9ddee31c68c9c81ff84c129" title="foedus::xct::Retrospective\lLockList::assert_sorted_impl" alt="" coords="452,109,641,150"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="689,109,851,150"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="907,109,1056,150"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="900,237,1063,278"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1112,203,1305,245"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1128,269,1289,310"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a38d217000e4df1d2d8e829c37218f93e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="225,39,420,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="484,5,647,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="468,71,663,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="711,71,873,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87841ca555b8fb3fb984baf5c2c0e591"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a>* foedus::xct::RetrospectiveLockList::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00255">255</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{ <span class="keywordflow">return</span> array_ + 1U + last_active_entry_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acd7b6530aeff7f5323880bf0b6b14ce0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a>* foedus::xct::RetrospectiveLockList::get_array </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00234">234</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>Referenced by <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>, and <a class="el" href="retrospective__lock__list_8cpp_source.html#l00445">foedus::xct::CurrentLockList::prepopulate_for_retrospective_lock_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{ <span class="keywordflow">return</span> array_; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_acd7b6530aeff7f5323880bf0b6b14ce0_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_acd7b6530aeff7f5323880bf0b6b14ce0_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_acd7b6530aeff7f5323880bf0b6b14ce0_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_acd7b6530aeff7f5323880bf0b6b14ce0_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="225,691,392,747"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1CurrentLockList.html#a4a10e19f1d603ab47e74c605a9909fb5" title="Another batch&#45;insert method used at the beginning of a transaction. " alt="" coords="227,881,391,937"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="455,439,589,480"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="687,5,821,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="671,71,837,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="671,151,837,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="671,231,837,287"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="671,311,837,367"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="652,391,856,447"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="671,471,837,527"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="671,551,837,607"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="671,631,837,687"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="665,711,843,767"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="665,999,843,1055"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="909,79,1083,120"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="909,151,1083,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="909,231,1083,287"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="909,311,1083,367"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="911,391,1081,447"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="909,471,1083,527"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="909,551,1083,607"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="909,631,1083,687"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="905,711,1087,767"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1153,519,1335,575"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1153,599,1335,655"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1157,839,1331,895"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="907,999,1085,1055"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="909,1197,1083,1253"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="904,1277,1088,1333"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1411,687,1626,728"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1419,752,1618,793"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1432,1045,1605,1101"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1432,818,1605,874"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1400,899,1637,940"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1403,1145,1634,1187"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1425,965,1612,1021"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1157,679,1331,735"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1157,759,1331,815"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1157,919,1331,975"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1149,999,1339,1055"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="1147,1079,1341,1135"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="1151,1159,1337,1215"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="1149,1239,1339,1295"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1138,1320,1350,1361"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1136,1385,1352,1427"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1157,1451,1331,1507"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1Xct.html#ac525c6624f248cd869b111b7d4338b30" title="Begins the transaction. " alt="" coords="440,1115,604,1142"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="657,1219,851,1260"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. " alt="" coords="915,1357,1077,1399"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3d1f0c4eb14a988576037fc8f58a3241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::xct::RetrospectiveLockList::get_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00243">243</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{ <span class="keywordflow">return</span> capacity_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74b2aa926de8d4dd514580344f8c0d85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a>* foedus::xct::RetrospectiveLockList::get_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00235">235</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="retrospective__lock__list_8hpp_source.html#l00245">is_valid_entry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                             {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a0614dd1f8d7b7f42bc1777af270ebbce">is_valid_entry</a>(pos));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> array_ + pos;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_a0614dd1f8d7b7f42bc1777af270ebbce"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a0614dd1f8d7b7f42bc1777af270ebbce">foedus::xct::RetrospectiveLockList::is_valid_entry</a></div><div class="ttdeci">bool is_valid_entry(LockListPosition pos) const </div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00245">retrospective_lock_list.hpp:245</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a74b2aa926de8d4dd514580344f8c0d85_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a74b2aa926de8d4dd514580344f8c0d85_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a74b2aa926de8d4dd514580344f8c0d85_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a74b2aa926de8d4dd514580344f8c0d85_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a0614dd1f8d7b7f42bc1777af270ebbce" title="foedus::xct::Retrospective\lLockList::is_valid_entry" alt="" coords="225,5,397,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5b7102ba677654ac12ad43d6bbca6ac2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a>* foedus::xct::RetrospectiveLockList::get_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00239">239</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="retrospective__lock__list_8hpp_source.html#l00245">is_valid_entry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                                         {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a0614dd1f8d7b7f42bc1777af270ebbce">is_valid_entry</a>(pos));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> array_ + pos;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_a0614dd1f8d7b7f42bc1777af270ebbce"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a0614dd1f8d7b7f42bc1777af270ebbce">foedus::xct::RetrospectiveLockList::is_valid_entry</a></div><div class="ttdeci">bool is_valid_entry(LockListPosition pos) const </div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8hpp_source.html#l00245">retrospective_lock_list.hpp:245</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a5b7102ba677654ac12ad43d6bbca6ac2_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a5b7102ba677654ac12ad43d6bbca6ac2_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a5b7102ba677654ac12ad43d6bbca6ac2_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a5b7102ba677654ac12ad43d6bbca6ac2_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a0614dd1f8d7b7f42bc1777af270ebbce" title="foedus::xct::Retrospective\lLockList::is_valid_entry" alt="" coords="225,5,397,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afeae5ce72d1c324ecc32dce36459340a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> foedus::xct::RetrospectiveLockList::get_last_active_entry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00244">244</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00307">foedus::xct::XctManagerPimpl::begin_xct()</a>, and <a class="el" href="retrospective__lock__list_8cpp_source.html#l00445">foedus::xct::CurrentLockList::prepopulate_for_retrospective_lock_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{ <span class="keywordflow">return</span> last_active_entry_; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_afeae5ce72d1c324ecc32dce36459340a_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_afeae5ce72d1c324ecc32dce36459340a_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_afeae5ce72d1c324ecc32dce36459340a_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_afeae5ce72d1c324ecc32dce36459340a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="679,5,873,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1CurrentLockList.html#a4a10e19f1d603ab47e74c605a9909fb5" title="Another batch&#45;insert method used at the beginning of a transaction. " alt="" coords="255,34,419,90"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. " alt="" coords="921,5,1084,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1Xct.html#ac525c6624f248cd869b111b7d4338b30" title="Begins the transaction. " alt="" coords="467,41,631,67"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ff8ccbccdede750fb5a18b4da505ad9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a>&amp; foedus::xct::RetrospectiveLockList::get_volatile_page_resolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00258">258</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>Referenced by <a class="el" href="xct_8cpp_source.html#l00395">foedus::xct::Xct::add_to_read_set()</a>, and <a class="el" href="xct_8cpp_source.html#l00444">foedus::xct::Xct::add_to_write_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                                                             {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> volatile_page_resolver_;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a1ff8ccbccdede750fb5a18b4da505ad9_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a1ff8ccbccdede750fb5a18b4da505ad9_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a1ff8ccbccdede750fb5a18b4da505ad9_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a1ff8ccbccdede750fb5a18b4da505ad9_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="225,1067,367,1109"/>
<area shape="rect" id="node29" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="225,1269,367,1310"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="449,599,584,641"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1Xct.html#ad14df45e5685d6725622e28ed45f9726" title="Add a pair of read and write set of this transaction. " alt="" coords="437,1067,596,1109"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="701,486,836,527"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="686,552,851,608"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="686,632,851,688"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="686,712,851,768"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="686,792,851,848"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="667,952,871,1008"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="686,872,851,928"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="686,25,851,81"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="686,125,851,181"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="680,245,857,301"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="680,405,857,461"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="933,566,1107,607"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="933,632,1107,688"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="933,712,1107,768"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="933,792,1107,848"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="935,952,1105,1008"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="933,872,1107,928"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="933,5,1107,61"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="933,85,1107,141"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="929,165,1111,221"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="933,485,1107,541"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="931,245,1109,301"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="933,325,1107,381"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="928,405,1112,461"/>
<area shape="rect" id="node30" href="classfoedus_1_1xct_1_1Xct.html#a8a7332c6a326d914ed9d1132b9bc1004" title="Add the given record to the write set of this transaction. " alt="" coords="446,1301,587,1342"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7dde5581eee977242b5373e30365183f" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="418,1367,615,1423"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d324da4dcd35490820cb97e7124001b" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="418,1447,615,1503"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="415,1584,619,1640"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="674,1512,863,1568"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a3036d6662c0bd89e330ca19cbca1f549" title="Used in the following methods. " alt="" coords="681,1192,856,1248"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="446,1235,587,1277"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5093ba18b241e5179a363476bdd20066" title="This is a faster increment that does not return the value after increment. " alt="" coords="683,1592,854,1648"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="929,1672,1111,1728"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="919,1752,1121,1808"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="931,1432,1109,1488"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="922,1512,1118,1568"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="929,1592,1111,1648"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1181,1672,1329,1728"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1169,1752,1340,1808"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1181,1432,1328,1488"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a45396b70b246f330355397b447af55f3" title="implementation of delete_record family. " alt="" coords="933,1272,1107,1328"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="933,1352,1107,1408"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="933,1032,1107,1088"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="933,1112,1107,1168"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="933,1192,1107,1248"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94b7a86ff61fec046d3c0645023fb535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::RetrospectiveLockList::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">LockEntry</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;&#160;</td>
          <td class="paramname"><em>resolver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00049">49</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>References <a class="el" href="retrospective__lock__list_8cpp_source.html#l00059">clear_entries()</a>.</p>

<p>Referenced by <a class="el" href="xct_8cpp_source.html#l00077">foedus::xct::Xct::initialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                                    {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  array_ = array;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  capacity_ = capacity;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  volatile_page_resolver_ = resolver;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846">clear_entries</a>();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_acdd6c3ee6c1e8b0da192818e70fec846"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846">foedus::xct::RetrospectiveLockList::clear_entries</a></div><div class="ttdeci">void clear_entries()</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8cpp_source.html#l00059">retrospective_lock_list.cpp:59</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846" title="foedus::xct::Retrospective\lLockList::clear_entries" alt="" coords="225,5,397,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a94b7a86ff61fec046d3c0645023fb535_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#a9dd027b4a8d21f45a60f82d110c5a529" title="foedus::xct::Xct::initialize" alt="" coords="225,13,392,39"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a741208e803d0a0bb5f979ebb099d2a8d" title="foedus::thread::ThreadPimpl\l::initialize_once" alt="" coords="440,5,624,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6c96bb5725be6694030bd8ce88d68698"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::xct::RetrospectiveLockList::is_empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00248">248</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>References <a class="el" href="xct__id_8hpp_source.html#l00149">foedus::xct::kLockListPositionInvalid</a>.</p>

<p>Referenced by <a class="el" href="xct_8hpp_source.html#l00079">foedus::xct::Xct::activate()</a>, <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>, and <a class="el" href="retrospective__lock__list_8cpp_source.html#l00445">foedus::xct::CurrentLockList::prepopulate_for_retrospective_lock_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{ <span class="keywordflow">return</span> last_active_entry_ == <a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a>; }</div>
<div class="ttc" id="namespacefoedus_1_1xct_html_a3882c3684e3adb4a6992ef230443a02c"><div class="ttname"><a href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">foedus::xct::kLockListPositionInvalid</a></div><div class="ttdeci">const LockListPosition kLockListPositionInvalid</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00149">xct_id.hpp:149</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c96bb5725be6694030bd8ce88d68698_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a6c96bb5725be6694030bd8ce88d68698_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c96bb5725be6694030bd8ce88d68698_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c96bb5725be6694030bd8ce88d68698_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#ac525c6624f248cd869b111b7d4338b30" title="Begins the transaction. " alt="" coords="440,53,604,79"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="225,262,392,318"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1CurrentLockList.html#a4a10e19f1d603ab47e74c605a9909fb5" title="Another batch&#45;insert method used at the beginning of a transaction. " alt="" coords="227,103,391,159"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="657,5,851,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. " alt="" coords="915,5,1077,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="455,425,589,467"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="687,71,821,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="671,137,837,193"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="671,217,837,273"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="671,297,837,353"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="671,377,837,433"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="652,457,856,513"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="671,537,837,593"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="671,617,837,673"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="671,697,837,753"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="665,777,843,833"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="665,1177,843,1233"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="909,144,1083,185"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="909,217,1083,273"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="909,297,1083,353"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="909,377,1083,433"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="911,457,1081,513"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="909,537,1083,593"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="909,617,1083,673"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="909,697,1083,753"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="905,777,1087,833"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1153,697,1335,753"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1153,777,1335,833"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1157,1017,1331,1073"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="907,1177,1085,1233"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="909,1490,1083,1546"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="904,1599,1088,1655"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1411,864,1626,905"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1419,929,1618,971"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1432,1222,1605,1278"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1432,995,1605,1051"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1400,1076,1637,1117"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1403,1323,1634,1364"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1425,1142,1612,1198"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1157,857,1331,913"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1157,937,1331,993"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1157,1097,1331,1153"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1149,1177,1339,1233"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="1147,1257,1341,1313"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="1151,1337,1337,1393"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="1149,1417,1339,1473"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1138,1497,1350,1539"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1136,1563,1352,1604"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1157,1629,1331,1685"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0614dd1f8d7b7f42bc1777af270ebbce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::xct::RetrospectiveLockList::is_valid_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8hpp_source.html#l00245">245</a> of file <a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a>.</p>

<p>References <a class="el" href="xct__id_8hpp_source.html#l00149">foedus::xct::kLockListPositionInvalid</a>.</p>

<p>Referenced by <a class="el" href="retrospective__lock__list_8hpp_source.html#l00235">get_entry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                  {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> pos != <a class="code" href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">kLockListPositionInvalid</a> &amp;&amp; pos &lt;= last_active_entry_;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="ttc" id="namespacefoedus_1_1xct_html_a3882c3684e3adb4a6992ef230443a02c"><div class="ttname"><a href="namespacefoedus_1_1xct.html#a3882c3684e3adb4a6992ef230443a02c">foedus::xct::kLockListPositionInvalid</a></div><div class="ttdeci">const LockListPosition kLockListPositionInvalid</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00149">xct_id.hpp:149</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a0614dd1f8d7b7f42bc1777af270ebbce_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a0614dd1f8d7b7f42bc1777af270ebbce_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a0614dd1f8d7b7f42bc1777af270ebbce_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a0614dd1f8d7b7f42bc1777af270ebbce_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a74b2aa926de8d4dd514580344f8c0d85" title="foedus::xct::Retrospective\lLockList::get_entry" alt="" coords="225,5,397,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a67a3371918f47951ef47af35c2979697"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">LockListPosition</a> foedus::xct::RetrospectiveLockList::lower_bound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">UniversalLockId</a>&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analogous to std::lower_bound() for the given lock. </p>
<dl class="section return"><dt>Returns</dt><dd>Index of the fist entry whose lock_ is not less than lock. If no such entry, last_active_entry_ + 1U, whether last_active_entry_ is 0 or not. Thus the return value is always &gt;0. This is to immitate std::lower_bound's behavior. </dd></dl>

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00200">200</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                                                              {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">return</span> lock_lower_bound&lt;RetrospectiveLockList, LockEntry&gt;(*<span class="keyword">this</span>, lock);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c7bc64fe85e2d2173c67b6bd8efc9e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::xct::RetrospectiveLockList::uninit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00070">70</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>

<p>References <a class="el" href="retrospective__lock__list_8cpp_source.html#l00059">clear_entries()</a>.</p>

<p>Referenced by <a class="el" href="retrospective__lock__list_8cpp_source.html#l00045">~RetrospectiveLockList()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                   {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  array_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  capacity_ = 0;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846">clear_entries</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1RetrospectiveLockList_html_acdd6c3ee6c1e8b0da192818e70fec846"><div class="ttname"><a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846">foedus::xct::RetrospectiveLockList::clear_entries</a></div><div class="ttdeci">void clear_entries()</div><div class="ttdef"><b>Definition:</b> <a href="retrospective__lock__list_8cpp_source.html#l00059">retrospective_lock_list.cpp:59</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_cgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_cgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_cgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acdd6c3ee6c1e8b0da192818e70fec846" title="foedus::xct::Retrospective\lLockList::clear_entries" alt="" coords="225,5,397,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_icgraph.png" border="0" usemap="#classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_icgraph" alt=""/></div>
<map name="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_icgraph" id="classfoedus_1_1xct_1_1RetrospectiveLockList_a6c7bc64fe85e2d2173c67b6bd8efc9e5_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a483e36fdf16824e1c72b37cc140b4930" title="foedus::xct::Retrospective\lLockList::~RetrospectiveLockList" alt="" coords="225,5,440,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="acbba6436107d44463bc78619ffe1e6a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html">RetrospectiveLockList</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="retrospective__lock__list_8cpp_source.html#l00145">145</a> of file <a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                                                      {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;RetrospectiveLockList&gt;&quot;</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;Capacity&gt;&quot;</span> &lt;&lt; v.capacity_ &lt;&lt; <span class="stringliteral">&quot;&lt;/Capacity&gt;&quot;</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;LastActiveEntry&gt;&quot;</span> &lt;&lt; v.last_active_entry_ &lt;&lt; <span class="stringliteral">&quot;&lt;/LastActiveEntry&gt;&quot;</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keyword">const</span> uint32_t kMaxShown = 32U;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 1U; i &lt;= std::min(v.last_active_entry_, kMaxShown); ++i) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    o &lt;&lt; v.array_[i];</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/RetrospectiveLockList&gt;&quot;</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/xct/<a class="el" href="retrospective__lock__list_8hpp_source.html">retrospective_lock_list.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/xct/<a class="el" href="retrospective__lock__list_8cpp_source.html">retrospective_lock_list.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1xct.html">xct</a></li><li class="navelem"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html">RetrospectiveLockList</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
