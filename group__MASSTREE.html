<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: Masstree Storage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__MASSTREE.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Masstree Storage<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Masstree</b> Storage, 64-bit B-tries with internal B-trees.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><b>Masstree</b> Storage, 64-bit B-tries with internal B-trees. </p>
<p>Although the package name says masstree [YANDONG12], we call our implementation <em>Master-Tree</em>. There are a few differences from the original Masstree.</p>
<h1><a class="anchor" id="MASS_FOSTER_TWIN"></a>
Foster-Twin</h1>
<p>See our paper (lame, yes).</p>
<h1><a class="anchor" id="MASS_TERM_REMAINDER"></a>
Remainder vs Remaining Key</h1>
<p>Througout our code, we always use the word <b>remainder</b> rather than <b>remaining-key</b>. In [YANDONG12] and [TU13], the word <em>remaining-key</em> meant the leftover of the entire key after removing the common prefixes in previous B-trie layers. For example, key "abcd" has remaining key "abcd" in layer-0. key "abcd12345678" has remaining keys "abcd12345678" in layer-0 and "5678" in layer-1. When the <em>length</em> of remaining-key is more than 8-bytes, the page also stores <em>suffix</em>, which is the key part after the slice in the layer. For example, "abcd12345678" stores "5678" as suffix in layer-0 while no suffix in layer-1.</p>
<p>Up to here, there is no difference between <em>remainder</em> and <em>remaining-key</em>. Actually, in most cases they are exactly the same.</p>
<p>They differ only when a record points to next layer. In the original papers/codes, the length of remaining-key is set to be 255 when the record now points to next layer, and they also overwrite the area to store suffix with next-page pointer.</p>
<p>In Master-Tree, we always keep the remainder even when now it points to the next layer. This simplifies many concurrency control issues, especially our foster-twin tracking algorithm. Therefore, we never change the length of remainder. It's an immutable property of the record. Instead, we have an additional mutable boolean flag "next_layer" <b>in</b> <b>TID</b>. Whether the next_layer flag is ON or OFF, all threads are safe to access the remainder. The commit protocol checks the flag and aborts if it's unexpectedly ON.</p>
<p>This is just a subtle difference, but allthemore subtle, it's confusing! Hence, we use a different word, <em>remainder</em>. Below we summarize the differences:</p>
<table class="doxtable">
<tr>
<th>.</th><th>Remaining Key (Mass-Tree)</th><th>Remainder (Master-Tree) </th></tr>
<tr>
<td>Length </td><td>Full key length - layer*8 if not next-layer, 255 if it's now next-layer. </td><td>Full key length - layer*8 always. Keeps the original remainder length.  </td></tr>
<tr>
<td>Suffix stored at </td><td>The beginning of data region if not next-layer, overwritten if it's now next-layer. </td><td>The beginning of data region always. Keeps the original remainder.  </td></tr>
<tr>
<td>Length 0xFFFF means </td><td>The record is now next-layer, so the record has no suffix-region. <b>HOWEVER</b>, concurrent threads must be careful because it was not 0xFFFF before. </td><td>The record was initially next-layer as of creation, so the record has no suffix-region. Such a record is never moved. A record that later turned to be next-layer doesn't use this value.   </td></tr>
</table>
<h1><a class="anchor" id="MASS_REF"></a>
References</h1>
<ul>
<li>[YANDONG12] Yandong Mao, Eddie Kohler, and Robert Tappan Morris. "Cache craftiness for fast multicore key-value storage.", EuroSys, 2012.</li>
</ul>
<ul>
<li>[TU13] Stephen Tu, Wenting Zheng, Eddie Kohler, Barbara Liskov, and Samuel Madden. "Speedy transactions in multicore in-memory databases.", SOSP, 2013. </li>
</ul>
<div class="dynheader">
Collaboration diagram for Masstree Storage:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__MASSTREE.png" border="0" alt="" usemap="#group____MASSTREE"/>
<map name="group____MASSTREE" id="group____MASSTREE">
<area shape="rect" id="node1" href="group__STORAGE.html" title="Storage Manager, which implements a couple of key/value stores. " alt="" coords="5,212,127,239"/>
<area shape="rect" id="node3" href="group__LOGTYPE.html" title="Defines the content and apply logic of transactional operatrions. " alt="" coords="513,212,595,239"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:storage_2masstree_2fwd_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_2masstree_2fwd_8hpp.html">fwd.hpp</a></td></tr>
<tr class="memdesc:storage_2masstree_2fwd_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declarations of classes in masstree storage package. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:masstree__id_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="masstree__id_8hpp.html">masstree_id.hpp</a></td></tr>
<tr class="memdesc:masstree__id_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions of IDs in this package and a few related constant values. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:masstree__log__types_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="masstree__log__types_8hpp.html">masstree_log_types.hpp</a></td></tr>
<tr class="memdesc:masstree__log__types_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares all log types used in this storage type. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html">foedus::storage::masstree::Adopt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to adopt foster twins into an intermediate page.  <a href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html">foedus::storage::masstree::MasstreeComposer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1Composer.html" title="Represents a logic to compose a new version of data pages for one storage. ">Composer</a> for an masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PathLevel.html">foedus::storage::masstree::MasstreeComposeContext::PathLevel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">One level in the path.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PathLevel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1FenceAndPointer"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1FenceAndPointer">foedus::storage::masstree::MasstreeComposeContext::FenceAndPointer</a></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1FenceAndPointer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PageBoundaryInfo.html">foedus::storage::masstree::MasstreeComposeContext::PageBoundaryInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a minimal information to install a new snapshot page pointer.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PageBoundaryInfo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PageBoundarySort.html">foedus::storage::masstree::MasstreeComposeContext::PageBoundarySort</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Points to <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PageBoundaryInfo.html" title="Represents a minimal information to install a new snapshot page pointer. ">PageBoundaryInfo</a> with a sorting information.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PageBoundarySort.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext.html">foedus::storage::masstree::MasstreeComposeContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html" title="Composer for an masstree storage. ">MasstreeComposer</a>'s compose() implementation separated from the class itself.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html">foedus::storage::masstree::MasstreeCursor::Route</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one page in the current search path from layer0-root.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html">foedus::storage::masstree::MasstreeCursor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a cursor object for Masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html">foedus::storage::masstree::GrowFirstLayerRoot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to grow a first-layer root.  <a href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html">foedus::storage::masstree::GrowNonFirstLayerRoot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to grow a second- or depper-layer root.  <a href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCreateLogType.html">foedus::storage::masstree::MasstreeCreateLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of CREATE MASSTREE STORAGE operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCreateLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses">foedus::storage::masstree::MasstreeCommonLogType::RecordAddresses</a></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">foedus::storage::masstree::MasstreeCommonLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class for MasstreeInsertLogType/MasstreeDeleteLogType/MasstreeOverwriteLogType.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html">foedus::storage::masstree::MasstreeInsertLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's insert operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html">foedus::storage::masstree::MasstreeDeleteLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's delete operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html">foedus::storage::masstree::MasstreeUpdateLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's update operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html">foedus::storage::masstree::MasstreeOverwriteLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's overwrite operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadata.html">foedus::storage::masstree::MasstreeMetadata</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> of a masstree storage.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadata.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">foedus::storage::masstree::MasstreePage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common base of <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html" title="Represents one intermediate page in Masstree Storage. ">MasstreeIntermediatePage</a> and <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">foedus::storage::masstree::MasstreeIntermediatePage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one intermediate page in <a class="el" href="group__MASSTREE.html">Masstree Storage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart">foedus::storage::masstree::MasstreeBorderPage::SlotLengthPart</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart"><td class="mdescLeft">&#160;</td><td class="mdescRight">A piece of <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html" title="Fix-sized slot for each record, which is placed at the end of data region. ">Slot</a> object that must be read/written in one-shot, meaning no one reads half-written values whether it reads old values or new values.  <a href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:unionfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#unionfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion">foedus::storage::masstree::MasstreeBorderPage::SlotLengthUnion</a></td></tr>
<tr class="separator:unionfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html">foedus::storage::masstree::MasstreeBorderPage::Slot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fix-sized slot for each record, which is placed at the end of data region.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1FindKeyForReserveResult.html">foedus::storage::masstree::MasstreeBorderPage::FindKeyForReserveResult</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">return value for <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aec72735812ddc62ef4290a6fadfab13c" title="This is for the case we are looking for either the matching slot or the slot we will modify...">find_key_for_reserve()</a>.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1FindKeyForReserveResult.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">foedus::storage::masstree::MasstreeBorderPage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one border page in <a class="el" href="group__MASSTREE.html">Masstree Storage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html">foedus::storage::masstree::MasstreePartitioner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1Partitioner.html" title="Partitioning and sorting logic for one storage. ">Partitioner</a> for a masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html">foedus::storage::masstree::ReserveRecords</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to reserve a physical record(s) in a border page.  <a href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1masstree_1_1SplitBorder_1_1SplitStrategy"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1SplitBorder_1_1SplitStrategy">foedus::storage::masstree::SplitBorder::SplitStrategy</a></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1masstree_1_1SplitBorder_1_1SplitStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html">foedus::storage::masstree::SplitBorder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to split a border page in Master-Tree.  <a href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy">foedus::storage::masstree::SplitIntermediate::SplitStrategy</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructed by hierarchically reading all separators and pointers in old page.  <a href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html">foedus::storage::masstree::SplitIntermediate</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to split an intermediate page in Master-Tree.  <a href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1masstree_1_1MasstreeStorage_1_1PeekBoundariesArguments"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeStorage_1_1PeekBoundariesArguments">foedus::storage::masstree::MasstreeStorage::PeekBoundariesArguments</a></td></tr>
<tr class="memdesc:structfoedus_1_1storage_1_1masstree_1_1MasstreeStorage_1_1PeekBoundariesArguments"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arguments for <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#abf137494ad55ab4d60cec25c7c654e99" title="Checks the volatile pages of this storage to give hints to decide page boundary keys. ">peek_volatile_page_boundaries()</a>  <a href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeStorage_1_1PeekBoundariesArguments">More...</a><br /></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1masstree_1_1MasstreeStorage_1_1PeekBoundariesArguments"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">foedus::storage::masstree::MasstreeStorage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a Masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html">foedus::storage::masstree::MasstreeStoragePimpl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pimpl object of <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html" title="Represents a Masstree storage. ">MasstreeStorage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaeb8e2ed51f11bc2df537c109de8032dd"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">foedus::storage::masstree::Layer</a></td></tr>
<tr class="memdesc:gaeb8e2ed51f11bc2df537c109de8032dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the depth of a B-trie layer.  <a href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">More...</a><br /></td></tr>
<tr class="separator:gaeb8e2ed51f11bc2df537c109de8032dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38a155242a029bca80f210feff535335"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">foedus::storage::masstree::InLayerLevel</a></td></tr>
<tr class="memdesc:ga38a155242a029bca80f210feff535335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the depth of a B-tree node in a B-trie layer.  <a href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">More...</a><br /></td></tr>
<tr class="separator:ga38a155242a029bca80f210feff535335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0c469cd4f863aa64e07fcea90b72859"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></td></tr>
<tr class="memdesc:gaa0c469cd4f863aa64e07fcea90b72859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a byte-length of a key in this package.  <a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">More...</a><br /></td></tr>
<tr class="separator:gaa0c469cd4f863aa64e07fcea90b72859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d05e904033c0bba7113cdafb43d6610"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">foedus::storage::masstree::PayloadLength</a></td></tr>
<tr class="memdesc:ga9d05e904033c0bba7113cdafb43d6610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a byte-length of a payload in this package.  <a href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">More...</a><br /></td></tr>
<tr class="separator:ga9d05e904033c0bba7113cdafb43d6610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ab02d0a6214e7d36d74a30afda7b1ff"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">foedus::storage::masstree::DataOffset</a></td></tr>
<tr class="memdesc:ga1ab02d0a6214e7d36d74a30afda7b1ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte-offset in a page.  <a href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">More...</a><br /></td></tr>
<tr class="separator:ga1ab02d0a6214e7d36d74a30afda7b1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6280f932bf17f1d9d4acc294ca984bee"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">foedus::storage::masstree::SlotIndex</a></td></tr>
<tr class="memdesc:ga6280f932bf17f1d9d4acc294ca984bee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index of a record in a (border) page.  <a href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">More...</a><br /></td></tr>
<tr class="separator:ga6280f932bf17f1d9d4acc294ca984bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga556e8f0d5e02e78f3ddecd8f5b022bf6"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></td></tr>
<tr class="memdesc:ga556e8f0d5e02e78f3ddecd8f5b022bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each key slice is an 8-byte integer.  <a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">More...</a><br /></td></tr>
<tr class="separator:ga556e8f0d5e02e78f3ddecd8f5b022bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="memTemplItemLeft" align="right" valign="top">KeySlice&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6">foedus::storage::masstree::normalize_primitive</a> (T value)</td></tr>
<tr class="memdesc:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Order-preserving normalization for primitive key types.  <a href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6">More...</a><br /></td></tr>
<tr class="separator:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d">foedus::storage::masstree::denormalize_primitive</a> (KeySlice value)</td></tr>
<tr class="memdesc:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opposite of <a class="el" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6" title="Order-preserving normalization for primitive key types. ">normalize_primitive()</a>.  <a href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d">More...</a><br /></td></tr>
<tr class="separator:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48710f51199feed3db2e2f374ae73814"><td class="memItemLeft" align="right" valign="top">KeySlice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">foedus::storage::masstree::normalize_be_bytes_full_aligned</a> (const void *be_bytes)</td></tr>
<tr class="memdesc:ga48710f51199feed3db2e2f374ae73814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an <em>aligned</em> big-endian byte array of at least 8-bytes-length to KeySlice.  <a href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">More...</a><br /></td></tr>
<tr class="separator:ga48710f51199feed3db2e2f374ae73814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6818c708d9ac34b794cb1f91fa6f5296"><td class="memItemLeft" align="right" valign="top">KeySlice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">foedus::storage::masstree::normalize_be_bytes_full</a> (const void *be_bytes)</td></tr>
<tr class="memdesc:ga6818c708d9ac34b794cb1f91fa6f5296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a big-endian byte array of at least 8-bytes-length to KeySlice.  <a href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">More...</a><br /></td></tr>
<tr class="separator:ga6818c708d9ac34b794cb1f91fa6f5296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6842bc28437a9d4319e51471f4e3237"><td class="memItemLeft" align="right" valign="top">KeySlice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">foedus::storage::masstree::normalize_be_bytes_fragment</a> (const void *be_bytes, uint32_t length)</td></tr>
<tr class="memdesc:gaa6842bc28437a9d4319e51471f4e3237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a big-endian byte array of given length to KeySlice.  <a href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">More...</a><br /></td></tr>
<tr class="separator:gaa6842bc28437a9d4319e51471f4e3237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfe21e7cd7f1a689891743d93c6996c8"><td class="memItemLeft" align="right" valign="top">KeySlice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">foedus::storage::masstree::slice_key</a> (const void *be_bytes, KeyLength slice_length)</td></tr>
<tr class="memdesc:gabfe21e7cd7f1a689891743d93c6996c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a part of a big-endian byte array of given length as KeySlice.  <a href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">More...</a><br /></td></tr>
<tr class="separator:gabfe21e7cd7f1a689891743d93c6996c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdb6a706258be601e621e58653bf528e"><td class="memItemLeft" align="right" valign="top">KeySlice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e">foedus::storage::masstree::slice_layer</a> (const void *be_bytes, KeyLength key_length, Layer current_layer)</td></tr>
<tr class="memdesc:gabdb6a706258be601e621e58653bf528e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a part of a big-endian byte array of given length as KeySlice.  <a href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e">More...</a><br /></td></tr>
<tr class="separator:gabdb6a706258be601e621e58653bf528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1139ddb346aaf969a51c7a703752088f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1139ddb346aaf969a51c7a703752088f">foedus::storage::masstree::count_common_slices</a> (const void *left, const void *right, uint16_t max_slices)</td></tr>
<tr class="memdesc:ga1139ddb346aaf969a51c7a703752088f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of 8-byte slices that the two strings share as prefix.  <a href="group__MASSTREE.html#ga1139ddb346aaf969a51c7a703752088f">More...</a><br /></td></tr>
<tr class="separator:ga1139ddb346aaf969a51c7a703752088f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">foedus::storage::masstree::is_key_aligned_and_zero_padded</a> (const char *key, KeyLength key_length)</td></tr>
<tr class="memdesc:gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if the given key is 8-bytes aligned and also zero-padded to 8-bytes for easier slicing (which most of our code does).  <a href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">More...</a><br /></td></tr>
<tr class="separator:gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga54c14c32f171fd8e17499457c56c2817"><td class="memItemLeft" align="right" valign="top">const Layer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga54c14c32f171fd8e17499457c56c2817">foedus::storage::masstree::kMaxLayer</a> = 63U</td></tr>
<tr class="memdesc:ga54c14c32f171fd8e17499457c56c2817"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum value for Layer.  <a href="group__MASSTREE.html#ga54c14c32f171fd8e17499457c56c2817">More...</a><br /></td></tr>
<tr class="separator:ga54c14c32f171fd8e17499457c56c2817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f474f4e6fab3c9fb547cba7c35efe54"><td class="memItemLeft" align="right" valign="top">const InLayerLevel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1f474f4e6fab3c9fb547cba7c35efe54">foedus::storage::masstree::kMaxSaneInLayerLevel</a> = 15U</td></tr>
<tr class="memdesc:ga1f474f4e6fab3c9fb547cba7c35efe54"><td class="mdescLeft">&#160;</td><td class="mdescRight">If InLayerLevel exceeds this value, there must be something wrong.  <a href="group__MASSTREE.html#ga1f474f4e6fab3c9fb547cba7c35efe54">More...</a><br /></td></tr>
<tr class="separator:ga1f474f4e6fab3c9fb547cba7c35efe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae33cf61cd45f5956aa2e46283b9474ab"><td class="memItemLeft" align="right" valign="top">const KeyLength&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a> = 1024U</td></tr>
<tr class="memdesc:gae33cf61cd45f5956aa2e46283b9474ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max length of a key.  <a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">More...</a><br /></td></tr>
<tr class="separator:gae33cf61cd45f5956aa2e46283b9474ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae073d9373f83e959a96a36d14caef1a4"><td class="memItemLeft" align="right" valign="top">const KeyLength&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">foedus::storage::masstree::kInitiallyNextLayer</a> = 0xFFFFU</td></tr>
<tr class="memdesc:gae073d9373f83e959a96a36d14caef1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A special key length value that denotes the record in a border page was initially a next-layer pointer, thus the record has no suffix region.  <a href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">More...</a><br /></td></tr>
<tr class="separator:gae073d9373f83e959a96a36d14caef1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga453ffcac369fa68b5eb5d489e6cdca4f"><td class="memItemLeft" align="right" valign="top">const PayloadLength&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">foedus::storage::masstree::kMaxPayloadLength</a> = 1024U</td></tr>
<tr class="memdesc:ga453ffcac369fa68b5eb5d489e6cdca4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max length of a payload.  <a href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">More...</a><br /></td></tr>
<tr class="separator:ga453ffcac369fa68b5eb5d489e6cdca4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54533a5e0a23f34c29a57f8701356491"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">foedus::storage::masstree::kCommonPageHeaderSize</a> = 80U</td></tr>
<tr class="memdesc:ga54533a5e0a23f34c29a57f8701356491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the base page class (<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html" title="Common base of MasstreeIntermediatePage and MasstreeBorderPage. ">MasstreePage</a>), which is the common header for intermediate and border pages placed at the beginning.  <a href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">More...</a><br /></td></tr>
<tr class="separator:ga54533a5e0a23f34c29a57f8701356491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1dee903a4fd4c4bcaadb95833c4b9a40"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">foedus::storage::masstree::kBorderPageAdditionalHeaderSize</a> = 8U</td></tr>
<tr class="memdesc:ga1dee903a4fd4c4bcaadb95833c4b9a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Misc header attributes specific to <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a> placed after the common header.  <a href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">More...</a><br /></td></tr>
<tr class="separator:ga1dee903a4fd4c4bcaadb95833c4b9a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f09e6bde697b5e2d6389505d17cecb1"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">foedus::storage::masstree::kBorderPageSlotSize</a> = 32U</td></tr>
<tr class="memdesc:ga5f09e6bde697b5e2d6389505d17cecb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of one slot in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a> <em>excluding</em> slice information.  <a href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">More...</a><br /></td></tr>
<tr class="separator:ga5f09e6bde697b5e2d6389505d17cecb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78a96e3a0ec4256513d9d2e9c94f37fd"><td class="memItemLeft" align="right" valign="top">const SlotIndex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">foedus::storage::masstree::kBorderPageMaxSlots</a></td></tr>
<tr class="memdesc:ga78a96e3a0ec4256513d9d2e9c94f37fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of slots in one <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>.  <a href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">More...</a><br /></td></tr>
<tr class="separator:ga78a96e3a0ec4256513d9d2e9c94f37fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91326b566ce7355c1ee6fd3848af01cd"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga91326b566ce7355c1ee6fd3848af01cd">foedus::storage::masstree::kBorderPageDataPartSize</a></td></tr>
<tr class="memdesc:ga91326b566ce7355c1ee6fd3848af01cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of the record data part (data_) in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>.  <a href="group__MASSTREE.html#ga91326b566ce7355c1ee6fd3848af01cd">More...</a><br /></td></tr>
<tr class="separator:ga91326b566ce7355c1ee6fd3848af01cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ce564bb661a338ce070653e1ca48efa"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a> = 9U</td></tr>
<tr class="memdesc:ga2ce564bb661a338ce070653e1ca48efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of separators stored in the first level of intermediate pages.  <a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">More...</a><br /></td></tr>
<tr class="separator:ga2ce564bb661a338ce070653e1ca48efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa62799e432e5c5b145851eed621d33d"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a> = 15U</td></tr>
<tr class="memdesc:gaaa62799e432e5c5b145851eed621d33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of separators stored in the second level of intermediate pages.  <a href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">More...</a><br /></td></tr>
<tr class="separator:gaaa62799e432e5c5b145851eed621d33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b0f46dbd051897bd6dae9bbd3eb446e"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6b0f46dbd051897bd6dae9bbd3eb446e">foedus::storage::masstree::kMaxIntermediatePointers</a> = (kMaxIntermediateSeparators + 1U) * (kMaxIntermediateMiniSeparators + 1U)</td></tr>
<tr class="memdesc:ga6b0f46dbd051897bd6dae9bbd3eb446e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of pointers (if completely filled) stored in an intermediate pages.  <a href="group__MASSTREE.html#ga6b0f46dbd051897bd6dae9bbd3eb446e">More...</a><br /></td></tr>
<tr class="separator:ga6b0f46dbd051897bd6dae9bbd3eb446e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1FenceAndPointer" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1FenceAndPointer"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::masstree::MasstreeComposeContext::FenceAndPointer</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="masstree__composer__impl_8hpp_source.html#l00253">253</a> of file <a class="el" href="masstree__composer__impl_8hpp_source.html">masstree_composer_impl.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ade1e3b88a8c9ad4011797e85fb9837f8"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
low_fence_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a328e75f82ce36d845a824b6badd8e55d"></a><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a></td>
<td class="fieldname">
pointer_</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::masstree::MasstreeCommonLogType::RecordAddresses</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00211">211</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1709c828c3a5667f8407eab60127022f"></a>char *</td>
<td class="fieldname">
record_payload_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a73beee450ef7b606eccda557b81088ae"></a><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> *</td>
<td class="fieldname">
record_payload_count_</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::masstree::MasstreeBorderPage::SlotLengthPart</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>A piece of <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html" title="Fix-sized slot for each record, which is placed at the end of data region. ">Slot</a> object that must be read/written in one-shot, meaning no one reads half-written values whether it reads old values or new values. </p>
<p>Today's CPUs guarantee that for 64-bit integers, so we use union to switch uint64_t/struct. Of course this object must be aligned to make this work. </p><dl class="section user"><dt>When these values change</dt><dd>Unlike hash storage, this is mutable, or it changes when the record is moved to expand, but it changes only in a restricted way. <ul>
<li>Concurrent threads are safe to read the record before the change. Pre-commit will detect the record has been moved by checking XID. </li>
<li>when a record is expanded/moved, the old data at old offset_ are untouched. This means that we can retrieve the original full key for a moved record. </li>
<li>physical_record_length_ stays the same or increases. </li>
<li>A record can move at most once. </li>
<li>A record that is originally a next-layer record never moves. </li>
<li>When the slot uses the right-most record region in the page (next_offset_==offset_+physical_record_length_), we might increase physical_record_length_ without moving offset_ because record-part grows forward. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00466">466</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a92e63ea650be68ac58e709d195c36ad4"></a><a class="el" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a></td>
<td class="fieldname">
offset_</td>
<td class="fielddoc">
Byte offset in data_ where this record starts. <dl class="section invariant"><dt>Invariant</dt><dd>offset_ % 8 == 0 </dd>
<dd>
offset_ &lt; kBorderPageDataPartSize </dd></dl>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2ef17017ef81f095de4a76150bc3c015"></a><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a></td>
<td class="fieldname">
payload_length_</td>
<td class="fielddoc">
Byte length of the payload. <p>Padding is not included. This is <b>mutable</b>. Only changed with update. If the updated payload is too large for physical_record_length_, we <em>move</em> the record, leaving the <em>deleted</em> and <em>moved</em> flags in this old record. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad016dc644874d83b96ad0b8046e6582c"></a><a class="el" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a></td>
<td class="fieldname">
physical_record_length_</td>
<td class="fielddoc">
Byte count this record occupies. <dl class="section invariant"><dt>Invariant</dt><dd>physical_record_length_ % 8 == 0 </dd>
<dd>
physical_record_length_ &gt;= align8(suffix_length) + align8(payload_length_) </dd></dl>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac50431aba2baceab1e50acfc7f4c5b56"></a>uint16_t</td>
<td class="fieldname">
unused_</td>
<td class="fielddoc">
unused so far </td></tr>
</table>

</div>
</div>
<a name="unionfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion" id="unionfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union foedus::storage::masstree::MasstreeBorderPage::SlotLengthUnion</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart" title="A piece of Slot object that must be read/written in one-shot, meaning no one reads half-written value...">SlotLengthPart</a> </dd></dl>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00490">490</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::masstree::MasstreeBorderPage::SlotLengthUnion:</div>
<div class="dyncontent">
<div class="center"><img src="unionfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion_coll__map" id="foedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthUnion_coll__map">
<area shape="rect" id="node2" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart" title="A piece of Slot object that must be read/written in one&#45;shot, meaning no one reads half&#45;written value..." alt="" coords="9,5,256,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af40fa90a8daca72e5c02e0ff9ac49a63"></a><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1SlotLengthPart">SlotLengthPart</a></td>
<td class="fieldname">
components</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0165decace03833448779f10ab9e85fd"></a>uint64_t</td>
<td class="fieldname">
word</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1masstree_1_1SplitBorder_1_1SplitStrategy" id="structfoedus_1_1storage_1_1masstree_1_1SplitBorder_1_1SplitStrategy"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::masstree::SplitBorder::SplitStrategy</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="masstree__split__impl_8hpp_source.html#l00103">103</a> of file <a class="el" href="masstree__split__impl_8hpp_source.html">masstree_split_impl.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aeb37c464a41c3e46d23de6ab01f227ed"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
largest_slice_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a335d3fd514ba0d4c2c657515fb4f1c85"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
mid_slice_</td>
<td class="fielddoc">
This will be the new foster fence. <p>Ideally, # of records below and above this are same. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae7cd6f2974c10c6b417dd7bb56d5f9dc"></a>bool</td>
<td class="fieldname">
no_record_split_</td>
<td class="fielddoc">
whether this page seems to have had sequential insertions, in which case we do "no-record split" as optimization. <p>This also requires the trigerring insertion key is equal or larger than the largest slice in this page. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa8a66de0452989b9b1b84a2ba833304a"></a><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a></td>
<td class="fieldname">
original_key_count_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0e6b911d344a73deab804277fb829512"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
smallest_slice_</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy" id="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::masstree::SplitIntermediate::SplitStrategy</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Constructed by hierarchically reading all separators and pointers in old page. </p>

<p>Definition at line <a class="el" href="masstree__split__impl_8hpp_source.html#l00206">206</a> of file <a class="el" href="masstree__split__impl_8hpp_source.html">masstree_split_impl.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::masstree::SplitIntermediate::SplitStrategy:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy_coll__map" id="foedus_1_1storage_1_1masstree_1_1SplitIntermediate_1_1SplitStrategy_coll__map">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1DualPagePointer.html" title="Represents a pointer to another page (usually a child page). " alt="" coords="23,109,198,151"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="30,5,191,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a48774b9da4e81359bf516f5e554969fc"></a></td>
<td class="fieldname">
Constants</td>
<td class="fielddoc">
</td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a11409cd479fd7645e75ffd6e080495bf"></a>bool</td>
<td class="fieldname">
compact_adopt_</td>
<td class="fielddoc">
When this says true, we create a dummy foster with empty range on right side, and just re-structures target page onto left foster twin. <p>In other words, this is compaction/restructure that is done in another page in RCU fashion. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2f34591e0161c19a55921462ab15c6b9"></a>char</td>
<td class="fieldname">
dummy_[3]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6aad1bd7019ab740578592c4e51c8e3d"></a>uint16_t</td>
<td class="fieldname">
mid_index_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2478296c699b90905d2533fef7c7bdeb"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
mid_separator_</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2e1826ec1d09722eea4051b01ce8b9ee"></a><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">DualPagePointer</a></td>
<td class="fieldname">
pointers_[<a class="el" href="group__MASSTREE.html#a48774b9da4e81359bf516f5e554969fca733900e6154f489f3c81cb34183f7671">kMaxSeparators</a>]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad382034ddad3bd5680f3b903f0ce7f79"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
separators_[<a class="el" href="group__MASSTREE.html#a48774b9da4e81359bf516f5e554969fca733900e6154f489f3c81cb34183f7671">kMaxSeparators</a>]</td>
<td class="fielddoc">
pointers_[n] points to page that is responsible for keys separators_[n - 1] &lt;= key &lt; separators_[n]. <p>separators_[-1] is infimum. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="afe8a6812d7afe00ef975f0cb5765369f"></a>uint16_t</td>
<td class="fieldname">
total_separator_count_</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structfoedus_1_1storage_1_1masstree_1_1MasstreeStorage_1_1PeekBoundariesArguments" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeStorage_1_1PeekBoundariesArguments"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct foedus::storage::masstree::MasstreeStorage::PeekBoundariesArguments</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Arguments for <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#abf137494ad55ab4d60cec25c7c654e99" title="Checks the volatile pages of this storage to give hints to decide page boundary keys. ">peek_volatile_page_boundaries()</a> </p>

<p>Definition at line <a class="el" href="masstree__storage_8hpp_source.html#l00561">561</a> of file <a class="el" href="masstree__storage_8hpp_source.html">masstree_storage.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a55300b512949539be7dcbd02cdfef02a"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *</td>
<td class="fieldname">
found_boundaries_</td>
<td class="fielddoc">
[OUT] fence-slices of border pages between from-to </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a108ace626c18251e735ca0d1d0add98e"></a>uint32_t</td>
<td class="fieldname">
found_boundary_capacity_</td>
<td class="fielddoc">
[IN] capacity of found_boundaries_. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a05ff2559eff588e135310f1d445e8c52"></a>uint32_t *</td>
<td class="fieldname">
found_boundary_count_</td>
<td class="fielddoc">
[OUT] number of found_boundaries_ entries returned </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a78eadc489fcfac8d42fe9626279f5d8f"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
from_</td>
<td class="fielddoc">
[IN] lists up page boundaries from this slice </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae79df04612cf08044c8e995ab23b2453"></a>uint32_t</td>
<td class="fieldname">
prefix_slice_count_</td>
<td class="fielddoc">
[IN] size of prefix_slices_. <p>0 means we are interested in the first layer. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a7ed11c31ff795d6bf298e439c73ccb9f"></a>const <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *</td>
<td class="fieldname">
prefix_slices_</td>
<td class="fielddoc">
[IN] slices of higher layers that lead to the B-trie layer of interest. <p>null if 1st layer </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa594415f3c43648c40b0042dc6e16249"></a><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td>
<td class="fieldname">
to_</td>
<td class="fielddoc">
[IN] lists up page boundaries up to this slice </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga1ab02d0a6214e7d36d74a30afda7b1ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">foedus::storage::masstree::DataOffset</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Byte-offset in a page. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00104">104</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga38a155242a029bca80f210feff535335"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">foedus::storage::masstree::InLayerLevel</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents the depth of a B-tree node in a B-trie layer. </p>
<p>0 is the root. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00054">54</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaa0c469cd4f863aa64e07fcea90b72859"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents a byte-length of a key in this package. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00069">69</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga556e8f0d5e02e78f3ddecd8f5b022bf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Each key slice is an 8-byte integer. </p>
<p>Masstree pages store and compare these key slices.</p>
<p>Each key-slice is in a native integer type that preserves the original order if it's made by normalizing primitive key types (eg signed ints). Note that this is a native integer type. This might NOT be big-endian (eg x86). For signed integer types, we normalize them in an order-preserving manner, namely cast to uint64_t and subtract 2^63. For unsigned integer types, no conversion needed. </p><dl class="section attention"><dt>Attention</dt><dd>Be very careful if you give value of this type directly. In most cases, this type should be only internally manipulated. The only exception is the "primitive-optimized" APIs that receive this type. In that case, make sure you use <a class="el" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6" title="Order-preserving normalization for primitive key types. ">normalize_primitive()</a>. If the primitive is a signed type, the sign bit will bite (pun intended) you otherwise. </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00126">126</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaeb8e2ed51f11bc2df537c109de8032dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">foedus::storage::masstree::Layer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents the depth of a B-trie layer. </p>
<p>0 is the first layer. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00042">42</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d05e904033c0bba7113cdafb43d6610"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">foedus::storage::masstree::PayloadLength</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents a byte-length of a payload in this package. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00092">92</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga6280f932bf17f1d9d4acc294ca984bee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">foedus::storage::masstree::SlotIndex</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index of a record in a (border) page. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00110">110</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1139ddb346aaf969a51c7a703752088f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t foedus::storage::masstree::count_common_slices </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_slices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of 8-byte slices that the two strings share as prefix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">left</td><td>aligned string pointer. can be either big-endian or little endian. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">right</td><td>aligned string pointer must be in same endian as left. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_slices</td><td>min(left_len / 8, right_len / 8) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of shared slices </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00298">298</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>References <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                                                                              {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keyword">const</span> uint64_t* left_casted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint64_t*<span class="keyword">&gt;</span>(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(left, 8));</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">const</span> uint64_t* right_casted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint64_t*<span class="keyword">&gt;</span>(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(right, 8));</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">for</span> (uint16_t slices = 0; slices &lt; max_slices; ++slices) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (left_casted[slices] != right_casted[slices]) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">return</span> slices;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">return</span> max_slices;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf7d6f648a3abc01de518d10f7d325b2d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::storage::masstree::denormalize_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opposite of <a class="el" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6" title="Order-preserving normalization for primitive key types. ">normalize_primitive()</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6" title="Order-preserving normalization for primitive key types. ">normalize_primitive()</a> </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00208">208</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                               {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span> (std::numeric_limits&lt;T&gt;::is_signed) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(value - (1ULL &lt;&lt; 63));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(value);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaca11c6ba81d4c4c7708ca3bcdff3bfa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::is_key_aligned_and_zero_padded </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if the given key is 8-bytes aligned and also zero-padded to 8-bytes for easier slicing (which most of our code does). </p>
<p>This method is usually used for assertions. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00314">314</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00170">foedus::storage::masstree::MasstreeCommonLogType::compare_logs()</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00236">foedus::storage::masstree::MasstreeComposeContext::PathLevel::contains_key()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l00048">foedus::storage::masstree::fill_payload_padded()</a>, and <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00527">foedus::storage::masstree::MasstreePartitionerData::find_partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  uintptr_t int_address = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(key);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (int_address % 8 != 0) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">if</span> (key_length % 8 != 0) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    uint16_t paddings = 8 - (key_length % 8);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; paddings; ++i) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">if</span> (key[key_length + i] != 0) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_gaca11c6ba81d4c4c7708ca3bcdff3bfa0_icgraph.png" border="0" usemap="#group__MASSTREE_gaca11c6ba81d4c4c7708ca3bcdff3bfa0_icgraph" alt=""/></div>
<map name="group__MASSTREE_gaca11c6ba81d4c4c7708ca3bcdff3bfa0_icgraph" id="group__MASSTREE_gaca11c6ba81d4c4c7708ca3bcdff3bfa0_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a5f964ae492f5867bb1ae754e033a110e" title="Returns &#45;1, 0, 1 when left is less than, same, larger than right in terms of key and xct_id..." alt="" coords="279,5,463,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PathLevel.html#a0e585f2b2cdecb38d14cac28de705106" title="foedus::storage::masstree\l::MasstreeComposeContext\l::PathLevel::contains_key" alt="" coords="279,85,463,141"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage_1_1masstree.html#a61b432f0c51daf807b4b1c6a6a298089" title="foedus::storage::masstree\l::fill_payload_padded" alt="" coords="284,166,457,207"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1MasstreePartitionerData.html#ab637b0800009ad0f2ff8c2716bf1fee8" title="Returns the partition (node ID) that should contain the key. " alt="" coords="284,232,457,288"/>
<area shape="rect" id="node3" href="structfoedus_1_1snapshot_1_1MergeSort_1_1AdjustComparatorMasstree.html#a5db36dcb980a35c8aaa0296146281401" title="foedus::snapshot::MergeSort\l::AdjustComparatorMasstree\l::operator()" alt="" coords="511,5,700,61"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#aa88be4c928d4254f51e1e1252680f87e" title="foedus::storage::masstree\l::MasstreePartitioner::\lpartition_batch" alt="" coords="519,232,692,288"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="748,239,927,281"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa6842bc28437a9d4319e51471f4e3237"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KeySlice foedus::storage::masstree::normalize_be_bytes_fragment </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>be_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a big-endian byte array of given length to KeySlice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">be_bytes</td><td>a big-endian byte array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>key length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized value that preserves the value-order </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00247">247</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>References <a class="el" href="masstree__id_8hpp_source.html#l00233">foedus::storage::masstree::normalize_be_bytes_full()</a>.</p>

<p>Referenced by <a class="el" href="masstree__id_8hpp_source.html#l00263">foedus::storage::masstree::slice_key()</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00279">foedus::storage::masstree::slice_layer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                                                                   {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> (length &gt;= 8) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a>(be_bytes);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  uint64_t tmp = 0;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  std::memcpy(&amp;tmp, be_bytes, length);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">return</span> assorted::read_bigendian&lt;uint64_t&gt;(&amp;tmp);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_ga6818c708d9ac34b794cb1f91fa6f5296"><div class="ttname"><a href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">foedus::storage::masstree::normalize_be_bytes_full</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full(const void *be_bytes)</div><div class="ttdoc">Convert a big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00233">masstree_id.hpp:233</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_cgraph.png" border="0" usemap="#group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_cgraph" alt=""/></div>
<map name="group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_cgraph" id="group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_cgraph">
<area shape="rect" id="node2" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296" title="Convert a big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="256,5,429,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_icgraph.png" border="0" usemap="#group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_icgraph" alt=""/></div>
<map name="group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_icgraph" id="group__MASSTREE_gaa6842bc28437a9d4319e51471f4e3237_icgraph">
<area shape="rect" id="node2" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8" title="Extract a part of a big&#45;endian byte array of given length as KeySlice. " alt="" coords="256,138,429,179"/>
<area shape="rect" id="node22" href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e" title="Extract a part of a big&#45;endian byte array of given length as KeySlice. " alt="" coords="256,402,429,443"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34" title="foedus::storage::masstree\l::copy_input_key" alt="" coords="510,13,683,54"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9e24c3f7398235571f6f0b0e013f1f23" title="Copy the initial record that will be the only record for a new root page. " alt="" coords="493,79,700,135"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="502,183,691,239"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="796,13,969,54"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="1049,5,1223,61"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a867f696df8da3aeeab003663a439a535" title="A physical&#45;only method to initialize this page as a volatile page of a layer&#45;root pointed from the gi..." alt="" coords="779,79,986,135"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="1049,86,1223,127"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ab905ff02e9f747f00d44e72ffc16f546" title="foedus::storage::masstree\l::MasstreeBorderPage::track\l_moved_record" alt="" coords="788,183,977,239"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff57df4d2b237e63e459d5fefe9d4cfb" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::track_moved_record" alt="" coords="1049,183,1223,239"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2370f71beab1eb4b8b02e3ac9e4f29bd" title="Resolves a &quot;moved&quot; record. " alt="" coords="1271,183,1444,239"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a3248d8440d805f772ad7b6122a4d309b" title="foedus::storage::Storage\lManagerPimpl::track_moved\l_record" alt="" coords="1492,183,1679,239"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1StorageManager.html#a02513539acf9d7cd9805d34154281076" title="Resolves a &quot;moved&quot; record. " alt="" coords="1727,190,1923,231"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="1971,190,2191,231"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="2240,157,2448,198"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="2239,222,2449,263"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="2497,157,2692,198"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="2740,190,2935,231"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="2983,190,3145,231"/>
<area shape="rect" id="node21" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="2497,222,2692,263"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aecb8c5a7b49932a731872cdd8e71504d" title="actually this method should be renamed to equal_key... " alt="" coords="477,263,716,305"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bed0e3b1f6782710eb1e6891b850de7" title="compare the key. " alt="" coords="493,329,700,370"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a23e978dad8a0a78a8b4fa49181d7352b" title="Returns whether inserting the key will cause creation of a new next layer. " alt="" coords="507,395,686,451"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aecb37efdc8f717bb2b978861d8d1a772" title="Returns whether the record is a next&#45;layer pointer that would contain the key. " alt="" coords="507,475,686,531"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="510,555,683,611"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="510,828,683,884"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ac16304e6fa2ee997cc6c897cb5792f47" title="let&#39;s gradually migrate from compare_key() to this. " alt="" coords="773,263,992,305"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="783,331,982,373"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="796,397,969,453"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="796,477,969,533"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="775,558,990,599"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="767,623,998,665"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="789,689,976,745"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="764,770,1001,811"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="777,835,989,877"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="775,901,991,942"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6818c708d9ac34b794cb1f91fa6f5296"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KeySlice foedus::storage::masstree::normalize_be_bytes_full </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>be_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a big-endian byte array of at least 8-bytes-length to KeySlice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">be_bytes</td><td>a big-endian byte array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized value that preserves the value-order </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00233">233</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage_8cpp_source.html#l00312">foedus::storage::masstree::MasstreeStorage::delete_record()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00079">foedus::storage::masstree::MasstreeStorage::get_record()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00107">foedus::storage::masstree::MasstreeStorage::get_record_part()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00139">foedus::storage::masstree::MasstreeStorage::get_record_primitive()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00523">foedus::storage::masstree::MasstreeStorage::increment_record()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00247">foedus::storage::masstree::MasstreeStorage::insert_record()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00247">foedus::storage::masstree::normalize_be_bytes_fragment()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStorage::overwrite_record()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00444">foedus::storage::masstree::MasstreeStorage::overwrite_record_primitive()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00263">foedus::storage::masstree::slice_key()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00279">foedus::storage::masstree::slice_layer()</a>, and <a class="el" href="masstree__storage_8cpp_source.html#l00347">foedus::storage::masstree::MasstreeStorage::upsert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                              {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// otherwise we have to copy to an aligned local variable first</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  uint64_t tmp;  <span class="comment">// 8-byte stack variable is guaranteed to be 8-byte aligned. at least in GCC.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  std::memcpy(&amp;tmp, be_bytes, 8);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> assorted::read_bigendian&lt;uint64_t&gt;(&amp;tmp);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_ga6818c708d9ac34b794cb1f91fa6f5296_icgraph.png" border="0" usemap="#group__MASSTREE_ga6818c708d9ac34b794cb1f91fa6f5296_icgraph" alt=""/></div>
<map name="group__MASSTREE_ga6818c708d9ac34b794cb1f91fa6f5296_icgraph" id="group__MASSTREE_ga6818c708d9ac34b794cb1f91fa6f5296_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="997,5,1211,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1005,71,1203,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1017,137,1191,193"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1017,217,1191,273"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="985,297,1223,339"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="998,511,1210,552"/>
<area shape="rect" id="node8" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237" title="Convert a big&#45;endian byte array of given length to KeySlice. " alt="" coords="227,652,429,693"/>
<area shape="rect" id="node9" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8" title="Extract a part of a big&#45;endian byte array of given length as KeySlice. " alt="" coords="477,944,651,985"/>
<area shape="rect" id="node29" href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e" title="Extract a part of a big&#45;endian byte array of given length as KeySlice. " alt="" coords="477,652,651,693"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="989,363,1219,404"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1011,429,1197,485"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="996,579,1212,620"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34" title="foedus::storage::masstree\l::copy_input_key" alt="" coords="731,944,905,985"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9e24c3f7398235571f6f0b0e013f1f23" title="Copy the initial record that will be the only record for a new root page. " alt="" coords="715,1010,921,1066"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="723,1114,913,1170"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="1017,944,1191,985"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="1271,937,1444,993"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a867f696df8da3aeeab003663a439a535" title="A physical&#45;only method to initialize this page as a volatile page of a layer&#45;root pointed from the gi..." alt="" coords="1001,1010,1207,1066"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="1271,1017,1444,1059"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ab905ff02e9f747f00d44e72ffc16f546" title="foedus::storage::masstree\l::MasstreeBorderPage::track\l_moved_record" alt="" coords="1009,1114,1199,1170"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff57df4d2b237e63e459d5fefe9d4cfb" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::track_moved_record" alt="" coords="1271,1114,1444,1170"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2370f71beab1eb4b8b02e3ac9e4f29bd" title="Resolves a &quot;moved&quot; record. " alt="" coords="1492,1114,1665,1170"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a3248d8440d805f772ad7b6122a4d309b" title="foedus::storage::Storage\lManagerPimpl::track_moved\l_record" alt="" coords="1713,1114,1900,1170"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1StorageManager.html#a02513539acf9d7cd9805d34154281076" title="Resolves a &quot;moved&quot; record. " alt="" coords="1948,1121,2144,1163"/>
<area shape="rect" id="node22" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="2192,1121,2412,1163"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="2461,1088,2669,1129"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="2460,1153,2671,1195"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="2719,1088,2913,1129"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="2961,1121,3156,1163"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="3204,1121,3367,1163"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="2719,1153,2913,1195"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aecb8c5a7b49932a731872cdd8e71504d" title="actually this method should be renamed to equal_key... " alt="" coords="699,652,937,693"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bed0e3b1f6782710eb1e6891b850de7" title="compare the key. " alt="" coords="715,717,921,759"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a23e978dad8a0a78a8b4fa49181d7352b" title="Returns whether inserting the key will cause creation of a new next layer. " alt="" coords="729,783,907,839"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aecb37efdc8f717bb2b978861d8d1a772" title="Returns whether the record is a next&#45;layer pointer that would contain the key. " alt="" coords="729,863,907,919"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="731,238,905,294"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="731,571,905,627"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ac16304e6fa2ee997cc6c897cb5792f47" title="let&#39;s gradually migrate from compare_key() to this. " alt="" coords="995,652,1213,693"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga48710f51199feed3db2e2f374ae73814"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KeySlice foedus::storage::masstree::normalize_be_bytes_full_aligned </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>be_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert an <em>aligned</em> big-endian byte array of at least 8-bytes-length to KeySlice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">be_bytes</td><td>a big-endian byte array. MUST BE ALIGNED. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized value that preserves the value-order </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00222">222</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00170">foedus::storage::masstree::MasstreeCommonLogType::compare_logs()</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00236">foedus::storage::masstree::MasstreeComposeContext::PathLevel::contains_key()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00527">foedus::storage::masstree::MasstreePartitionerData::find_partition()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00106">foedus::storage::masstree::MasstreeCommonLogType::get_first_slice()</a>, and <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00444">foedus::storage::masstree::prepare_sort_entries()</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                                                      {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// then efficient.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">return</span> assorted::read_bigendian&lt;uint64_t&gt;(be_bytes);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_ga48710f51199feed3db2e2f374ae73814_icgraph.png" border="0" usemap="#group__MASSTREE_ga48710f51199feed3db2e2f374ae73814_icgraph" alt=""/></div>
<map name="group__MASSTREE_ga48710f51199feed3db2e2f374ae73814_icgraph" id="group__MASSTREE_ga48710f51199feed3db2e2f374ae73814_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a5f964ae492f5867bb1ae754e033a110e" title="Returns &#45;1, 0, 1 when left is less than, same, larger than right in terms of key and xct_id..." alt="" coords="227,5,411,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PathLevel.html#a0e585f2b2cdecb38d14cac28de705106" title="foedus::storage::masstree\l::MasstreeComposeContext\l::PathLevel::contains_key" alt="" coords="227,85,411,141"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1masstree_1_1MasstreePartitionerData.html#ab637b0800009ad0f2ff8c2716bf1fee8" title="Returns the partition (node ID) that should contain the key. " alt="" coords="232,165,405,221"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aad49defa1d56fc34a2df9f1d5b8cd99f" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_first_slice" alt="" coords="227,245,411,301"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage_1_1masstree.html#ad9efa7b5f1f339fd33444e0e62e46d40" title="subroutine of sort_batch_8bytes " alt="" coords="232,326,405,367"/>
<area shape="rect" id="node3" href="structfoedus_1_1snapshot_1_1MergeSort_1_1AdjustComparatorMasstree.html#a5db36dcb980a35c8aaa0296146281401" title="foedus::snapshot::MergeSort\l::AdjustComparatorMasstree\l::operator()" alt="" coords="459,5,648,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#aa88be4c928d4254f51e1e1252680f87e" title="foedus::storage::masstree\l::MasstreePartitioner::\lpartition_batch" alt="" coords="467,165,640,221"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="696,173,875,214"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6c1facf4b03e7cf12b21b60ecbf33de6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KeySlice foedus::storage::masstree::normalize_primitive </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Order-preserving normalization for primitive key types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>the value to normalize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized value that preserves the value-order</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>primitive type of the key. All standard integers (both signed and unsigned) are allowed (non-standard [u]int128_t are not supported). Floats are currently not allowed because we have to normalize it to uint64_t without changing value orders, which is doable but challenging (let's revisit this later). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d" title="Opposite of normalize_primitive(). ">denormalize_primitive()</a> </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00194">194</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                             {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (std::numeric_limits&lt;T&gt;::is_signed) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(value) - (1ULL &lt;&lt; 63);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(value);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gabfe21e7cd7f1a689891743d93c6996c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KeySlice foedus::storage::masstree::slice_key </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>be_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>slice_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract a part of a big-endian byte array of given length as KeySlice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">be_bytes</td><td>a big-endian byte array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slice_length</td><td>key length for this slice. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized value that preserves the value-order </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00263">263</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>References <a class="el" href="masstree__id_8hpp_source.html#l00247">foedus::storage::masstree::normalize_be_bytes_fragment()</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00233">foedus::storage::masstree::normalize_be_bytes_full()</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8cpp_source.html#l00925">foedus::storage::masstree::copy_input_key()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00298">foedus::storage::masstree::MasstreeBorderPage::initialize_layer_root()</a>, and <a class="el" href="masstree__page__impl_8cpp_source.html#l00609">foedus::storage::masstree::MasstreeBorderPage::track_moved_record_next_layer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                                                        {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (slice_length &gt;= <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a>(be_bytes);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">normalize_be_bytes_fragment</a>(be_bytes, slice_length);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga6818c708d9ac34b794cb1f91fa6f5296"><div class="ttname"><a href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">foedus::storage::masstree::normalize_be_bytes_full</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full(const void *be_bytes)</div><div class="ttdoc">Convert a big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00233">masstree_id.hpp:233</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa6842bc28437a9d4319e51471f4e3237"><div class="ttname"><a href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">foedus::storage::masstree::normalize_be_bytes_fragment</a></div><div class="ttdeci">KeySlice normalize_be_bytes_fragment(const void *be_bytes, uint32_t length)</div><div class="ttdoc">Convert a big-endian byte array of given length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00247">masstree_id.hpp:247</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_cgraph.png" border="0" usemap="#group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_cgraph" alt=""/></div>
<map name="group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_cgraph" id="group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_cgraph">
<area shape="rect" id="node2" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237" title="Convert a big&#45;endian byte array of given length to KeySlice. " alt="" coords="227,5,429,47"/>
<area shape="rect" id="node3" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296" title="Convert a big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="477,35,651,76"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_icgraph.png" border="0" usemap="#group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_icgraph" alt=""/></div>
<map name="group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_icgraph" id="group__MASSTREE_gabfe21e7cd7f1a689891743d93c6996c8_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34" title="foedus::storage::masstree\l::copy_input_key" alt="" coords="243,13,417,54"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9e24c3f7398235571f6f0b0e013f1f23" title="Copy the initial record that will be the only record for a new root page. " alt="" coords="227,79,433,135"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="235,183,425,239"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="498,13,671,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="736,5,909,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a867f696df8da3aeeab003663a439a535" title="A physical&#45;only method to initialize this page as a volatile page of a layer&#45;root pointed from the gi..." alt="" coords="481,79,688,135"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="736,86,909,127"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ab905ff02e9f747f00d44e72ffc16f546" title="foedus::storage::masstree\l::MasstreeBorderPage::track\l_moved_record" alt="" coords="490,183,679,239"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff57df4d2b237e63e459d5fefe9d4cfb" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::track_moved_record" alt="" coords="736,183,909,239"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2370f71beab1eb4b8b02e3ac9e4f29bd" title="Resolves a &quot;moved&quot; record. " alt="" coords="957,183,1131,239"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a3248d8440d805f772ad7b6122a4d309b" title="foedus::storage::Storage\lManagerPimpl::track_moved\l_record" alt="" coords="1179,183,1365,239"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1StorageManager.html#a02513539acf9d7cd9805d34154281076" title="Resolves a &quot;moved&quot; record. " alt="" coords="1413,190,1609,231"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="1657,190,1877,231"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="1927,157,2135,198"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="1925,222,2136,263"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="2184,157,2379,198"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="2427,190,2621,231"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="2669,190,2832,231"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="2184,222,2379,263"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabdb6a706258be601e621e58653bf528e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KeySlice foedus::storage::masstree::slice_layer </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>be_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a>&#160;</td>
          <td class="paramname"><em>current_layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract a part of a big-endian byte array of given length as KeySlice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">be_bytes</td><td>a big-endian byte array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>total key length. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">current_layer</td><td>extract a slice for this layer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized value that preserves the value-order </dd></dl>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00279">279</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>References <a class="el" href="masstree__id_8hpp_source.html#l00247">foedus::storage::masstree::normalize_be_bytes_fragment()</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00233">foedus::storage::masstree::normalize_be_bytes_full()</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l01600">foedus::storage::masstree::MasstreeBorderPage::compare_key()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00283">foedus::storage::masstree::MasstreeStoragePimpl::locate_record()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01631">foedus::storage::masstree::MasstreeBorderPage::ltgt_key()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01690">foedus::storage::masstree::MasstreeBorderPage::will_conflict()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l01714">foedus::storage::masstree::MasstreeBorderPage::will_contain_next_layer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                                                                             {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> skipped = current_layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> remainder_length = key_length - skipped;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* casted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(be_bytes);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (remainder_length &gt;= <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a>(casted + skipped);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">normalize_be_bytes_fragment</a>(casted + skipped, remainder_length);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga6818c708d9ac34b794cb1f91fa6f5296"><div class="ttname"><a href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">foedus::storage::masstree::normalize_be_bytes_full</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full(const void *be_bytes)</div><div class="ttdoc">Convert a big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00233">masstree_id.hpp:233</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa6842bc28437a9d4319e51471f4e3237"><div class="ttname"><a href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">foedus::storage::masstree::normalize_be_bytes_fragment</a></div><div class="ttdeci">KeySlice normalize_be_bytes_fragment(const void *be_bytes, uint32_t length)</div><div class="ttdoc">Convert a big-endian byte array of given length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00247">masstree_id.hpp:247</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_gabdb6a706258be601e621e58653bf528e_cgraph.png" border="0" usemap="#group__MASSTREE_gabdb6a706258be601e621e58653bf528e_cgraph" alt=""/></div>
<map name="group__MASSTREE_gabdb6a706258be601e621e58653bf528e_cgraph" id="group__MASSTREE_gabdb6a706258be601e621e58653bf528e_cgraph">
<area shape="rect" id="node2" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237" title="Convert a big&#45;endian byte array of given length to KeySlice. " alt="" coords="227,5,429,47"/>
<area shape="rect" id="node3" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296" title="Convert a big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="477,35,651,76"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MASSTREE_gabdb6a706258be601e621e58653bf528e_icgraph.png" border="0" usemap="#group__MASSTREE_gabdb6a706258be601e621e58653bf528e_icgraph" alt=""/></div>
<map name="group__MASSTREE_gabdb6a706258be601e621e58653bf528e_icgraph" id="group__MASSTREE_gabdb6a706258be601e621e58653bf528e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aecb8c5a7b49932a731872cdd8e71504d" title="actually this method should be renamed to equal_key... " alt="" coords="227,147,465,188"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="259,322,433,378"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bed0e3b1f6782710eb1e6891b850de7" title="compare the key. " alt="" coords="243,468,449,509"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="259,534,433,590"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a23e978dad8a0a78a8b4fa49181d7352b" title="Returns whether inserting the key will cause creation of a new next layer. " alt="" coords="257,614,435,670"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aecb37efdc8f717bb2b978861d8d1a772" title="Returns whether the record is a next&#45;layer pointer that would contain the key. " alt="" coords="257,694,435,750"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ac16304e6fa2ee997cc6c897cb5792f47" title="let&#39;s gradually migrate from compare_key() to this. " alt="" coords="523,5,741,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="533,71,731,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="545,137,719,193"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="545,217,719,273"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="525,297,739,339"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="517,363,747,404"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="539,429,725,485"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="513,509,751,551"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="526,575,738,616"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="524,640,740,681"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga1dee903a4fd4c4bcaadb95833c4b9a40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t foedus::storage::masstree::kBorderPageAdditionalHeaderSize = 8U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Misc header attributes specific to <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a> placed after the common header. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00150">150</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l00937">foedus::storage::masstree::MasstreeBorderPage::prefetch_additional_if_needed()</a>.</p>

</div>
</div>
<a class="anchor" id="ga91326b566ce7355c1ee6fd3848af01cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t foedus::storage::masstree::kBorderPageDataPartSize</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a></div>
<div class="line">    - <a class="code" href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">kCommonPageHeaderSize</a></div>
<div class="line">    - <a class="code" href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">kBorderPageAdditionalHeaderSize</a></div>
<div class="line">    - <a class="code" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a> * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)</div>
<div class="ttc" id="group__MASSTREE_html_ga54533a5e0a23f34c29a57f8701356491"><div class="ttname"><a href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">foedus::storage::masstree::kCommonPageHeaderSize</a></div><div class="ttdeci">const uint32_t kCommonPageHeaderSize</div><div class="ttdoc">Size of the base page class (MasstreePage), which is the common header for intermediate and border pa...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00144">masstree_id.hpp:144</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga78a96e3a0ec4256513d9d2e9c94f37fd"><div class="ttname"><a href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">foedus::storage::masstree::kBorderPageMaxSlots</a></div><div class="ttdeci">const SlotIndex kBorderPageMaxSlots</div><div class="ttdoc">Maximum number of slots in one MasstreeBorderPage. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00163">masstree_id.hpp:163</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga1dee903a4fd4c4bcaadb95833c4b9a40"><div class="ttname"><a href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">foedus::storage::masstree::kBorderPageAdditionalHeaderSize</a></div><div class="ttdeci">const uint32_t kBorderPageAdditionalHeaderSize</div><div class="ttdoc">Misc header attributes specific to MasstreeBorderPage placed after the common header. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00150">masstree_id.hpp:150</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga1a3c05fe1d44455fc3e761947c6e21e6"><div class="ttname"><a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a></div><div class="ttdeci">const uint16_t kPageSize</div><div class="ttdoc">A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00045">storage_id.hpp:45</a></div></div>
</div><!-- fragment -->
<p>Byte size of the record data part (data_) in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00171">171</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage_8cpp_source.html#l00612">foedus::storage::masstree::MasstreeStorage::estimate_records_per_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ga78a96e3a0ec4256513d9d2e9c94f37fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const SlotIndex foedus::storage::masstree::kBorderPageMaxSlots</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= (<a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a> - <a class="code" href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">kCommonPageHeaderSize</a> - <a class="code" href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">kBorderPageAdditionalHeaderSize</a>)</div>
<div class="line">    / (<a class="code" href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">kBorderPageSlotSize</a> + <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>))</div>
<div class="ttc" id="group__MASSTREE_html_ga54533a5e0a23f34c29a57f8701356491"><div class="ttname"><a href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">foedus::storage::masstree::kCommonPageHeaderSize</a></div><div class="ttdeci">const uint32_t kCommonPageHeaderSize</div><div class="ttdoc">Size of the base page class (MasstreePage), which is the common header for intermediate and border pa...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00144">masstree_id.hpp:144</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga5f09e6bde697b5e2d6389505d17cecb1"><div class="ttname"><a href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">foedus::storage::masstree::kBorderPageSlotSize</a></div><div class="ttdeci">const uint32_t kBorderPageSlotSize</div><div class="ttdoc">Byte size of one slot in MasstreeBorderPage excluding slice information. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00156">masstree_id.hpp:156</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga1dee903a4fd4c4bcaadb95833c4b9a40"><div class="ttname"><a href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">foedus::storage::masstree::kBorderPageAdditionalHeaderSize</a></div><div class="ttdeci">const uint32_t kBorderPageAdditionalHeaderSize</div><div class="ttdoc">Misc header attributes specific to MasstreeBorderPage placed after the common header. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00150">masstree_id.hpp:150</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga1a3c05fe1d44455fc3e761947c6e21e6"><div class="ttname"><a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a></div><div class="ttdeci">const uint16_t kPageSize</div><div class="ttdoc">A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00045">storage_id.hpp:45</a></div></div>
</div><!-- fragment -->
<p>Maximum number of slots in one <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00163">163</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__debug_8cpp_source.html#l00114">foedus::storage::masstree::MasstreeBorderPage::assert_entries_impl()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01570">foedus::storage::masstree::MasstreeBorderPage::can_accomodate()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01585">foedus::storage::masstree::MasstreeBorderPage::can_accomodate_snapshot()</a>, <a class="el" href="masstree__record__location_8hpp_source.html#l00057">foedus::storage::masstree::RecordLocation::clear()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01600">foedus::storage::masstree::MasstreeBorderPage::compare_key()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00796">foedus::storage::masstree::MasstreeBorderPage::does_point_to_layer()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00612">foedus::storage::masstree::MasstreeStorage::estimate_records_per_page()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01120">foedus::storage::masstree::MasstreeBorderPage::find_key()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01198">foedus::storage::masstree::MasstreeBorderPage::find_key_for_reserve()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01179">foedus::storage::masstree::MasstreeBorderPage::find_key_normalized()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00384">foedus::storage::masstree::MasstreeStoragePimpl::follow_layer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00643">foedus::storage::masstree::MasstreeBorderPage::get_new_slot()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00732">foedus::storage::masstree::MasstreeBorderPage::get_record()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00801">foedus::storage::masstree::MasstreeBorderPage::get_slice()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00631">foedus::storage::masstree::MasstreeBorderPage::get_slot()</a>, <a class="el" href="masstree__record__location_8hpp_source.html#l00056">foedus::storage::masstree::RecordLocation::is_found()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00283">foedus::storage::masstree::MasstreeStoragePimpl::locate_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00336">foedus::storage::masstree::MasstreeStoragePimpl::locate_record_normalized()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00304">foedus::storage::masstree::SplitBorder::lock_existing_records()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01641">foedus::storage::masstree::MasstreeBorderPage::ltgt_key()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00061">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_next_layer()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00266">foedus::storage::masstree::MasstreeBorderPage::release_pages_recursive()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01375">foedus::storage::masstree::MasstreeBorderPage::reserve_initially_next_layer()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00515">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record_normalized()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01322">foedus::storage::masstree::MasstreeBorderPage::reserve_record_space()</a>, <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00805">foedus::storage::masstree::MasstreeBorderPage::set_slice()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00534">foedus::storage::masstree::MasstreeBorderPage::track_moved_record()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00609">foedus::storage::masstree::MasstreeBorderPage::track_moved_record_next_layer()</a>, <a class="el" href="masstree__storage__verify_8cpp_source.html#l00201">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_border()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01699">foedus::storage::masstree::MasstreeBorderPage::will_conflict()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l01723">foedus::storage::masstree::MasstreeBorderPage::will_contain_next_layer()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5f09e6bde697b5e2d6389505d17cecb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t foedus::storage::masstree::kBorderPageSlotSize = 32U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Byte size of one slot in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a> <em>excluding</em> slice information. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00156">156</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage_8cpp_source.html#l00612">foedus::storage::masstree::MasstreeStorage::estimate_records_per_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ga54533a5e0a23f34c29a57f8701356491"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t foedus::storage::masstree::kCommonPageHeaderSize = 80U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the base page class (<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html" title="Common base of MasstreeIntermediatePage and MasstreeBorderPage. ">MasstreePage</a>), which is the common header for intermediate and border pages placed at the beginning. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00144">144</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l00937">foedus::storage::masstree::MasstreeBorderPage::prefetch_additional_if_needed()</a>.</p>

</div>
</div>
<a class="anchor" id="gae073d9373f83e959a96a36d14caef1a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const KeyLength foedus::storage::masstree::kInitiallyNextLayer = 0xFFFFU</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A special key length value that denotes the record in a border page was initially a next-layer pointer, thus the record has no suffix region. </p>
<p>This value is stored in the remainder_length member iff the record was originally created as a next-layer. A record that later turned to be next-layer doesn't use this value. Also, a record with this length is never expanded.</p>
<p><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#MASS_TERM_REMAINDER">Remainder vs Remaining Key</a> </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00086">86</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l01417">foedus::storage::masstree::MasstreeBorderPage::append_next_layer_snapshot()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01105">foedus::storage::masstree::calculate_suffix_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01570">foedus::storage::masstree::MasstreeBorderPage::can_accomodate()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00077">foedus::storage::masstree::MasstreeCursor::copy_combined_key()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00095">foedus::storage::masstree::MasstreeCursor::copy_combined_key_part()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00298">foedus::storage::masstree::MasstreeBorderPage::initialize_layer_root()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00345">foedus::storage::masstree::SplitBorder::migrate_records()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01447">foedus::storage::masstree::MasstreeBorderPage::replace_next_layer_snapshot()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01375">foedus::storage::masstree::MasstreeBorderPage::reserve_initially_next_layer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01322">foedus::storage::masstree::MasstreeBorderPage::reserve_record_space()</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00226">foedus::storage::masstree::MasstreeComposeContext::PathLevel::set_no_more_next_original()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00534">foedus::storage::masstree::MasstreeBorderPage::track_moved_record()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00609">foedus::storage::masstree::MasstreeBorderPage::track_moved_record_next_layer()</a>, and <a class="el" href="masstree__page__impl_8cpp_source.html#l00708">foedus::storage::masstree::MasstreeBorderPage::verify_slot_lengthes()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa62799e432e5c5b145851eed621d33d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::masstree::kMaxIntermediateMiniSeparators = 15U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max number of separators stored in the second level of intermediate pages. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>Should be calculated from kPageSize. Super low-priority. </dd></dl>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00244">244</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00118">foedus::storage::masstree::Adopt::adopt_case_b()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01487">foedus::storage::masstree::MasstreeIntermediatePage::is_full_snapshot()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00624">foedus::storage::masstree::SplitIntermediate::migrate_pointers()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00226">foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00188">foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive_parallel()</a>, <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00032">foedus::storage::masstree::Adopt::run()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00103">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_intermediate()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6b0f46dbd051897bd6dae9bbd3eb446e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t foedus::storage::masstree::kMaxIntermediatePointers = (kMaxIntermediateSeparators + 1U) * (kMaxIntermediateMiniSeparators + 1U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max number of pointers (if completely filled) stored in an intermediate pages. </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00251">251</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__split__impl_8cpp_source.html#l00552">foedus::storage::masstree::SplitIntermediate::decide_strategy()</a>, and <a class="el" href="masstree__composer__impl_8cpp_source.html#l02558">foedus::storage::masstree::MasstreeComposer::drop_volatiles()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ce564bb661a338ce070653e1ca48efa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::masstree::kMaxIntermediateSeparators = 9U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max number of separators stored in the first level of intermediate pages. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>Should be calculated from kPageSize. Super low-priority. </dd></dl>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00237">237</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00118">foedus::storage::masstree::Adopt::adopt_case_b()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00108">foedus::storage::masstree::MasstreeIntermediatePage::initialize_snapshot_page()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00088">foedus::storage::masstree::MasstreeIntermediatePage::initialize_volatile_page()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00624">foedus::storage::masstree::SplitIntermediate::migrate_pointers()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00226">foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00188">foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive_parallel()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00103">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_intermediate()</a>.</p>

</div>
</div>
<a class="anchor" id="gae33cf61cd45f5956aa2e46283b9474ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const KeyLength foedus::storage::masstree::kMaxKeyLength = 1024U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max length of a key. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00075">75</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l01105">foedus::storage::masstree::calculate_suffix_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01570">foedus::storage::masstree::MasstreeBorderPage::can_accomodate()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l01305">foedus::storage::masstree::MasstreeCursor::delete_record()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01120">foedus::storage::masstree::MasstreeBorderPage::find_key()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01198">foedus::storage::masstree::MasstreeBorderPage::find_key_for_reserve()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01256">foedus::storage::masstree::MasstreeBorderPage::find_key_for_snapshot()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00280">foedus::storage::masstree::MasstreeCursor::get_combined_key()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l01317">foedus::storage::masstree::MasstreeCursor::increment_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00283">foedus::storage::masstree::MasstreeStoragePimpl::locate_record()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01641">foedus::storage::masstree::MasstreeBorderPage::ltgt_key()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00345">foedus::storage::masstree::SplitBorder::migrate_records()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l01271">foedus::storage::masstree::MasstreeCursor::overwrite_record()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l01289">foedus::storage::masstree::MasstreeCursor::overwrite_record_primitive()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l01322">foedus::storage::masstree::MasstreeBorderPage::reserve_record_space()</a>.</p>

</div>
</div>
<a class="anchor" id="ga54c14c32f171fd8e17499457c56c2817"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Layer foedus::storage::masstree::kMaxLayer = 63U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum value for Layer. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00048">48</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga453ffcac369fa68b5eb5d489e6cdca4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const PayloadLength foedus::storage::masstree::kMaxPayloadLength = 1024U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max length of a payload. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00098">98</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage_8cpp_source.html#l00233">foedus::storage::masstree::adjust_payload_hint()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01570">foedus::storage::masstree::MasstreeBorderPage::can_accomodate()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00247">foedus::storage::masstree::MasstreeStorage::insert_record()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00283">foedus::storage::masstree::MasstreeStorage::insert_record_normalized()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00347">foedus::storage::masstree::MasstreeStorage::upsert_record()</a>, and <a class="el" href="masstree__storage_8cpp_source.html#l00383">foedus::storage::masstree::MasstreeStorage::upsert_record_normalized()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f474f4e6fab3c9fb547cba7c35efe54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const InLayerLevel foedus::storage::masstree::kMaxSaneInLayerLevel = 15U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If InLayerLevel exceeds this value, there must be something wrong. </p>
<p>In theory, there is no limit on B-tree levels. But, in reality we can't store 16-levels of B-tree even with the biggest machine in our universe. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00063">63</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
