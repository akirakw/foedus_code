<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::memory::LocalPageResolver Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfoedus_1_1memory_1_1LocalPageResolver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structfoedus_1_1memory_1_1LocalPageResolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::memory::LocalPageResolver Struct Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__MEMORY.html">Memory Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Resolves an offset in <em>local</em> (same NUMA node) page pool to a pointer and vice versa.  
 <a href="structfoedus_1_1memory_1_1LocalPageResolver.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Resolves an offset in <em>local</em> (same NUMA node) page pool to a pointer and vice versa. </p>
<p>This class abstracts how we convert 4-byte page-pool offset to/from 8-byte pointer for cases where we are handling a page that resides in a local page pool. Especially, snapshot pages and snapshotting can always use this page resolver.</p>
<p>This object is copiable and the copying is very efficient. The size of this object is only 16 bytes. </p>

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00042">42</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for foedus::memory::LocalPageResolver:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1memory_1_1LocalPageResolver__coll__graph.png" border="0" usemap="#foedus_1_1memory_1_1LocalPageResolver_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1memory_1_1LocalPageResolver_coll__map" id="foedus_1_1memory_1_1LocalPageResolver_coll__map">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. " alt="" coords="23,5,172,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4efd763ce1697b8b415c669c327d7a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#ac4efd763ce1697b8b415c669c327d7a9">LocalPageResolver</a> ()</td></tr>
<tr class="separator:ac4efd763ce1697b8b415c669c327d7a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c32a5eeef07d4794fc374ef611b89e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#a2c32a5eeef07d4794fc374ef611b89e7">LocalPageResolver</a> (<a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *base, <a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> begin, <a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> end)</td></tr>
<tr class="separator:a2c32a5eeef07d4794fc374ef611b89e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfac143e7004224a6d04643cb9edfeec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#adfac143e7004224a6d04643cb9edfeec">resolve_page</a> (<a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *page) const __attribute__((always_inline))</td></tr>
<tr class="memdesc:adfac143e7004224a6d04643cb9edfeec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">storage::Page</a>* to offset in this pool.  <a href="#adfac143e7004224a6d04643cb9edfeec">More...</a><br /></td></tr>
<tr class="separator:adfac143e7004224a6d04643cb9edfeec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a389ef2027f0d0dc27d35856733e2f9be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#a389ef2027f0d0dc27d35856733e2f9be">resolve_offset</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> offset) const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a389ef2027f0d0dc27d35856733e2f9be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves offset in this pool to <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">storage::Page</a>*.  <a href="#a389ef2027f0d0dc27d35856733e2f9be">More...</a><br /></td></tr>
<tr class="separator:a389ef2027f0d0dc27d35856733e2f9be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d2266686c3a66678b37241a3ac434f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f">resolve_offset_newpage</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> offset) const __attribute__((always_inline))</td></tr>
<tr class="memdesc:aa9d2266686c3a66678b37241a3ac434f"><td class="mdescLeft">&#160;</td><td class="mdescRight">As the name suggests, this version is for new pages, which don't have sanity checks.  <a href="#aa9d2266686c3a66678b37241a3ac434f">More...</a><br /></td></tr>
<tr class="separator:aa9d2266686c3a66678b37241a3ac434f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab82f2f4fcd63f219f3080eee2ccf6ee2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">begin_</a></td></tr>
<tr class="memdesc:ab82f2f4fcd63f219f3080eee2ccf6ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">where a valid page entry starts.  <a href="#ab82f2f4fcd63f219f3080eee2ccf6ee2">More...</a><br /></td></tr>
<tr class="separator:ab82f2f4fcd63f219f3080eee2ccf6ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd53ee3eaa00a58b7b0446456d82f4a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">end_</a></td></tr>
<tr class="memdesc:afd53ee3eaa00a58b7b0446456d82f4a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">where a valid page entry ends.  <a href="#afd53ee3eaa00a58b7b0446456d82f4a9">More...</a><br /></td></tr>
<tr class="separator:afd53ee3eaa00a58b7b0446456d82f4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeb774ccb6dd55c9b8f2f3e1410522f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">base_</a></td></tr>
<tr class="memdesc:afeb774ccb6dd55c9b8f2f3e1410522f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">base address to calculate from/to offset.  <a href="#afeb774ccb6dd55c9b8f2f3e1410522f1">More...</a><br /></td></tr>
<tr class="separator:afeb774ccb6dd55c9b8f2f3e1410522f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac4efd763ce1697b8b415c669c327d7a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::LocalPageResolver::LocalPageResolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00043">43</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;: <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">begin_</a>(0), <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">end_</a>(0), <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">base_</a>(<a class="code" href="group__CXX11.html#ga213f92e16813051c59cdccf6d28baa78">CXX11_NULLPTR</a>) {}</div>
<div class="ttc" id="group__CXX11_html_ga213f92e16813051c59cdccf6d28baa78"><div class="ttname"><a href="group__CXX11.html#ga213f92e16813051c59cdccf6d28baa78">CXX11_NULLPTR</a></div><div class="ttdeci">#define CXX11_NULLPTR</div><div class="ttdoc">Used in public headers in place of "nullptr" of C++11. </div><div class="ttdef"><b>Definition:</b> <a href="cxx11_8hpp_source.html#l00132">cxx11.hpp:132</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afd53ee3eaa00a58b7b0446456d82f4a9"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">foedus::memory::LocalPageResolver::end_</a></div><div class="ttdeci">PagePoolOffset end_</div><div class="ttdoc">where a valid page entry ends. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00073">page_resolver.hpp:73</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_ab82f2f4fcd63f219f3080eee2ccf6ee2"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">foedus::memory::LocalPageResolver::begin_</a></div><div class="ttdeci">PagePoolOffset begin_</div><div class="ttdoc">where a valid page entry starts. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00071">page_resolver.hpp:71</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afeb774ccb6dd55c9b8f2f3e1410522f1"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">foedus::memory::LocalPageResolver::base_</a></div><div class="ttdeci">storage::Page * base_</div><div class="ttdoc">base address to calculate from/to offset. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00075">page_resolver.hpp:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c32a5eeef07d4794fc374ef611b89e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::LocalPageResolver::LocalPageResolver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00044">44</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    : <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">begin_</a>(begin), <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">end_</a>(end), <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">base_</a>(base) {}</div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afd53ee3eaa00a58b7b0446456d82f4a9"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">foedus::memory::LocalPageResolver::end_</a></div><div class="ttdeci">PagePoolOffset end_</div><div class="ttdoc">where a valid page entry ends. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00073">page_resolver.hpp:73</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_ab82f2f4fcd63f219f3080eee2ccf6ee2"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">foedus::memory::LocalPageResolver::begin_</a></div><div class="ttdeci">PagePoolOffset begin_</div><div class="ttdoc">where a valid page entry starts. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00071">page_resolver.hpp:71</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afeb774ccb6dd55c9b8f2f3e1410522f1"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">foedus::memory::LocalPageResolver::base_</a></div><div class="ttdeci">storage::Page * base_</div><div class="ttdoc">base address to calculate from/to offset. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00075">page_resolver.hpp:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a389ef2027f0d0dc27d35856733e2f9be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a>* foedus::memory::LocalPageResolver::resolve_offset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resolves offset in this pool to <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">storage::Page</a>*. </p>

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00057">57</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>

<p>References <a class="el" href="page_8hpp_source.html#l00407">foedus::storage::assert_valid_volatile_page()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00064">resolve_offset_newpage()</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00323">foedus::storage::sequential::SequentialStoragePimpl::append_record()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00309">foedus::storage::sequential::SequentialComposer::drop_volatiles()</a>, <a class="el" href="sequential__storage__pimpl_8hpp_source.html#l00196">foedus::storage::sequential::SequentialStoragePimpl::for_every_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00407">foedus::storage::sequential::SequentialStoragePimpl::get_head()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00417">foedus::storage::sequential::SequentialStoragePimpl::get_tail()</a>, and <a class="el" href="thread_8cpp_source.html#l00135">foedus::thread::Thread::resolve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                                                         {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    storage::Page* page = <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f">resolve_offset_newpage</a>(offset);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// this is NOT a new page, so we have sanity checks</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d">storage::assert_valid_volatile_page</a>(page, offset);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> page;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_aa9d2266686c3a66678b37241a3ac434f"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f">foedus::memory::LocalPageResolver::resolve_offset_newpage</a></div><div class="ttdeci">storage::Page * resolve_offset_newpage(PagePoolOffset offset) const __attribute__((always_inline))</div><div class="ttdoc">As the name suggests, this version is for new pages, which don&#39;t have sanity checks. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00064">page_resolver.hpp:64</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_html_a9220f4aff16817a668990bd85f2f527d"><div class="ttname"><a href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d">foedus::storage::assert_valid_volatile_page</a></div><div class="ttdeci">void assert_valid_volatile_page(const Page *page, uint32_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00407">page.hpp:407</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_cgraph.png" border="0" usemap="#structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_cgraph" alt=""/></div>
<map name="structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_cgraph" id="structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="252,103,407,144"/>
<area shape="rect" id="node7" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="237,169,421,225"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="487,5,642,47"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="490,71,639,112"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="469,136,660,177"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="484,201,645,243"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_icgraph.png" border="0" usemap="#structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_icgraph" alt=""/></div>
<map name="structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_icgraph" id="structfoedus_1_1memory_1_1LocalPageResolver_a389ef2027f0d0dc27d35856733e2f9be_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="239,5,418,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="468,97,671,138"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="237,267,420,323"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab8595b7fa861e2f16b04f6758a7508a5" title="Traverse all pages and call back the handler for every page. " alt="" coords="480,183,659,239"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a9754dc5a7c8b8f1f45a77714dfa8a53f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head" alt="" coords="239,136,418,192"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aeed5645880f0c4dfe3bca57ad9846ea4" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_tail" alt="" coords="239,347,418,403"/>
<area shape="rect" id="node20" href="classfoedus_1_1thread_1_1Thread.html#a892665edac104de10ffb46980a9d6bbf" title="Shorthand for get_local_volatile_page_resolver.resolve_offset() " alt="" coords="253,427,404,469"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="480,5,659,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="719,5,902,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="721,97,900,138"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="480,274,659,315"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="719,267,903,323"/>
<area shape="rect" id="node10" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="951,274,1177,315"/>
<area shape="rect" id="node11" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1225,267,1436,323"/>
<area shape="rect" id="node12" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1512,241,1667,282"/>
<area shape="rect" id="node14" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1484,306,1695,347"/>
<area shape="rect" id="node13" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1743,241,1937,282"/>
<area shape="rect" id="node15" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1743,306,1937,347"/>
<area shape="rect" id="node17" href="namespacefoedus_1_1storage_1_1sequential.html#aab3041ddf08dbde93ee896a1efff26d1" title="foedus::storage::sequential\l::operator\&lt;\&lt;" alt="" coords="721,190,900,231"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa9d2266686c3a66678b37241a3ac434f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a>* foedus::memory::LocalPageResolver::resolve_offset_newpage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>As the name suggests, this version is for new pages, which don't have sanity checks. </p>

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00064">64</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="page__resolver_8hpp_source.html#l00075">base_</a>, <a class="el" href="page__resolver_8hpp_source.html#l00071">begin_</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00073">end_</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00323">foedus::storage::sequential::SequentialStoragePimpl::append_record()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00076">foedus::storage::hash::HashStoragePimpl::create()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00411">foedus::thread::ThreadPimpl::follow_page_pointer()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00484">foedus::thread::ThreadPimpl::follow_page_pointers_for_read_batch()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00595">foedus::thread::ThreadPimpl::follow_page_pointers_for_write_batch()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00136">foedus::memory::EngineMemory::grab_one_volatile_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00188">foedus::storage::sequential::SequentialStoragePimpl::initialize_head_tail_pages()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00292">foedus::thread::ThreadPimpl::install_a_volatile_page()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00317">foedus::thread::ThreadPimpl::place_a_new_volatile_page()</a>, <a class="el" href="thread_8cpp_source.html#l00138">foedus::thread::Thread::resolve_newpage()</a>, <a class="el" href="page__resolver_8hpp_source.html#l00057">resolve_offset()</a>, and <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                                                 {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(offset &gt;= <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">begin_</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(offset &lt; <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">end_</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">base_</a> + offset;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afd53ee3eaa00a58b7b0446456d82f4a9"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">foedus::memory::LocalPageResolver::end_</a></div><div class="ttdeci">PagePoolOffset end_</div><div class="ttdoc">where a valid page entry ends. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00073">page_resolver.hpp:73</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_ab82f2f4fcd63f219f3080eee2ccf6ee2"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">foedus::memory::LocalPageResolver::begin_</a></div><div class="ttdeci">PagePoolOffset begin_</div><div class="ttdoc">where a valid page entry starts. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00071">page_resolver.hpp:71</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afeb774ccb6dd55c9b8f2f3e1410522f1"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">foedus::memory::LocalPageResolver::base_</a></div><div class="ttdeci">storage::Page * base_</div><div class="ttdoc">base address to calculate from/to offset. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00075">page_resolver.hpp:75</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1memory_1_1LocalPageResolver_aa9d2266686c3a66678b37241a3ac434f_icgraph.png" border="0" usemap="#structfoedus_1_1memory_1_1LocalPageResolver_aa9d2266686c3a66678b37241a3ac434f_icgraph" alt=""/></div>
<map name="structfoedus_1_1memory_1_1LocalPageResolver_aa9d2266686c3a66678b37241a3ac434f_icgraph" id="structfoedus_1_1memory_1_1LocalPageResolver_aa9d2266686c3a66678b37241a3ac434f_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="514,5,693,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a2823bcc0a488ad58faee46d876db8abe" title="foedus::storage::hash\l::HashStoragePimpl::create" alt="" coords="251,493,434,534"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1251,383,1429,439"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="768,626,952,667"/>
<area shape="rect" id="node17" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="511,828,695,884"/>
<area shape="rect" id="node20" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="768,763,952,819"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1EngineMemory.html#ae35d16d716451eaa878ec2888960127d" title="A convenience function to grab one free volatile page from the given node. " alt="" coords="237,959,448,1001"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#acc045528304f2d22f64b3f1c76b99fa5" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::initialize_head_tail_pages" alt="" coords="253,1131,432,1187"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="511,711,695,753"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a9c2b2febfce356451e8183f66f71dcc3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::load_empty" alt="" coords="256,1051,429,1107"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="249,770,436,811"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1Thread.html#a0bbca35bd1ea6ee3cb3d94616166644e" title="Shorthand for get_local_volatile_page_resolver.resolve_offset_newpage() " alt="" coords="267,1211,418,1253"/>
<area shape="rect" id="node43" href="structfoedus_1_1memory_1_1LocalPageResolver.html#a389ef2027f0d0dc27d35856733e2f9be" title="Resolves offset in this pool to storage::Page*. " alt="" coords="251,241,435,282"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="256,1277,429,1318"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="771,5,949,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="1015,5,1197,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac77a3ace0e46fc133fa68affc8901409" title="foedus::storage::hash\l::HashStorage::create" alt="" coords="529,493,678,534"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="1477,593,1691,634"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="1739,630,1944,671"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1031,615,1181,657"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="1251,724,1429,780"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="1257,804,1423,860"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="1502,659,1666,715"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="1253,463,1427,519"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff31f521523d7a7b81ff5b750e081dac" title="Thread::follow_page_pointer() for masstree. " alt="" coords="1253,543,1427,599"/>
<area shape="rect" id="node18" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="785,843,935,899"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="1017,921,1195,977"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1031,841,1181,897"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="1251,884,1429,940"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2bf1f0e04d213efe49f4e250968a60b9" title="foedus::storage::array\l::ArrayStoragePimpl::load_empty" alt="" coords="496,959,711,1001"/>
<area shape="rect" id="node27" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="498,1025,709,1066"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af6387df1cf86cecbbaba2c41635bbe7a" title="foedus::storage::array\l::ArrayStoragePimpl::create" alt="" coords="769,923,951,965"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="775,989,945,1030"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="763,1119,957,1161"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="775,1054,945,1095"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab9ccf59655effed1a259100c4d46b06b" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::create" alt="" coords="514,1221,693,1277"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aaf7d413df08f874c5d7caf175260c02f" title="foedus::storage::sequential\l::SequentialStoragePimpl::load" alt="" coords="503,1302,704,1343"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a1b3fd99bf6040a5ee42164d31135f433" title="foedus::storage::sequential\l::SequentialStorage::create" alt="" coords="770,1229,950,1270"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a2ba6c181226fb2b20ee12b012382f2fa" title="foedus::storage::sequential\l::SequentialStorage::load" alt="" coords="771,1302,949,1343"/>
<area shape="rect" id="node36" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="781,697,939,738"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1009,681,1203,737"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="1019,761,1193,817"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a192a4976aa71f457b356bf536d9f5fc2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::create" alt="" coords="517,1141,690,1197"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="759,110,961,151"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="512,267,695,323"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab8595b7fa861e2f16b04f6758a7508a5" title="Traverse all pages and call back the handler for every page. " alt="" coords="771,189,949,245"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a9754dc5a7c8b8f1f45a77714dfa8a53f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_head" alt="" coords="514,136,693,192"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aeed5645880f0c4dfe3bca57ad9846ea4" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::get_tail" alt="" coords="514,347,693,403"/>
<area shape="rect" id="node49" href="classfoedus_1_1thread_1_1Thread.html#a892665edac104de10ffb46980a9d6bbf" title="Shorthand for get_local_volatile_page_resolver.resolve_offset() " alt="" coords="528,427,679,469"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adfac143e7004224a6d04643cb9edfeec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> foedus::memory::LocalPageResolver::resolve_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resolves <a class="el" href="structfoedus_1_1storage_1_1Page.html" title="Just a marker to denote that the memory region represents a data page. ">storage::Page</a>* to offset in this pool. </p>

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00050">50</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="page__resolver_8hpp_source.html#l00075">base_</a>, <a class="el" href="page__resolver_8hpp_source.html#l00071">begin_</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00073">end_</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                                     {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> offset = page - <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">base_</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(offset &gt;= <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">begin_</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(offset &lt; <a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">end_</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  }</div>
<div class="ttc" id="group__MEMORY_html_gaf7ed7c23d184b14ce978b1775a86dfae"><div class="ttname"><a href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">foedus::memory::PagePoolOffset</a></div><div class="ttdeci">uint32_t PagePoolOffset</div><div class="ttdoc">Offset in PagePool that compactly represents the page address (unlike 8 bytes pointer). </div><div class="ttdef"><b>Definition:</b> <a href="memory__id_8hpp_source.html#l00044">memory_id.hpp:44</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afd53ee3eaa00a58b7b0446456d82f4a9"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afd53ee3eaa00a58b7b0446456d82f4a9">foedus::memory::LocalPageResolver::end_</a></div><div class="ttdeci">PagePoolOffset end_</div><div class="ttdoc">where a valid page entry ends. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00073">page_resolver.hpp:73</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_ab82f2f4fcd63f219f3080eee2ccf6ee2"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#ab82f2f4fcd63f219f3080eee2ccf6ee2">foedus::memory::LocalPageResolver::begin_</a></div><div class="ttdeci">PagePoolOffset begin_</div><div class="ttdoc">where a valid page entry starts. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00071">page_resolver.hpp:71</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_afeb774ccb6dd55c9b8f2f3e1410522f1"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#afeb774ccb6dd55c9b8f2f3e1410522f1">foedus::memory::LocalPageResolver::base_</a></div><div class="ttdeci">storage::Page * base_</div><div class="ttdoc">base address to calculate from/to offset. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00075">page_resolver.hpp:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="afeb774ccb6dd55c9b8f2f3e1410522f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a>* foedus::memory::LocalPageResolver::base_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>base address to calculate from/to offset. </p>

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00075">75</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>

<p>Referenced by <a class="el" href="page__resolver_8hpp_source.html#l00064">resolve_offset_newpage()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00050">resolve_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ab82f2f4fcd63f219f3080eee2ccf6ee2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> foedus::memory::LocalPageResolver::begin_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>where a valid page entry starts. </p>
<p>only for sanity checking. </p>

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00071">71</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>

<p>Referenced by <a class="el" href="engine__memory_8cpp_source.html#l00043">foedus::memory::EngineMemory::initialize_once()</a>, <a class="el" href="page__resolver_8hpp_source.html#l00064">resolve_offset_newpage()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00050">resolve_page()</a>.</p>

</div>
</div>
<a class="anchor" id="afd53ee3eaa00a58b7b0446456d82f4a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> foedus::memory::LocalPageResolver::end_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>where a valid page entry ends. </p>
<p>only for sanity checking. </p>

<p>Definition at line <a class="el" href="page__resolver_8hpp_source.html#l00073">73</a> of file <a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a>.</p>

<p>Referenced by <a class="el" href="thread__pimpl_8cpp_source.html#l00411">foedus::thread::ThreadPimpl::follow_page_pointer()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00043">foedus::memory::EngineMemory::initialize_once()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00292">foedus::thread::ThreadPimpl::install_a_volatile_page()</a>, <a class="el" href="page__resolver_8hpp_source.html#l00064">resolve_offset_newpage()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00050">resolve_page()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/memory/<a class="el" href="page__resolver_8hpp_source.html">page_resolver.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1memory.html">memory</a></li><li class="navelem"><a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html">LocalPageResolver</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
