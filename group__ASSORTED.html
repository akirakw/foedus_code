<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: Assorted Methods/Classes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ASSORTED.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Assorted Methods/Classes<div class="ingroups"><a class="el" href="group__IDIOMS.html">FOEDUS Programming Idioms</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Assorted Methods/Classes that are too subtle to have their own packages.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Assorted Methods/Classes that are too subtle to have their own packages. </p>
<p>Do <b>NOT</b> use this package to hold hundleds of classes/methods. That's a class design failure. This package should contain really only a few methods and classes, each of which should be extremely simple and unrelated each other. Otherwise, make a package for them. Learn from the stupid history of java.util. </p>
<div class="dynheader">
Collaboration diagram for Assorted Methods/Classes:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__ASSORTED.png" border="0" alt="" usemap="#group____ASSORTED"/>
<map name="group____ASSORTED" id="group____ASSORTED">
<area shape="rect" id="node1" href="group__IDIOMS.html" title="You must first get used to these things to use/develop libfoedus. " alt="" coords="5,5,163,47"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:atomic__fences_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atomic__fences_8hpp.html">atomic_fences.hpp</a></td></tr>
<tr class="memdesc:atomic__fences_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic fence methods and load/store with fences that work for both C++11/non-C++11 code. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:cacheline_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cacheline_8hpp.html">cacheline.hpp</a></td></tr>
<tr class="memdesc:cacheline_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constants and methods related to CPU cacheline and its prefetching. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:endianness_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="endianness_8hpp.html">endianness.hpp</a></td></tr>
<tr class="memdesc:endianness_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">A few macros and helper methods related to byte endian-ness. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:raw__atomics_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="raw__atomics_8hpp.html">raw_atomics.hpp</a></td></tr>
<tr class="memdesc:raw__atomics_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raw atomic operations that work for both C++11 and non-C++11 code. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1assorted_1_1Hex.html">foedus::assorted::Hex</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenient way of writing hex integers to stream.  <a href="structfoedus_1_1assorted_1_1Hex.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1assorted_1_1HexString.html">foedus::assorted::HexString</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent to std::hex in case the stream doesn't support it.  <a href="structfoedus_1_1assorted_1_1HexString.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1assorted_1_1Top.html">foedus::assorted::Top</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write only first few bytes to stream.  <a href="structfoedus_1_1assorted_1_1Top.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1assorted_1_1ConstDiv.html">foedus::assorted::ConstDiv</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pre-calculated p-m pair for optimized integer division by constant.  <a href="structfoedus_1_1assorted_1_1ConstDiv.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1assorted_1_1DumbSpinlock.html">foedus::assorted::DumbSpinlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A simple spinlock using a boolean field.  <a href="classfoedus_1_1assorted_1_1DumbSpinlock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1assorted_1_1FixedString.html">foedus::assorted::FixedString&lt; MAXLEN, CHAR &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An embedded string object of fixed max-length, which uses no external memory.  <a href="classfoedus_1_1assorted_1_1FixedString.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1assorted_1_1ProbCounter.html">foedus::assorted::ProbCounter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements a probabilistic counter [Morris 1978].  <a href="structfoedus_1_1assorted_1_1ProbCounter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1assorted_1_1ProtectedBoundary.html">foedus::assorted::ProtectedBoundary</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A 4kb dummy data placed between separate memory regions so that we can check if/where a bogus memory access happens.  <a href="structfoedus_1_1assorted_1_1ProtectedBoundary.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1assorted_1_1UniformRandom.html">foedus::assorted::UniformRandom</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A very simple and deterministic random generator that is more aligned with standard benchmark such as TPC-C.  <a href="classfoedus_1_1assorted_1_1UniformRandom.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1assorted_1_1ZipfianRandom.html">foedus::assorted::ZipfianRandom</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A simple zipfian generator based off of YCSB's Java implementation.  <a href="classfoedus_1_1assorted_1_1ZipfianRandom.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae932f87b60cbd230347151ccf33eed86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gae932f87b60cbd230347151ccf33eed86">SPINLOCK_WHILE</a>(x)&#160;&#160;&#160;for (<a class="el" href="structfoedus_1_1assorted_1_1SpinlockStat.html">foedus::assorted::SpinlockStat</a> __spins; (x); __spins.yield_backoff())</td></tr>
<tr class="memdesc:gae932f87b60cbd230347151ccf33eed86"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro to busy-wait (spinlock) with occasional pause.  <a href="#gae932f87b60cbd230347151ccf33eed86">More...</a><br /></td></tr>
<tr class="separator:gae932f87b60cbd230347151ccf33eed86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe6a76afac87077742ff9fc7eb26eae6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gabe6a76afac87077742ff9fc7eb26eae6">INSTANTIATE_ALL_TYPES</a>(M)</td></tr>
<tr class="memdesc:gabe6a76afac87077742ff9fc7eb26eae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro to explicitly instantiate the given template for all types we care.  <a href="#gabe6a76afac87077742ff9fc7eb26eae6">More...</a><br /></td></tr>
<tr class="separator:gabe6a76afac87077742ff9fc7eb26eae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a445a5c4fdb310f0b26cab5964aec04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga9a445a5c4fdb310f0b26cab5964aec04">INSTANTIATE_ALL_NUMERIC_TYPES</a>(M)</td></tr>
<tr class="memdesc:ga9a445a5c4fdb310f0b26cab5964aec04"><td class="mdescLeft">&#160;</td><td class="mdescRight">INSTANTIATE_ALL_TYPES minus std::string.  <a href="#ga9a445a5c4fdb310f0b26cab5964aec04">More...</a><br /></td></tr>
<tr class="separator:ga9a445a5c4fdb310f0b26cab5964aec04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7bb0b155b4b66bb989852d4a49177c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gad7bb0b155b4b66bb989852d4a49177c0">INSTANTIATE_ALL_INTEGER_PLUS_BOOL_TYPES</a>(M)</td></tr>
<tr class="memdesc:gad7bb0b155b4b66bb989852d4a49177c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">INSTANTIATE_ALL_TYPES minus std::string/float/double.  <a href="#gad7bb0b155b4b66bb989852d4a49177c0">More...</a><br /></td></tr>
<tr class="separator:gad7bb0b155b4b66bb989852d4a49177c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa23c66e9c3fb1ea5bd148aa006701602"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaa23c66e9c3fb1ea5bd148aa006701602">INSTANTIATE_ALL_INTEGER_TYPES</a>(M)</td></tr>
<tr class="memdesc:gaa23c66e9c3fb1ea5bd148aa006701602"><td class="mdescLeft">&#160;</td><td class="mdescRight">INSTANTIATE_ALL_NUMERIC_TYPES minus bool/double/float.  <a href="#gaa23c66e9c3fb1ea5bd148aa006701602">More...</a><br /></td></tr>
<tr class="separator:gaa23c66e9c3fb1ea5bd148aa006701602"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad6112981b6bbe27452018628a1234c4b"><td class="memTemplParams" colspan="2">template&lt;typename T , uint64_t ALIGNMENT&gt; </td></tr>
<tr class="memitem:gad6112981b6bbe27452018628a1234c4b"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gad6112981b6bbe27452018628a1234c4b">foedus::assorted::align</a> (T value)</td></tr>
<tr class="memdesc:gad6112981b6bbe27452018628a1234c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the smallest multiply of ALIGNMENT that is equal or larger than the given number.  <a href="group__ASSORTED.html#gad6112981b6bbe27452018628a1234c4b">More...</a><br /></td></tr>
<tr class="separator:gad6112981b6bbe27452018628a1234c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34d731a5b871bbd8a43b748808e9ce52"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga34d731a5b871bbd8a43b748808e9ce52"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a> (T value)</td></tr>
<tr class="memdesc:ga34d731a5b871bbd8a43b748808e9ce52"><td class="mdescLeft">&#160;</td><td class="mdescRight">8-alignment.  <a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">More...</a><br /></td></tr>
<tr class="separator:ga34d731a5b871bbd8a43b748808e9ce52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0edaae5f742824a3eac02ab300c50cb"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gac0edaae5f742824a3eac02ab300c50cb"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gac0edaae5f742824a3eac02ab300c50cb">foedus::assorted::align16</a> (T value)</td></tr>
<tr class="memdesc:gac0edaae5f742824a3eac02ab300c50cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">16-alignment.  <a href="group__ASSORTED.html#gac0edaae5f742824a3eac02ab300c50cb">More...</a><br /></td></tr>
<tr class="separator:gac0edaae5f742824a3eac02ab300c50cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93fce024647985ac69b45cc9e2ab08c0"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga93fce024647985ac69b45cc9e2ab08c0"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga93fce024647985ac69b45cc9e2ab08c0">foedus::assorted::align64</a> (T value)</td></tr>
<tr class="memdesc:ga93fce024647985ac69b45cc9e2ab08c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">64-alignment.  <a href="group__ASSORTED.html#ga93fce024647985ac69b45cc9e2ab08c0">More...</a><br /></td></tr>
<tr class="separator:ga93fce024647985ac69b45cc9e2ab08c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2beea4717aef7ca9d43b91e48cf5824"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gae2beea4717aef7ca9d43b91e48cf5824">foedus::assorted::int_div_ceil</a> (int64_t dividee, int64_t dividor)</td></tr>
<tr class="memdesc:gae2beea4717aef7ca9d43b91e48cf5824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Efficient ceil(dividee/dividor) for integer.  <a href="group__ASSORTED.html#gae2beea4717aef7ca9d43b91e48cf5824">More...</a><br /></td></tr>
<tr class="separator:gae2beea4717aef7ca9d43b91e48cf5824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa64b5d5356e69e9d0efa80590617c795"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaa64b5d5356e69e9d0efa80590617c795">foedus::assorted::replace_all</a> (const std::string &amp;target, const std::string &amp;search, const std::string &amp;replacement)</td></tr>
<tr class="memdesc:gaa64b5d5356e69e9d0efa80590617c795"><td class="mdescLeft">&#160;</td><td class="mdescRight">target.replaceAll(search, replacement).  <a href="group__ASSORTED.html#gaa64b5d5356e69e9d0efa80590617c795">More...</a><br /></td></tr>
<tr class="separator:gaa64b5d5356e69e9d0efa80590617c795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1afe4b27fefca2c6a255702f9d636b7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gab1afe4b27fefca2c6a255702f9d636b7">foedus::assorted::replace_all</a> (const std::string &amp;target, const std::string &amp;search, int replacement)</td></tr>
<tr class="memdesc:gab1afe4b27fefca2c6a255702f9d636b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">target.replaceAll(search, String.valueOf(replacement)).  <a href="group__ASSORTED.html#gab1afe4b27fefca2c6a255702f9d636b7">More...</a><br /></td></tr>
<tr class="separator:gab1afe4b27fefca2c6a255702f9d636b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa260096daf8620266c2799d1f5a0270"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270">foedus::assorted::os_error</a> ()</td></tr>
<tr class="memdesc:gaaa260096daf8620266c2799d1f5a0270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-safe strerror(errno).  <a href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270">More...</a><br /></td></tr>
<tr class="separator:gaaa260096daf8620266c2799d1f5a0270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga925c0ebd9e81ab707232527ae5c6197b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga925c0ebd9e81ab707232527ae5c6197b">foedus::assorted::os_error</a> (int error_number)</td></tr>
<tr class="memdesc:ga925c0ebd9e81ab707232527ae5c6197b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This version receives errno.  <a href="group__ASSORTED.html#ga925c0ebd9e81ab707232527ae5c6197b">More...</a><br /></td></tr>
<tr class="separator:ga925c0ebd9e81ab707232527ae5c6197b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf12dac99d13b55183e7faf0f496ff3f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gabf12dac99d13b55183e7faf0f496ff3f">foedus::assorted::get_current_executable_path</a> ()</td></tr>
<tr class="memdesc:gabf12dac99d13b55183e7faf0f496ff3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the full path of current executable.  <a href="group__ASSORTED.html#gabf12dac99d13b55183e7faf0f496ff3f">More...</a><br /></td></tr>
<tr class="separator:gabf12dac99d13b55183e7faf0f496ff3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa05e01910d3ea9909f1a64afd62729fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb">foedus::assorted::spinlock_yield</a> ()</td></tr>
<tr class="memdesc:gaa05e01910d3ea9909f1a64afd62729fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env.  <a href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb">More...</a><br /></td></tr>
<tr class="separator:gaa05e01910d3ea9909f1a64afd62729fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a441903acd503bf5425107cf7b0c3c2"><td class="memTemplParams" colspan="2">template&lt;uint64_t SIZE1, uint64_t SIZE2&gt; </td></tr>
<tr class="memitem:ga5a441903acd503bf5425107cf7b0c3c2"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga5a441903acd503bf5425107cf7b0c3c2">foedus::assorted::static_size_check</a> ()</td></tr>
<tr class="memdesc:ga5a441903acd503bf5425107cf7b0c3c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alternative for static_assert(sizeof(foo) == sizeof(bar), "oh crap") to display sizeof(foo).  <a href="group__ASSORTED.html#ga5a441903acd503bf5425107cf7b0c3c2">More...</a><br /></td></tr>
<tr class="separator:ga5a441903acd503bf5425107cf7b0c3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaaeeef9a7bd86c89f96e337fdd88caab"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaaaeeef9a7bd86c89f96e337fdd88caab">foedus::assorted::demangle_type_name</a> (const char *mangled_name)</td></tr>
<tr class="memdesc:gaaaeeef9a7bd86c89f96e337fdd88caab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Demangle the given C++ type name <em>if</em> possible (otherwise the original string).  <a href="group__ASSORTED.html#gaaaeeef9a7bd86c89f96e337fdd88caab">More...</a><br /></td></tr>
<tr class="separator:gaaaeeef9a7bd86c89f96e337fdd88caab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8987f6c9cf72dc6468cc7c798b96cd42"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga8987f6c9cf72dc6468cc7c798b96cd42"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga8987f6c9cf72dc6468cc7c798b96cd42">foedus::assorted::get_pretty_type_name</a> ()</td></tr>
<tr class="memdesc:ga8987f6c9cf72dc6468cc7c798b96cd42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the C++ type as readable as possible.  <a href="group__ASSORTED.html#ga8987f6c9cf72dc6468cc7c798b96cd42">More...</a><br /></td></tr>
<tr class="separator:ga8987f6c9cf72dc6468cc7c798b96cd42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fca9a740f557f4f79df89e3d416db31"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga7fca9a740f557f4f79df89e3d416db31">foedus::assorted::generate_almost_prime_below</a> (uint64_t threshold)</td></tr>
<tr class="memdesc:ga7fca9a740f557f4f79df89e3d416db31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a prime or some number that is almost prime less than the given number.  <a href="group__ASSORTED.html#ga7fca9a740f557f4f79df89e3d416db31">More...</a><br /></td></tr>
<tr class="separator:ga7fca9a740f557f4f79df89e3d416db31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf84f9944a16c5848f69beacdfeedf939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939">foedus::assorted::memory_fence_acquire</a> ()</td></tr>
<tr class="memdesc:gaf84f9944a16c5848f69beacdfeedf939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent to std::atomic_thread_fence(std::memory_order_acquire).  <a href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939">More...</a><br /></td></tr>
<tr class="separator:gaf84f9944a16c5848f69beacdfeedf939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc1110de4c6bb85c7e1f7feccc27f6d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7">foedus::assorted::memory_fence_release</a> ()</td></tr>
<tr class="memdesc:gafc1110de4c6bb85c7e1f7feccc27f6d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent to std::atomic_thread_fence(std::memory_order_release).  <a href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7">More...</a><br /></td></tr>
<tr class="separator:gafc1110de4c6bb85c7e1f7feccc27f6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff9fa4aedd631410da28740f6e1dddbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf">foedus::assorted::memory_fence_acq_rel</a> ()</td></tr>
<tr class="memdesc:gaff9fa4aedd631410da28740f6e1dddbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel).  <a href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf">More...</a><br /></td></tr>
<tr class="separator:gaff9fa4aedd631410da28740f6e1dddbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga641117f56315b0f239d72948cf5aa56f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga641117f56315b0f239d72948cf5aa56f">foedus::assorted::memory_fence_consume</a> ()</td></tr>
<tr class="memdesc:ga641117f56315b0f239d72948cf5aa56f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent to std::atomic_thread_fence(std::memory_order_consume).  <a href="group__ASSORTED.html#ga641117f56315b0f239d72948cf5aa56f">More...</a><br /></td></tr>
<tr class="separator:ga641117f56315b0f239d72948cf5aa56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bdc7e888e85756548f0af7644158daf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga6bdc7e888e85756548f0af7644158daf">foedus::assorted::memory_fence_seq_cst</a> ()</td></tr>
<tr class="memdesc:ga6bdc7e888e85756548f0af7644158daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent to std::atomic_thread_fence(std::memory_order_seq_cst).  <a href="group__ASSORTED.html#ga6bdc7e888e85756548f0af7644158daf">More...</a><br /></td></tr>
<tr class="separator:ga6bdc7e888e85756548f0af7644158daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae70ddca0c46706095d3c7f7ab90af53e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gae70ddca0c46706095d3c7f7ab90af53e"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gae70ddca0c46706095d3c7f7ab90af53e">foedus::assorted::atomic_load_seq_cst</a> (const T *target)</td></tr>
<tr class="memdesc:gae70ddca0c46706095d3c7f7ab90af53e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic load with a seq_cst barrier for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#gae70ddca0c46706095d3c7f7ab90af53e">More...</a><br /></td></tr>
<tr class="separator:gae70ddca0c46706095d3c7f7ab90af53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd861db98df33c46fa3aafb3b01e0a20"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gacd861db98df33c46fa3aafb3b01e0a20"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gacd861db98df33c46fa3aafb3b01e0a20">foedus::assorted::atomic_load_acquire</a> (const T *target)</td></tr>
<tr class="memdesc:gacd861db98df33c46fa3aafb3b01e0a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic load with an acquire barrier for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#gacd861db98df33c46fa3aafb3b01e0a20">More...</a><br /></td></tr>
<tr class="separator:gacd861db98df33c46fa3aafb3b01e0a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbb1c5a9e42b2652c19981d258bc980c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gafbb1c5a9e42b2652c19981d258bc980c"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gafbb1c5a9e42b2652c19981d258bc980c">foedus::assorted::atomic_load_consume</a> (const T *target)</td></tr>
<tr class="memdesc:gafbb1c5a9e42b2652c19981d258bc980c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic load with a consume barrier for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#gafbb1c5a9e42b2652c19981d258bc980c">More...</a><br /></td></tr>
<tr class="separator:gafbb1c5a9e42b2652c19981d258bc980c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6bd5673e9f3d9477f5ae991a92fd469"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gaf6bd5673e9f3d9477f5ae991a92fd469"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaf6bd5673e9f3d9477f5ae991a92fd469">foedus::assorted::atomic_store_seq_cst</a> (T *target, T value)</td></tr>
<tr class="memdesc:gaf6bd5673e9f3d9477f5ae991a92fd469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic store with a seq_cst barrier for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#gaf6bd5673e9f3d9477f5ae991a92fd469">More...</a><br /></td></tr>
<tr class="separator:gaf6bd5673e9f3d9477f5ae991a92fd469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44c97a4ae4f51f8fbb5eca8383a77cea"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga44c97a4ae4f51f8fbb5eca8383a77cea"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga44c97a4ae4f51f8fbb5eca8383a77cea">foedus::assorted::atomic_store_release</a> (T *target, T value)</td></tr>
<tr class="memdesc:ga44c97a4ae4f51f8fbb5eca8383a77cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic store with a release barrier for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#ga44c97a4ae4f51f8fbb5eca8383a77cea">More...</a><br /></td></tr>
<tr class="separator:ga44c97a4ae4f51f8fbb5eca8383a77cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga354bfce84ebf918859d54ba97b8ddc36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36">foedus::assorted::prefetch_cacheline</a> (const void *address)</td></tr>
<tr class="memdesc:ga354bfce84ebf918859d54ba97b8ddc36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefetch one cacheline to L1 cache.  <a href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36">More...</a><br /></td></tr>
<tr class="separator:ga354bfce84ebf918859d54ba97b8ddc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14adcd2a780f37023df88933f17a5a83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83">foedus::assorted::prefetch_cachelines</a> (const void *address, int cacheline_count)</td></tr>
<tr class="memdesc:ga14adcd2a780f37023df88933f17a5a83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefetch multiple contiguous cachelines to L1 cache.  <a href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83">More...</a><br /></td></tr>
<tr class="separator:ga14adcd2a780f37023df88933f17a5a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga776c53f69f97c1edfc5d34a0f6cb3100"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga776c53f69f97c1edfc5d34a0f6cb3100">foedus::assorted::prefetch_l2</a> (const void *address, int cacheline_count)</td></tr>
<tr class="memdesc:ga776c53f69f97c1edfc5d34a0f6cb3100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefetch multiple contiguous cachelines to L2/L3 cache.  <a href="group__ASSORTED.html#ga776c53f69f97c1edfc5d34a0f6cb3100">More...</a><br /></td></tr>
<tr class="separator:ga776c53f69f97c1edfc5d34a0f6cb3100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae010e22487f9aac20388a3d6d7d5b01e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gae010e22487f9aac20388a3d6d7d5b01e"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gae010e22487f9aac20388a3d6d7d5b01e">foedus::assorted::read_bigendian</a> (const void *be_bytes)</td></tr>
<tr class="memdesc:gae010e22487f9aac20388a3d6d7d5b01e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a big-endian byte array to a native integer.  <a href="group__ASSORTED.html#gae010e22487f9aac20388a3d6d7d5b01e">More...</a><br /></td></tr>
<tr class="separator:gae010e22487f9aac20388a3d6d7d5b01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32a4c0b5f1efbfa83295bd3ee38ac72c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga32a4c0b5f1efbfa83295bd3ee38ac72c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga32a4c0b5f1efbfa83295bd3ee38ac72c">foedus::assorted::write_bigendian</a> (T host_value, void *be_bytes)</td></tr>
<tr class="memdesc:ga32a4c0b5f1efbfa83295bd3ee38ac72c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a native integer to big-endian bytes and write them to the given address.  <a href="group__ASSORTED.html#ga32a4c0b5f1efbfa83295bd3ee38ac72c">More...</a><br /></td></tr>
<tr class="separator:ga32a4c0b5f1efbfa83295bd3ee38ac72c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3d1892edaa7db4b02029567b7993f37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gab3d1892edaa7db4b02029567b7993f37">foedus::assorted::mod_numa_node</a> (int numa_node)</td></tr>
<tr class="memdesc:gab3d1892edaa7db4b02029567b7993f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">In order to run even on a non-numa machine or a machine with fewer sockets, we allow specifying arbitrary numa_node.  <a href="group__ASSORTED.html#gab3d1892edaa7db4b02029567b7993f37">More...</a><br /></td></tr>
<tr class="separator:gab3d1892edaa7db4b02029567b7993f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84b6709fd74edec91ef16975644ec1d1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga84b6709fd74edec91ef16975644ec1d1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga84b6709fd74edec91ef16975644ec1d1">foedus::assorted::raw_atomic_compare_exchange_strong</a> (T *target, T *expected, T desired)</td></tr>
<tr class="memdesc:ga84b6709fd74edec91ef16975644ec1d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic CAS.  <a href="group__ASSORTED.html#ga84b6709fd74edec91ef16975644ec1d1">More...</a><br /></td></tr>
<tr class="separator:ga84b6709fd74edec91ef16975644ec1d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f8a52d1f3c0928428edf257f9c7052b"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga4f8a52d1f3c0928428edf257f9c7052b"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga4f8a52d1f3c0928428edf257f9c7052b">foedus::assorted::raw_atomic_compare_exchange_weak</a> (T *target, T *expected, T desired)</td></tr>
<tr class="memdesc:ga4f8a52d1f3c0928428edf257f9c7052b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weak version of <a class="el" href="group__ASSORTED.html#ga84b6709fd74edec91ef16975644ec1d1" title="Atomic CAS. ">raw_atomic_compare_exchange_strong()</a>.  <a href="group__ASSORTED.html#ga4f8a52d1f3c0928428edf257f9c7052b">More...</a><br /></td></tr>
<tr class="separator:ga4f8a52d1f3c0928428edf257f9c7052b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab13bfebb1659b963808473e85e5cdbc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaab13bfebb1659b963808473e85e5cdbc">foedus::assorted::raw_atomic_compare_exchange_strong_uint128</a> (uint64_t *ptr, const uint64_t *old_value, const uint64_t *new_value)</td></tr>
<tr class="memdesc:gaab13bfebb1659b963808473e85e5cdbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic 128-bit CAS, which is not in the standard yet.  <a href="group__ASSORTED.html#gaab13bfebb1659b963808473e85e5cdbc">More...</a><br /></td></tr>
<tr class="separator:gaab13bfebb1659b963808473e85e5cdbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa29be6f5383b719f5288e1aad869459c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gaa29be6f5383b719f5288e1aad869459c">foedus::assorted::raw_atomic_compare_exchange_weak_uint128</a> (uint64_t *ptr, const uint64_t *old_value, const uint64_t *new_value)</td></tr>
<tr class="memdesc:gaa29be6f5383b719f5288e1aad869459c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weak version of <a class="el" href="group__ASSORTED.html#gaab13bfebb1659b963808473e85e5cdbc" title="Atomic 128-bit CAS, which is not in the standard yet. ">raw_atomic_compare_exchange_strong_uint128()</a>.  <a href="group__ASSORTED.html#gaa29be6f5383b719f5288e1aad869459c">More...</a><br /></td></tr>
<tr class="separator:gaa29be6f5383b719f5288e1aad869459c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a88519a192ea0e23a8fbfe6d84de145"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga6a88519a192ea0e23a8fbfe6d84de145"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga6a88519a192ea0e23a8fbfe6d84de145">foedus::assorted::raw_atomic_exchange</a> (T *target, T desired)</td></tr>
<tr class="memdesc:ga6a88519a192ea0e23a8fbfe6d84de145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic Swap for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#ga6a88519a192ea0e23a8fbfe6d84de145">More...</a><br /></td></tr>
<tr class="separator:ga6a88519a192ea0e23a8fbfe6d84de145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d065800fe3e68f5cc04166bc7719aa3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga8d065800fe3e68f5cc04166bc7719aa3"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga8d065800fe3e68f5cc04166bc7719aa3">foedus::assorted::raw_atomic_fetch_add</a> (T *target, T addendum)</td></tr>
<tr class="memdesc:ga8d065800fe3e68f5cc04166bc7719aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic fetch-add for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#ga8d065800fe3e68f5cc04166bc7719aa3">More...</a><br /></td></tr>
<tr class="separator:ga8d065800fe3e68f5cc04166bc7719aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c05a1f0b3dde1e2a5c6b32f4b2347c1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga3c05a1f0b3dde1e2a5c6b32f4b2347c1"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga3c05a1f0b3dde1e2a5c6b32f4b2347c1">foedus::assorted::raw_atomic_fetch_and_bitwise_and</a> (T *target, T operand)</td></tr>
<tr class="memdesc:ga3c05a1f0b3dde1e2a5c6b32f4b2347c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic fetch-bitwise-and for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#ga3c05a1f0b3dde1e2a5c6b32f4b2347c1">More...</a><br /></td></tr>
<tr class="separator:ga3c05a1f0b3dde1e2a5c6b32f4b2347c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cb7754373fe671383d29e357a1f80c5"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga7cb7754373fe671383d29e357a1f80c5"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga7cb7754373fe671383d29e357a1f80c5">foedus::assorted::raw_atomic_fetch_and_bitwise_or</a> (T *target, T operand)</td></tr>
<tr class="memdesc:ga7cb7754373fe671383d29e357a1f80c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic fetch-bitwise-or for raw primitive types rather than std::atomic&lt;T&gt;.  <a href="group__ASSORTED.html#ga7cb7754373fe671383d29e357a1f80c5">More...</a><br /></td></tr>
<tr class="separator:ga7cb7754373fe671383d29e357a1f80c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b72bfcc7585e8a53bd0a6a90e9ac959"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga7b72bfcc7585e8a53bd0a6a90e9ac959"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga7b72bfcc7585e8a53bd0a6a90e9ac959">foedus::assorted::raw_atomic_fetch_and_bitwise_xor</a> (T *target, T operand)</td></tr>
<tr class="memdesc:ga7b72bfcc7585e8a53bd0a6a90e9ac959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomic fetch-bitwise-xor for raw primitive types rather than std::atomic&lt;T&gt;  <a href="group__ASSORTED.html#ga7b72bfcc7585e8a53bd0a6a90e9ac959">More...</a><br /></td></tr>
<tr class="separator:ga7b72bfcc7585e8a53bd0a6a90e9ac959"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gad5ea63b0770685f3aad857fbd6e9096e"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">foedus::assorted::kCachelineSize</a> = 64</td></tr>
<tr class="memdesc:gad5ea63b0770685f3aad857fbd6e9096e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte count of one cache line.  <a href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">More...</a><br /></td></tr>
<tr class="separator:gad5ea63b0770685f3aad857fbd6e9096e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00ca79392da6750e8f5f25d7bb7c9940"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ASSORTED.html#ga00ca79392da6750e8f5f25d7bb7c9940">foedus::assorted::kIsLittleEndian</a> = false</td></tr>
<tr class="memdesc:ga00ca79392da6750e8f5f25d7bb7c9940"><td class="mdescLeft">&#160;</td><td class="mdescRight">A handy const boolean to tell if it's little endina.  <a href="group__ASSORTED.html#ga00ca79392da6750e8f5f25d7bb7c9940">More...</a><br /></td></tr>
<tr class="separator:ga00ca79392da6750e8f5f25d7bb7c9940"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gad7bb0b155b4b66bb989852d4a49177c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INSTANTIATE_ALL_INTEGER_PLUS_BOOL_TYPES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">M</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__ASSORTED.html#gaa23c66e9c3fb1ea5bd148aa006701602">INSTANTIATE_ALL_INTEGER_TYPES</a>(M);\</div>
<div class="line">  M(<span class="keywordtype">bool</span>); </div>
<div class="ttc" id="group__ASSORTED_html_gaa23c66e9c3fb1ea5bd148aa006701602"><div class="ttname"><a href="group__ASSORTED.html#gaa23c66e9c3fb1ea5bd148aa006701602">INSTANTIATE_ALL_INTEGER_TYPES</a></div><div class="ttdeci">#define INSTANTIATE_ALL_INTEGER_TYPES(M)</div><div class="ttdoc">INSTANTIATE_ALL_NUMERIC_TYPES minus bool/double/float. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00313">assorted_func.hpp:313</a></div></div>
</div><!-- fragment -->
<p>INSTANTIATE_ALL_TYPES minus std::string/float/double. </p>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00317">317</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaa23c66e9c3fb1ea5bd148aa006701602"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INSTANTIATE_ALL_INTEGER_TYPES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">M</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">M(int64_t);  \</div>
<div class="line">  M(int32_t); M(int16_t); M(int8_t); M(uint64_t);  \</div>
<div class="line">  M(uint32_t); M(uint16_t); M(uint8_t); </div>
</div><!-- fragment -->
<p>INSTANTIATE_ALL_NUMERIC_TYPES minus bool/double/float. </p>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00313">313</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a445a5c4fdb310f0b26cab5964aec04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INSTANTIATE_ALL_NUMERIC_TYPES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">M</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__ASSORTED.html#gaa23c66e9c3fb1ea5bd148aa006701602">INSTANTIATE_ALL_INTEGER_TYPES</a>(M);\</div>
<div class="line">  M(<span class="keywordtype">bool</span>); M(<span class="keywordtype">float</span>); M(<span class="keywordtype">double</span>); </div>
<div class="ttc" id="group__ASSORTED_html_gaa23c66e9c3fb1ea5bd148aa006701602"><div class="ttname"><a href="group__ASSORTED.html#gaa23c66e9c3fb1ea5bd148aa006701602">INSTANTIATE_ALL_INTEGER_TYPES</a></div><div class="ttdeci">#define INSTANTIATE_ALL_INTEGER_TYPES(M)</div><div class="ttdoc">INSTANTIATE_ALL_NUMERIC_TYPES minus bool/double/float. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00313">assorted_func.hpp:313</a></div></div>
</div><!-- fragment -->
<p>INSTANTIATE_ALL_TYPES minus std::string. </p>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00320">320</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gabe6a76afac87077742ff9fc7eb26eae6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INSTANTIATE_ALL_TYPES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">M</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__ASSORTED.html#ga9a445a5c4fdb310f0b26cab5964aec04">INSTANTIATE_ALL_NUMERIC_TYPES</a>(M);\</div>
<div class="line">  M(std::string);  </div>
<div class="ttc" id="group__ASSORTED_html_ga9a445a5c4fdb310f0b26cab5964aec04"><div class="ttname"><a href="group__ASSORTED.html#ga9a445a5c4fdb310f0b26cab5964aec04">INSTANTIATE_ALL_NUMERIC_TYPES</a></div><div class="ttdeci">#define INSTANTIATE_ALL_NUMERIC_TYPES(M)</div><div class="ttdoc">INSTANTIATE_ALL_TYPES minus std::string. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00320">assorted_func.hpp:320</a></div></div>
</div><!-- fragment -->
<p>A macro to explicitly instantiate the given template for all types we care. </p>
<p>M is the macro to explicitly instantiate a template for the given type. This macro explicitly instantiates the template for bool, float, double, all integers (signed/unsigned), and std::string. This is useful when <em>definition</em> of the template class/method involve too many details and you rather want to just give <em>declaration</em> of them in header.</p>
<p>Use this as follows. In header file. </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> cool_func(T arg);</div>
</div><!-- fragment --><p> Then, in cpp file. </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> cool_func(T arg) {</div>
<div class="line">  ... (implementation code)</div>
<div class="line">}</div>
<div class="line">#define EXPLICIT_INSTANTIATION_COOL_FUNC(x) <span class="keyword">template</span> <span class="keywordtype">void</span> cool_func&lt; x &gt; (x arg);</div>
<div class="line"><a class="code" href="group__ASSORTED.html#gabe6a76afac87077742ff9fc7eb26eae6">INSTANTIATE_ALL_TYPES</a>(EXPLICIT_INSTANTIATION_COOL_FUNC);</div>
</div><!-- fragment --><p> Remember, you should invoke this macro in cpp, not header, otherwise you will get multiple-definition errors. </p><dl class="section note"><dt>Note</dt><dd>Doxygen doesn't understand template explicit instantiation, giving warnings. Not a big issue, but you should shut up the Doxygen warnings by putting cond/endcond. See <a class="el" href="externalizable_8cpp.html">externalizable.cpp</a> for example. </dd></dl>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00323">323</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gae932f87b60cbd230347151ccf33eed86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPINLOCK_WHILE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;for (<a class="el" href="structfoedus_1_1assorted_1_1SpinlockStat.html">foedus::assorted::SpinlockStat</a> __spins; (x); __spins.yield_backoff())</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A macro to busy-wait (spinlock) with occasional pause. </p>
<p>Use this as follows. </p><div class="fragment"><div class="line"><a class="code" href="group__ASSORTED.html#gae932f87b60cbd230347151ccf33eed86">SPINLOCK_WHILE</a>(my_variable == 0) {</div>
<div class="line">  do_something();</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00256">256</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

<p>Referenced by <a class="el" href="log__gleaner__impl_8cpp_source.html#l00148">foedus::snapshot::LogGleaner::execute()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00135">foedus::xct::XctManagerPimpl::handle_epoch_chime()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00186">foedus::xct::XctManagerPimpl::handle_epoch_chime_wait_grace_period()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00191">foedus::snapshot::SnapshotManagerPimpl::handle_snapshot()</a>, <a class="el" href="dumb__spinlock_8hpp_source.html#l00053">foedus::assorted::DumbSpinlock::lock()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00239">foedus::thread::ThreadPimpl::set_thread_schedule()</a>, and <a class="el" href="log__manager__pimpl_8cpp_source.html#l00214">foedus::log::LogManagerPimpl::wait_until_durable()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad6112981b6bbe27452018628a1234c4b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , uint64_t ALIGNMENT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::align </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the smallest multiply of ALIGNMENT that is equal or larger than the given number. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
    <tr><td class="paramname">ALIGNMENT</td><td>alignment size. must be power of two</td></tr>
  </table>
  </dd>
</dl>
<p>In other words, round-up. For example of 8-alignment, 7 becomes 8, 8 becomes 8, 9 becomes 16. </p><dl class="section see"><dt>See also</dt><dd><a href="https://en.wikipedia.org/wiki/Data_structure_alignment">https://en.wikipedia.org/wiki/Data_structure_alignment</a> </dd>
<dd>
Hacker's Delight 2nd Ed. Chap 3-1. </dd></dl>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00044">44</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                        {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  uint64_t left = (value + ALIGNMENT - 1);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  uint64_t right = -ALIGNMENT;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  uint64_t result = left &amp; right;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(result &gt;= static_cast&lt;uint64_t&gt;(value));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(result % ALIGNMENT == 0);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(result &lt; static_cast&lt;uint64_t&gt;(value) + ALIGNMENT);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(result);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gac0edaae5f742824a3eac02ab300c50cb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::align16 </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>16-alignment. </p>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00064">64</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{ <span class="keywordflow">return</span> align&lt;T, 16&gt;(value); }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga93fce024647985ac69b45cc9e2ab08c0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::align64 </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>64-alignment. </p>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00070">70</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{ <span class="keywordflow">return</span> align&lt;T, 64&gt;(value); }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga34d731a5b871bbd8a43b748808e9ce52"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::align8 </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>8-alignment. </p>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00058">58</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage_8cpp_source.html#l00233">foedus::storage::masstree::adjust_payload_hint()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00250">foedus::storage::hash::adjust_payload_hint()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00155">foedus::storage::sequential::SequentialPage::append_record_nosync()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00261">foedus::storage::hash::ReserveRecords::append_record_to_page()</a>, <a class="el" href="hash__log__types_8hpp_source.html#l00224">foedus::storage::hash::HashInsertLogType::apply_record()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00321">foedus::storage::masstree::MasstreeInsertLogType::apply_record()</a>, <a class="el" href="hash__log__types_8hpp_source.html#l00330">foedus::storage::hash::HashUpdateLogType::apply_record()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00404">foedus::storage::masstree::MasstreeUpdateLogType::apply_record()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00248">foedus::storage::masstree::MasstreeCommonLogType::apply_record_prepare()</a>, <a class="el" href="masstree__page__debug_8cpp_source.html#l00114">foedus::storage::masstree::MasstreeBorderPage::assert_entries_impl()</a>, <a class="el" href="hash__log__types_8hpp_source.html#l00142">foedus::storage::hash::HashCommonLogType::assert_record_and_log_keys()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00194">foedus::storage::array::calculate_levels()</a>, <a class="el" href="hash__log__types_8hpp_source.html#l00095">foedus::storage::hash::HashCommonLogType::calculate_log_length()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00098">foedus::storage::masstree::MasstreeCommonLogType::calculate_log_length()</a>, <a class="el" href="sequential__log__types_8hpp_source.html#l00101">foedus::storage::sequential::SequentialAppendLogType::calculate_log_length()</a>, <a class="el" href="array__log__types_8hpp_source.html#l00115">foedus::storage::array::ArrayOverwriteLogType::calculate_log_length()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00241">foedus::storage::array::ArrayStoragePimpl::calculate_offset_intervals()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00170">foedus::storage::array::ArrayStoragePimpl::calculate_required_pages()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01116">foedus::storage::masstree::calculate_suffix_length_aligned()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00184">foedus::storage::sequential::SequentialPage::can_insert_record()</a>, <a class="el" href="hash__page__impl_8hpp_source.html#l00480">foedus::storage::hash::HashDataPage::create_record_in_snapshot()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00148">foedus::storage::masstree::MasstreeCommonLogType::equal_record_and_log_suffixes()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00612">foedus::storage::masstree::MasstreeStorage::estimate_records_per_page()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l00048">foedus::storage::masstree::fill_payload_padded()</a>, <a class="el" href="hash__record__location_8hpp_source.html#l00109">foedus::storage::hash::RecordLocation::get_aligned_key_length()</a>, <a class="el" href="hash__page__impl_8hpp_source.html#l00196">foedus::storage::hash::HashDataPage::Slot::get_aligned_key_length()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00105">foedus::storage::sequential::SequentialPage::get_all_records_nosync()</a>, <a class="el" href="hash__log__types_8hpp_source.html#l00101">foedus::storage::hash::HashCommonLogType::get_key_length_aligned()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00107">foedus::storage::masstree::MasstreeCommonLogType::get_key_length_aligned()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00091">foedus::storage::array::ArrayPage::get_leaf_record()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00066">foedus::storage::array::ArrayPage::get_leaf_record_count()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00119">foedus::storage::sequential::SequentialPage::get_record_offset()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00298">foedus::storage::masstree::MasstreeBorderPage::initialize_layer_root()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00345">foedus::storage::masstree::SplitBorder::migrate_records()</a>, <a class="el" href="sequential__cursor_8hpp_source.html#l00393">foedus::storage::sequential::SequentialRecordIterator::next()</a>, <a class="el" href="hash__log__types_8hpp_source.html#l00104">foedus::storage::hash::HashCommonLogType::populate_base()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00116">foedus::storage::masstree::MasstreeCommonLogType::populate_base()</a>, <a class="el" href="hash__page__impl_8hpp_source.html#l00302">foedus::storage::hash::HashDataPage::required_space()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00170">foedus::storage::hash::HashDataPage::reserve_record()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01322">foedus::storage::masstree::MasstreeBorderPage::reserve_record_space()</a>, <a class="el" href="hash__tmpbin_8hpp_source.html#l00097">foedus::storage::hash::HashTmpBin::Record::set_all()</a>, <a class="el" href="hash__tmpbin_8hpp_source.html#l00124">foedus::storage::hash::HashTmpBin::Record::set_payload()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00674">foedus::storage::masstree::MasstreeBorderPage::to_record_length()</a>, and <a class="el" href="array__route_8hpp_source.html#l00071">foedus::storage::array::to_records_in_leaf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{ <span class="keywordflow">return</span> align&lt;T, 8&gt;(value); }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga34d731a5b871bbd8a43b748808e9ce52_icgraph.png" border="0" usemap="#group__ASSORTED_ga34d731a5b871bbd8a43b748808e9ce52_icgraph" alt=""/></div>
<map name="group__ASSORTED_ga34d731a5b871bbd8a43b748808e9ce52_icgraph" id="group__ASSORTED_ga34d731a5b871bbd8a43b748808e9ce52_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a032fcdc65647bdea76b8a49014211100" title="foedus::storage::masstree\l::adjust_payload_hint" alt="" coords="243,141,416,182"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1storage_1_1hash.html#a621860b1314f5eecc0e41d3972340bf9" title="foedus::storage::hash\l::adjust_payload_hint" alt="" coords="256,206,403,247"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#aec915d81c404fca9de77c9eed625afa9" title="Appends a record to this page. " alt="" coords="240,272,419,328"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a958308b83b377f31e6b01b39979e23b2" title="Appends a new physical record to the page. " alt="" coords="514,1997,689,2053"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1hash_1_1HashInsertLogType.html#a22444b200aacf659885df278d5ed4ba7" title="foedus::storage::hash\l::HashInsertLogType::\lapply_record" alt="" coords="255,432,403,488"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html#ad07473e6b05614b619d5b5b2004c332c" title="foedus::storage::masstree\l::MasstreeInsertLogType\l::apply_record" alt="" coords="243,512,416,568"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1hash_1_1HashUpdateLogType.html#a1551d43a29cc4d8857623cc1dc084fd9" title="foedus::storage::hash\l::HashUpdateLogType::\lapply_record" alt="" coords="251,592,408,648"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html#a44c26a52923a6ae720300841e93638a4" title="foedus::storage::masstree\l::MasstreeUpdateLogType\l::apply_record" alt="" coords="243,672,416,728"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aec913d81af968b22bfd4be9956d59b37" title="Common parts of apply_record() in these log types that extract relevant addresses from the record hea..." alt="" coords="237,752,421,808"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a564d9a348f851874c7a9c1d933e0b2e9" title="defined in masstree_page_debug.cpp. " alt="" coords="231,832,427,888"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#ad66913658c856c60c06500b1179db779" title="used only for sanity check. " alt="" coords="235,912,423,968"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage_1_1array.html#ac0792c331c4b2fcb4918b8e89d5264ae" title="foedus::storage::array\l::calculate_levels" alt="" coords="255,993,403,1034"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a04238b5b4aec46d0a24b5489553b793a" title="foedus::storage::hash\l::HashCommonLogType::\lcalculate_log_length" alt="" coords="245,352,413,408"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::calculate_log_length" alt="" coords="237,1109,421,1165"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a719ba3ad7fc61a7b8048a57804b3fd51" title="foedus::storage::sequential\l::SequentialAppendLogType\l::calculate_log_length" alt="" coords="238,1189,421,1245"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1array_1_1ArrayOverwriteLogType.html#a91cb4afcdb444d2b876c8e7767626f8f" title="foedus::storage::array\l::ArrayOverwriteLogType\l::calculate_log_length" alt="" coords="248,1269,411,1325"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adc600d09c3457af2ef136d45874c3f15" title="The offset interval a single page represents in each level. " alt="" coords="230,1349,429,1405"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab5de4c5da717f48844ffa91b651c6432" title="Calculate leaf/interior pages we need. " alt="" coords="230,1429,429,1485"/>
<area shape="rect" id="node25" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c" title="foedus::storage::masstree\l::calculate_suffix_length\l_aligned" alt="" coords="243,1509,416,1565"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a68797699a249ca9320a08038d1cdabbc" title="returns minimal physical_record_length_ for the given remainder/payload length. " alt="" coords="515,1560,688,1616"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ac7ca15bf233b941d860679b88c8bc87f" title="Installs a new physical record that doesn&#39;t exist logically (delete bit on). " alt="" coords="760,1580,961,1636"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9e24c3f7398235571f6f0b0e013f1f23" title="Copy the initial record that will be the only record for a new root page. " alt="" coords="757,1495,964,1551"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#af12f943f013c35e9b4a549afd4075920" title="Subroutine to construct a new page. " alt="" coords="774,1671,947,1727"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#ac3f12983b3c02d8a6e3cae2867f9d4a2" title="Returns if this page has enough room to insert a record with the given payload length. " alt="" coords="213,1793,445,1834"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a3834e18f4738d71f2e8f1a848b9e11d5" title="A simplified/efficient version to insert an active record, which must be used only in snapshot pages..." alt="" coords="521,2647,682,2703"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a290b894a14cac91b105ecbab235c0a2d" title="used only for sanity check. " alt="" coords="226,1909,433,1965"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ab87ac9b0763bba9d8dda06e0b7e66ab2" title="foedus::storage::masstree\l::MasstreeStorage::estimate\l_records_per_page" alt="" coords="236,1989,423,2045"/>
<area shape="rect" id="node34" href="namespacefoedus_1_1storage_1_1masstree.html#a61b432f0c51daf807b4b1c6a6a298089" title="foedus::storage::masstree\l::fill_payload_padded" alt="" coords="243,2070,416,2111"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#abed92a9a4809cce3c1cc33bc4fb07a81" title="foedus::storage::hash\l::RecordLocation::get\l_aligned_key_length" alt="" coords="256,2136,403,2192"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1hash_1_1HashDataPage_1_1Slot.html#a35da6a7faa712cb7cf70355803634063" title="foedus::storage::hash\l::HashDataPage::Slot\l::get_aligned_key_length" alt="" coords="246,2216,413,2272"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#a42de87cc36b8a536e759b617ed179478" title="Retrieve positions and lengthes of all records in one batch. " alt="" coords="240,2296,419,2352"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a40209dbf15a27e43fe170f4fa3c032a9" title="foedus::storage::hash\l::HashCommonLogType::\lget_key_length_aligned" alt="" coords="245,2376,413,2432"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_key_length_aligned" alt="" coords="237,2456,421,2512"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="255,2536,403,2592"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a038d272bb21378544e6d6cd1c8b468b3" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record_count" alt="" coords="255,2616,403,2672"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#adabf18c6ba65c8f6b96859aa5dae26e2" title="Returns beginning offset of the specified record. " alt="" coords="215,2697,443,2738"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1sequential_1_1SequentialRecordIterator.html#a92d99cedf486287d2a5aa2c614368ab8" title="foedus::storage::sequential\l::SequentialRecordIterator::next" alt="" coords="227,2762,432,2803"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a46e30aeb1cf54b5780feb3d98de33616" title="foedus::storage::hash\l::HashCommonLogType::\lpopulate_base" alt="" coords="245,2828,413,2884"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ac2ce12370a75b9e0c79a8ab930a96cdc" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::populate_base" alt="" coords="237,2908,421,2964"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a446f51ede965fce59769df74a0044dd8" title="returns physical_record_length_ for a new record " alt="" coords="223,2989,436,3030"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a82dc0eaea96412a4ddb70006b450d754" title="A system transaction that creates a logically deleted record in this page for the given key..." alt="" coords="518,3011,685,3067"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1hash_1_1HashTmpBin_1_1Record.html#a88c4b2bbb2805dc7c206d46133e17ad5" title="foedus::storage::hash\l::HashTmpBin::Record\l::set_all" alt="" coords="253,3105,406,3161"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1hash_1_1HashTmpBin_1_1Record.html#af7baf3f0c744ec86455d850489dba62c" title="foedus::storage::hash\l::HashTmpBin::Record\l::set_payload" alt="" coords="253,3185,406,3241"/>
<area shape="rect" id="node50" href="namespacefoedus_1_1storage_1_1array.html#a08dcf1f750abcf15a86ca48b21ad56a9" title="foedus::storage::array\l::to_records_in_leaf" alt="" coords="255,3266,403,3307"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="495,233,707,274"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="515,5,688,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="493,86,709,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="515,152,688,208"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="512,335,691,391"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gacd861db98df33c46fa3aafb3b01e0a20"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::atomic_load_acquire </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic load with an acquire barrier for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of load </dd></dl>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00114">114</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                              {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  return ::__atomic_load_n(target, __ATOMIC_ACQUIRE);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gafbb1c5a9e42b2652c19981d258bc980c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::atomic_load_consume </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic load with a consume barrier for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of load </dd></dl>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00125">125</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                              {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  return ::__atomic_load_n(target, __ATOMIC_CONSUME);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae70ddca0c46706095d3c7f7ab90af53e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::atomic_load_seq_cst </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic load with a seq_cst barrier for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of load </dd></dl>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00103">103</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                              {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  return ::__atomic_load_n(target, __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga44c97a4ae4f51f8fbb5eca8383a77cea"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::atomic_store_release </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic store with a release barrier for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00145">145</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                                     {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  ::__atomic_store_n(target, value, __ATOMIC_RELEASE);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf6bd5673e9f3d9477f5ae991a92fd469"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::atomic_store_seq_cst </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic store with a seq_cst barrier for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00135">135</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                                     {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  ::__atomic_store_n(target, value, __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaaaeeef9a7bd86c89f96e337fdd88caab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::assorted::demangle_type_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mangled_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Demangle the given C++ type name <em>if</em> possible (otherwise the original string). </p>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00151">151</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>References <a class="el" href="filesystem_8cpp_source.html#l00045">foedus::fs::status()</a>.</p>

<p>Referenced by <a class="el" href="assorted__func_8hpp_source.html#l00215">foedus::assorted::get_pretty_type_name()</a>, <a class="el" href="rich__backtrace_8cpp_source.html#l00217">foedus::assorted::BacktraceContext::get_results()</a>, and <a class="el" href="rich__backtrace_8cpp_source.html#l00141">foedus::assorted::BacktraceContext::GlibcBacktraceInfo::parse_symbol()</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                                       {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#ifdef __GNUC__</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="group__FILESYSTEM.html#gaaa833e3af93824a2485400b32dab7bcd">status</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">char</span>* demangled = abi::__cxa_demangle(mangled_name, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;status);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (demangled) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    std::string ret(demangled);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    ::free(demangled);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#endif  // __GNUC__</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">return</span> mangled_name;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="ttc" id="group__FILESYSTEM_html_gaaa833e3af93824a2485400b32dab7bcd"><div class="ttname"><a href="group__FILESYSTEM.html#gaaa833e3af93824a2485400b32dab7bcd">foedus::fs::status</a></div><div class="ttdeci">FileStatus status(const Path &amp;p)</div><div class="ttdoc">Returns the status of the file. </div><div class="ttdef"><b>Definition:</b> <a href="filesystem_8cpp_source.html#l00045">filesystem.cpp:45</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_cgraph.png" border="0" usemap="#group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_cgraph" alt=""/></div>
<map name="group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_cgraph" id="group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_cgraph">
<area shape="rect" id="node2" href="group__FILESYSTEM.html#gaaa833e3af93824a2485400b32dab7bcd" title="Returns the status of the file. " alt="" coords="236,13,359,39"/>
<area shape="rect" id="node3" href="classfoedus_1_1fs_1_1Path.html#a821cee2f2cec808d90e187513064f40f" title="foedus::fs::Path::c_str" alt="" coords="407,13,557,39"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_icgraph.png" border="0" usemap="#group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_icgraph" id="group__ASSORTED_gaaaeeef9a7bd86c89f96e337fdd88caab_icgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga8987f6c9cf72dc6468cc7c798b96cd42" title="Returns the name of the C++ type as readable as possible. " alt="" coords="257,21,401,62"/>
<area shape="rect" id="node4" href="structfoedus_1_1assorted_1_1BacktraceContext.html#a81b13dea0366cfd6550ac20185e2abba" title="foedus::assorted::Backtrace\lContext::get_results" alt="" coords="473,86,659,127"/>
<area shape="rect" id="node13" href="structfoedus_1_1assorted_1_1BacktraceContext_1_1GlibcBacktraceInfo.html#a0b04cb8aaae8c393146f430ee8fec8e4" title="foedus::assorted::Backtrace\lContext::GlibcBacktraceInfo\l::parse_symbol" alt="" coords="236,144,421,200"/>
<area shape="rect" id="node3" href="structfoedus_1_1externalize_1_1Externalizable.html#aa244cc67103f063ec614c7183e9a845f" title="vector version " alt="" coords="495,5,637,61"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1assorted.html#aa2bd2568f3a2851d781b7e141073412f" title="Returns the backtrace information of the current stack. " alt="" coords="711,119,855,161"/>
<area shape="rect" id="node6" href="namespacefoedus.html#acc3806110789c3309a531109b7d46f3f" title="Prints out backtrace. " alt="" coords="903,127,1060,153"/>
<area shape="rect" id="node7" href="namespacefoedus.html#aed2495460b00a9e5b86bcfc3a31f9b63" title="print_assert() + print_backtrace(). " alt="" coords="1137,21,1273,62"/>
<area shape="rect" id="node8" href="classfoedus_1_1ErrorStack.html#a0de4b8c0bfcd31e4e8cb1cbaf4b04c13" title="Describe this object to std::cerr and then abort. " alt="" coords="1139,86,1270,127"/>
<area shape="rect" id="node11" href="classfoedus_1_1UninitializeGuard.html#a36b8ea628094e8ed6d0425ccd744c797" title="foedus::UninitializeGuard\l::~UninitializeGuard" alt="" coords="1121,151,1288,193"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="1108,217,1301,258"/>
<area shape="rect" id="node9" href="classfoedus_1_1ErrorStack.html#aea380eec7175852f420cdd32d3423592" title="Output a warning to stderr if the error is not checked yet. " alt="" coords="1349,86,1480,127"/>
<area shape="rect" id="node10" href="classfoedus_1_1ErrorStack.html#a0b1ae0f16fdb833f6773c2ba9e594b3f" title="Will warn in stderr if the error code is not checked yet. " alt="" coords="1528,86,1659,127"/>
<area shape="rect" id="node14" href="structfoedus_1_1assorted_1_1BacktraceContext.html#a3e70d52451e788dc085aec8bacdfad60" title="foedus::assorted::Backtrace\lContext::call_glibc_backtrace" alt="" coords="469,151,663,193"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7fca9a740f557f4f79df89e3d416db31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::assorted::generate_almost_prime_below </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a prime or some number that is almost prime less than the given number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">threshold</td><td>Returns a number less than this number</td></tr>
  </table>
  </dd>
</dl>
<p>In a few places, we need a number that is a prime or at least not divided by many numbers. For example in hashing. It doesn't have to be a real prime. Instead, we want to cheaply calculate such number. This method uses a complex polynomial to generate that <em>looks-like</em> a prime. </p><dl class="section see"><dt>See also</dt><dd><a href="http://mathworld.wolfram.com/Prime-GeneratingPolynomial.html">http://mathworld.wolfram.com/Prime-GeneratingPolynomial.html</a> </dd></dl>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00164">164</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>Referenced by <a class="el" href="cache__hashtable_8cpp_source.html#l00035">foedus::cache::determine_logical_buckets()</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                                         {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">if</span> (threshold &lt;= 2) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> 1;  <span class="comment">// almost an invalid input...</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (threshold &lt; 5000) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// for a small number, we just use a (very) sparse prime list</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    uint16_t small_primes[] = {3677, 2347, 1361, 773, 449, 263, 151, 89, 41, 17, 2};</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0;; ++i) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">if</span> (threshold &gt; small_primes[i]) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> small_primes[i];</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// the following formula is monotonically increasing for i&gt;=22 (which gives 3923).</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    uint64_t prev = 3677;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">for</span> (uint64_t i = 22;; ++i) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      uint64_t cur = (i * i * i * i * i - 133 * i * i * i * i + 6729 * i * i * i</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        - 158379 * i * i + 1720294 * i - 6823316) &gt;&gt; 2;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> (cur &gt;= threshold) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> prev;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cur &lt;= prev) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="comment">// sanity checking.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> prev;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        prev = cur;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga7fca9a740f557f4f79df89e3d416db31_icgraph.png" border="0" usemap="#group__ASSORTED_ga7fca9a740f557f4f79df89e3d416db31_icgraph" alt=""/></div>
<map name="group__ASSORTED_ga7fca9a740f557f4f79df89e3d416db31_icgraph" id="group__ASSORTED_ga7fca9a740f557f4f79df89e3d416db31_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1cache.html#a9b43ef6b796c99e0e4188af14667c571" title="foedus::cache::determine\l_logical_buckets" alt="" coords="229,5,397,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabf12dac99d13b55183e7faf0f496ff3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::assorted::get_current_executable_path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the full path of current executable. </p>
<p>This relies on linux /proc/self/exe. Not sure how to port it to Windows.. </p>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00081">81</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>References <a class="el" href="assorted__func_8cpp_source.html#l00067">foedus::assorted::os_error()</a>.</p>

<p>Referenced by <a class="el" href="soc__options_8cpp_source.html#l00036">foedus::soc::SocOptions::convert_spawn_executable_pattern()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                        {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  ssize_t len = ::readlink(<span class="stringliteral">&quot;/proc/self/exe&quot;</span>, buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">if</span> (len == -1) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to get the path of current executable. error=&quot;</span> &lt;&lt; <a class="code" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270">os_error</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">return</span> std::string(buf, len);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_gaaa260096daf8620266c2799d1f5a0270"><div class="ttname"><a href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270">foedus::assorted::os_error</a></div><div class="ttdeci">std::string os_error()</div><div class="ttdoc">Thread-safe strerror(errno). </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8cpp_source.html#l00067">assorted_func.cpp:67</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_cgraph.png" border="0" usemap="#group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_cgraph" alt=""/></div>
<map name="group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_cgraph" id="group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="224,5,364,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_icgraph.png" border="0" usemap="#group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_icgraph" alt=""/></div>
<map name="group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_icgraph" id="group__ASSORTED_gabf12dac99d13b55183e7faf0f496ff3f_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1soc_1_1SocOptions.html#a5c473c8d3058b067409973db5615dcb5" title="converts spawn_executable_pattern_ into a string with the given node ID. " alt="" coords="224,5,409,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a4a9091baae2ba21b2cb888da8d391818" title="Launch children via spawn. " alt="" coords="457,13,660,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a3dd3a524e5fbb0b8f9cb52dd21689d0a" title="Called as part of initialize_once() if this is a master engine. " alt="" coords="708,13,911,54"/>
<area shape="rect" id="node5" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#aa14e68e8b8e3902f2b139b6388e712d8" title="foedus::soc::SocManagerPimpl\l::initialize_once" alt="" coords="959,13,1161,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8987f6c9cf72dc6468cc7c798b96cd42"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::assorted::get_pretty_type_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the C++ type as readable as possible. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>the type </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00215">215</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8cpp_source.html#l00151">foedus::assorted::demangle_type_name()</a>.</p>

<p>Referenced by <a class="el" href="externalizable_8hpp_source.html#l00144">foedus::externalize::Externalizable::add_element()</a>.</p>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                 {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ASSORTED.html#gaaaeeef9a7bd86c89f96e337fdd88caab">demangle_type_name</a>(<span class="keyword">typeid</span>(T).name());</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_gaaaeeef9a7bd86c89f96e337fdd88caab"><div class="ttname"><a href="group__ASSORTED.html#gaaaeeef9a7bd86c89f96e337fdd88caab">foedus::assorted::demangle_type_name</a></div><div class="ttdeci">std::string demangle_type_name(const char *mangled_name)</div><div class="ttdoc">Demangle the given C++ type name if possible (otherwise the original string). </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8cpp_source.html#l00151">assorted_func.cpp:151</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_cgraph.png" border="0" usemap="#group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_cgraph" alt=""/></div>
<map name="group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_cgraph" id="group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#gaaaeeef9a7bd86c89f96e337fdd88caab" title="Demangle the given C++ type name if possible (otherwise the original string). " alt="" coords="197,5,380,47"/>
<area shape="rect" id="node3" href="group__FILESYSTEM.html#gaaa833e3af93824a2485400b32dab7bcd" title="Returns the status of the file. " alt="" coords="428,13,551,39"/>
<area shape="rect" id="node4" href="classfoedus_1_1fs_1_1Path.html#a821cee2f2cec808d90e187513064f40f" title="foedus::fs::Path::c_str" alt="" coords="599,13,749,39"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_icgraph.png" border="0" usemap="#group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_icgraph" alt=""/></div>
<map name="group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_icgraph" id="group__ASSORTED_ga8987f6c9cf72dc6468cc7c798b96cd42_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1externalize_1_1Externalizable.html#aa244cc67103f063ec614c7183e9a845f" title="vector version " alt="" coords="197,5,339,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae2beea4717aef7ca9d43b91e48cf5824"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t foedus::assorted::int_div_ceil </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dividee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dividor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Efficient ceil(dividee/dividor) for integer. </p>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00040">40</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>Referenced by <a class="el" href="page__pool__pimpl_8cpp_source.html#l00047">foedus::memory::PagePoolPimpl::attach()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00194">foedus::storage::array::calculate_levels()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00170">foedus::storage::array::ArrayStoragePimpl::calculate_required_pages()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00095">foedus::storage::array::ArrayComposer::construct_root()</a>, <a class="el" href="hash__storage__pimpl_8hpp_source.html#l00056">foedus::storage::hash::HashStorageControlBlock::get_root_children()</a>, and <a class="el" href="engine__options_8cpp_source.html#l00126">foedus::EngineOptions::prescreen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                       {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  std::ldiv_t result = std::div(dividee, dividor);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">return</span> result.rem != 0 ? (result.quot + 1) : result.quot;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gae2beea4717aef7ca9d43b91e48cf5824_icgraph.png" border="0" usemap="#group__ASSORTED_gae2beea4717aef7ca9d43b91e48cf5824_icgraph" alt=""/></div>
<map name="group__ASSORTED_gae2beea4717aef7ca9d43b91e48cf5824_icgraph" id="group__ASSORTED_gae2beea4717aef7ca9d43b91e48cf5824_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a655d84c0582b445cbbdb5560e5fe4e07" title="foedus::memory::PagePool\lPimpl::attach" alt="" coords="209,72,388,113"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage_1_1array.html#ac0792c331c4b2fcb4918b8e89d5264ae" title="foedus::storage::array\l::calculate_levels" alt="" coords="225,139,373,180"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab5de4c5da717f48844ffa91b651c6432" title="Calculate leaf/interior pages we need. " alt="" coords="199,205,398,261"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="193,285,404,327"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1hash_1_1HashStorageControlBlock.html#a849b7d73188f11c0e14b4ae602228b3c" title="foedus::storage::hash\l::HashStorageControlBlock\l::get_root_children" alt="" coords="209,351,388,407"/>
<area shape="rect" id="node16" href="structfoedus_1_1EngineOptions.html#ae11d1267946c562743cea44470525a69" title="Checks the machine environment and raises as many errors as possible before the engine starts up..." alt="" coords="222,432,375,473"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1PagePool.html#a6522fe3b6b37b4e87c0e4170e573b8d2" title="foedus::memory::PagePool\l::attach" alt="" coords="470,71,649,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="735,5,921,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a8e735f7411d3a28d4ddf0c25f3eced4e" title="foedus::memory::NumaNode\lMemoryRef::NumaNodeMemoryRef" alt="" coords="715,71,941,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2bf1f0e04d213efe49f4e250968a60b9" title="foedus::storage::array\l::ArrayStoragePimpl::load_empty" alt="" coords="452,139,667,180"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="743,201,913,243"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af6387df1cf86cecbbaba2c41635bbe7a" title="foedus::storage::array\l::ArrayStoragePimpl::create" alt="" coords="737,136,919,177"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a84737e8c5a5048f583cb07b8b746ed94" title="foedus::storage::array\l::ArrayStorage::create" alt="" coords="989,136,1140,177"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aa0f536b8252655076528b290abb84a87" title="foedus::storage::array\l::ArrayStorage::load" alt="" coords="991,201,1139,243"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="470,285,649,327"/>
<area shape="rect" id="node17" href="classfoedus_1_1EnginePimpl.html#ad48323b2f8311ecee663647aeeecdea6" title="foedus::EnginePimpl\l::check_valid_options" alt="" coords="486,432,633,473"/>
<area shape="rect" id="node18" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="757,432,899,473"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaff9fa4aedd631410da28740f6e1dddbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::memory_fence_acq_rel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). </p>
<p>A load operation with this memory order performs the acquire operation on the affected memory location and a store operation with this memory order performs the release operation. </p>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00069">69</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>

<p>Referenced by <a class="el" href="shared__polling_8cpp_source.html#l00105">foedus::soc::SharedPolling::acquire_ticket()</a>, <a class="el" href="shared__cond_8cpp_source.html#l00123">foedus::soc::SharedCond::broadcast()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00115">foedus::soc::MasterEngineStatus::change_init_atomic()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00192">foedus::soc::ChildEngineStatus::change_init_atomic()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00102">foedus::soc::MasterEngineStatus::change_status_atomic()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00179">foedus::soc::ChildEngineStatus::change_status_atomic()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00121">foedus::soc::MasterEngineStatus::change_uninit_atomic()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00198">foedus::soc::ChildEngineStatus::change_uninit_atomic()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00470">foedus::storage::StorageManagerPimpl::clone_all_storage_metadata()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00234">foedus::log::ThreadLogBuffer::get_logs_to_write()</a>, <a class="el" href="shared__polling_8cpp_source.html#l00032">foedus::soc::SharedPolling::initialize()</a>, <a class="el" href="engine__pimpl_8cpp_source.html#l00096">foedus::EnginePimpl::initialize_once()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00384">foedus::xct::XctManagerPimpl::precommit_xct_readwrite()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00110">foedus::soc::MasterEngineStatus::read_status_atomic()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00187">foedus::soc::ChildEngineStatus::read_status_atomic()</a>, <a class="el" href="shared__polling_8cpp_source.html#l00100">foedus::soc::SharedPolling::signal()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00236">foedus::storage::sequential::SequentialStoragePimpl::truncate()</a>, <a class="el" href="dumb__spinlock_8hpp_source.html#l00078">foedus::assorted::DumbSpinlock::unlock()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00360">foedus::soc::SocManagerPimpl::wait_for_children_module()</a>, and <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00327">foedus::soc::SocManagerPimpl::wait_for_master_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                   {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  ::__atomic_thread_fence(__ATOMIC_ACQ_REL);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaff9fa4aedd631410da28740f6e1dddbf_icgraph.png" border="0" usemap="#group__ASSORTED_gaff9fa4aedd631410da28740f6e1dddbf_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaff9fa4aedd631410da28740f6e1dddbf_icgraph" id="group__ASSORTED_gaff9fa4aedd631410da28740f6e1dddbf_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SharedPolling.html#ac6ad7822e42e2e942b55708b1da8516b" title="Gives the ticket to. " alt="" coords="243,531,421,573"/>
<area shape="rect" id="node17" href="classfoedus_1_1soc_1_1SharedCond.html#a58ecf444b8c8d8fa1f5c54b8c2e9f0bd" title="Unblock all waiters. " alt="" coords="248,931,416,973"/>
<area shape="rect" id="node18" href="structfoedus_1_1soc_1_1MasterEngineStatus.html#a2f73b9316452984f65062e3fa3c5d020" title="foedus::soc::MasterEngine\lStatus::change_init_atomic" alt="" coords="242,1049,422,1090"/>
<area shape="rect" id="node20" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="779,1050,920,1091"/>
<area shape="rect" id="node21" href="structfoedus_1_1soc_1_1ChildEngineStatus.html#ad9f8821766f226f13f0311bca1a5981d" title="foedus::soc::ChildEngine\lStatus::change_init_atomic" alt="" coords="242,1114,422,1155"/>
<area shape="rect" id="node22" href="structfoedus_1_1soc_1_1MasterEngineStatus.html#aa3f2eb00974e1e60ce9a03e8f8f64954" title="Update the value of status_code_ with fence. " alt="" coords="233,1179,431,1221"/>
<area shape="rect" id="node25" href="structfoedus_1_1soc_1_1ChildEngineStatus.html#aa4e9303cf9cd2299bd7e9f44f6e837e0" title="Update the value of status_code_ with fence. " alt="" coords="249,1245,415,1301"/>
<area shape="rect" id="node27" href="structfoedus_1_1soc_1_1MasterEngineStatus.html#a7cf8cc11edfc97633e9120533e1c0cf3" title="foedus::soc::MasterEngine\lStatus::change_uninit_atomic" alt="" coords="235,1326,429,1367"/>
<area shape="rect" id="node29" href="structfoedus_1_1soc_1_1ChildEngineStatus.html#a561683486b98aeeefcb2bca72b91301a" title="foedus::soc::ChildEngine\lStatus::change_uninit\l_atomic" alt="" coords="249,1392,415,1448"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a7e6f699df114e5e49194791ed183f52f" title="foedus::storage::Storage\lManagerPimpl::clone_all\l_storage_metadata" alt="" coords="250,1472,414,1528"/>
<area shape="rect" id="node32" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a73cb4c21df0113f6c1dcad3029589225" title="Returns begin/end offsets of logs in the given epoch. " alt="" coords="239,1553,425,1594"/>
<area shape="rect" id="node33" href="classfoedus_1_1soc_1_1SharedPolling.html#ace449e19d0a13388da16570aefd42994" title="foedus::soc::SharedPolling\l::initialize" alt="" coords="243,1618,421,1659"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="235,1683,429,1725"/>
<area shape="rect" id="node44" href="structfoedus_1_1soc_1_1MasterEngineStatus.html#ac6c964bf07458b5adc1f034705daca34" title="Read status_code_ with fence. " alt="" coords="241,1749,423,1790"/>
<area shape="rect" id="node45" href="structfoedus_1_1soc_1_1ChildEngineStatus.html#ac8acd97b1b354cda68779ade6a963d04" title="Read status_code_ with fence. " alt="" coords="241,1814,423,1855"/>
<area shape="rect" id="node46" href="classfoedus_1_1soc_1_1SharedPolling.html#ae523f3b3bda39c0c81bfb5cb0d5ad626" title="Signal it to let waiters exit. " alt="" coords="243,189,421,230"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="243,1880,421,1936"/>
<area shape="rect" id="node48" href="classfoedus_1_1assorted_1_1DumbSpinlock.html#a0851db74c3d11d83b2e8c82dc01471f2" title="Unlocks it if I locked it. " alt="" coords="227,1961,437,2002"/>
<area shape="rect" id="node49" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ab34e312e55cd449909c9096b45c200fe" title="foedus::soc::SocManagerPimpl\l::wait_for_children_module" alt="" coords="231,2026,433,2067"/>
<area shape="rect" id="node50" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a1e8d5c98af1d33d7a77a05503eedc7be" title="foedus::soc::SocManagerPimpl\l::wait_for_master_module" alt="" coords="231,2091,433,2133"/>
<area shape="rect" id="node3" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a9835b4e2ce92a8ac46edd153be80a09d" title="foedus::log::LogManagerPimpl\l::wait_until_durable" alt="" coords="509,327,707,369"/>
<area shape="rect" id="node4" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a932bf5c252e75e0a305fe524217cb46a" title="foedus::savepoint::\lSavepointManagerPimpl\l::take_savepoint" alt="" coords="527,5,689,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a48fedb8938affadcce93051ff8c2ce6f" title="foedus::savepoint::\lSavepointManagerPimpl\l::take_savepoint_after\l_snapshot" alt="" coords="527,86,689,157"/>
<area shape="rect" id="node6" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ae5e8a2671c819fc0ada038b3fa47105a" title="foedus::savepoint::\lSavepointManagerPimpl\l::savepoint_main" alt="" coords="527,181,689,237"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#ab6b7456f65be108f3e51455b485f9a12" title="foedus::snapshot::Snapshot\lManagerPimpl::sleep_a_while" alt="" coords="511,393,705,434"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a84fdf2f4ccf499b44afed05a273739d9" title="Main routine for snapshot_thread_ in child engines. " alt="" coords="485,458,731,499"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a4496237075c2f411bb548e1bec7ca06b" title="foedus::snapshot::Snapshot\lManagerPimpl::trigger_snapshot\l_immediate" alt="" coords="503,524,713,580"/>
<area shape="rect" id="node10" href="classfoedus_1_1soc_1_1SharedRendezvous.html#a59eadd660b274272205331d9928b1654" title="Block until the event happens. " alt="" coords="504,605,712,646"/>
<area shape="rect" id="node11" href="classfoedus_1_1soc_1_1SharedRendezvous.html#aa46e3db70b7324e6f2c54e8f5084ca93" title="Block until the event happens or the given period elapses. " alt="" coords="504,670,712,711"/>
<area shape="rect" id="node12" href="structfoedus_1_1thread_1_1ImpersonateSession.html#a553f421acf03b382ef97a3ab909dba61" title="Blocks until the completion of the asynchronous session. " alt="" coords="517,735,699,777"/>
<area shape="rect" id="node13" href="structfoedus_1_1thread_1_1ImpersonateSession.html#a951cd701218b88d9a4cfe9bd6ee2ece6" title="Blocks until either the asynchronous session completes or the specified time elapses. " alt="" coords="517,801,699,842"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="511,262,705,303"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6" title="foedus::xct::XctManagerPimpl\l::advance_current_global_epoch" alt="" coords="505,866,711,907"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#af5cb0928185cf79dda519313f05fe0ee" title="foedus::xct::XctManagerPimpl\l::wait_for_current_global_epoch" alt="" coords="506,931,710,973"/>
<area shape="rect" id="node19" href="classfoedus_1_1EnginePimpl.html#a13acd726f8d0ab03b7976d00006a0e6b" title="Called whenever each module has completed its initialization. " alt="" coords="531,1050,685,1091"/>
<area shape="rect" id="node23" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a45aa9998863c0d0f8548806d06503972" title="foedus::soc::SharedMemory\lRepo::change_master_status" alt="" coords="512,1117,704,1158"/>
<area shape="rect" id="node24" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a36ec21a4c2b374ce071755a8b2696e3a" title="foedus::soc::SocManagerPimpl\l::report_engine_fatal_error" alt="" coords="507,1186,709,1227"/>
<area shape="rect" id="node26" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#ad6e39207d5c93495c392a8c41ffae38e" title="foedus::soc::SharedMemory\lRepo::change_child_status" alt="" coords="515,1253,701,1294"/>
<area shape="rect" id="node28" href="classfoedus_1_1EnginePimpl.html#a5a2c657e4fcf77d3166da849a6af8ffd" title="Called whenever each module has completed its uninitialization. " alt="" coords="524,1322,692,1363"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1StorageManager.html#a1b7056a40786dc501f373380e411a6ae" title="This method is called during snapshotting to clone metadata of all existing storages to the given obj..." alt="" coords="517,1388,699,1444"/>
<area shape="rect" id="node34" href="structfoedus_1_1log_1_1LogManagerControlBlock.html#a93a1bd4dcf76bc9cd4f266b2942f2b00" title="foedus::log::LogManagerControl\lBlock::initialize" alt="" coords="505,1469,711,1510"/>
<area shape="rect" id="node35" href="structfoedus_1_1log_1_1LoggerControlBlock.html#a39d5e48db76c97f972599fee2aa8c241" title="foedus::log::LoggerControl\lBlock::initialize" alt="" coords="521,1534,695,1575"/>
<area shape="rect" id="node36" href="structfoedus_1_1log_1_1MetaLogControlBlock.html#a2d5afcdf7b1f510072209d8203a959ae" title="foedus::log::MetaLogControl\lBlock::initialize" alt="" coords="516,1599,700,1641"/>
<area shape="rect" id="node37" href="structfoedus_1_1savepoint_1_1SavepointManagerControlBlock.html#a62651ba9ef902336444a754277c76ef3" title="foedus::savepoint::\lSavepointManagerControlBlock\l::initialize" alt="" coords="507,1665,709,1721"/>
<area shape="rect" id="node38" href="structfoedus_1_1snapshot_1_1SnapshotManagerControlBlock.html#a797d62d33506815f6945b0c06bab280d" title="foedus::snapshot::Snapshot\lManagerControlBlock::initialize" alt="" coords="507,1746,709,1787"/>
<area shape="rect" id="node39" href="classfoedus_1_1soc_1_1SharedPolling.html#ad0b2a9aaf91e58d5d328b10833e68454" title="foedus::soc::SharedPolling\l::SharedPolling" alt="" coords="519,1811,697,1853"/>
<area shape="rect" id="node40" href="structfoedus_1_1thread_1_1ThreadControlBlock.html#a261b434597087690ad1f65e407a3a221" title="foedus::thread::ThreadControl\lBlock::initialize" alt="" coords="512,1877,704,1918"/>
<area shape="rect" id="node41" href="structfoedus_1_1xct_1_1XctManagerControlBlock.html#a04554274a71a22a81696461d013ee9ec" title="foedus::xct::XctManagerControl\lBlock::initialize" alt="" coords="507,1942,709,1983"/>
<area shape="rect" id="node42" href="classfoedus_1_1soc_1_1SharedRendezvous.html#a2dd1832d66399a5ceec71bbdcf5eafe3" title="foedus::soc::SharedRendezvous\l::initialize" alt="" coords="504,2007,712,2049"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf84f9944a16c5848f69beacdfeedf939"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::memory_fence_acquire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent to std::atomic_thread_fence(std::memory_order_acquire). </p>
<p>A load operation with this memory order performs the acquire operation on the affected memory location: prior writes made to other memory locations by the thread that did the release become visible in this thread. </p>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00046">46</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>

<p>Referenced by <a class="el" href="meta__log__buffer_8cpp_source.html#l00033">foedus::log::MetaLogBuffer::commit()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00213">foedus::storage::masstree::MasstreeStoragePimpl::find_border_physical()</a>, <a class="el" href="proc__manager__pimpl_8cpp_source.html#l00146">foedus::proc::ProcManagerPimpl::find_by_name()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00036">foedus::storage::hash::ReserveRecords::find_or_create_or_expand()</a>, <a class="el" href="thread__ref_8cpp_source.html#l00114">foedus::thread::ThreadRef::get_in_commit_epoch()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00234">foedus::log::ThreadLogBuffer::get_logs_to_write()</a>, <a class="el" href="thread__ref_8cpp_source.html#l00132">foedus::thread::ThreadGroupRef::get_min_in_commit_epoch()</a>, <a class="el" href="thread__pimpl_8hpp_source.html#l00471">foedus::thread::ThreadPimplMcsAdaptor&lt; RW_BLOCK &gt;::get_rw_other_async_block()</a>, <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00135">foedus::xct::XctManagerPimpl::handle_epoch_chime()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00191">foedus::snapshot::SnapshotManagerPimpl::handle_snapshot()</a>, <a class="el" href="shared__rendezvous_8hpp_source.html#l00048">foedus::soc::SharedRendezvous::is_signaled()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00158">foedus::thread::ThreadPimpl::is_stop_requested()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00936">foedus::storage::hash::HashStoragePimpl::locate_record()</a>, <a class="el" href="xct_8cpp_source.html#l00258">foedus::xct::Xct::on_record_read()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00213">foedus::storage::sequential::SequentialStorageControlBlock::optimistic_read_truncate_epoch()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00061">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_next_layer()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00371">foedus::xct::XctManagerPimpl::precommit_xct_readonly()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00179">foedus::log::LogManagerPimpl::refresh_global_durable_epoch()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00515">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record_normalized()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l01135">foedus::storage::hash::HashStoragePimpl::track_moved_record_search()</a>, <a class="el" href="thread__ref_8cpp_source.html#l00059">foedus::thread::ThreadRef::try_impersonate()</a>, <a class="el" href="shared__cond_8cpp_source.html#l00050">foedus::soc::SharedCond::uninitialize()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00136">foedus::log::ThreadLogBuffer::wait_for_space()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00214">foedus::log::LogManagerPimpl::wait_until_durable()</a>, and <a class="el" href="logger__ref_8cpp_source.html#l00045">foedus::log::LoggerRef::wakeup_for_durable_epoch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                   {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  ::__atomic_thread_fence(__ATOMIC_ACQUIRE);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaf84f9944a16c5848f69beacdfeedf939_icgraph.png" border="0" usemap="#group__ASSORTED_gaf84f9944a16c5848f69beacdfeedf939_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaf84f9944a16c5848f69beacdfeedf939_icgraph" id="group__ASSORTED_gaf84f9944a16c5848f69beacdfeedf939_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1log_1_1MetaLogBuffer.html#ab94212c9c14361971679c5581c99e7c3" title="Synchronously writes out the given log to metadata log file. " alt="" coords="246,122,422,163"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="247,363,421,419"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="507,392,680,448"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="501,472,685,528"/>
<area shape="rect" id="node11" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#aa92f0d777803a8ee817ac6141875ad1a" title="foedus::proc::ProcManager\lPimpl::find_by_name" alt="" coords="245,545,423,586"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="258,611,410,667"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1ThreadRef.html#aed812916b102c6445eabe3bce5fd50f3" title="foedus::thread::ThreadRef\l::get_in_commit_epoch" alt="" coords="249,691,419,733"/>
<area shape="rect" id="node17" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a73cb4c21df0113f6c1dcad3029589225" title="Returns begin/end offsets of logs in the given epoch. " alt="" coords="241,757,427,798"/>
<area shape="rect" id="node18" href="classfoedus_1_1thread_1_1ThreadGroupRef.html#a5b15c98366cf1839fe6621f445853fa1" title="Returns the oldest in&#45;commit epoch of the threads in this group. " alt="" coords="232,874,436,915"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="745,849,940,890"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimplMcsAdaptor.html#a99408b01841c4cd34977a90b71e04dfa" title="foedus::thread::ThreadPimpl\lMcsAdaptor::get_rw_other\l_async_block" alt="" coords="242,940,426,996"/>
<area shape="rect" id="node23" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="235,1021,433,1062"/>
<area shape="rect" id="node25" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="229,1086,439,1127"/>
<area shape="rect" id="node27" href="classfoedus_1_1soc_1_1SharedRendezvous.html#a876fb873b6e833c449fbc785406a3237" title="returns whether the even has signaled. " alt="" coords="230,1151,438,1193"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a28f34cbb16ac60050a2e42332058b3eb" title="foedus::thread::ThreadPimpl\l::is_stop_requested" alt="" coords="242,1217,426,1258"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="243,1283,425,1339"/>
<area shape="rect" id="node35" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="267,1363,401,1405"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1sequential_1_1SequentialStorageControlBlock.html#a8b82d79a7b8aab753945617abbc40b7f" title="foedus::storage::sequential\l::SequentialStorageControlBlock\l::optimistic_read_truncate_epoch" alt="" coords="227,1429,441,1485"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a14fb0ae2a643a45c3f32ab6395285d8d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_next_layer" alt="" coords="229,1510,439,1581"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="237,1605,431,1646"/>
<area shape="rect" id="node44" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ad75bb7dd8ca8589f86502836f975b2c3" title="foedus::log::LogManagerPimpl\l::refresh_global_durable_epoch" alt="" coords="233,1670,435,1711"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a144ddbe7819e7b3576611d456aa46c77" title="foedus::storage::hash\l::HashStoragePimpl::track\l_moved_record_search" alt="" coords="247,1736,421,1792"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1ThreadRef.html#a34020c7e3fc51100fb188f69e95926ed" title="Conditionally try to occupy this thread, or impersonate. " alt="" coords="249,1817,419,1858"/>
<area shape="rect" id="node47" href="classfoedus_1_1soc_1_1SharedCond.html#adbfaf38799c428f0cc8e7bb87a75bbf0" title="foedus::soc::SharedCond\l::uninitialize" alt="" coords="250,1882,418,1923"/>
<area shape="rect" id="node48" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="241,1947,427,1989"/>
<area shape="rect" id="node49" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a9835b4e2ce92a8ac46edd153be80a09d" title="foedus::log::LogManagerPimpl\l::wait_until_durable" alt="" coords="235,2013,433,2054"/>
<area shape="rect" id="node50" href="classfoedus_1_1log_1_1LoggerRef.html#a03f823b0a3cdac79d65f1f5a9e053e3d" title="Wakes up this logger if its durable_epoch has not reached the given epoch yet. " alt="" coords="241,2078,427,2119"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="504,5,683,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a252f35e96555817a5eba6ab2e2275d53" title="foedus::storage::Storage\lManagerPimpl::drop_storage" alt="" coords="499,86,687,127"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a9eec079742233abb22d147da7b4fa50a" title="foedus::storage::Storage\lManagerPimpl::create_storage\l_and_log" alt="" coords="494,152,693,208"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="507,232,680,288"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="504,312,683,368"/>
<area shape="rect" id="node12" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#a9c1c82068b9cd0753b679bfd575861b0" title="foedus::proc::ProcManager\lPimpl::get_proc" alt="" coords="504,553,683,594"/>
<area shape="rect" id="node13" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#acbcaf42a8076afae40a010323557ad54" title="foedus::proc::ProcManager\lPimpl::insert" alt="" coords="504,618,683,659"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="518,683,669,725"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a881d783a084b1225debd5408a9248a51" title="Makes sure all worker threads will commit with an epoch larger than grace_epoch. " alt="" coords="496,873,691,929"/>
<area shape="rect" id="node21" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#aefb36bf03b0bd29c160f5aa36b219d45" title="foedus::xct::XctManagerPimpl\l::initialize_once" alt="" coords="988,849,1183,890"/>
<area shape="rect" id="node24" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="494,955,693,997"/>
<area shape="rect" id="node26" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="496,1021,691,1062"/>
<area shape="rect" id="node28" href="classfoedus_1_1soc_1_1SharedRendezvous.html#a59eadd660b274272205331d9928b1654" title="Block until the event happens. " alt="" coords="489,1086,697,1127"/>
<area shape="rect" id="node29" href="classfoedus_1_1soc_1_1SharedRendezvous.html#aa46e3db70b7324e6f2c54e8f5084ca93" title="Block until the event happens or the given period elapses. " alt="" coords="489,1151,697,1193"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a73a9dfcab4771b1a5c6362406b27faeb" title="Main routine of the worker thread. " alt="" coords="501,1217,685,1258"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="503,1283,684,1339"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="503,1363,684,1419"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="526,1603,661,1645"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="511,1669,676,1725"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="511,1749,676,1805"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="511,1443,676,1499"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="511,1523,676,1579"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga641117f56315b0f239d72948cf5aa56f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::memory_fence_consume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent to std::atomic_thread_fence(std::memory_order_consume). </p>
<p>A load operation with this memory order performs a consume operation on the affected memory location: prior writes to data-dependent memory locations made by the thread that did a release operation become visible to this thread. </p>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00081">81</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>

<p>Referenced by <a class="el" href="array__storage__pimpl_8cpp_source.html#l00746">foedus::storage::array::ArrayStoragePimpl::get_record_for_write_batch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00717">foedus::storage::array::ArrayStoragePimpl::get_record_payload_batch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00678">foedus::storage::array::ArrayStoragePimpl::get_record_primitive_batch()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00283">foedus::storage::masstree::MasstreeStoragePimpl::locate_record()</a>, <a class="el" href="hash__record__location_8cpp_source.html#l00027">foedus::storage::hash::RecordLocation::populate_logical()</a>, and <a class="el" href="hash__storage__pimpl_8cpp_source.html#l01135">foedus::storage::hash::HashStoragePimpl::track_moved_record_search()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                   {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  ::__atomic_thread_fence(__ATOMIC_CONSUME);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga641117f56315b0f239d72948cf5aa56f_icgraph.png" border="0" usemap="#group__ASSORTED_ga641117f56315b0f239d72948cf5aa56f_icgraph" alt=""/></div>
<map name="group__ASSORTED_ga641117f56315b0f239d72948cf5aa56f_icgraph" id="group__ASSORTED_ga641117f56315b0f239d72948cf5aa56f_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="233,20,398,76"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="233,128,398,184"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="233,263,398,319"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="229,452,402,508"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="227,635,404,691"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a144ddbe7819e7b3576611d456aa46c77" title="foedus::storage::hash\l::HashStoragePimpl::track\l_moved_record_search" alt="" coords="228,799,403,855"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="483,5,658,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="483,85,658,141"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="483,165,658,221"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="471,246,670,287"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="484,312,657,368"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="484,392,657,448"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="463,473,678,514"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="455,538,686,579"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="477,604,664,660"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="452,685,689,726"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="480,751,661,807"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="737,671,919,727"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="737,751,919,807"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="986,441,1150,497"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="986,551,1150,607"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="979,631,1157,687"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="977,711,1159,767"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="977,791,1159,847"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="970,871,1166,927"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="967,987,1169,1043"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1231,418,1406,459"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1237,484,1401,540"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1217,565,1420,606"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1491,484,1665,540"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1245,631,1392,687"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1245,711,1393,767"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1244,791,1393,847"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1221,871,1417,927"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1237,951,1400,1007"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1497,871,1659,927"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1233,1031,1404,1087"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af3a7066a8881f653e759362cf39e01c4" title="foedus::storage::hash\l::HashStoragePimpl::track\l_moved_record" alt="" coords="483,884,658,940"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ab763d5d37f053808257f662611f2e603" title="Resolves a &quot;moved&quot; record. " alt="" coords="755,937,901,993"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a3248d8440d805f772ad7b6122a4d309b" title="foedus::storage::Storage\lManagerPimpl::track_moved\l_record" alt="" coords="975,1085,1161,1141"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1StorageManager.html#a02513539acf9d7cd9805d34154281076" title="Resolves a &quot;moved&quot; record. " alt="" coords="1221,1111,1417,1153"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="1468,1111,1688,1153"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="1737,1078,1945,1119"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="1736,1143,1947,1185"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="1995,1078,2189,1119"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="2237,1111,2432,1153"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="2480,1111,2643,1153"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="1995,1143,2189,1185"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gafc1110de4c6bb85c7e1f7feccc27f6d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::memory_fence_release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent to std::atomic_thread_fence(std::memory_order_release). </p>
<p>A store operation with this memory order performs the release operation: prior writes to other memory locations become visible to the threads that do a consume or an acquire on the same location. </p>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00058">58</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00118">foedus::storage::masstree::Adopt::adopt_case_b()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00268">foedus::log::LogManagerPimpl::announce_new_durable_global_epoch()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00155">foedus::storage::sequential::SequentialPage::append_record_nosync()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00261">foedus::storage::hash::ReserveRecords::append_record_to_page()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00208">foedus::storage::hash::ReserveRecords::create_new_record_in_tail_page()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00101">foedus::storage::hash::ReserveRecords::expand_record()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00139">foedus::storage::hash::ReserveRecords::find_and_lock_spacious_tail()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">foedus::storage::masstree::grow_case_b_common()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00135">foedus::xct::XctManagerPimpl::handle_epoch_chime()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00316">foedus::snapshot::SnapshotManagerPimpl::handle_snapshot_triggered()</a>, <a class="el" href="xct__id_8hpp_source.html#l00428">foedus::xct::McsRwSimpleBlock::init_common()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00431">foedus::storage::masstree::MasstreeBorderPage::initialize_as_layer_root_physical()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00037">foedus::savepoint::SavepointManagerPimpl::initialize_once()</a>, <a class="el" href="cache__hashtable_8cpp_source.html#l00114">foedus::cache::CacheHashtable::install()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00624">foedus::storage::masstree::SplitIntermediate::migrate_pointers()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00868">foedus::xct::XctManagerPimpl::precommit_xct_apply()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00384">foedus::xct::XctManagerPimpl::precommit_xct_readwrite()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00179">foedus::log::LogManagerPimpl::refresh_global_durable_epoch()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00170">foedus::storage::hash::HashDataPage::reserve_record()</a>, <a class="el" href="xct__id_8hpp_source.html#l00803">foedus::xct::McsRwLock::reset()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00039">foedus::storage::masstree::SplitBorder::run()</a>, <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00158">foedus::savepoint::SavepointManagerPimpl::savepoint_main()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00476">foedus::storage::masstree::SplitIntermediate::split_impl_no_error()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00236">foedus::storage::sequential::SequentialStoragePimpl::truncate()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00360">foedus::storage::masstree::MasstreeBorderPage::try_expand_record_in_page_physical()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00136">foedus::log::ThreadLogBuffer::wait_for_space()</a>, <a class="el" href="snapshot__manager__pimpl_8hpp_source.html#l00150">foedus::snapshot::SnapshotManagerControlBlock::wakeup_snapshot_children()</a>, and <a class="el" href="in__commit__epoch__guard_8hpp_source.html#l00067">foedus::xct::InCommitEpochGuard::~InCommitEpochGuard()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                   {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  ::__atomic_thread_fence(__ATOMIC_RELEASE);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gafc1110de4c6bb85c7e1f7feccc27f6d7_icgraph.png" border="0" usemap="#group__ASSORTED_gafc1110de4c6bb85c7e1f7feccc27f6d7_icgraph" alt=""/></div>
<map name="group__ASSORTED_gafc1110de4c6bb85c7e1f7feccc27f6d7_icgraph" id="group__ASSORTED_gafc1110de4c6bb85c7e1f7feccc27f6d7_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="264,5,437,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a6b560cbd51f4a39559154ff6a4007aae" title="foedus::log::LogManagerPimpl\l::announce_new_durable_global_epoch" alt="" coords="227,195,475,236"/>
<area shape="rect" id="node6" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ae5e8a2671c819fc0ada038b3fa47105a" title="foedus::savepoint::\lSavepointManagerPimpl\l::savepoint_main" alt="" coords="806,122,967,178"/>
<area shape="rect" id="node7" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ad75cdea74e547a1f66d62b85a938a2cd" title="foedus::savepoint::\lSavepointManagerPimpl\l::initialize_once" alt="" coords="1040,90,1201,146"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1sequential_1_1SequentialPage.html#aec915d81c404fca9de77c9eed625afa9" title="Appends a record to this page. " alt="" coords="539,253,717,309"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a958308b83b377f31e6b01b39979e23b2" title="Appends a new physical record to the page. " alt="" coords="263,1023,438,1079"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="541,893,715,949"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#acc93c206465207018eb9e29a5fa5342b" title="Installs it as a fresh&#45;new physical record, assuming the given page is the tail and already locked..." alt="" coords="543,973,713,1029"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="269,893,433,949"/>
<area shape="rect" id="node16" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="264,1155,437,1196"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="253,1220,448,1261"/>
<area shape="rect" id="node21" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="245,1286,456,1342"/>
<area shape="rect" id="node24" href="structfoedus_1_1xct_1_1McsRwSimpleBlock.html#a4cc415110fc856ac0247dce2c00aa6d7" title="foedus::xct::McsRwSimple\lBlock::init_common" alt="" coords="262,1367,439,1408"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a867f696df8da3aeeab003663a439a535" title="A physical&#45;only method to initialize this page as a volatile page of a layer&#45;root pointed from the gi..." alt="" coords="247,762,454,818"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="800,441,973,483"/>
<area shape="rect" id="node29" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="247,1432,454,1473"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aac45b3f7f6e3c14faa8a9662396d44e1" title="Subroutine to construct a new page. " alt="" coords="261,1498,440,1554"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="541,1657,715,1713"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="253,1629,448,1671"/>
<area shape="rect" id="node35" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="531,1737,725,1779"/>
<area shape="rect" id="node37" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ad75bb7dd8ca8589f86502836f975b2c3" title="foedus::log::LogManagerPimpl\l::refresh_global_durable_epoch" alt="" coords="250,1747,451,1788"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a82dc0eaea96412a4ddb70006b450d754" title="A system transaction that creates a logically deleted record in this page for the given key..." alt="" coords="803,741,970,797"/>
<area shape="rect" id="node40" href="structfoedus_1_1xct_1_1McsRwLock.html#a522c5b2702bad890293b39e634f2c3c4" title="foedus::xct::McsRwLock\l::reset" alt="" coords="268,595,433,636"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="541,725,715,767"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="261,1813,440,1869"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a49c67f561e5748dbaf947cc22325a8a5" title="A physical&#45;only method to expand a record within this page without any logical change. " alt="" coords="240,449,461,505"/>
<area shape="rect" id="node48" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="257,1893,444,1935"/>
<area shape="rect" id="node49" href="structfoedus_1_1snapshot_1_1SnapshotManagerControlBlock.html#aea6701821c4d7184cac37f3ad552c60f" title="Fires snapshot_children_wakeup_. " alt="" coords="251,1959,450,2015"/>
<area shape="rect" id="node50" href="structfoedus_1_1xct_1_1InCommitEpochGuard.html#ae8add683686869385490dcf3d1f42a7d" title="foedus::xct::InCommitEpoch\lGuard::~InCommitEpochGuard" alt="" coords="251,2040,451,2081"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="541,5,715,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1log_1_1LogManager.html#a970d90dc3ac74ec3e57cb4b833725290" title="Sets the new global durable epoch and also wakes up threads that were waiting for it..." alt="" coords="545,173,711,229"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a3e005713f9a1c12bb2a4771a192b47a5" title="foedus::storage::sequential\l::SequentialComposer::compose" alt="" coords="781,232,992,273"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="797,298,976,354"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="811,933,963,989"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="541,1053,715,1095"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="531,1119,725,1160"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#aefb36bf03b0bd29c160f5aa36b219d45" title="foedus::xct::XctManagerPimpl\l::initialize_once" alt="" coords="531,1184,725,1225"/>
<area shape="rect" id="node22" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="551,1249,705,1291"/>
<area shape="rect" id="node23" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="523,1315,733,1356"/>
<area shape="rect" id="node25" href="structfoedus_1_1xct_1_1McsRwSimpleBlock.html#a3e6820018c62de77316429b95ecf3538" title="foedus::xct::McsRwSimple\lBlock::init_reader" alt="" coords="539,1380,717,1421"/>
<area shape="rect" id="node26" href="structfoedus_1_1xct_1_1McsRwSimpleBlock.html#ae7c08d8975d0668f2ee53bd718b10fe6" title="foedus::xct::McsRwSimple\lBlock::init_writer" alt="" coords="539,1445,717,1487"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="523,1511,733,1552"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="536,1577,720,1633"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="789,1737,984,1779"/>
<area shape="rect" id="node38" href="classfoedus_1_1log_1_1LogManager.html#aba382b725496593eb3f06b1644ef53c6" title="Called whenever there is a chance that the global durable epoch advances. " alt="" coords="527,1803,729,1844"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ac7ca15bf233b941d860679b88c8bc87f" title="Installs a new physical record that doesn&#39;t exist logically (delete bit on). " alt="" coords="527,514,729,570"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2be77538e13226dbc44134039be0dc73" title="For creating a record that is initially a next&#45;layer. " alt="" coords="527,434,729,490"/>
<area shape="rect" id="node43" href="structfoedus_1_1xct_1_1McsRwLock.html#a7d8cfbe54765bd50c2b6e737636ad8d9" title="foedus::xct::McsRwLock\l::McsRwLock" alt="" coords="545,595,711,636"/>
<area shape="rect" id="node44" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a5e7ab8019cc94226ed2d71fe671dd6b7" title="used only while page initialization " alt="" coords="537,660,719,701"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6bdc7e888e85756548f0af7644158daf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::memory_fence_seq_cst </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent to std::atomic_thread_fence(std::memory_order_seq_cst). </p>
<p>Same as memory_order_acq_rel, plus a single total order exists in which all threads observe all modifications in the same order. </p>

<p>Definition at line <a class="el" href="atomic__fences_8hpp_source.html#l00092">92</a> of file <a class="el" href="atomic__fences_8hpp_source.html">atomic_fences.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                   {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  ::__atomic_thread_fence(__ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab3d1892edaa7db4b02029567b7993f37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int foedus::assorted::mod_numa_node </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numa_node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In order to run even on a non-numa machine or a machine with fewer sockets, we allow specifying arbitrary numa_node. </p>
<p>we just take mod. </p>

<p>Definition at line <a class="el" href="mod__numa__node_8hpp_source.html#l00031">31</a> of file <a class="el" href="mod__numa__node_8hpp_source.html">mod_numa_node.hpp</a>.</p>

<p>References <a class="el" href="numa_8h.html#a413cadd87796fff247c83d9ad817cc7e">numa_available()</a>, and <a class="el" href="numa_8h.html#a22585176d6e08c221de8377637bd72a7">numa_num_configured_nodes()</a>.</p>

<p>Referenced by <a class="el" href="aligned__memory_8cpp_source.html#l00113">foedus::memory::AlignedMemory::alloc()</a>, <a class="el" href="numa__thread__scope_8hpp_source.html#l00034">foedus::thread::NumaThreadScope::NumaThreadScope()</a>, and <a class="el" href="memory__id_8hpp_source.html#l00059">foedus::memory::ScopedNumaPreferred::ScopedNumaPreferred()</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                        {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// if the machine is not a NUMA machine (1-socket), then avoid calling libnuma functions.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">if</span> (::<a class="code" href="numa_8h.html#a413cadd87796fff247c83d9ad817cc7e">numa_available</a>() &lt; 0) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordtype">int</span> hardware_nodes = <a class="code" href="numa_8h.html#a22585176d6e08c221de8377637bd72a7">::numa_num_configured_nodes</a>();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">if</span> (numa_node &gt;= 0 &amp;&amp; numa_node &gt;= hardware_nodes &amp;&amp; hardware_nodes &gt; 0) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    numa_node = numa_node % hardware_nodes;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> numa_node;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
<div class="ttc" id="numa_8h_html_a22585176d6e08c221de8377637bd72a7"><div class="ttname"><a href="numa_8h.html#a22585176d6e08c221de8377637bd72a7">numa_num_configured_nodes</a></div><div class="ttdeci">int numa_num_configured_nodes()</div></div>
<div class="ttc" id="numa_8h_html_a413cadd87796fff247c83d9ad817cc7e"><div class="ttname"><a href="numa_8h.html#a413cadd87796fff247c83d9ad817cc7e">numa_available</a></div><div class="ttdeci">int numa_available(void)</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_cgraph.png" border="0" usemap="#group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_cgraph" alt=""/></div>
<map name="group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_cgraph" id="group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_cgraph">
<area shape="rect" id="node2" href="numa_8h.html#a413cadd87796fff247c83d9ad817cc7e" title="numa_available" alt="" coords="225,5,335,32"/>
<area shape="rect" id="node3" href="numa_8h.html#a22585176d6e08c221de8377637bd72a7" title="numa_num_configured\l_nodes" alt="" coords="204,57,356,98"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_icgraph.png" border="0" usemap="#group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_icgraph" alt=""/></div>
<map name="group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_icgraph" id="group__ASSORTED_gab3d1892edaa7db4b02029567b7993f37_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1AlignedMemory.html#a5166bae2fdad9ffa0d5c279edfd3307e" title="Allocate a memory, releasing the current memory if exists. " alt="" coords="204,631,417,672"/>
<area shape="rect" id="node45" href="structfoedus_1_1thread_1_1NumaThreadScope.html#a17a2d2be0905022ecefeccd46f035fc5" title="foedus::thread::NumaThread\lScope::NumaThreadScope" alt="" coords="218,696,403,737"/>
<area shape="rect" id="node46" href="structfoedus_1_1memory_1_1ScopedNumaPreferred.html#a98918fb78962c5b63f2d592949b729c3" title="foedus::memory::ScopedNuma\lPreferred::ScopedNumaPreferred" alt="" coords="205,761,417,803"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1AlignedMemory.html#a9261010202e2410730e252c03b792fc0" title="Short for alloc(kNumaAllocOnnode) " alt="" coords="465,75,679,116"/>
<area shape="rect" id="node6" href="classfoedus_1_1cache_1_1CacheHashtable.html#ab50df22f687f1366d13be2f0f950177b" title="foedus::cache::CacheHashtable\l::CacheHashtable" alt="" coords="469,140,675,181"/>
<area shape="rect" id="node7" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="473,205,671,247"/>
<area shape="rect" id="node9" href="structfoedus_1_1externalize_1_1Externalizable.html#af4e4989a732573c1bbd538a3fbfad930" title="Atomically and durably writes out this object to the specified XML file. " alt="" coords="499,271,645,327"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="1007,721,1194,763"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a197b63dfdbb7d28dab57fdfae379f28b" title="Allocate a memory of the given size on this NUMA node. " alt="" coords="479,714,665,770"/>
<area shape="rect" id="node24" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#ac587afcb72a4b29b67a56fb49c49b503" title="Redo metadata operation (create/drop storage) since the latest snapshot. " alt="" coords="1251,552,1456,593"/>
<area shape="rect" id="node25" href="structfoedus_1_1snapshot_1_1LogGleanerResource.html#a8327c8ba0d722a15f441abc4434bea2b" title="foedus::snapshot::LogGleaner\lResource::allocate" alt="" coords="1256,617,1451,659"/>
<area shape="rect" id="node26" href="classfoedus_1_1snapshot_1_1LogMapper.html#a58b8ae141fb701e5d30911e8057d904e" title="foedus::snapshot::LogMapper\l::initialize_once" alt="" coords="475,795,669,836"/>
<area shape="rect" id="node27" href="classfoedus_1_1snapshot_1_1LogReducer.html#a2f5f2664fee7cafc37ad28a657e37e9c" title="foedus::snapshot::LogReducer\l::initialize_once" alt="" coords="473,860,671,901"/>
<area shape="rect" id="node28" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="727,483,953,524"/>
<area shape="rect" id="node29" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="480,482,664,538"/>
<area shape="rect" id="node30" href="structfoedus_1_1snapshot_1_1SnapshotMetadata.html#ad8bed3780996c99cd78149538dca67ab" title="Reads the content of this object from the given XML element. " alt="" coords="480,925,664,967"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashComposeContext.html#ad74a8746a4e10c3931ab206db17f0667" title="HashComposeContext methods. " alt="" coords="492,991,652,1047"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="493,1072,651,1113"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1hash_1_1HashTmpBin.html#a44b5b127711bdcde112b8950c0777f01" title="Allocates the memory to use by this object. " alt="" coords="498,1142,646,1198"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adb503d118f53a417bf11f9e486bd3cf7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread_follow" alt="" coords="469,1269,675,1325"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a7e6f699df114e5e49194791ed183f52f" title="foedus::storage::Storage\lManagerPimpl::clone_all\l_storage_metadata" alt="" coords="490,351,654,407"/>
<area shape="rect" id="node4" href="structfoedus_1_1xct_1_1McsMockNode.html#a346c3bf77b2927d718f8f42be58c5c3e" title="foedus::xct::McsMockNode\l::init" alt="" coords="749,5,931,47"/>
<area shape="rect" id="node5" href="structfoedus_1_1snapshot_1_1LogGleanerResource_1_1PerNodeResource.html#aceff5cb77ae6ec01336ff015141d5543" title="foedus::snapshot::LogGleaner\lResource::PerNodeResource\l::PerNodeResource" alt="" coords="743,71,937,127"/>
<area shape="rect" id="node8" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="741,155,939,196"/>
<area shape="rect" id="node10" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ad75cdea74e547a1f66d62b85a938a2cd" title="foedus::savepoint::\lSavepointManagerPimpl\l::initialize_once" alt="" coords="1020,239,1181,295"/>
<area shape="rect" id="node11" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ae5e8a2671c819fc0ada038b3fa47105a" title="foedus::savepoint::\lSavepointManagerPimpl\l::savepoint_main" alt="" coords="759,271,921,327"/>
<area shape="rect" id="node12" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a4ae6b016213cb70bb6e5df636b24d129" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1009,402,1193,458"/>
<area shape="rect" id="node13" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1248,471,1459,527"/>
<area shape="rect" id="node14" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1535,483,1689,524"/>
<area shape="rect" id="node16" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1507,548,1717,589"/>
<area shape="rect" id="node15" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1765,483,1960,524"/>
<area shape="rect" id="node17" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1765,580,1960,621"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a347b906362b2d1802069ead12c3ef9b7" title="foedus::memory::NumaNode\lMemory::allocate_numa\l_memory" alt="" coords="747,794,933,850"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#aaf4edc54422d46a54523aed66e0daa40" title="foedus::memory::NumaNode\lMemory::allocate_huge\l_numa_memory" alt="" coords="747,714,933,770"/>
<area shape="rect" id="node21" href="classfoedus_1_1log_1_1Logger.html#a3b1d647f1458d1172a511b7e57a2a237" title="foedus::log::Logger\l::initialize_once" alt="" coords="1035,793,1167,835"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="1009,859,1193,900"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ae68923a3afe20ce445002b85764a9f17" title="These are defined in hash_storage_debug.cpp. " alt="" coords="1254,981,1453,1037"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad9f8e63fe91ea8623c537e3fffc1f3c1" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_intermediate" alt="" coords="1001,1014,1200,1070"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa220f1f2d268290263483476d85be47b" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_data" alt="" coords="741,1065,939,1121"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a144b7a6f95482f2ab8f8564776689fb9" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="1529,981,1695,1037"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashComposeContext.html#aa55b6ec5e0174d4122bdb9b728cd2088" title="foedus::storage::hash\l::HashComposeContext\l::execute" alt="" coords="760,1145,920,1201"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a41e664c7035f1b89121ef06678a71386" title="These are defined in masstree_storage_debug.cpp. " alt="" coords="753,1225,927,1281"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6358da556d81e06726320b30c78755f7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread\l_recurse" alt="" coords="753,1305,927,1376"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a9d2f5eb65777d851bee6809acf6fe153" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="1005,1225,1196,1281"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1StorageManager.html#a1b7056a40786dc501f373380e411a6ae" title="This method is called during snapshotting to clone metadata of all existing storages to the given obj..." alt="" coords="749,402,931,458"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaaa260096daf8620266c2799d1f5a0270"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::assorted::os_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread-safe strerror(errno). </p>
<p>We might do some trick here for portability, too. </p>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00067">67</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>Referenced by <a class="el" href="shared__memory_8cpp_source.html#l00067">foedus::memory::SharedMemory::alloc()</a>, <a class="el" href="aligned__memory_8cpp_source.html#l00113">foedus::memory::AlignedMemory::alloc()</a>, <a class="el" href="aligned__memory_8cpp_source.html#l00064">foedus::memory::alloc_mmap()</a>, <a class="el" href="shared__memory_8cpp_source.html#l00157">foedus::memory::SharedMemory::attach()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00129">foedus::fs::DirectIoFile::close()</a>, <a class="el" href="assorted__func_8cpp_source.html#l00081">foedus::assorted::get_current_executable_path()</a>, <a class="el" href="page__pool__pimpl_8cpp_source.html#l00075">foedus::memory::PagePoolPimpl::initialize_once()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00479">foedus::soc::SocManagerPimpl::launch_forked_children()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00523">foedus::soc::SocManagerPimpl::launch_spawned_children()</a>, <a class="el" href="rich__backtrace_8cpp_source.html#l00077">foedus::assorted::BacktraceContext::on_libbt_create_state_error()</a>, <a class="el" href="rich__backtrace_8cpp_source.html#l00083">foedus::assorted::BacktraceContext::on_libbt_full_error()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00055">foedus::fs::DirectIoFile::open()</a>, <a class="el" href="fixed__error__stack_8cpp_source.html#l00050">foedus::FixedErrorStack::output()</a>, <a class="el" href="error__stack_8cpp_source.html#l00030">foedus::ErrorStack::output()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00162">foedus::fs::DirectIoFile::read_raw()</a>, <a class="el" href="shared__memory_8cpp_source.html#l00222">foedus::memory::SharedMemory::release_block()</a>, <a class="el" href="externalizable_8cpp_source.html#l00096">foedus::externalize::Externalizable::save_to_file()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00326">foedus::fs::DirectIoFile::seek()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00239">foedus::thread::ThreadPimpl::set_thread_schedule()</a>, <a class="el" href="debugging__supports_8cpp_source.html#l00229">foedus::debugging::DebuggingSupports::start_profile()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00360">foedus::fs::DirectIoFile::sync()</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00296">foedus::fs::DirectIoFile::truncate()</a>, <a class="el" href="page__pool__pimpl_8cpp_source.html#l00152">foedus::memory::PagePoolPimpl::uninitialize_once()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00152">foedus::soc::SocManagerPimpl::wait_for_child_attach()</a>, and <a class="el" href="direct__io__file_8cpp_source.html#l00236">foedus::fs::DirectIoFile::write_raw()</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                     {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270">os_error</a>(errno);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_gaaa260096daf8620266c2799d1f5a0270"><div class="ttname"><a href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270">foedus::assorted::os_error</a></div><div class="ttdeci">std::string os_error()</div><div class="ttdoc">Thread-safe strerror(errno). </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8cpp_source.html#l00067">assorted_func.cpp:67</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaaa260096daf8620266c2799d1f5a0270_icgraph.png" border="0" usemap="#group__ASSORTED_gaaa260096daf8620266c2799d1f5a0270_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaaa260096daf8620266c2799d1f5a0270_icgraph" id="group__ASSORTED_gaaa260096daf8620266c2799d1f5a0270_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1SharedMemory.html#ae4b91eee2dce03e4b3aac612c71b88a0" title="Newly allocate a shared memory of given size on given NUMA node. " alt="" coords="452,1135,663,1177"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1AlignedMemory.html#a5166bae2fdad9ffa0d5c279edfd3307e" title="Allocate a memory, releasing the current memory if exists. " alt="" coords="711,625,925,666"/>
<area shape="rect" id="node8" href="structfoedus_1_1externalize_1_1Externalizable.html#af4e4989a732573c1bbd538a3fbfad930" title="Atomically and durably writes out this object to the specified XML file. " alt="" coords="1007,1195,1153,1251"/>
<area shape="rect" id="node23" href="namespacefoedus_1_1memory.html#ac2422aa4fe378da8a9594901762e17df" title="foedus::memory::alloc_mmap" alt="" coords="202,661,395,688"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1SharedMemory.html#a690fd766729121b64adf28994a8a6660" title="Attach an already&#45;allocated shared memory so that this object points to the memory. " alt="" coords="452,1201,663,1242"/>
<area shape="rect" id="node27" href="classfoedus_1_1fs_1_1DirectIoFile.html#a7888a3b0c169fbc6b2e6e83c86d5f267" title="Close the file if not yet closed. " alt="" coords="223,909,374,950"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#gabf12dac99d13b55183e7faf0f496ff3f" title="Returns the full path of current executable. " alt="" coords="213,1091,384,1133"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3a28e3c04c25c6d6cb2cd0628d4fe397" title="foedus::memory::PagePool\lPimpl::initialize_once" alt="" coords="209,1157,388,1198"/>
<area shape="rect" id="node34" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ad9ef70c0b175a6535731e2cf0c2370f1" title="Launch children via fork. " alt="" coords="456,1591,659,1633"/>
<area shape="rect" id="node35" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a4a9091baae2ba21b2cb888da8d391818" title="Launch children via spawn. " alt="" coords="456,1857,659,1898"/>
<area shape="rect" id="node36" href="structfoedus_1_1assorted_1_1BacktraceContext.html#aa211d7db41f1d7406a69b029e5cfd4a1" title="foedus::assorted::Backtrace\lContext::on_libbt_create\l_state_error" alt="" coords="206,1324,391,1380"/>
<area shape="rect" id="node37" href="structfoedus_1_1assorted_1_1BacktraceContext.html#ac120ec0420755e52f66a5ad3ae6d1478" title="foedus::assorted::Backtrace\lContext::on_libbt_full_error" alt="" coords="206,1405,391,1446"/>
<area shape="rect" id="node38" href="classfoedus_1_1fs_1_1DirectIoFile.html#aaa3c1e50680d02783b61f5fe23f98b14" title="Tries to open the file for the specified volume. " alt="" coords="743,1266,893,1307"/>
<area shape="rect" id="node39" href="classfoedus_1_1FixedErrorStack.html#ab8644e6aea98412c534fac81e88e9203" title="Describe this object to the given stream. " alt="" coords="217,1522,380,1563"/>
<area shape="rect" id="node40" href="classfoedus_1_1ErrorStack.html#a6544918b53ea2f054ac6f6a282b51ee5" title="Describe this object to the given stream. " alt="" coords="233,1587,364,1629"/>
<area shape="rect" id="node41" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="223,1653,374,1694"/>
<area shape="rect" id="node42" href="classfoedus_1_1memory_1_1SharedMemory.html#a20f2fb7b7f86ab5c4134452f1267eeb5" title="Releases the memory block IF this process has an ownership. " alt="" coords="193,1026,404,1067"/>
<area shape="rect" id="node43" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="223,1783,374,1825"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ad6c2ae1c63499d211f31d3165eeea3cf" title="initializes the thread&#39;s policy/priority " alt="" coords="207,1849,391,1890"/>
<area shape="rect" id="node45" href="classfoedus_1_1debugging_1_1DebuggingSupports.html#aebc8dfec471b5d07a7c3c7c52a42f82e" title="Start running a CPU profiler (gperftools/PAPI). " alt="" coords="214,1915,383,1971"/>
<area shape="rect" id="node46" href="classfoedus_1_1fs_1_1DirectIoFile.html#a357db1ed5dbab29245011a2c79d12023" title="Analogues of POSIX fsync(). " alt="" coords="223,1995,374,2037"/>
<area shape="rect" id="node47" href="classfoedus_1_1fs_1_1DirectIoFile.html#ad59b9d5dc37a89ee993565865bb36b01" title="Discard the content of the file after the given offset. " alt="" coords="223,2061,374,2102"/>
<area shape="rect" id="node48" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa079d110c76126386b0d3eefeaf1ae38" title="foedus::memory::PagePool\lPimpl::uninitialize_once" alt="" coords="209,2126,388,2167"/>
<area shape="rect" id="node49" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a998409bf9e2aff10ec8dfb02f17bb956" title="Wait for child SOCs to start up and at least finish attaching shared memory. " alt="" coords="197,1718,400,1759"/>
<area shape="rect" id="node50" href="classfoedus_1_1fs_1_1DirectIoFile.html#abee93267c52644978643dedc44965970" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="223,2243,374,2285"/>
<area shape="rect" id="node3" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#aa42d7f6cd529569e79e4cfc298adb39b" title="Master process creates shared memories by calling this method. " alt="" coords="711,1135,925,1177"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1AlignedMemory.html#a9261010202e2410730e252c03b792fc0" title="Short for alloc(kNumaAllocOnnode) " alt="" coords="973,86,1187,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1cache_1_1CacheHashtable.html#ab50df22f687f1366d13be2f0f950177b" title="foedus::cache::CacheHashtable\l::CacheHashtable" alt="" coords="977,151,1183,193"/>
<area shape="rect" id="node7" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="981,217,1179,258"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="987,282,1173,323"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a197b63dfdbb7d28dab57fdfae379f28b" title="Allocate a memory of the given size on this NUMA node. " alt="" coords="987,348,1173,404"/>
<area shape="rect" id="node11" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#ac587afcb72a4b29b67a56fb49c49b503" title="Redo metadata operation (create/drop storage) since the latest snapshot. " alt="" coords="977,429,1183,470"/>
<area shape="rect" id="node12" href="structfoedus_1_1snapshot_1_1LogGleanerResource.html#a8327c8ba0d722a15f441abc4434bea2b" title="foedus::snapshot::LogGleaner\lResource::allocate" alt="" coords="983,494,1177,535"/>
<area shape="rect" id="node13" href="classfoedus_1_1snapshot_1_1LogMapper.html#a58b8ae141fb701e5d30911e8057d904e" title="foedus::snapshot::LogMapper\l::initialize_once" alt="" coords="983,559,1177,601"/>
<area shape="rect" id="node14" href="classfoedus_1_1snapshot_1_1LogReducer.html#a2f5f2664fee7cafc37ad28a657e37e9c" title="foedus::snapshot::LogReducer\l::initialize_once" alt="" coords="981,625,1179,666"/>
<area shape="rect" id="node15" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1235,717,1461,758"/>
<area shape="rect" id="node16" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="988,741,1172,797"/>
<area shape="rect" id="node17" href="structfoedus_1_1snapshot_1_1SnapshotMetadata.html#ad8bed3780996c99cd78149538dca67ab" title="Reads the content of this object from the given XML element. " alt="" coords="988,822,1172,863"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashComposeContext.html#ad74a8746a4e10c3931ab206db17f0667" title="HashComposeContext methods. " alt="" coords="1000,888,1160,944"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="1001,969,1159,1010"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashTmpBin.html#a44b5b127711bdcde112b8950c0777f01" title="Allocates the memory to use by this object. " alt="" coords="1006,1035,1154,1091"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adb503d118f53a417bf11f9e486bd3cf7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread_follow" alt="" coords="977,1115,1183,1171"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a7e6f699df114e5e49194791ed183f52f" title="foedus::storage::Storage\lManagerPimpl::clone_all\l_storage_metadata" alt="" coords="998,5,1162,61"/>
<area shape="rect" id="node24" href="namespacefoedus_1_1memory.html#ae51e4a90f52316ba9dce8ff783f30d84" title="foedus::memory::alloc\l_mmap_1gb_pages" alt="" coords="482,654,633,695"/>
<area shape="rect" id="node26" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a4b6032d62764c145607306973945bb8c" title="Child processes (emulated or not) set a reference to shared memory and receive the EngnieOption value..." alt="" coords="715,1201,921,1242"/>
<area shape="rect" id="node28" href="classfoedus_1_1fs_1_1DirectIoFile.html#aa1d39b73fb8a72ae3bbf680341801875" title="Automatically closes the file if it is opened. " alt="" coords="482,822,633,863"/>
<area shape="rect" id="node29" href="classfoedus_1_1log_1_1Logger.html#a3c738ffc16ed6cfe54e66bbbd1ccc043" title="foedus::log::Logger\l::uninitialize_once" alt="" coords="491,887,623,929"/>
<area shape="rect" id="node30" href="classfoedus_1_1log_1_1MetaLogger.html#a708d39dc0dfcc07538391f10dc5dc8e5" title="foedus::log::MetaLogger\l::uninitialize_once" alt="" coords="477,953,638,994"/>
<area shape="rect" id="node31" href="classfoedus_1_1snapshot_1_1SnapshotWriter.html#a4944523eeeba60c3b677a8147b1f9e42" title="Close the file and makes sure all writes become durable (including the directory entry). " alt="" coords="465,1018,649,1059"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga925c0ebd9e81ab707232527ae5c6197b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::assorted::os_error </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This version receives errno. </p>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00071">71</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                     {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">if</span> (error_number == 0) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;[No Error]&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  std::stringstream str;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// NOTE(Hideaki) is std::strerror thread-safe? Thre is no std::strerror_r. Windows, mmm.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  str &lt;&lt; <span class="stringliteral">&quot;[Errno &quot;</span> &lt;&lt; error_number &lt;&lt; <span class="stringliteral">&quot;] &quot;</span> &lt;&lt; std::strerror(error_number);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">return</span> str.str();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga354bfce84ebf918859d54ba97b8ddc36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::prefetch_cacheline </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prefetch one cacheline to L1 cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>memory address to prefetch. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cacheline_8hpp_source.html#l00049">49</a> of file <a class="el" href="cacheline_8hpp_source.html">cacheline.hpp</a>.</p>

<p>Referenced by <a class="el" href="merge__sort_8cpp_source.html#l00273">foedus::snapshot::MergeSort::fetch_logs()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00678">foedus::storage::array::ArrayStoragePimpl::get_record_primitive_batch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00794">foedus::storage::array::ArrayStoragePimpl::lookup_for_read_batch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00864">foedus::storage::array::ArrayStoragePimpl::lookup_for_write_batch()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00847">foedus::xct::XctManagerPimpl::precommit_xct_verify_page_version_set()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00828">foedus::xct::XctManagerPimpl::precommit_xct_verify_pointer_set()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00648">foedus::xct::XctManagerPimpl::precommit_xct_verify_readonly()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00731">foedus::xct::XctManagerPimpl::precommit_xct_verify_readwrite()</a>, <a class="el" href="cacheline_8hpp_source.html#l00066">foedus::assorted::prefetch_cachelines()</a>, and <a class="el" href="cacheline_8hpp_source.html#l00079">foedus::assorted::prefetch_l2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                                    {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#if defined(__GNUC__)</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#if defined(__aarch64__)</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  ::__builtin_prefetch(address, 1, 3);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#else  // defined(__aarch64__)</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  ::__builtin_prefetch(address, 1, 3);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">// ::_mm_prefetch(address, ::_MM_HINT_T0);</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#endif  // defined(__aarch64__)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif  // defined(__GNUC__)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga354bfce84ebf918859d54ba97b8ddc36_icgraph.png" border="0" usemap="#group__ASSORTED_ga354bfce84ebf918859d54ba97b8ddc36_icgraph" alt=""/></div>
<map name="group__ASSORTED_ga354bfce84ebf918859d54ba97b8ddc36_icgraph" id="group__ASSORTED_ga354bfce84ebf918859d54ba97b8ddc36_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1MergeSort.html#a209826e2ccf0fa49be37f0a68a0ed077" title="To reduce L1 cache miss stall, we prefetch some number of position entries and the pointed log entrie..." alt="" coords="242,5,431,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="777,50,942,106"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="244,122,429,178"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="244,202,429,258"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ab21414e107b53d6276e1d20bc12dce9d" title="Returns false if there is any page version conflict. " alt="" coords="239,399,434,455"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="497,405,705,447"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="496,335,707,376"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a011f72c9cc830a943b9dccd62d323209" title="Returns false if there is any pointer set conflict. " alt="" coords="225,333,448,375"/>
<area shape="rect" id="node20" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="251,901,423,943"/>
<area shape="rect" id="node48" href="group__ASSORTED.html#ga776c53f69f97c1edfc5d34a0f6cb3100" title="Prefetch multiple contiguous cachelines to L2/L3 cache. " alt="" coords="242,530,431,557"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="1029,50,1204,106"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="510,122,693,178"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="777,130,942,186"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="1029,130,1204,186"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="519,206,684,262"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="772,210,947,266"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="762,405,957,447"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="1019,372,1214,413"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1285,372,1447,413"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="762,339,957,380"/>
<area shape="rect" id="node21" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="498,1113,705,1155"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3260be02451d5017a2301854454dd203" title="prefetch upto keys/separators, whether this page is border or interior. " alt="" coords="515,741,688,797"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a541c911b49454a9baece1d658f51abf5" title="prefetch upto separators. " alt="" coords="509,967,694,1023"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa7f9dfce1b1a92ad89e7163459025b64" title="prefetch upto separators. " alt="" coords="509,821,694,877"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ae9eebf88265f64634f6fa42b7f89f581" title="prefetch upto 256th bytes. " alt="" coords="498,901,705,943"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a874518901eb38e4dc3b7b69afb69e5c0" title="foedus::storage::masstree\l::MasstreeBorderPage::prefetch\l_additional_if_needed" alt="" coords="498,661,705,717"/>
<area shape="rect" id="node44" href="classfoedus_1_1cache_1_1CacheHashtable.html#a090081806f98e5bb1184632b9fce6293" title="foedus::cache::CacheHashtable\l::evict_main_loop" alt="" coords="498,1048,705,1089"/>
<area shape="rect" id="node46" href="classfoedus_1_1cache_1_1CacheHashtable.html#a8e48716623ca44e83cc5ef871c10b131" title="Batched version of find(). " alt="" coords="498,1183,705,1224"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="755,1113,964,1155"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1012,943,1221,984"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1025,1143,1209,1184"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1274,1113,1458,1155"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1269,658,1463,714"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="1279,837,1453,893"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="1511,593,1745,635"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a14fb0ae2a643a45c3f32ab6395285d8d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_next_layer" alt="" coords="755,859,964,929"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="773,778,946,834"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67482433dfc680921b443bdb8a1ea78e" title="Defined in masstree_storage_peek.cpp. " alt="" coords="1012,862,1221,918"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1030,618,1203,674"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="1027,698,1206,754"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="1030,778,1203,834"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a139bb707048331de71c3abe8c0282d7d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer_recurse" alt="" coords="755,953,964,1024"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a6883c1c1e9ef2fb0e6a40d7863f2d85b" title="Navigates a searching key&#45;slice to one of the record in this page. " alt="" coords="755,552,963,593"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ad27289df29e50bc9a55c3f3b53f876af" title="Specialized version for 8 byte native integer search. " alt="" coords="769,618,949,674"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aec72735812ddc62ef4290a6fadfab13c" title="This is for the case we are looking for either the matching slot or the slot we will modify..." alt="" coords="769,698,949,754"/>
<area shape="rect" id="node45" href="classfoedus_1_1cache_1_1CacheHashtable.html#a8e9c6560b489d4709183256c6e6d332a" title="Evict some entries from the hashtable. " alt="" coords="756,1048,963,1089"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="767,1179,951,1235"/>
<area shape="rect" id="node49" href="group__STORAGE.html#ga9a2f9d6e4c010712ecd8987d65e634c3" title="Prefetch a page to L2/L3 cache. " alt="" coords="1034,552,1199,593"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="1272,578,1460,634"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga14adcd2a780f37023df88933f17a5a83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::prefetch_cachelines </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cacheline_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prefetch multiple contiguous cachelines to L1 cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>memory address to prefetch. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cacheline_count</td><td>count of cachelines to prefetch. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cacheline_8hpp_source.html#l00066">66</a> of file <a class="el" href="cacheline_8hpp_source.html">cacheline.hpp</a>.</p>

<p>References <a class="el" href="cacheline_8hpp_source.html#l00049">foedus::assorted::prefetch_cacheline()</a>.</p>

<p>Referenced by <a class="el" href="cache__hashtable_8cpp_source.html#l00212">foedus::cache::CacheHashtable::evict_main_loop()</a>, <a class="el" href="cache__hashtable_8hpp_source.html#l00415">foedus::cache::CacheHashtable::find()</a>, <a class="el" href="cache__hashtable_8cpp_source.html#l00376">foedus::cache::CacheHashtable::find_batch()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00281">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::prefetch()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00305">foedus::storage::masstree::MasstreeIntermediatePage::prefetch()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00934">foedus::storage::masstree::MasstreeBorderPage::prefetch()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00937">foedus::storage::masstree::MasstreeBorderPage::prefetch_additional_if_needed()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00158">foedus::storage::masstree::MasstreePage::prefetch_general()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                                          {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cacheline_count; ++i) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* shifted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(address) + <a class="code" href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">kCachelineSize</a> * cacheline_count;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36">prefetch_cacheline</a>(shifted);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_ga354bfce84ebf918859d54ba97b8ddc36"><div class="ttname"><a href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36">foedus::assorted::prefetch_cacheline</a></div><div class="ttdeci">void prefetch_cacheline(const void *address)</div><div class="ttdoc">Prefetch one cacheline to L1 cache. </div><div class="ttdef"><b>Definition:</b> <a href="cacheline_8hpp_source.html#l00049">cacheline.hpp:49</a></div></div>
<div class="ttc" id="group__ASSORTED_html_gad5ea63b0770685f3aad857fbd6e9096e"><div class="ttname"><a href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">foedus::assorted::kCachelineSize</a></div><div class="ttdeci">const uint16_t kCachelineSize</div><div class="ttdoc">Byte count of one cache line. </div><div class="ttdef"><b>Definition:</b> <a href="cacheline_8hpp_source.html#l00042">cacheline.hpp:42</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_cgraph.png" border="0" usemap="#group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_cgraph" alt=""/></div>
<map name="group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_cgraph" id="group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="225,5,397,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_icgraph.png" border="0" usemap="#group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_icgraph" alt=""/></div>
<map name="group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_icgraph" id="group__ASSORTED_ga14adcd2a780f37023df88933f17a5a83_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1CacheHashtable.html#a090081806f98e5bb1184632b9fce6293" title="foedus::cache::CacheHashtable\l::evict_main_loop" alt="" coords="225,189,432,231"/>
<area shape="rect" id="node6" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="225,332,432,373"/>
<area shape="rect" id="node19" href="classfoedus_1_1cache_1_1CacheHashtable.html#a8e48716623ca44e83cc5ef871c10b131" title="Batched version of find(). " alt="" coords="225,436,432,477"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a541c911b49454a9baece1d658f51abf5" title="prefetch upto separators. " alt="" coords="236,546,421,602"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa7f9dfce1b1a92ad89e7163459025b64" title="prefetch upto separators. " alt="" coords="236,786,421,842"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ae9eebf88265f64634f6fa42b7f89f581" title="prefetch upto 256th bytes. " alt="" coords="225,867,432,908"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a874518901eb38e4dc3b7b69afb69e5c0" title="foedus::storage::masstree\l::MasstreeBorderPage::prefetch\l_additional_if_needed" alt="" coords="225,706,432,762"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3260be02451d5017a2301854454dd203" title="prefetch upto keys/separators, whether this page is border or interior. " alt="" coords="242,626,415,682"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1CacheHashtable.html#a8e9c6560b489d4709183256c6e6d332a" title="Evict some entries from the hashtable. " alt="" coords="481,96,688,137"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a0b5e7574ed3474be65757a9f1d2595fc" title="Evicts pages up to about target_count (maybe a bit more or less). " alt="" coords="737,47,963,88"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="1027,5,1225,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="480,236,689,277"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1021,283,1231,324"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="758,152,942,193"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1034,152,1218,193"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1297,171,1491,227"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="1773,240,1987,281"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1547,233,1725,289"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1303,433,1485,489"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="1307,251,1481,307"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1047,217,1205,259"/>
<area shape="rect" id="node18" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1034,71,1218,127"/>
<area shape="rect" id="node17" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1319,105,1469,147"/>
<area shape="rect" id="node20" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="493,399,677,455"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="770,399,930,455"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="758,319,942,375"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1051,349,1201,405"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a14fb0ae2a643a45c3f32ab6395285d8d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_next_layer" alt="" coords="1021,553,1231,624"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a139bb707048331de71c3abe8c0282d7d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer_recurse" alt="" coords="480,480,689,551"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="498,771,671,827"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67482433dfc680921b443bdb8a1ea78e" title="Defined in masstree_storage_peek.cpp. " alt="" coords="1289,537,1499,593"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#abf137494ad55ab4d60cec25c7c654e99" title="Checks the volatile pages of this storage to give hints to decide page boundary keys. " alt="" coords="1549,537,1723,593"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a96688f523312e356ea1a03adfbfba7b2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer" alt="" coords="745,480,955,551"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="763,1034,937,1090"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="761,823,939,879"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="763,743,937,799"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="758,903,942,959"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1027,1004,1225,1045"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1039,1070,1213,1126"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1039,1150,1213,1206"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1019,792,1233,833"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1011,857,1241,899"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1033,923,1219,979"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a6883c1c1e9ef2fb0e6a40d7863f2d85b" title="Navigates a searching key&#45;slice to one of the record in this page. " alt="" coords="481,1075,689,1116"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ad27289df29e50bc9a55c3f3b53f876af" title="Specialized version for 8 byte native integer search. " alt="" coords="495,851,675,907"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#aec72735812ddc62ef4290a6fadfab13c" title="This is for the case we are looking for either the matching slot or the slot we will modify..." alt="" coords="495,691,675,747"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ab905ff02e9f747f00d44e72ffc16f546" title="foedus::storage::masstree\l::MasstreeBorderPage::track\l_moved_record" alt="" coords="1031,1230,1221,1286"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="755,1193,945,1249"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="763,677,937,719"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga776c53f69f97c1edfc5d34a0f6cb3100"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::prefetch_l2 </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cacheline_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prefetch multiple contiguous cachelines to L2/L3 cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>memory address to prefetch. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cacheline_count</td><td>count of cachelines to prefetch. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cacheline_8hpp_source.html#l00079">79</a> of file <a class="el" href="cacheline_8hpp_source.html">cacheline.hpp</a>.</p>

<p>References <a class="el" href="cacheline_8hpp_source.html#l00049">foedus::assorted::prefetch_cacheline()</a>.</p>

<p>Referenced by <a class="el" href="page__prefetch_8hpp_source.html#l00034">foedus::storage::prefetch_page_l2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                                  {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cacheline_count; ++i) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* shifted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(address) + <a class="code" href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">kCachelineSize</a> * cacheline_count;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36">prefetch_cacheline</a>(shifted);  <span class="comment">// this also works for L2/L3</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_ga354bfce84ebf918859d54ba97b8ddc36"><div class="ttname"><a href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36">foedus::assorted::prefetch_cacheline</a></div><div class="ttdeci">void prefetch_cacheline(const void *address)</div><div class="ttdoc">Prefetch one cacheline to L1 cache. </div><div class="ttdef"><b>Definition:</b> <a href="cacheline_8hpp_source.html#l00049">cacheline.hpp:49</a></div></div>
<div class="ttc" id="group__ASSORTED_html_gad5ea63b0770685f3aad857fbd6e9096e"><div class="ttname"><a href="group__ASSORTED.html#gad5ea63b0770685f3aad857fbd6e9096e">foedus::assorted::kCachelineSize</a></div><div class="ttdeci">const uint16_t kCachelineSize</div><div class="ttdoc">Byte count of one cache line. </div><div class="ttdef"><b>Definition:</b> <a href="cacheline_8hpp_source.html#l00042">cacheline.hpp:42</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_cgraph.png" border="0" usemap="#group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_cgraph" alt=""/></div>
<map name="group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_cgraph" id="group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="243,5,415,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_icgraph.png" border="0" usemap="#group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_icgraph" alt=""/></div>
<map name="group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_icgraph" id="group__ASSORTED_ga776c53f69f97c1edfc5d34a0f6cb3100_icgraph">
<area shape="rect" id="node2" href="group__STORAGE.html#ga9a2f9d6e4c010712ecd8987d65e634c3" title="Prefetch a page to L2/L3 cache. " alt="" coords="243,71,408,112"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="697,33,932,75"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="456,30,649,86"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="987,134,1175,190"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="466,169,639,225"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="980,33,1183,75"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="1231,134,1413,190"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="721,161,909,232"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga84b6709fd74edec91ef16975644ec1d1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::assorted::raw_atomic_compare_exchange_strong </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>desired</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic CAS. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00049">49</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// Use newer builtin instead of __sync_val_compare_and_swap</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  return ::__atomic_compare_exchange_n(</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    target,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    expected,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    desired,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">false</span>,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    __ATOMIC_SEQ_CST,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// T expected_val = *expected;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// T old_val = ::__sync_val_compare_and_swap(target, expected_val, desired);</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// if (old_val == expected_val) {</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">//   return true;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// } else {</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">//   *expected = old_val;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">//   return false;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaab13bfebb1659b963808473e85e5cdbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::assorted::raw_atomic_compare_exchange_strong_uint128 </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>old_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>new_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomic 128-bit CAS, which is not in the standard yet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ptr</td><td>Points to 128-bit data. <b>MUST</b> <b>BE</b> <b>128-bit</b> <b>ALIGNED</b>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">old_value</td><td>Points to 128-bit data. If ptr holds this value, we swap. Unlike std::atomic_compare_exchange_strong, this arg is const. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_value</td><td>Points to 128-bit data. We change the ptr to hold this value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the swap happened</dd></dl>
<p>We shouldn't rely on it too much as double-word CAS is not provided in older CPU. Once the C++ standard employs it, this method should go away. I will be graybeard by then, tho. </p><dl class="section attention"><dt>Attention</dt><dd>You need to give "-mcx16" to GCC to use its builtin 128bit CAS. Otherwise, __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16 is not set and we have to resort to x86 assembly. Check out "gcc -dM -E - &lt; /dev/null". </dd></dl>

<p>Definition at line <a class="el" href="raw__atomics_8cpp_source.html#l00025">25</a> of file <a class="el" href="raw__atomics_8cpp_source.html">raw_atomics.cpp</a>.</p>

<p>Referenced by <a class="el" href="storage__id_8hpp_source.html#l00287">foedus::storage::DualPagePointer::atomic_compare_exchange_strong()</a>, and <a class="el" href="raw__atomics_8hpp_source.html#l00108">foedus::assorted::raw_atomic_compare_exchange_weak_uint128()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                             {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordtype">bool</span> ret;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#if defined(__GNUC__) &amp;&amp; defined(__GCC_HAVE_SYNC_COMPARE_AND_SWAP_16)</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="comment">// gcc-x86 (-mcx16), then simply use __sync_bool_compare_and_swap.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  __uint128_t* ptr_casted = <span class="keyword">reinterpret_cast&lt;</span>__uint128_t*<span class="keyword">&gt;</span>(ptr);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  __uint128_t old_casted = *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>__uint128_t*<span class="keyword">&gt;</span>(old_value);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  __uint128_t new_casted = *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>__uint128_t*<span class="keyword">&gt;</span>(new_value);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  ret = ::__sync_bool_compare_and_swap(ptr_casted, old_casted, new_casted);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#elif defined(__GNUC__) &amp;&amp; defined(__aarch64__)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// gcc-AArch64 doesn&#39;t allow -mcx16. But, it supports __atomic_compare_exchange_16 with</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// libatomic.so. We need to link to it in that case.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  __uint128_t* ptr_casted = <span class="keyword">reinterpret_cast&lt;</span>__uint128_t*<span class="keyword">&gt;</span>(ptr);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  __uint128_t old_casted = *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>__uint128_t*<span class="keyword">&gt;</span>(old_value);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  __uint128_t new_casted = *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>__uint128_t*<span class="keyword">&gt;</span>(new_value);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  ret = ::__atomic_compare_exchange_16(</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    ptr_casted,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    &amp;old_casted,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    new_casted,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">false</span>,              <span class="comment">// strong CAS</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    __ATOMIC_ACQ_REL,   <span class="comment">// to make it atomic, of course acq_rel</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    __ATOMIC_ACQUIRE);  <span class="comment">// matters only when it fails. acquire is enough.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#else  // everything else</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// oh well, then resort to assembly, assuming x86. clang on ARMv8? oh please...</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="comment">// see: linux/arch/x86/include/asm/cmpxchg_64.h</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  uint64_t junk;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;lock; cmpxchg16b %2;setz %1&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    : <span class="stringliteral">&quot;=d&quot;</span>(junk), <span class="stringliteral">&quot;=a&quot;</span>(ret), <span class="stringliteral">&quot;+m&quot;</span> (*ptr)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    : <span class="stringliteral">&quot;b&quot;</span>(new_value[0]), <span class="stringliteral">&quot;c&quot;</span>(new_value[1]), <span class="stringliteral">&quot;a&quot;</span>(old_value[0]), <span class="stringliteral">&quot;d&quot;</span>(old_value[1]));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// Note on roll-our-own non-gcc ARMv8 cas16. It&#39;s doable, but...</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// ARMv8 does have 128bit atomic instructions, called &quot;pair&quot; operations, such as ldaxp and stxp.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// There is actually a library that uses it:</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// https://github.com/ivmai/libatomic_ops/blob/master/src/atomic_ops/sysdeps/gcc/aarch64.h</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// (but this is GPL. Don&#39;t open the URL unless you are ready for it.)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// As of now (May 2014), GCC can&#39;t handle them, nor provide __uint128_t in ARMv8.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// I think it&#39;s coming, however. I&#39;m waiting for it... if it&#39;s not coming, let&#39;s do ourselves.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaab13bfebb1659b963808473e85e5cdbc_icgraph.png" border="0" usemap="#group__ASSORTED_gaab13bfebb1659b963808473e85e5cdbc_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaab13bfebb1659b963808473e85e5cdbc_icgraph" id="group__ASSORTED_gaab13bfebb1659b963808473e85e5cdbc_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1DualPagePointer.html#ac615339ae8acdee267d756623efef9ee" title="128&#45;bit atomic CAS (strong version) for the dual pointer. " alt="" coords="248,5,423,61"/>
<area shape="rect" id="node3" href="group__ASSORTED.html#gaa29be6f5383b719f5288e1aad869459c" title="Weak version of raw_atomic_compare_exchange_strong_uint128(). " alt="" coords="241,85,429,141"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1DualPagePointer.html#a0a9acdca0018846c45c7b7c428b5922b" title="128&#45;bit atomic CAS (weak version) for the dual pointer. " alt="" coords="477,85,652,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4f8a52d1f3c0928428edf257f9c7052b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::assorted::raw_atomic_compare_exchange_weak </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>desired</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Weak version of <a class="el" href="group__ASSORTED.html#ga84b6709fd74edec91ef16975644ec1d1" title="Atomic CAS. ">raw_atomic_compare_exchange_strong()</a>. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00074">74</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                                                                {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  return ::__atomic_compare_exchange_n(</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    target,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    expected,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    desired,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">true</span>,  <span class="comment">// weak</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    __ATOMIC_SEQ_CST,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa29be6f5383b719f5288e1aad869459c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::assorted::raw_atomic_compare_exchange_weak_uint128 </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>old_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>new_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Weak version of <a class="el" href="group__ASSORTED.html#gaab13bfebb1659b963808473e85e5cdbc" title="Atomic 128-bit CAS, which is not in the standard yet. ">raw_atomic_compare_exchange_strong_uint128()</a>. </p>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00108">108</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>

<p>References <a class="el" href="raw__atomics_8cpp_source.html#l00025">foedus::assorted::raw_atomic_compare_exchange_strong_uint128()</a>.</p>

<p>Referenced by <a class="el" href="storage__id_8hpp_source.html#l00295">foedus::storage::DualPagePointer::atomic_compare_exchange_weak()</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                             {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> (ptr[0] != old_value[0] || ptr[1] != old_value[1]) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// this comparison is fast but not atomic, thus &#39;weak&#39;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__ASSORTED.html#gaab13bfebb1659b963808473e85e5cdbc">raw_atomic_compare_exchange_strong_uint128</a>(ptr, old_value, new_value);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_gaab13bfebb1659b963808473e85e5cdbc"><div class="ttname"><a href="group__ASSORTED.html#gaab13bfebb1659b963808473e85e5cdbc">foedus::assorted::raw_atomic_compare_exchange_strong_uint128</a></div><div class="ttdeci">bool raw_atomic_compare_exchange_strong_uint128(uint64_t *ptr, const uint64_t *old_value, const uint64_t *new_value)</div><div class="ttdoc">Atomic 128-bit CAS, which is not in the standard yet. </div><div class="ttdef"><b>Definition:</b> <a href="raw__atomics_8cpp_source.html#l00025">raw_atomics.cpp:25</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_cgraph.png" border="0" usemap="#group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_cgraph" alt=""/></div>
<map name="group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_cgraph" id="group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#gaab13bfebb1659b963808473e85e5cdbc" title="Atomic 128&#45;bit CAS, which is not in the standard yet. " alt="" coords="241,5,429,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_icgraph.png" border="0" usemap="#group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_icgraph" id="group__ASSORTED_gaa29be6f5383b719f5288e1aad869459c_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1DualPagePointer.html#a0a9acdca0018846c45c7b7c428b5922b" title="128&#45;bit atomic CAS (weak version) for the dual pointer. " alt="" coords="241,5,416,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6a88519a192ea0e23a8fbfe6d84de145"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::raw_atomic_exchange </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>desired</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic Swap for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">target</td><td>Points to the data to be swapped. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desired</td><td>This value will be installed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns the old value.</dd></dl>
<p>This is a non-conditional swap, which always succeeds. </p>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00130">130</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                                   {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  return ::__atomic_exchange_n(target, desired, __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// Note: We must NOT use __sync_lock_test_and_set, which is only acquire-barrier for some</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// reason. We instead use GCC/Clang&#39;s __atomic_exchange() builtin.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// return ::__sync_lock_test_and_set(target, desired);</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// see https://gcc.gnu.org/onlinedocs/gcc-4.4.3/gcc/Atomic-Builtins.html</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// and https://bugzilla.mozilla.org/show_bug.cgi?id=873799</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// BTW, __atomic_exchange_n/__ATOMIC_SEQ_CST demands a C++11-capable version of gcc/clang,</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// but FOEDUS anyway relies on C++11. It just allows the linked program to be</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// compiled without std=c++11. So, nothing lost.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8d065800fe3e68f5cc04166bc7719aa3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::raw_atomic_fetch_add </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>addendum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic fetch-add for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value. </dd></dl>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00150">150</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                                     {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  return ::__atomic_fetch_add(target, addendum, __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// Just to align with above, use __atomic_fetch_add rather than __sync_fetch_and_add.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// It&#39;s equivalent.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// return ::__sync_fetch_and_add(target, addendum);</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3c05a1f0b3dde1e2a5c6b32f4b2347c1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::raw_atomic_fetch_and_bitwise_and </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>operand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic fetch-bitwise-and for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value. </dd></dl>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00164">164</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                                                {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  return ::__atomic_fetch_and(target, operand, __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7cb7754373fe671383d29e357a1f80c5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::raw_atomic_fetch_and_bitwise_or </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>operand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic fetch-bitwise-or for raw primitive types rather than std::atomic&lt;T&gt;. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value. </dd></dl>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00174">174</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                               {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  return ::__atomic_fetch_or(target, operand, __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7b72bfcc7585e8a53bd0a6a90e9ac959"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::raw_atomic_fetch_and_bitwise_xor </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>operand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomic fetch-bitwise-xor for raw primitive types rather than std::atomic&lt;T&gt; </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>integer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value. </dd></dl>

<p>Definition at line <a class="el" href="raw__atomics_8hpp_source.html#l00184">184</a> of file <a class="el" href="raw__atomics_8hpp_source.html">raw_atomics.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                                {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  return ::__atomic_fetch_xor(target, operand, __ATOMIC_SEQ_CST);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae010e22487f9aac20388a3d6d7d5b01e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T foedus::assorted::read_bigendian </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>be_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a big-endian byte array to a native integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">be_bytes</td><td>a big-endian byte array. MUST BE ALIGNED. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>converted native integer </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>type of native integer</td></tr>
  </table>
  </dd>
</dl>
<p>Almost same as bexxtoh in endian.h except this is a single template function that supports signed integers. </p>

<p>Definition at line <a class="el" href="endianness_8hpp_source.html#l00116">116</a> of file <a class="el" href="endianness_8hpp_source.html">endianness.hpp</a>.</p>

<p>References <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>, and <a class="el" href="namespacefoedus_1_1assorted.html#a27a8dbb30930880d0b183a2c62486f17">foedus::assorted::betoh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                              {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// all if clauses below will be elimiated by compiler.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keyword">const</span> T* be_address = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>T*<span class="keyword">&gt;</span>(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(be_bytes, <span class="keyword">sizeof</span>(T)));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  T be_value = *be_address;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus_1_1assorted.html#a27a8dbb30930880d0b183a2c62486f17">betoh</a>(be_value);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
<div class="ttc" id="namespacefoedus_1_1assorted_html_a27a8dbb30930880d0b183a2c62486f17"><div class="ttname"><a href="namespacefoedus_1_1assorted.html#a27a8dbb30930880d0b183a2c62486f17">foedus::assorted::betoh</a></div><div class="ttdeci">T betoh(T be_value)</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gae010e22487f9aac20388a3d6d7d5b01e_cgraph.png" border="0" usemap="#group__ASSORTED_gae010e22487f9aac20388a3d6d7d5b01e_cgraph" alt=""/></div>
<map name="group__ASSORTED_gae010e22487f9aac20388a3d6d7d5b01e_cgraph" id="group__ASSORTED_gae010e22487f9aac20388a3d6d7d5b01e_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1assorted.html#a27a8dbb30930880d0b183a2c62486f17" title="foedus::assorted::betoh" alt="" coords="204,13,363,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa64b5d5356e69e9d0efa80590617c795"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::assorted::replace_all </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>replacement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>target.replaceAll(search, replacement). </p>
<p>Sad that std C++ doesn't provide such a basic stuff. regex is an overkill for this purpose. </p>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00045">45</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>Referenced by <a class="el" href="log__options_8cpp_source.html#l00036">foedus::log::LogOptions::convert_folder_path_pattern()</a>, <a class="el" href="snapshot__options_8cpp_source.html#l00040">foedus::snapshot::SnapshotOptions::convert_folder_path_pattern()</a>, <a class="el" href="proc__options_8cpp_source.html#l00039">foedus::proc::ProcOptions::convert_shared_library_dir_pattern()</a>, <a class="el" href="proc__options_8cpp_source.html#l00035">foedus::proc::ProcOptions::convert_shared_library_path_pattern()</a>, <a class="el" href="soc__options_8cpp_source.html#l00036">foedus::soc::SocOptions::convert_spawn_executable_pattern()</a>, <a class="el" href="soc__options_8cpp_source.html#l00044">foedus::soc::SocOptions::convert_spawn_ld_library_path_pattern()</a>, and <a class="el" href="assorted__func_8cpp_source.html#l00059">foedus::assorted::replace_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                             {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  std::string subject = target;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    std::size_t pos = subject.find(search);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (pos != std::string::npos) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      subject.replace(pos, search.size(), replacement);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">return</span> subject;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaa64b5d5356e69e9d0efa80590617c795_icgraph.png" border="0" usemap="#group__ASSORTED_gaa64b5d5356e69e9d0efa80590617c795_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaa64b5d5356e69e9d0efa80590617c795_icgraph" id="group__ASSORTED_gaa64b5d5356e69e9d0efa80590617c795_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1LogOptions.html#aad38e1d1b3d55acc3f4f4702f9848dbc" title="converts folder_path_pattern_ into a string with the given IDs. " alt="" coords="256,89,415,145"/>
<area shape="rect" id="node12" href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#aa2874f5cd398cc0907d0a5bee822d1c3" title="converts folder_path_pattern_ into a string with the given node. " alt="" coords="243,194,427,250"/>
<area shape="rect" id="node16" href="structfoedus_1_1proc_1_1ProcOptions.html#ae0c3e7b0aac803b1873bd6fff151f845" title="converts shared_library_dir_pattern_ into a string with the given node ID. " alt="" coords="249,274,422,330"/>
<area shape="rect" id="node17" href="structfoedus_1_1proc_1_1ProcOptions.html#a0b38b436968e15e08355086ee72d4bb8" title="converts shared_library_path_pattern_ into a string with the given node ID. " alt="" coords="249,354,422,410"/>
<area shape="rect" id="node18" href="structfoedus_1_1soc_1_1SocOptions.html#a5c473c8d3058b067409973db5615dcb5" title="converts spawn_executable_pattern_ into a string with the given node ID. " alt="" coords="243,434,428,490"/>
<area shape="rect" id="node22" href="structfoedus_1_1soc_1_1SocOptions.html#abac1f48a35cf755dc5ebbbae86f1bc02" title="converts spawn_ld_library_path_pattern_ into a string with the given node ID. " alt="" coords="248,514,423,570"/>
<area shape="rect" id="node23" href="group__ASSORTED.html#gab1afe4b27fefca2c6a255702f9d636b7" title="target.replaceAll(search, String.valueOf(replacement)). " alt="" coords="241,594,429,621"/>
<area shape="rect" id="node3" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a8b2cfe458668cc3f8cf4ccbfeab179dc" title="foedus::log::LogManagerPimpl\l::initialize_once" alt="" coords="485,5,683,47"/>
<area shape="rect" id="node4" href="structfoedus_1_1log_1_1LogOptions.html#ad583679a01a8e4cc2ae87306efb73216" title="construct full path of individual log file (log_folder/LOGGERID_ORDINAL.log) " alt="" coords="489,71,679,112"/>
<area shape="rect" id="node7" href="structfoedus_1_1log_1_1LogOptions.html#aaeb02caac0ab0347617d2f45b29af968" title="metadata log file is placed in node&#45;0/logger&#45;0 folder " alt="" coords="496,136,672,177"/>
<area shape="rect" id="node5" href="classfoedus_1_1log_1_1Logger.html#a3b1d647f1458d1172a511b7e57a2a237" title="foedus::log::Logger\l::initialize_once" alt="" coords="775,5,907,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1LogMapper.html#a661014d4832400f072544ff4b7e74a45" title="Implements the specific logics in derived class. " alt="" coords="745,71,938,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1log_1_1MetaLogger.html#a5a3484d094947ced0a08a5e162f08a88" title="foedus::log::MetaLogger\l::initialize_once" alt="" coords="761,136,922,177"/>
<area shape="rect" id="node9" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#ac587afcb72a4b29b67a56fb49c49b503" title="Redo metadata operation (create/drop storage) since the latest snapshot. " alt="" coords="739,201,944,243"/>
<area shape="rect" id="node10" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1016,201,1171,243"/>
<area shape="rect" id="node11" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1243,201,1437,243"/>
<area shape="rect" id="node13" href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#a33c26d4ec5f1ea63447bf6075f527440" title="Returns the path of first node, which is also used as the primary place to write out global files..." alt="" coords="477,201,691,243"/>
<area shape="rect" id="node14" href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#aea13c9b06029b240ee72b40a450cacf8" title="&#39;folder_path&#39;/snapshot_&#39;snapshot&#45;id&#39;node&#39;node&#45;id&#39;.data. " alt="" coords="489,267,679,323"/>
<area shape="rect" id="node15" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a4f9a776fa92af14a054f1dedea7d8ae2" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="748,275,935,316"/>
<area shape="rect" id="node19" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a4a9091baae2ba21b2cb888da8d391818" title="Launch children via spawn. " alt="" coords="483,481,685,523"/>
<area shape="rect" id="node20" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a3dd3a524e5fbb0b8f9cb52dd21689d0a" title="Called as part of initialize_once() if this is a master engine. " alt="" coords="740,481,943,523"/>
<area shape="rect" id="node21" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#aa14e68e8b8e3902f2b139b6388e712d8" title="foedus::soc::SocManagerPimpl\l::initialize_once" alt="" coords="992,481,1195,523"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab1afe4b27fefca2c6a255702f9d636b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::assorted::replace_all </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replacement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>target.replaceAll(search, String.valueOf(replacement)). </p>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00059">59</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>References <a class="el" href="assorted__func_8cpp_source.html#l00045">foedus::assorted::replace_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  std::stringstream str;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  str &lt;&lt; replacement;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  std::string rep = str.str();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ASSORTED.html#gaa64b5d5356e69e9d0efa80590617c795">replace_all</a>(target, search, rep);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_gaa64b5d5356e69e9d0efa80590617c795"><div class="ttname"><a href="group__ASSORTED.html#gaa64b5d5356e69e9d0efa80590617c795">foedus::assorted::replace_all</a></div><div class="ttdeci">std::string replace_all(const std::string &amp;target, const std::string &amp;search, const std::string &amp;replacement)</div><div class="ttdoc">target.replaceAll(search, replacement). </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8cpp_source.html#l00045">assorted_func.cpp:45</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gab1afe4b27fefca2c6a255702f9d636b7_cgraph.png" border="0" usemap="#group__ASSORTED_gab1afe4b27fefca2c6a255702f9d636b7_cgraph" alt=""/></div>
<map name="group__ASSORTED_gab1afe4b27fefca2c6a255702f9d636b7_cgraph" id="group__ASSORTED_gab1afe4b27fefca2c6a255702f9d636b7_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#gaa64b5d5356e69e9d0efa80590617c795" title="target.replaceAll(search, replacement). " alt="" coords="241,5,429,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa05e01910d3ea9909f1a64afd62729fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::spinlock_yield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. </p>
<p>Invoke this where you do a spinlock. It especially helps valgrind. Probably you should invoke this after a few spins. </p><dl class="section see"><dt>See also</dt><dd><a href="http://stackoverflow.com/questions/7371869/minimum-time-a-thread-can-pause-in-linux">http://stackoverflow.com/questions/7371869/minimum-time-a-thread-can-pause-in-linux</a> "NOP instruction can be between 0.4-0.5 clocks and PAUSE instruction can consume 38-40 clocks." </dd>
<dd>
<a class="el" href="group__ASSORTED.html#gae932f87b60cbd230347151ccf33eed86" title="A macro to busy-wait (spinlock) with occasional pause. ">SPINLOCK_WHILE(x)</a> </dd></dl>

<p>Definition at line <a class="el" href="assorted__func_8cpp_source.html#l00193">193</a> of file <a class="el" href="assorted__func_8cpp_source.html">assorted_func.cpp</a>.</p>

<p>Referenced by <a class="el" href="shared__cond_8cpp_source.html#l00123">foedus::soc::SharedCond::broadcast()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00163">foedus::thread::ThreadPimpl::handle_tasks()</a>, <a class="el" href="condition__variable__impl_8hpp_source.html#l00153">foedus::thread::ConditionVariable::notify_all()</a>, <a class="el" href="spin__until__impl_8hpp_source.html#l00061">foedus::assorted::spin_until()</a>, <a class="el" href="shared__cond_8cpp_source.html#l00050">foedus::soc::SharedCond::uninitialize()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00152">foedus::soc::SocManagerPimpl::wait_for_child_attach()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00228">foedus::soc::SocManagerPimpl::wait_for_child_terminate()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00360">foedus::soc::SocManagerPimpl::wait_for_children_module()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00327">foedus::soc::SocManagerPimpl::wait_for_master_module()</a>, <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00286">foedus::soc::SocManagerPimpl::wait_for_master_status()</a>, <a class="el" href="assorted__func_8cpp_source.html#l00206">foedus::assorted::SpinlockStat::yield_backoff()</a>, <a class="el" href="spin__until__impl_8hpp_source.html#l00081">foedus::assorted::yield_if_valgrind()</a>, and <a class="el" href="condition__variable__impl_8hpp_source.html#l00059">foedus::thread::ConditionVariable::~ConditionVariable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                      {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// we initially used gcc&#39;s mm_pause and manual assembly, but now we use this to handle AArch64.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// It might be no-op (not guaranteed to yield, according to the C++ specifictation)</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// depending on GCC&#39;s implementation, but portability is more important.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  std::this_thread::yield();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// #if defined(__GNUC__)</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">//   ::_mm_pause();</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// #else  // defined(__GNUC__)</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">//   // Non-gcc compiler.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">//   asm volatile(&quot;pause&quot; ::: &quot;memory&quot;);</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// #endif  // defined(__GNUC__)</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ASSORTED_gaa05e01910d3ea9909f1a64afd62729fb_icgraph.png" border="0" usemap="#group__ASSORTED_gaa05e01910d3ea9909f1a64afd62729fb_icgraph" alt=""/></div>
<map name="group__ASSORTED_gaa05e01910d3ea9909f1a64afd62729fb_icgraph" id="group__ASSORTED_gaa05e01910d3ea9909f1a64afd62729fb_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SharedCond.html#a58ecf444b8c8d8fa1f5c54b8c2e9f0bd" title="Unblock all waiters. " alt="" coords="245,215,413,256"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a73a9dfcab4771b1a5c6362406b27faeb" title="Main routine of the worker thread. " alt="" coords="237,280,421,321"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1ConditionVariable.html#aa73e961ef835f2d9e487b3ff84421b7d" title="Notify all waiters that the event has happened. " alt="" coords="246,345,413,387"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1assorted.html#aba5893ad8aab7d6aafff7be7f92e1372" title="Spin locally until the given condition returns true. " alt="" coords="254,476,405,517"/>
<area shape="rect" id="node22" href="classfoedus_1_1soc_1_1SharedCond.html#adbfaf38799c428f0cc8e7bb87a75bbf0" title="foedus::soc::SharedCond\l::uninitialize" alt="" coords="245,635,413,676"/>
<area shape="rect" id="node26" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a998409bf9e2aff10ec8dfb02f17bb956" title="Wait for child SOCs to start up and at least finish attaching shared memory. " alt="" coords="737,883,940,924"/>
<area shape="rect" id="node32" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#afa01a52797a06b55092eeb900a7f62ef" title="Wait for child SOCs to terminate. " alt="" coords="228,869,431,911"/>
<area shape="rect" id="node34" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ab34e312e55cd449909c9096b45c200fe" title="foedus::soc::SocManagerPimpl\l::wait_for_children_module" alt="" coords="228,1000,431,1041"/>
<area shape="rect" id="node39" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a1e8d5c98af1d33d7a77a05503eedc7be" title="foedus::soc::SocManagerPimpl\l::wait_for_master_module" alt="" coords="228,935,431,976"/>
<area shape="rect" id="node41" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a8ce63382de1e198ee20353505efef67a" title="Wait for master engine to finish upto the specified status. " alt="" coords="228,727,431,768"/>
<area shape="rect" id="node48" href="structfoedus_1_1assorted_1_1SpinlockStat.html#ada983d4699b63992edd5dc4439d25a3e" title="foedus::assorted::Spinlock\lStat::yield_backoff" alt="" coords="241,1065,417,1107"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1assorted.html#aaa2abb5fc63f49092a98f2acb3b7083b" title="Use this in your while as a stop&#45;gap before switching to spin_until(). " alt="" coords="253,411,406,452"/>
<area shape="rect" id="node50" href="classfoedus_1_1thread_1_1ConditionVariable.html#a6eb03da5191ffec368719457eba78213" title="foedus::thread::Condition\lVariable::~ConditionVariable" alt="" coords="237,1131,421,1172"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a741208e803d0a0bb5f979ebb099d2a8d" title="foedus::thread::ThreadPimpl\l::initialize_once" alt="" coords="488,219,672,260"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Rendezvous.html#af7e23e2d55331fd410d253c8645cbe68" title="Notify all waiters that the event has happened. " alt="" coords="489,284,671,325"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1McsRwSimpleBlock.html#ae9b048fb68813b17ed9da1e872c5b941" title="MCS block classes. " alt="" coords="491,349,669,391"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1McsRwExtendedBlock.html#aeace6e87cba5c5f3863de14f365ba950" title="foedus::xct::McsRwExtended\lBlock::timeout_granted" alt="" coords="484,415,676,456"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1xct.html#ad815773827f1856f8fd25a9d4b41d490" title="foedus::xct::spin_until" alt="" coords="505,481,655,507"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1McsWwImpl.html#ab45630bd77311e8604ca265ffcbc4edd" title="[WW] Unconditionally takes exclusive&#45;only MCS lock on the given lock. " alt="" coords="756,5,921,47"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1McsWwImpl.html#a23095f2685916d313450e79bdb27b872" title="[WW] Unlcok an MCS lock acquired by this thread. " alt="" coords="756,71,921,112"/>
<area shape="rect" id="node14" href="classfoedus_1_1xct_1_1McsWwOwnerlessImpl.html#a1ccdb01d5d5921f397b5e6e138e4435c" title="[WW&#45;Guest] Unconditionally takes exclusive&#45;only guest lock on the given MCSg lock. " alt="" coords="737,137,940,193"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1McsWwOwnerlessImpl.html#a401267b664485526790472daafedb231" title="foedus::xct::McsWwOwnerless\lImpl::ownerless_release" alt="" coords="737,217,940,259"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#ac713a116ff5be76bf0c654c1c3a59c18" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::acquire_unconditional\l_rw_reader" alt="" coords="729,283,948,353"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#a9286b4d7d998f425b6ee284a7416f05f" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::release_rw_reader" alt="" coords="729,378,948,434"/>
<area shape="rect" id="node20" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#af28ba663c64241396718beb6dfd21a4e" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::acquire_unconditional\l_rw_writer" alt="" coords="729,459,948,529"/>
<area shape="rect" id="node21" href="classfoedus_1_1xct_1_1McsImpl_3_01ADAPTOR_00_01McsRwSimpleBlock_01_4.html#a738f4d3121fd8d9ceea494d46b3611ab" title="foedus::xct::McsImpl\l\&lt; ADAPTOR, McsRwSimpleBlock\l \&gt;::release_rw_writer" alt="" coords="729,554,948,610"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1SysxctLockList.html#a8f37f1ac6ee205126ce76fe7ae2f5d52" title="Releases all locks that were acquired. " alt="" coords="1005,71,1189,112"/>
<area shape="rect" id="node15" href="structfoedus_1_1xct_1_1McsWwLock.html#adb1f6d8968c71a9ce91c7a3c812cb43c" title="foedus::xct::McsWwLock\l::ownerless_acquire_lock" alt="" coords="1013,144,1182,185"/>
<area shape="rect" id="node17" href="structfoedus_1_1xct_1_1McsWwLock.html#a5d7d7206c9ffc1261829346148361414" title="foedus::xct::McsWwLock\l::ownerless_release_lock" alt="" coords="1013,217,1182,259"/>
<area shape="rect" id="node23" href="classfoedus_1_1soc_1_1SharedCond.html#af7808d6aa1788a065b2fdcddaf0066c1" title="foedus::soc::SharedCond\l::~SharedCond" alt="" coords="496,635,664,676"/>
<area shape="rect" id="node24" href="classfoedus_1_1soc_1_1SharedCond.html#ae60eabb533a28bd7df0a4041265039fe" title="foedus::soc::SharedCond\l::initialize" alt="" coords="496,569,664,611"/>
<area shape="rect" id="node25" href="classfoedus_1_1soc_1_1SharedCond.html#a0b1dc0ae93a15baaea98024d563931f4" title="foedus::soc::SharedCond\l::SharedCond" alt="" coords="755,635,923,676"/>
<area shape="rect" id="node27" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a77d275f92471e6ac9e0c4bb4c609665f" title="Launch emulated children as threads. " alt="" coords="996,752,1199,793"/>
<area shape="rect" id="node30" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ad9ef70c0b175a6535731e2cf0c2370f1" title="Launch children via fork. " alt="" coords="996,817,1199,859"/>
<area shape="rect" id="node31" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a4a9091baae2ba21b2cb888da8d391818" title="Launch children via spawn. " alt="" coords="996,883,1199,924"/>
<area shape="rect" id="node28" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a3dd3a524e5fbb0b8f9cb52dd21689d0a" title="Called as part of initialize_once() if this is a master engine. " alt="" coords="1247,803,1449,844"/>
<area shape="rect" id="node29" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#aa14e68e8b8e3902f2b139b6388e712d8" title="foedus::soc::SocManagerPimpl\l::initialize_once" alt="" coords="1497,756,1700,797"/>
<area shape="rect" id="node33" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a1d435277bd229b7988c3f249c0a0730f" title="foedus::soc::SocManagerPimpl\l::uninitialize_once" alt="" coords="479,869,681,911"/>
<area shape="rect" id="node35" href="classfoedus_1_1soc_1_1SocManager.html#a7a9cd36f9f5daf08d2424026f611dc11" title="Wait for other engines to finish init/uninit the module. " alt="" coords="493,1047,667,1088"/>
<area shape="rect" id="node36" href="classfoedus_1_1EnginePimpl.html#a1e2a6a45cbf165080b584269b2bbc5aa" title="foedus::EnginePimpl\l::initialize_modules" alt="" coords="768,1079,909,1120"/>
<area shape="rect" id="node38" href="classfoedus_1_1EnginePimpl.html#a483875a16cf2f469b8b751c9f6e2d673" title="foedus::EnginePimpl\l::uninitialize_once" alt="" coords="768,1013,909,1055"/>
<area shape="rect" id="node37" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="1027,1079,1168,1120"/>
<area shape="rect" id="node40" href="classfoedus_1_1soc_1_1SocManager.html#a73369a529df5147ddacd8d749ae2e002" title="Wait for master engine to finish init/uninit the module. " alt="" coords="495,981,665,1023"/>
<area shape="rect" id="node42" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a1d09b3bd25667fccd9bb831303788401" title="Called as part of initialize_once() if this is a child SOC engine. " alt="" coords="1247,708,1449,749"/>
<area shape="rect" id="node43" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#adfd1a1b588c61f7b8efaf8e0e9fd5f8f" title="foedus::soc::SocManagerPimpl\l::child_main_common" alt="" coords="479,752,681,793"/>
<area shape="rect" id="node44" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a2b7bbec9fe5f7713ae184361dcd658f8" title="Main routine of emulated SOCs. " alt="" coords="737,752,940,793"/>
<area shape="rect" id="node45" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a15ec97d18049b472d172cb50c25e489b" title="Main routine of forked SOCs. " alt="" coords="737,817,940,859"/>
<area shape="rect" id="node46" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a328e5ee7367152a0033bcc5843867eb1" title="Main routine of spawned SOCs. " alt="" coords="737,948,940,989"/>
<area shape="rect" id="node47" href="classfoedus_1_1soc_1_1SocManager.html#a8b8ea1146fa76120be0fcb5ace838d0f" title="This version also receives user&#45;defined procedures to be registered in this SOC. " alt="" coords="1011,948,1184,989"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5a441903acd503bf5425107cf7b0c3c2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;uint64_t SIZE1, uint64_t SIZE2&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int foedus::assorted::static_size_check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Alternative for static_assert(sizeof(foo) == sizeof(bar), "oh crap") to display sizeof(foo). </p>
<p>Use it like this: </p><div class="fragment"><div class="line"><a class="code" href="assorted__func_8hpp.html#a89bbe410ea9cf2e51d59f618158562cb">STATIC_SIZE_CHECK</a>(<span class="keyword">sizeof</span>(foo), <span class="keyword">sizeof</span>(bar))</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="assorted__func_8hpp_source.html#l00195">195</a> of file <a class="el" href="assorted__func_8hpp_source.html">assorted_func.hpp</a>.</p>

<p>References <a class="el" href="cxx11_8hpp_source.html#l00135">CXX11_STATIC_ASSERT</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                               {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="group__CXX11.html#ga81dced8151aba09246e64f7f8e1ec9e4">CXX11_STATIC_ASSERT</a>(SIZE1 == SIZE2,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="stringliteral">&quot;Static Size Check failed. Look for a message like this to see the value of Size1 and &quot;</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="stringliteral">&quot;Size2: &#39;In instantiation of int foedus::assorted::static_size_check() [with long unsigned&quot;</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="stringliteral">&quot; int SIZE1 = &lt;size1&gt;ul; long unsigned int SIZE2 = &lt;size2&gt;ul]&#39;&quot;</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="ttc" id="group__CXX11_html_ga81dced8151aba09246e64f7f8e1ec9e4"><div class="ttname"><a href="group__CXX11.html#ga81dced8151aba09246e64f7f8e1ec9e4">CXX11_STATIC_ASSERT</a></div><div class="ttdeci">#define CXX11_STATIC_ASSERT(expr, message)</div><div class="ttdoc">Used in public headers in place of "static_assert" of C++11. </div><div class="ttdef"><b>Definition:</b> <a href="cxx11_8hpp_source.html#l00135">cxx11.hpp:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga32a4c0b5f1efbfa83295bd3ee38ac72c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::assorted::write_bigendian </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>host_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>be_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a native integer to big-endian bytes and write them to the given address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host_value</td><td>a native integer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">be_bytes</td><td>address to write out big endian bytes. MUST BE ALIGNED. </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>type of native integer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="endianness_8hpp_source.html#l00131">131</a> of file <a class="el" href="endianness_8hpp_source.html">endianness.hpp</a>.</p>

<p>References <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                                          {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  T* be_address = <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(be_bytes, <span class="keyword">sizeof</span>(T)));</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  *be_address = htobe&lt;T&gt;(host_value);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gad5ea63b0770685f3aad857fbd6e9096e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::assorted::kCachelineSize = 64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Byte count of one cache line. </p>
<p>Several places use this to avoid false sharing of cache lines, for example separating two variables that are frequently accessed with atomic requirements. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>This should be automatically detected by cmakedefine. </dd></dl>

<p>Definition at line <a class="el" href="cacheline_8hpp_source.html#l00042">42</a> of file <a class="el" href="cacheline_8hpp_source.html">cacheline.hpp</a>.</p>

<p>Referenced by <a class="el" href="cache__hashtable_8cpp_source.html#l00212">foedus::cache::CacheHashtable::evict_main_loop()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00937">foedus::storage::masstree::MasstreeBorderPage::prefetch_additional_if_needed()</a>, and <a class="el" href="page__prefetch_8hpp_source.html#l00034">foedus::storage::prefetch_page_l2()</a>.</p>

</div>
</div>
<a class="anchor" id="ga00ca79392da6750e8f5f25d7bb7c9940"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool foedus::assorted::kIsLittleEndian = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A handy const boolean to tell if it's little endina. </p>
<p>Most compilers would resolve "if (kIsLittleEndian) ..." at compile time, so no overhead. Compared to writing ifdef each time, this is handier. However, there are a few cases where we have to write ifdef (class definition etc). </p>

<p>Definition at line <a class="el" href="endianness_8hpp_source.html#l00054">54</a> of file <a class="el" href="endianness_8hpp_source.html">endianness.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
