<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::masstree Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacefoedus_1_1storage_1_1masstree.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::masstree Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Masstree</b> <a class="el" href="classfoedus_1_1storage_1_1Storage.html" title="Represents one key-value store. ">Storage</a>, 64-bit B-tries with internal B-trees.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b>Masstree</b> <a class="el" href="classfoedus_1_1storage_1_1Storage.html" title="Represents one key-value store. ">Storage</a>, 64-bit B-tries with internal B-trees. </p>
<p>Although the package name says masstree [YANDONG12], we call our implementation <em>Master-Tree</em>. There are a few differences from the original Masstree.</p>
<h1><a class="anchor" id="MASS_FOSTER_TWIN"></a>
Foster-Twin</h1>
<p>See our paper (lame, yes).</p>
<h1><a class="anchor" id="MASS_TERM_REMAINDER"></a>
Remainder vs Remaining Key</h1>
<p>Througout our code, we always use the word <b>remainder</b> rather than <b>remaining-key</b>. In [YANDONG12] and [TU13], the word <em>remaining-key</em> meant the leftover of the entire key after removing the common prefixes in previous B-trie layers. For example, key "abcd" has remaining key "abcd" in layer-0. key "abcd12345678" has remaining keys "abcd12345678" in layer-0 and "5678" in layer-1. When the <em>length</em> of remaining-key is more than 8-bytes, the page also stores <em>suffix</em>, which is the key part after the slice in the layer. For example, "abcd12345678" stores "5678" as suffix in layer-0 while no suffix in layer-1.</p>
<p>Up to here, there is no difference between <em>remainder</em> and <em>remaining-key</em>. Actually, in most cases they are exactly the same.</p>
<p>They differ only when a record points to next layer. In the original papers/codes, the length of remaining-key is set to be 255 when the record now points to next layer, and they also overwrite the area to store suffix with next-page pointer.</p>
<p>In Master-Tree, we always keep the remainder even when now it points to the next layer. This simplifies many concurrency control issues, especially our foster-twin tracking algorithm. Therefore, we never change the length of remainder. It's an immutable property of the record. Instead, we have an additional mutable boolean flag "next_layer" <b>in</b> <b>TID</b>. Whether the next_layer flag is ON or OFF, all threads are safe to access the remainder. The commit protocol checks the flag and aborts if it's unexpectedly ON.</p>
<p>This is just a subtle difference, but allthemore subtle, it's confusing! Hence, we use a different word, <em>remainder</em>. Below we summarize the differences:</p>
<table class="doxtable">
<tr>
<th>.</th><th>Remaining Key (Mass-Tree)</th><th>Remainder (Master-Tree) </th></tr>
<tr>
<td>Length </td><td>Full key length - layer*8 if not next-layer, 255 if it's now next-layer. </td><td>Full key length - layer*8 always. Keeps the original remainder length.  </td></tr>
<tr>
<td>Suffix stored at </td><td>The beginning of data region if not next-layer, overwritten if it's now next-layer. </td><td>The beginning of data region always. Keeps the original remainder.  </td></tr>
<tr>
<td>Length 0xFFFF means </td><td>The record is now next-layer, so the record has no suffix-region. <b>HOWEVER</b>, concurrent threads must be careful because it was not 0xFFFF before. </td><td>The record was initially next-layer as of creation, so the record has no suffix-region. Such a record is never moved. A record that later turned to be next-layer doesn't use this value.   </td></tr>
</table>
<h1><a class="anchor" id="MASS_REF"></a>
References</h1>
<ul>
<li>[YANDONG12] Yandong Mao, Eddie Kohler, and Robert Tappan Morris. "Cache craftiness for fast multicore key-value storage.", EuroSys, 2012.</li>
</ul>
<ul>
<li>[TU13] Stephen Tu, Wenting Zheng, Eddie Kohler, Barbara Liskov, and Samuel Madden. "Speedy transactions in multicore in-memory databases.", SOSP, 2013. </li>
</ul>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html">Adopt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to adopt foster twins into an intermediate page.  <a href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html">GrowFirstLayerRoot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to grow a first-layer root.  <a href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html">GrowNonFirstLayerRoot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to grow a second- or depper-layer root.  <a href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1HighFence.html">HighFence</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used only for debugging as this is not space efficient.  <a href="structfoedus_1_1storage_1_1masstree_1_1HighFence.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">MasstreeBorderPage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one border page in <a class="el" href="group__MASSTREE.html">Masstree Storage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class for MasstreeInsertLogType/MasstreeDeleteLogType/MasstreeOverwriteLogType.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext.html">MasstreeComposeContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html" title="Composer for an masstree storage. ">MasstreeComposer</a>'s compose() implementation separated from the class itself.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html">MasstreeComposer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1Composer.html" title="Represents a logic to compose a new version of data pages for one storage. ">Composer</a> for an masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCreateLogType.html">MasstreeCreateLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of CREATE MASSTREE STORAGE operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCreateLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html">MasstreeCursor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a cursor object for Masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html">MasstreeDeleteLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's delete operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html">MasstreeInsertLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's insert operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one intermediate page in <a class="el" href="group__MASSTREE.html">Masstree Storage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html">MasstreeIntermediatePointerIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handy iterator for MasstreeIntermediate.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadata.html">MasstreeMetadata</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> of a masstree storage.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadata.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadataSerializer.html">MasstreeMetadataSerializer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html">MasstreeOverwriteLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's overwrite operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common base of <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html" title="Represents one intermediate page in Masstree Storage. ">MasstreeIntermediatePage</a> and <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html">MasstreePartitioner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1Partitioner.html" title="Partitioning and sorting logic for one storage. ">Partitioner</a> for a masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreePartitionerData.html">MasstreePartitionerData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamic information of one partitioner.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreePartitionerData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">MasstreeStorage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a Masstree storage.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeStorageControlBlock.html">MasstreeStorageControlBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared data of this storage type.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeStorageControlBlock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html">MasstreeStoragePimpl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pimpl object of <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html" title="Represents a Masstree storage. ">MasstreeStorage</a>.  <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html">MasstreeUpdateLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of masstree-storage's update operation.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html">OwnerSamples</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of vol pages in each node sampled per pointer in the root page.  <a href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html">RecordLocation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">return value of <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. ">MasstreeStoragePimpl::locate_record()</a>/reserve_record().  <a href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html">ReserveRecords</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to reserve a physical record(s) in a border page.  <a href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SortEntry.html">SortEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlike array's sort entry, we don't always use this because keys are arbitrary lengthes.  <a href="structfoedus_1_1storage_1_1masstree_1_1SortEntry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html">SplitBorder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to split a border page in Master-Tree.  <a href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html">SplitIntermediate</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A system transaction to split an intermediate page in Master-Tree.  <a href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaeb8e2ed51f11bc2df537c109de8032dd"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a></td></tr>
<tr class="memdesc:gaeb8e2ed51f11bc2df537c109de8032dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the depth of a B-trie layer.  <a href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">More...</a><br /></td></tr>
<tr class="separator:gaeb8e2ed51f11bc2df537c109de8032dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38a155242a029bca80f210feff535335"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">InLayerLevel</a></td></tr>
<tr class="memdesc:ga38a155242a029bca80f210feff535335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the depth of a B-tree node in a B-trie layer.  <a href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">More...</a><br /></td></tr>
<tr class="separator:ga38a155242a029bca80f210feff535335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0c469cd4f863aa64e07fcea90b72859"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a></td></tr>
<tr class="memdesc:gaa0c469cd4f863aa64e07fcea90b72859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a byte-length of a key in this package.  <a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">More...</a><br /></td></tr>
<tr class="separator:gaa0c469cd4f863aa64e07fcea90b72859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d05e904033c0bba7113cdafb43d6610"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a></td></tr>
<tr class="memdesc:ga9d05e904033c0bba7113cdafb43d6610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a byte-length of a payload in this package.  <a href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">More...</a><br /></td></tr>
<tr class="separator:ga9d05e904033c0bba7113cdafb43d6610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ab02d0a6214e7d36d74a30afda7b1ff"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a></td></tr>
<tr class="memdesc:ga1ab02d0a6214e7d36d74a30afda7b1ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte-offset in a page.  <a href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">More...</a><br /></td></tr>
<tr class="separator:ga1ab02d0a6214e7d36d74a30afda7b1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6280f932bf17f1d9d4acc294ca984bee"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a></td></tr>
<tr class="memdesc:ga6280f932bf17f1d9d4acc294ca984bee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index of a record in a (border) page.  <a href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">More...</a><br /></td></tr>
<tr class="separator:ga6280f932bf17f1d9d4acc294ca984bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga556e8f0d5e02e78f3ddecd8f5b022bf6"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a></td></tr>
<tr class="memdesc:ga556e8f0d5e02e78f3ddecd8f5b022bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each key slice is an 8-byte integer.  <a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">More...</a><br /></td></tr>
<tr class="separator:ga556e8f0d5e02e78f3ddecd8f5b022bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6">normalize_primitive</a> (T value)</td></tr>
<tr class="memdesc:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Order-preserving normalization for primitive key types.  <a href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6">More...</a><br /></td></tr>
<tr class="separator:ga6c1facf4b03e7cf12b21b60ecbf33de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d">denormalize_primitive</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> value)</td></tr>
<tr class="memdesc:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opposite of <a class="el" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6" title="Order-preserving normalization for primitive key types. ">normalize_primitive()</a>.  <a href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d">More...</a><br /></td></tr>
<tr class="separator:gaf7d6f648a3abc01de518d10f7d325b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48710f51199feed3db2e2f374ae73814"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">normalize_be_bytes_full_aligned</a> (const void *be_bytes)</td></tr>
<tr class="memdesc:ga48710f51199feed3db2e2f374ae73814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an <em>aligned</em> big-endian byte array of at least 8-bytes-length to KeySlice.  <a href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">More...</a><br /></td></tr>
<tr class="separator:ga48710f51199feed3db2e2f374ae73814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6818c708d9ac34b794cb1f91fa6f5296"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a> (const void *be_bytes)</td></tr>
<tr class="memdesc:ga6818c708d9ac34b794cb1f91fa6f5296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a big-endian byte array of at least 8-bytes-length to KeySlice.  <a href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">More...</a><br /></td></tr>
<tr class="separator:ga6818c708d9ac34b794cb1f91fa6f5296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6842bc28437a9d4319e51471f4e3237"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">normalize_be_bytes_fragment</a> (const void *be_bytes, uint32_t length)</td></tr>
<tr class="memdesc:gaa6842bc28437a9d4319e51471f4e3237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a big-endian byte array of given length to KeySlice.  <a href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">More...</a><br /></td></tr>
<tr class="separator:gaa6842bc28437a9d4319e51471f4e3237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfe21e7cd7f1a689891743d93c6996c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">slice_key</a> (const void *be_bytes, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> slice_length)</td></tr>
<tr class="memdesc:gabfe21e7cd7f1a689891743d93c6996c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a part of a big-endian byte array of given length as KeySlice.  <a href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">More...</a><br /></td></tr>
<tr class="separator:gabfe21e7cd7f1a689891743d93c6996c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdb6a706258be601e621e58653bf528e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e">slice_layer</a> (const void *be_bytes, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> key_length, <a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a> current_layer)</td></tr>
<tr class="memdesc:gabdb6a706258be601e621e58653bf528e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a part of a big-endian byte array of given length as KeySlice.  <a href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e">More...</a><br /></td></tr>
<tr class="separator:gabdb6a706258be601e621e58653bf528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1139ddb346aaf969a51c7a703752088f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1139ddb346aaf969a51c7a703752088f">count_common_slices</a> (const void *left, const void *right, uint16_t max_slices)</td></tr>
<tr class="memdesc:ga1139ddb346aaf969a51c7a703752088f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of 8-byte slices that the two strings share as prefix.  <a href="group__MASSTREE.html#ga1139ddb346aaf969a51c7a703752088f">More...</a><br /></td></tr>
<tr class="separator:ga1139ddb346aaf969a51c7a703752088f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">is_key_aligned_and_zero_padded</a> (const char *key, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> key_length)</td></tr>
<tr class="memdesc:gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if the given key is 8-bytes aligned and also zero-padded to 8-bytes for easier slicing (which most of our code does).  <a href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">More...</a><br /></td></tr>
<tr class="separator:gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a5bea4010c2c465bafdec7e4a407123"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123">extract_page_layer</a> (const void *in_page_pointer)</td></tr>
<tr class="memdesc:a1a5bea4010c2c465bafdec7e4a407123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve masstree layer information from the header of the page that contains the pointer.  <a href="#a1a5bea4010c2c465bafdec7e4a407123">More...</a><br /></td></tr>
<tr class="separator:a1a5bea4010c2c465bafdec7e4a407123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a575ba44804b98a334fc66eedf4b18d70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70">calculate_suffix_length</a> (<a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> remainder_length) __attribute__((always_inline))</td></tr>
<tr class="separator:a575ba44804b98a334fc66eedf4b18d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907f46e4f7d427806529dd8e2e03dd9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c">calculate_suffix_length_aligned</a> (<a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> remainder_length) __attribute__((always_inline))</td></tr>
<tr class="separator:a907f46e4f7d427806529dd8e2e03dd9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba87e2c8ebf35b2a616c9544d2c6c113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#aba87e2c8ebf35b2a616c9544d2c6c113">_dummy_static_size_check__COUNTER__</a> ()</td></tr>
<tr class="separator:aba87e2c8ebf35b2a616c9544d2c6c113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16471d70a8a8653c610498245156c3d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a16471d70a8a8653c610498245156c3d2">compare_keys</a> (const char *left, uint16_t left_length, const char *right, uint16_t right_length)</td></tr>
<tr class="memdesc:a16471d70a8a8653c610498245156c3d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local utility functions.  <a href="#a16471d70a8a8653c610498245156c3d2">More...</a><br /></td></tr>
<tr class="separator:a16471d70a8a8653c610498245156c3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df011f1d7015440e30e6013add5a667"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a7df011f1d7015440e30e6013add5a667">resolve_log</a> (const <a class="el" href="structfoedus_1_1snapshot_1_1LogBuffer.html">snapshot::LogBuffer</a> &amp;log_buffer, <a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">snapshot::BufferPosition</a> pos)</td></tr>
<tr class="separator:a7df011f1d7015440e30e6013add5a667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b432f0c51daf807b4b1c6a6a298089"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a61b432f0c51daf807b4b1c6a6a298089">fill_payload_padded</a> (char *destination, const char *source, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> count)</td></tr>
<tr class="separator:a61b432f0c51daf807b4b1c6a6a298089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa84e798a14fcf221a6d935e635fbaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">MasstreeBorderPage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a1fa84e798a14fcf221a6d935e635fbaf">as_border</a> (<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *page)</td></tr>
<tr class="separator:a1fa84e798a14fcf221a6d935e635fbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d9690ce0148c3d1284f92ddf0db184"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a25d9690ce0148c3d1284f92ddf0db184">as_intermediate</a> (<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *page)</td></tr>
<tr class="separator:a25d9690ce0148c3d1284f92ddf0db184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5bde8a81bd922e388c91d1aaeac1411"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#ad5bde8a81bd922e388c91d1aaeac1411">from_this_snapshot</a> (<a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> pointer, const <a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments">Composer::ConstructRootArguments</a> &amp;args)</td></tr>
<tr class="separator:ad5bde8a81bd922e388c91d1aaeac1411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96786662ef385199a223a0387cb8b5d"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#ad96786662ef385199a223a0387cb8b5d">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PathLevel.html">MasstreeComposeContext::PathLevel</a> &amp;v)</td></tr>
<tr class="separator:ad96786662ef385199a223a0387cb8b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46309d88898552d15a7f808dd948c34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34">copy_input_key</a> (const char *input_key, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> length, char *buffer, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *slice_buffer)</td></tr>
<tr class="separator:ac46309d88898552d15a7f808dd948c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554f6fb34b45687df09df15076aac190"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190">grow_case_a_common</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">DualPagePointer</a> *pointer, <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *cur_root)</td></tr>
<tr class="separator:a554f6fb34b45687df09df15076aac190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9747d159e12f82f5fefcaed735947480"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480">grow_case_b_common</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">DualPagePointer</a> *pointer, <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *cur_root)</td></tr>
<tr class="separator:a9747d159e12f82f5fefcaed735947480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852b9b8d5f797e5d3b41945f0c53e406"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a852b9b8d5f797e5d3b41945f0c53e406">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCreateLogType.html">MasstreeCreateLogType</a> &amp;v)</td></tr>
<tr class="separator:a852b9b8d5f797e5d3b41945f0c53e406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167badba1d348e17e94d736a8902926e"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a167badba1d348e17e94d736a8902926e">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html">MasstreeInsertLogType</a> &amp;v)</td></tr>
<tr class="separator:a167badba1d348e17e94d736a8902926e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36efb877bd13c6437976bb0783fee1d3"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a36efb877bd13c6437976bb0783fee1d3">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html">MasstreeDeleteLogType</a> &amp;v)</td></tr>
<tr class="separator:a36efb877bd13c6437976bb0783fee1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4947e2b17849f1401f5b186205030c8e"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a4947e2b17849f1401f5b186205030c8e">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html">MasstreeUpdateLogType</a> &amp;v)</td></tr>
<tr class="separator:a4947e2b17849f1401f5b186205030c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b8f2993e0641884826a7a850fce6b8"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a94b8f2993e0641884826a7a850fce6b8">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html">MasstreeOverwriteLogType</a> &amp;v)</td></tr>
<tr class="separator:a94b8f2993e0641884826a7a850fce6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeedf507a4d7f2be10cb0621947633fdb"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#aeedf507a4d7f2be10cb0621947633fdb">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadata.html">MasstreeMetadata</a> &amp;v)</td></tr>
<tr class="separator:aeedf507a4d7f2be10cb0621947633fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf72e4bd9cb6ee7500a00a64caed0e7a"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#acf72e4bd9cb6ee7500a00a64caed0e7a">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> &amp;v)</td></tr>
<tr class="separator:acf72e4bd9cb6ee7500a00a64caed0e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d989a7033cb8a6e331aea7e8a77475"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475">describe_masstree_page_common</a> (std::ostream *o_ptr, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> &amp;v)</td></tr>
<tr class="separator:a76d989a7033cb8a6e331aea7e8a77475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6f7508993143f1f48a064ff4b79fda"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#acb6f7508993143f1f48a064ff4b79fda">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;v)</td></tr>
<tr class="separator:acb6f7508993143f1f48a064ff4b79fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee5fcdcd9c6fc6ddb3f000835dbe9a1"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a0ee5fcdcd9c6fc6ddb3f000835dbe9a1">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">MasstreeBorderPage</a> &amp;v)</td></tr>
<tr class="separator:a0ee5fcdcd9c6fc6ddb3f000835dbe9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744edfba3574c4c7dd041519321ed5b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3">release_parallel</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> pointer)</td></tr>
<tr class="separator:a744edfba3574c4c7dd041519321ed5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9170c9da66086329b6b675be8b4126"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#aed9170c9da66086329b6b675be8b4126">design_partition_first_parallel_recurse</a> (const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;resolver, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *page, uint32_t subtree_id, <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html">OwnerSamples</a> *result, <a class="el" href="classfoedus_1_1assorted_1_1UniformRandom.html">assorted::UniformRandom</a> *unirand)</td></tr>
<tr class="separator:aed9170c9da66086329b6b675be8b4126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b8fa58d4a0c9481b69bcfb5c5a3493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a51b8fa58d4a0c9481b69bcfb5c5a3493">design_partition_first_parallel</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> subtree, uint32_t subtree_id, <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html">OwnerSamples</a> *result)</td></tr>
<tr class="separator:a51b8fa58d4a0c9481b69bcfb5c5a3493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeedbaa3fdb498171877064ec22c5aa39"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#aeedbaa3fdb498171877064ec22c5aa39">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html">OwnerSamples</a> &amp;v)</td></tr>
<tr class="separator:aeedbaa3fdb498171877064ec22c5aa39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb952f744366b6a9d9a5be2e6b6c2803"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#acb952f744366b6a9d9a5be2e6b6c2803">retrieve_positions</a> (uint32_t logs_count, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SortEntry.html">SortEntry</a> *entries, <a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">snapshot::BufferPosition</a> *out)</td></tr>
<tr class="memdesc:acb952f744366b6a9d9a5be2e6b6c2803"><td class="mdescLeft">&#160;</td><td class="mdescRight">subroutine of sort_batch_8bytes  <a href="#acb952f744366b6a9d9a5be2e6b6c2803">More...</a><br /></td></tr>
<tr class="separator:acb952f744366b6a9d9a5be2e6b6c2803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9efa7b5f1f339fd33444e0e62e46d40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#ad9efa7b5f1f339fd33444e0e62e46d40">prepare_sort_entries</a> (const <a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments">Partitioner::SortBatchArguments</a> &amp;args, <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SortEntry.html">SortEntry</a> *entries)</td></tr>
<tr class="memdesc:ad9efa7b5f1f339fd33444e0e62e46d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">subroutine of sort_batch_8bytes  <a href="#ad9efa7b5f1f339fd33444e0e62e46d40">More...</a><br /></td></tr>
<tr class="separator:ad9efa7b5f1f339fd33444e0e62e46d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e902f2c721ccf21fe3f5feee9c6209"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#ad1e902f2c721ccf21fe3f5feee9c6209">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html">MasstreePartitioner</a> &amp;v)</td></tr>
<tr class="separator:ad1e902f2c721ccf21fe3f5feee9c6209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38db26f5c8d1d4869430a6b580209022"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1XctId.html">xct::XctId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a38db26f5c8d1d4869430a6b580209022">get_initial_xid</a> ()</td></tr>
<tr class="separator:a38db26f5c8d1d4869430a6b580209022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e6fe81e5956cfe47566b40794580da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">MasstreeBorderPage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da">allocate_new_border_page</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context)</td></tr>
<tr class="separator:a10e6fe81e5956cfe47566b40794580da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025e5b101445ee4dcf5546fbab96112b"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a025e5b101445ee4dcf5546fbab96112b">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">MasstreeStorage</a> &amp;v)</td></tr>
<tr class="separator:a025e5b101445ee4dcf5546fbab96112b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032fcdc65647bdea76b8a49014211100"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a032fcdc65647bdea76b8a49014211100">adjust_payload_hint</a> (<a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_count, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> physical_payload_hint)</td></tr>
<tr class="separator:a032fcdc65647bdea76b8a49014211100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa275c1ef79668cf8c173ee51f0753dc3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#aa275c1ef79668cf8c173ee51f0753dc3">count_children_approximate</a> (const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> *page)</td></tr>
<tr class="separator:aa275c1ef79668cf8c173ee51f0753dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea98e6f343df2d62a9a8f9ddd127234"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#acea98e6f343df2d62a9a8f9ddd127234">verify_page_basic</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *page, <a class="el" href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">PageType</a> page_type, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low_fence, <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1HighFence.html">HighFence</a> high_fence)</td></tr>
<tr class="separator:acea98e6f343df2d62a9a8f9ddd127234"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga54c14c32f171fd8e17499457c56c2817"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga54c14c32f171fd8e17499457c56c2817">kMaxLayer</a> = 63U</td></tr>
<tr class="memdesc:ga54c14c32f171fd8e17499457c56c2817"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum value for Layer.  <a href="group__MASSTREE.html#ga54c14c32f171fd8e17499457c56c2817">More...</a><br /></td></tr>
<tr class="separator:ga54c14c32f171fd8e17499457c56c2817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f474f4e6fab3c9fb547cba7c35efe54"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">InLayerLevel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1f474f4e6fab3c9fb547cba7c35efe54">kMaxSaneInLayerLevel</a> = 15U</td></tr>
<tr class="memdesc:ga1f474f4e6fab3c9fb547cba7c35efe54"><td class="mdescLeft">&#160;</td><td class="mdescRight">If InLayerLevel exceeds this value, there must be something wrong.  <a href="group__MASSTREE.html#ga1f474f4e6fab3c9fb547cba7c35efe54">More...</a><br /></td></tr>
<tr class="separator:ga1f474f4e6fab3c9fb547cba7c35efe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae33cf61cd45f5956aa2e46283b9474ab"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a> = 1024U</td></tr>
<tr class="memdesc:gae33cf61cd45f5956aa2e46283b9474ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max length of a key.  <a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">More...</a><br /></td></tr>
<tr class="separator:gae33cf61cd45f5956aa2e46283b9474ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae073d9373f83e959a96a36d14caef1a4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">kInitiallyNextLayer</a> = 0xFFFFU</td></tr>
<tr class="memdesc:gae073d9373f83e959a96a36d14caef1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A special key length value that denotes the record in a border page was initially a next-layer pointer, thus the record has no suffix region.  <a href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">More...</a><br /></td></tr>
<tr class="separator:gae073d9373f83e959a96a36d14caef1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga453ffcac369fa68b5eb5d489e6cdca4f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">kMaxPayloadLength</a> = 1024U</td></tr>
<tr class="memdesc:ga453ffcac369fa68b5eb5d489e6cdca4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max length of a payload.  <a href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">More...</a><br /></td></tr>
<tr class="separator:ga453ffcac369fa68b5eb5d489e6cdca4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3549bb49f633f74d58adfb5880b4c52"><td class="memItemLeft" align="right" valign="top">const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#af3549bb49f633f74d58adfb5880b4c52">kSliceLen</a> = sizeof(<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)</td></tr>
<tr class="memdesc:af3549bb49f633f74d58adfb5880b4c52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for sizeof(KeySlice).  <a href="#af3549bb49f633f74d58adfb5880b4c52">More...</a><br /></td></tr>
<tr class="separator:af3549bb49f633f74d58adfb5880b4c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cffc20f29ad72d4edbeedece861c48f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a9cffc20f29ad72d4edbeedece861c48f">kInfimumSlice</a> = 0</td></tr>
<tr class="separator:a9cffc20f29ad72d4edbeedece861c48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfcd277a96bcd1e9008459abe1ec40d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a7bfcd277a96bcd1e9008459abe1ec40d">kSupremumSlice</a> = 0xFFFFFFFFFFFFFFFFULL</td></tr>
<tr class="separator:a7bfcd277a96bcd1e9008459abe1ec40d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54533a5e0a23f34c29a57f8701356491"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">kCommonPageHeaderSize</a> = 80U</td></tr>
<tr class="memdesc:ga54533a5e0a23f34c29a57f8701356491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the base page class (<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html" title="Common base of MasstreeIntermediatePage and MasstreeBorderPage. ">MasstreePage</a>), which is the common header for intermediate and border pages placed at the beginning.  <a href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">More...</a><br /></td></tr>
<tr class="separator:ga54533a5e0a23f34c29a57f8701356491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1dee903a4fd4c4bcaadb95833c4b9a40"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">kBorderPageAdditionalHeaderSize</a> = 8U</td></tr>
<tr class="memdesc:ga1dee903a4fd4c4bcaadb95833c4b9a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Misc header attributes specific to <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a> placed after the common header.  <a href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">More...</a><br /></td></tr>
<tr class="separator:ga1dee903a4fd4c4bcaadb95833c4b9a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f09e6bde697b5e2d6389505d17cecb1"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">kBorderPageSlotSize</a> = 32U</td></tr>
<tr class="memdesc:ga5f09e6bde697b5e2d6389505d17cecb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of one slot in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a> <em>excluding</em> slice information.  <a href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">More...</a><br /></td></tr>
<tr class="separator:ga5f09e6bde697b5e2d6389505d17cecb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78a96e3a0ec4256513d9d2e9c94f37fd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a></td></tr>
<tr class="memdesc:ga78a96e3a0ec4256513d9d2e9c94f37fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of slots in one <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>.  <a href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">More...</a><br /></td></tr>
<tr class="separator:ga78a96e3a0ec4256513d9d2e9c94f37fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91326b566ce7355c1ee6fd3848af01cd"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga91326b566ce7355c1ee6fd3848af01cd">kBorderPageDataPartSize</a></td></tr>
<tr class="memdesc:ga91326b566ce7355c1ee6fd3848af01cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of the record data part (data_) in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>.  <a href="group__MASSTREE.html#ga91326b566ce7355c1ee6fd3848af01cd">More...</a><br /></td></tr>
<tr class="separator:ga91326b566ce7355c1ee6fd3848af01cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7abc672ebc91931d1fb7debd5fc1affc"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">kBorderPageDataPartOffset</a></td></tr>
<tr class="memdesc:a7abc672ebc91931d1fb7debd5fc1affc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset of data_ member in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>.  <a href="#a7abc672ebc91931d1fb7debd5fc1affc">More...</a><br /></td></tr>
<tr class="separator:a7abc672ebc91931d1fb7debd5fc1affc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ce564bb661a338ce070653e1ca48efa"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a> = 9U</td></tr>
<tr class="memdesc:ga2ce564bb661a338ce070653e1ca48efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of separators stored in the first level of intermediate pages.  <a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">More...</a><br /></td></tr>
<tr class="separator:ga2ce564bb661a338ce070653e1ca48efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa62799e432e5c5b145851eed621d33d"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a> = 15U</td></tr>
<tr class="memdesc:gaaa62799e432e5c5b145851eed621d33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of separators stored in the second level of intermediate pages.  <a href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">More...</a><br /></td></tr>
<tr class="separator:gaaa62799e432e5c5b145851eed621d33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b0f46dbd051897bd6dae9bbd3eb446e"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#ga6b0f46dbd051897bd6dae9bbd3eb446e">kMaxIntermediatePointers</a> = (<a class="el" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a> + 1U) * (kMaxIntermediateMiniSeparators + 1U)</td></tr>
<tr class="memdesc:ga6b0f46dbd051897bd6dae9bbd3eb446e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of pointers (if completely filled) stored in an intermediate pages.  <a href="group__MASSTREE.html#ga6b0f46dbd051897bd6dae9bbd3eb446e">More...</a><br /></td></tr>
<tr class="separator:ga6b0f46dbd051897bd6dae9bbd3eb446e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d5b5067f38a22191eb77d85bc2d2d1"><td class="memItemLeft" align="right" valign="top">constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html#ae2d5b5067f38a22191eb77d85bc2d2d1">kIntermediateAlmostFull</a> = <a class="el" href="group__MASSTREE.html#ga6b0f46dbd051897bd6dae9bbd3eb446e">kMaxIntermediatePointers</a> * 9U / 10U</td></tr>
<tr class="separator:ae2d5b5067f38a22191eb77d85bc2d2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aba87e2c8ebf35b2a616c9544d2c6c113"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::_dummy_static_size_check__COUNTER__ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l01733">1733</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a032fcdc65647bdea76b8a49014211100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> foedus::storage::masstree::adjust_payload_hint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>physical_payload_hint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__storage_8cpp_source.html#l00233">233</a> of file <a class="el" href="masstree__storage_8cpp_source.html">masstree_storage.cpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>, <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00098">kMaxPayloadLength</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage_8cpp_source.html#l00247">foedus::storage::masstree::MasstreeStorage::insert_record()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00283">foedus::storage::masstree::MasstreeStorage::insert_record_normalized()</a>, <a class="el" href="masstree__storage_8cpp_source.html#l00347">foedus::storage::masstree::MasstreeStorage::upsert_record()</a>, and <a class="el" href="masstree__storage_8cpp_source.html#l00383">foedus::storage::masstree::MasstreeStorage::upsert_record_normalized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                       {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(physical_payload_hint &gt;= payload_count);  <span class="comment">// if not, most likely misuse.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (physical_payload_hint &lt; payload_count) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    physical_payload_hint = payload_count;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">if</span> (physical_payload_hint &gt; <a class="code" href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">kMaxPayloadLength</a>) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    physical_payload_hint = <a class="code" href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">kMaxPayloadLength</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  physical_payload_hint = <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(physical_payload_hint);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">return</span> physical_payload_hint;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga453ffcac369fa68b5eb5d489e6cdca4f"><div class="ttname"><a href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">foedus::storage::masstree::kMaxPayloadLength</a></div><div class="ttdeci">const PayloadLength kMaxPayloadLength</div><div class="ttdoc">Max length of a payload. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00098">masstree_id.hpp:98</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="227,13,387,39"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a032fcdc65647bdea76b8a49014211100_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="229,5,441,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="248,71,421,127"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="227,152,443,193"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="248,218,421,274"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10e6fe81e5956cfe47566b40794580da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">MasstreeBorderPage</a>* foedus::storage::masstree::allocate_new_border_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00039">39</a> of file <a class="el" href="masstree__reserve__impl_8cpp_source.html">masstree_reserve_impl.cpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00080">foedus::thread::Thread::get_local_volatile_page_resolver()</a>, <a class="el" href="thread_8hpp_source.html#l00066">foedus::thread::Thread::get_numa_node()</a>, <a class="el" href="thread_8cpp_source.html#l00057">foedus::thread::Thread::get_thread_memory()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00199">foedus::memory::NumaCoreMemory::grab_free_volatile_page()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>, <a class="el" href="page_8hpp_source.html#l00191">foedus::storage::PageHeader::page_id_</a>, <a class="el" href="storage__id_8hpp_source.html#l00212">foedus::storage::VolatilePagePointer::set()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00195">foedus::storage::VolatilePagePointer::word</a>.</p>

<p>Referenced by <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                                                           {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  memory::NumaCoreMemory* memory = context-&gt;get_thread_memory();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a> offset = memory-&gt;grab_free_volatile_page();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">if</span> (offset == 0) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;resolver = context-&gt;get_local_volatile_page_resolver();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  MasstreeBorderPage* new_page</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    = <span class="keyword">reinterpret_cast&lt;</span>MasstreeBorderPage*<span class="keyword">&gt;</span>(resolver.resolve_offset_newpage(offset));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  VolatilePagePointer new_page_pointer;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  new_page_pointer.set(context-&gt;get_numa_node(), offset);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  new_page-&gt;header().page_id_ = new_page_pointer.word;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">return</span> new_page;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="ttc" id="group__MEMORY_html_gaf7ed7c23d184b14ce978b1775a86dfae"><div class="ttname"><a href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">foedus::memory::PagePoolOffset</a></div><div class="ttdeci">uint32_t PagePoolOffset</div><div class="ttdoc">Offset in PagePool that compactly represents the page address (unlike 8 bytes pointer). </div><div class="ttdef"><b>Definition:</b> <a href="memory__id_8hpp_source.html#l00044">memory_id.hpp:44</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da" title="Returns page resolver to convert only local page ID to page pointer. " alt="" coords="260,5,423,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="266,86,417,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#a4e553f5e14ec00d8ba23fbdfa26d687e" title="Returns the private memory repository of this thread. " alt="" coords="266,151,417,193"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="236,217,447,258"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="255,282,428,323"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="261,347,422,389"/>
<area shape="rect" id="node4" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="495,54,673,95"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="509,119,659,161"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="721,227,900,269"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="495,257,673,298"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a10e6fe81e5956cfe47566b40794580da_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="236,5,409,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1fa84e798a14fcf221a6d935e635fbaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">MasstreeBorderPage</a>* foedus::storage::masstree::as_border </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__composer__impl_8cpp_source.html#l00056">56</a> of file <a class="el" href="masstree__composer__impl_8cpp_source.html">masstree_composer_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00084">foedus::storage::masstree::MasstreePage::is_border()</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                         {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(page-&gt;is_border());</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>MasstreeBorderPage*<span class="keyword">&gt;</span>(page);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a1fa84e798a14fcf221a6d935e635fbaf_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a1fa84e798a14fcf221a6d935e635fbaf_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a1fa84e798a14fcf221a6d935e635fbaf_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a1fa84e798a14fcf221a6d935e635fbaf_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="227,5,401,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="449,5,640,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a25d9690ce0148c3d1284f92ddf0db184"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a>* foedus::storage::masstree::as_intermediate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__composer__impl_8cpp_source.html#l00061">61</a> of file <a class="el" href="masstree__composer__impl_8cpp_source.html">masstree_composer_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00084">foedus::storage::masstree::MasstreePage::is_border()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                                     {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!page-&gt;is_border());</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>MasstreeIntermediatePage*<span class="keyword">&gt;</span>(page);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a25d9690ce0148c3d1284f92ddf0db184_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a25d9690ce0148c3d1284f92ddf0db184_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a25d9690ce0148c3d1284f92ddf0db184_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a25d9690ce0148c3d1284f92ddf0db184_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="227,5,401,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="449,5,640,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a575ba44804b98a334fc66eedf4b18d70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> foedus::storage::masstree::calculate_suffix_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>remainder_length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l01105">1105</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__id_8hpp_source.html#l00086">kInitiallyNextLayer</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00075">kMaxKeyLength</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l01116">calculate_suffix_length_aligned()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00077">foedus::storage::masstree::MasstreeCursor::copy_combined_key()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00095">foedus::storage::masstree::MasstreeCursor::copy_combined_key_part()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00549">foedus::storage::masstree::MasstreeBorderPage::Slot::get_suffix_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00823">foedus::storage::masstree::MasstreeBorderPage::get_suffix_length()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00345">foedus::storage::masstree::SplitBorder::migrate_records()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l01322">foedus::storage::masstree::MasstreeBorderPage::reserve_record_space()</a>.</p>
<div class="fragment"><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                                                     {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">if</span> (remainder_length == <a class="code" href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">kInitiallyNextLayer</a>) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(remainder_length &lt;= <a class="code" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a>);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">if</span> (remainder_length &gt;= <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">return</span> remainder_length - <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_gae33cf61cd45f5956aa2e46283b9474ab"><div class="ttname"><a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a></div><div class="ttdeci">const KeyLength kMaxKeyLength</div><div class="ttdoc">Max length of a key. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00075">masstree_id.hpp:75</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gae073d9373f83e959a96a36d14caef1a4"><div class="ttname"><a href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">foedus::storage::masstree::kInitiallyNextLayer</a></div><div class="ttdeci">const KeyLength kInitiallyNextLayer</div><div class="ttdoc">A special key length value that denotes the record in a border page was initially a next-layer pointe...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00086">masstree_id.hpp:86</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a575ba44804b98a334fc66eedf4b18d70_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a575ba44804b98a334fc66eedf4b18d70_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a575ba44804b98a334fc66eedf4b18d70_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a575ba44804b98a334fc66eedf4b18d70_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c" title="foedus::storage::masstree\l::calculate_suffix_length\l_aligned" alt="" coords="231,981,405,1037"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ac7ca15bf233b941d860679b88c8bc87f" title="Installs a new physical record that doesn&#39;t exist logically (delete bit on). " alt="" coords="1268,1543,1469,1599"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#af12f943f013c35e9b4a549afd4075920" title="Subroutine to construct a new page. " alt="" coords="761,1641,934,1697"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="231,1413,405,1469"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a89b95de73681a08b028fda1b8841cd79" title="Another version to get a part of the key, from the offset for len bytes. " alt="" coords="231,1609,405,1665"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#a8a6e5607a634aacda2986655f80420ca" title="foedus::storage::masstree\l::MasstreeBorderPage::Slot\l::get_suffix_length" alt="" coords="227,1689,409,1745"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ad10a5e5c2b8774c5f2a96661dad217e8" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length" alt="" coords="487,672,666,728"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#adecf558d81c86d2c96a701b6305a68b0" title="foedus::storage::masstree\l::MasstreeBorderPage::Slot\l::get_aligned_suffix_length" alt="" coords="485,381,668,437"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a68797699a249ca9320a08038d1cdabbc" title="returns minimal physical_record_length_ for the given remainder/payload length. " alt="" coords="490,1249,663,1305"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9e24c3f7398235571f6f0b0e013f1f23" title="Copy the initial record that will be the only record for a new root page. " alt="" coords="999,1068,1205,1124"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a327750cab5847980e336423128c42983" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload_from_offsets" alt="" coords="750,1017,945,1073"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a475fb985aa078dff7c627ce18538b52e" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length_aligned" alt="" coords="487,857,666,913"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#a447049b6067b0d1be460802f1b6a7076" title="This might be affected by concurrent threads. " alt="" coords="756,273,939,329"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#a913ee08e26f12e4b8031ec34967962a0" title="This is not affected by concurrent threads. " alt="" coords="756,381,939,437"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9c0b897c662c4fdaaff4ac5b131da506" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_max_payload_length" alt="" coords="1013,273,1191,329"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1781897598dfbd41a6d1291d0c5dc060" title="foedus::storage::masstree\l::MasstreeBorderPage::verify\l_slot_lengthes" alt="" coords="1007,193,1197,249"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a49c67f561e5748dbaf947cc22325a8a5" title="A physical&#45;only method to expand a record within this page without any logical change. " alt="" coords="1258,5,1479,61"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="1532,1049,1705,1090"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a867f696df8da3aeeab003663a439a535" title="A physical&#45;only method to initialize this page as a volatile page of a layer&#45;root pointed from the gi..." alt="" coords="1265,1073,1472,1129"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="1282,165,1455,221"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="1277,245,1461,301"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="1282,405,1455,461"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="1282,85,1455,141"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="1275,325,1462,381"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4ca875114e346439b950c703ab3586b5" title="returns the byte size of required contiguous space in data_ to insert a new record of the given remai..." alt="" coords="744,1431,951,1487"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2be77538e13226dbc44134039be0dc73" title="For creating a record that is initially a next&#45;layer. " alt="" coords="1268,1300,1469,1356"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a35973b360ff80fe5c939e971c373ee05" title="Installs a next layer pointer. " alt="" coords="1267,1380,1470,1436"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4fb7f1ed0b7d15fc2f06d298e8a0260f" title="Same as above, except this is used to transform an existing record at end to a next layer pointer..." alt="" coords="1267,1153,1470,1209"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a6ce21d6a92abc597380b8385509464ed" title="foedus::storage::masstree\l::MasstreeBorderPage::can\l_accomodate" alt="" coords="1011,1511,1193,1567"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a027ba66a84d7617e1f954edb3c3c4f56" title="Slightly different from can_accomodate() as follows: " alt="" coords="1011,1431,1193,1487"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="1015,1649,1189,1690"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ae8535da84525f0147643f5f827d83844" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer_from_offsets" alt="" coords="1013,1300,1191,1356"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a357f4256ff48e1c5cefbee98d0a2dd2d" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload" alt="" coords="758,857,937,913"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a564d9a348f851874c7a9c1d933e0b2e9" title="defined in masstree_page_debug.cpp. " alt="" coords="749,672,945,728"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a14c7383d33c5b6ddfcbab6b58ae80121" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer" alt="" coords="1013,857,1191,913"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1storage_1_1masstree.html#a0ee5fcdcd9c6fc6ddb3f000835dbe9a1" title="foedus::storage::masstree\l::operator\&lt;\&lt;" alt="" coords="1282,587,1455,629"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8e24325e4b203cb3e2008283c6ef0c89" title="implementation of get_record family. " alt="" coords="1015,697,1189,753"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ae301e3aa587aa907eed1f6ae1ec5edb0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::retrieve_part_general" alt="" coords="1015,777,1189,833"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="1015,988,1189,1044"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="1271,853,1466,894"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#abdd08567e3f74c11a90c599cbac45a24" title="foedus::storage::masstree\l::MasstreeBorderPage::release\l_pages_recursive" alt="" coords="1267,943,1470,999"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="1274,677,1463,733"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6358da556d81e06726320b30c78755f7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread\l_recurse" alt="" coords="1282,758,1455,829"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="1253,1234,1484,1275"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a484b8322fccade3d1f77ac2abaa3a825" title="foedus::storage::masstree\l::MasstreeBorderPage::assert\l_entries" alt="" coords="1004,567,1200,623"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a47399bb011685ecfa60399a14c241771" title="For even handier use, it returns std::string. " alt="" coords="457,1542,696,1583"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="465,1330,688,1371"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="487,1396,667,1452"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="473,1477,681,1518"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a907f46e4f7d427806529dd8e2e03dd9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> foedus::storage::masstree::calculate_suffix_length_aligned </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>remainder_length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l01116">1116</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l01105">calculate_suffix_length()</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l00546">foedus::storage::masstree::MasstreeBorderPage::Slot::get_aligned_suffix_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00768">foedus::storage::masstree::MasstreeBorderPage::get_record_payload_from_offsets()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00827">foedus::storage::masstree::MasstreeBorderPage::get_suffix_length_aligned()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00298">foedus::storage::masstree::MasstreeBorderPage::initialize_layer_root()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00674">foedus::storage::masstree::MasstreeBorderPage::to_record_length()</a>.</p>
<div class="fragment"><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                                                             {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(<a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70">calculate_suffix_length</a>(remainder_length));</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a575ba44804b98a334fc66eedf4b18d70"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70">foedus::storage::masstree::calculate_suffix_length</a></div><div class="ttdeci">KeyLength calculate_suffix_length(KeyLength remainder_length) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01105">masstree_page_impl.hpp:1105</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="233,5,393,32"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="227,57,400,98"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a907f46e4f7d427806529dd8e2e03dd9c_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#adecf558d81c86d2c96a701b6305a68b0" title="foedus::storage::masstree\l::MasstreeBorderPage::Slot\l::get_aligned_suffix_length" alt="" coords="227,946,409,1002"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a327750cab5847980e336423128c42983" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload_from_offsets" alt="" coords="463,1693,658,1749"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9e24c3f7398235571f6f0b0e013f1f23" title="Copy the initial record that will be the only record for a new root page. " alt="" coords="712,1693,919,1749"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a475fb985aa078dff7c627ce18538b52e" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length_aligned" alt="" coords="229,1562,407,1618"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a68797699a249ca9320a08038d1cdabbc" title="returns minimal physical_record_length_ for the given remainder/payload length. " alt="" coords="231,1859,405,1915"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#a447049b6067b0d1be460802f1b6a7076" title="This might be affected by concurrent threads. " alt="" coords="469,782,652,838"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage_1_1Slot.html#a913ee08e26f12e4b8031ec34967962a0" title="This is not affected by concurrent threads. " alt="" coords="469,946,652,1002"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9c0b897c662c4fdaaff4ac5b131da506" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_max_payload_length" alt="" coords="726,361,905,417"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1781897598dfbd41a6d1291d0c5dc060" title="foedus::storage::masstree\l::MasstreeBorderPage::verify\l_slot_lengthes" alt="" coords="721,782,910,838"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a49c67f561e5748dbaf947cc22325a8a5" title="A physical&#45;only method to expand a record within this page without any logical change. " alt="" coords="967,742,1188,798"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="1249,1835,1422,1876"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a867f696df8da3aeeab003663a439a535" title="A physical&#45;only method to initialize this page as a volatile page of a layer&#45;root pointed from the gi..." alt="" coords="974,1754,1181,1810"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="1249,767,1422,823"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="985,110,1169,166"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="991,190,1164,246"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="991,270,1164,326"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="984,822,1171,878"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ae8535da84525f0147643f5f827d83844" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer_from_offsets" alt="" coords="726,1925,905,1981"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2be77538e13226dbc44134039be0dc73" title="For creating a record that is initially a next&#45;layer. " alt="" coords="977,2045,1178,2101"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a35973b360ff80fe5c939e971c373ee05" title="Installs a next layer pointer. " alt="" coords="976,1965,1179,2021"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a357f4256ff48e1c5cefbee98d0a2dd2d" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload" alt="" coords="471,1151,650,1207"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a564d9a348f851874c7a9c1d933e0b2e9" title="defined in masstree_page_debug.cpp. " alt="" coords="463,1562,659,1618"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a14c7383d33c5b6ddfcbab6b58ae80121" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer" alt="" coords="726,1282,905,1338"/>
<area shape="rect" id="node25" href="namespacefoedus_1_1storage_1_1masstree.html#a0ee5fcdcd9c6fc6ddb3f000835dbe9a1" title="foedus::storage::masstree\l::operator\&lt;\&lt;" alt="" coords="991,903,1164,944"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8e24325e4b203cb3e2008283c6ef0c89" title="implementation of get_record family. " alt="" coords="729,30,902,86"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ae301e3aa587aa907eed1f6ae1ec5edb0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::retrieve_part_general" alt="" coords="729,582,902,638"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="729,1151,902,1207"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4fb7f1ed0b7d15fc2f06d298e8a0260f" title="Same as above, except this is used to transform an existing record at end to a next layer pointer..." alt="" coords="976,1834,1179,1890"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="980,1289,1175,1331"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#abdd08567e3f74c11a90c599cbac45a24" title="foedus::storage::masstree\l::MasstreeBorderPage::release\l_pages_recursive" alt="" coords="976,1379,1179,1435"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="983,1483,1172,1539"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6358da556d81e06726320b30c78755f7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread\l_recurse" alt="" coords="991,1564,1164,1635"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a7e4b647b3c95a74b4de7fd18931cafb3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::hcc_reset_all_temperature\l_stat_recurse" alt="" coords="986,1659,1169,1729"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a14fb0ae2a643a45c3f32ab6395285d8d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_next_layer" alt="" coords="973,1100,1182,1171"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6188e676e564b4ebecaa556178cdb81e" title="Follows to next layer&#39;s root page. " alt="" coords="991,969,1164,1025"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="983,1195,1171,1265"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1236,5,1435,47"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="991,30,1164,86"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1249,485,1422,541"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="991,662,1164,718"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="991,451,1164,507"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="983,582,1172,638"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a484b8322fccade3d1f77ac2abaa3a825" title="foedus::storage::masstree\l::MasstreeBorderPage::assert\l_entries" alt="" coords="717,1587,913,1643"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4ca875114e346439b950c703ab3586b5" title="returns the byte size of required contiguous space in data_ to insert a new record of the given remai..." alt="" coords="457,2055,664,2111"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ac7ca15bf233b941d860679b88c8bc87f" title="Installs a new physical record that doesn&#39;t exist logically (delete bit on). " alt="" coords="977,2175,1178,2231"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#af12f943f013c35e9b4a549afd4075920" title="Subroutine to construct a new page. " alt="" coords="474,2169,647,2225"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a6ce21d6a92abc597380b8385509464ed" title="foedus::storage::masstree\l::MasstreeBorderPage::can\l_accomodate" alt="" coords="725,2135,906,2191"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a027ba66a84d7617e1f954edb3c3c4f56" title="Slightly different from can_accomodate() as follows: " alt="" coords="725,2055,906,2111"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="729,2216,902,2257"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a16471d70a8a8653c610498245156c3d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int foedus::storage::masstree::compare_keys </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>left_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>right_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Local utility functions. </p>
<p>Used in partitioner and composer.Returns negative, 0, positive if left&lt;right, left==right, left&gt;right. </p>

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00203">203</a> of file <a class="el" href="masstree__partitioner__impl_8hpp_source.html">masstree_partitioner_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                         {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  uint16_t cmp_length = std::min(left_length, right_length);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordtype">int</span> result = std::memcmp(left, right, cmp_length);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> (result != 0) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (left_length &lt; right_length) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (left_length &gt; right_length) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac46309d88898552d15a7f808dd948c34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::copy_input_key </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td>
          <td class="paramname"><em>slice_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l00925">925</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00263">slice_key()</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8cpp_source.html#l00932">foedus::storage::masstree::MasstreeCursor::open()</a>.</p>
<div class="fragment"><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                                                                                   {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  std::memcpy(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(buffer, 256), input_key, length);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a> i = 0; i * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>) &lt; length; ++i) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    slice_buffer[i] = <a class="code" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">slice_key</a>(input_key + i * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>), length - i * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gabfe21e7cd7f1a689891743d93c6996c8"><div class="ttname"><a href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">foedus::storage::masstree::slice_key</a></div><div class="ttdeci">KeySlice slice_key(const void *be_bytes, KeyLength slice_length)</div><div class="ttdoc">Extract a part of a big-endian byte array of given length as KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00263">masstree_id.hpp:263</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaeb8e2ed51f11bc2df537c109de8032dd"><div class="ttname"><a href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">foedus::storage::masstree::Layer</a></div><div class="ttdeci">uint8_t Layer</div><div class="ttdoc">Represents the depth of a B-trie layer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00042">masstree_id.hpp:42</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_cgraph" id="namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_cgraph">
<area shape="rect" id="node2" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8" title="Extract a part of a big&#45;endian byte array of given length as KeySlice. " alt="" coords="227,35,400,76"/>
<area shape="rect" id="node3" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237" title="Convert a big&#45;endian byte array of given length to KeySlice. " alt="" coords="448,5,651,47"/>
<area shape="rect" id="node4" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296" title="Convert a big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="699,35,872,76"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_icgraph" id="namespacefoedus_1_1storage_1_1masstree_ac46309d88898552d15a7f808dd948c34_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="227,13,400,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="448,5,621,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa275c1ef79668cf8c173ee51f0753dc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::storage::masstree::count_children_approximate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00032">32</a> of file <a class="el" href="masstree__storage__fatify_8cpp_source.html">masstree_storage_fatify.cpp</a>.</p>

<p>References <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00042">foedus::storage::masstree::MasstreeStoragePimpl::approximate_count_root_children()</a>, and <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00094">foedus::storage::masstree::MasstreeStoragePimpl::fatify_first_root_double()</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                                                          {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">// this method doesn&#39;t need page-lock, but instead it might be inaccurate</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">const</span> uint16_t key_count = page-&gt;get_key_count();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  uint32_t current_count = 0;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">for</span> (uint16_t minipage_index = 0; minipage_index &lt;= key_count; ++minipage_index) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; minipage = page-&gt;get_minipage(minipage_index);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    current_count += minipage.key_count_ + 1;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> current_count;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_cgraph" id="namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="245,5,452,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="256,71,441,127"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_icgraph" id="namespacefoedus_1_1storage_1_1masstree_aa275c1ef79668cf8c173ee51f0753dc3_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6c9eb02ad32cc1bffe9daac3521ad24" title="Returns the count of direct children in the first&#45;root node. " alt="" coords="245,5,419,76"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a32332060560b864a857a839bb0adb4fd" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::fatify_first_root_double" alt="" coords="467,78,640,134"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ac3b15bb4f888327ba49050f62d020f52" title="Defined in masstree_storage_fatify.cpp. " alt="" coords="688,46,861,102"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a70b1c5e023fa0aac150e7b607e37727c" title="Deliberately causes splits under the volatile root of first layer, or &quot;fatify&quot; it. " alt="" coords="909,46,1083,102"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a76d989a7033cb8a6e331aea7e8a77475"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::describe_masstree_page_common </td>
          <td>(</td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>o_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__debug_8cpp_source.html#l00039">39</a> of file <a class="el" href="masstree__page__debug_8cpp_source.html">masstree_page_debug.cpp</a>.</p>

<p>References <a class="el" href="storage__id_8cpp_source.html#l00044">foedus::storage::describe_volatile_pointer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00109">foedus::storage::masstree::MasstreePage::get_foster_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00113">foedus::storage::masstree::MasstreePage::get_foster_major()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00112">foedus::storage::masstree::MasstreePage::get_foster_minor()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00099">foedus::storage::masstree::MasstreePage::get_high_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00098">foedus::storage::masstree::MasstreePage::get_low_fence()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__debug_8cpp_source.html#l00054">operator&lt;&lt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                                                             {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  std::ostream&amp; o = *o_ptr;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;&lt;addr&gt;&quot;</span> &lt;&lt; assorted::Hex(reinterpret_cast&lt;uintptr_t&gt;(&amp;v), 16) &lt;&lt; <span class="stringliteral">&quot;&lt;/addr&gt;&quot;</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  o &lt;&lt; std::endl &lt;&lt; v.header();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;&lt;low_fence_&gt;&quot;</span> &lt;&lt; assorted::Hex(v.get_low_fence(), 16) &lt;&lt; <span class="stringliteral">&quot;&lt;/low_fence_&gt;&quot;</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;high_fence_&gt;&quot;</span> &lt;&lt; assorted::Hex(v.get_high_fence(), 16) &lt;&lt; <span class="stringliteral">&quot;&lt;/high_fence_&gt;&quot;</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;foster_fence_&gt;&quot;</span> &lt;&lt; assorted::Hex(v.get_foster_fence(), 16) &lt;&lt; <span class="stringliteral">&quot;&lt;/foster_fence_&gt;&quot;</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;&lt;foster_minor&gt;&quot;</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="namespacefoedus_1_1storage.html#aec42af7f9b4a4e69d21138249281545c">describe_volatile_pointer</a>(&amp;o, v.get_foster_minor());</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/foster_minor&gt;&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;&lt;foster_major&gt;&quot;</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="namespacefoedus_1_1storage.html#aec42af7f9b4a4e69d21138249281545c">describe_volatile_pointer</a>(&amp;o, v.get_foster_major());</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/foster_major&gt;&quot;</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1storage_html_aec42af7f9b4a4e69d21138249281545c"><div class="ttname"><a href="namespacefoedus_1_1storage.html#aec42af7f9b4a4e69d21138249281545c">foedus::storage::describe_volatile_pointer</a></div><div class="ttdeci">void describe_volatile_pointer(std::ostream *o, VolatilePagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8cpp_source.html#l00044">storage_id.cpp:44</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage.html#aec42af7f9b4a4e69d21138249281545c" title="foedus::storage::describe\l_volatile_pointer" alt="" coords="311,64,479,105"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a44cc8d18dc9077ae2310667e88ed5b7c" title="foedus::storage::masstree\l::MasstreePage::get_foster_fence" alt="" coords="286,129,503,171"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a27d301fad7d4d340cd2d6255dc330607" title="foedus::storage::masstree\l::MasstreePage::get_foster_major" alt="" coords="285,195,504,236"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a32653a16ddca213c94560652e9388dd5" title="foedus::storage::masstree\l::MasstreePage::get_foster_minor" alt="" coords="285,260,504,301"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="290,325,499,367"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="293,391,497,432"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="308,456,481,497"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="552,5,745,47"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="793,93,955,135"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="568,123,729,164"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a76d989a7033cb8a6e331aea7e8a77475_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#acb6f7508993143f1f48a064ff4b79fda" title="foedus::storage::masstree\l::operator\&lt;\&lt;" alt="" coords="285,5,459,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a51b8fa58d4a0c9481b69bcfb5c5a3493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::design_partition_first_parallel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>subtree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>subtree_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html">OwnerSamples</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00155">155</a> of file <a class="el" href="masstree__partitioner__impl_8cpp_source.html">masstree_partitioner_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00124">design_partition_first_parallel_recurse()</a>, <a class="el" href="stop__watch_8hpp_source.html#l00045">foedus::debugging::StopWatch::elapsed_us()</a>, <a class="el" href="engine__memory_8hpp_source.html#l00090">foedus::memory::EngineMemory::get_global_volatile_page_resolver()</a>, <a class="el" href="engine_8cpp_source.html#l00050">foedus::Engine::get_memory_manager()</a>, <a class="el" href="page__resolver_8hpp_source.html#l00120">foedus::memory::GlobalVolatilePageResolver::resolve_offset()</a>, and <a class="el" href="stop__watch_8cpp_source.html#l00035">foedus::debugging::StopWatch::stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keyword">const</span> memory::GlobalVolatilePageResolver&amp; resolver</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    = engine-&gt;get_memory_manager()-&gt;get_global_volatile_page_resolver();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(subtree_id &lt; result-&gt;subtrees_);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  debugging::StopWatch watch;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  MasstreePage* page = <span class="keyword">reinterpret_cast&lt;</span>MasstreePage*<span class="keyword">&gt;</span>(resolver.resolve_offset(subtree));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  assorted::UniformRandom unirand(subtree_id);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#aed9170c9da66086329b6b675be8b4126">design_partition_first_parallel_recurse</a>(resolver, page, subtree_id, result, &amp;unirand);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  watch.stop();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  VLOG(0) &lt;&lt; <span class="stringliteral">&quot;Subtree-&quot;</span> &lt;&lt; subtree_id &lt;&lt; <span class="stringliteral">&quot; done in &quot;</span> &lt;&lt; watch.elapsed_us() &lt;&lt; <span class="stringliteral">&quot;us&quot;</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_aed9170c9da66086329b6b675be8b4126"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#aed9170c9da66086329b6b675be8b4126">foedus::storage::masstree::design_partition_first_parallel_recurse</a></div><div class="ttdeci">void design_partition_first_parallel_recurse(const memory::GlobalVolatilePageResolver &amp;resolver, const MasstreePage *page, uint32_t subtree_id, OwnerSamples *result, assorted::UniformRandom *unirand)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__partitioner__impl_8cpp_source.html#l00124">masstree_partitioner_impl.cpp:124</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a51b8fa58d4a0c9481b69bcfb5c5a3493_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a51b8fa58d4a0c9481b69bcfb5c5a3493_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a51b8fa58d4a0c9481b69bcfb5c5a3493_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a51b8fa58d4a0c9481b69bcfb5c5a3493_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#aed9170c9da66086329b6b675be8b4126" title="foedus::storage::masstree\l::design_partition_first\l_parallel_recurse" alt="" coords="245,166,419,222"/>
<area shape="rect" id="node10" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="485,304,688,345"/>
<area shape="rect" id="node16" href="classfoedus_1_1debugging_1_1StopWatch.html#a7f1f05f4dd494dd57c3ecafb5d9131fb" title="foedus::debugging::\lStopWatch::elapsed_us" alt="" coords="251,329,413,371"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="227,395,437,451"/>
<area shape="rect" id="node18" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="265,476,399,517"/>
<area shape="rect" id="node19" href="classfoedus_1_1debugging_1_1StopWatch.html#a2ee5315a0f6bf736a2a73b29b1709bd2" title="Take another current time tick. " alt="" coords="265,541,399,583"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="500,239,673,280"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html#a37cbcd872f616867401403f7c6a5eef8" title="foedus::storage::masstree\l::OwnerSamples::increment" alt="" coords="495,5,678,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="750,56,925,97"/>
<area shape="rect" id="node7" href="classfoedus_1_1assorted_1_1UniformRandom.html#a5aba938f3a43d80fbfcca815637bbcfc" title="foedus::assorted::Uniform\lRandom::next_uint32" alt="" coords="501,173,672,215"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="757,121,918,163"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="987,73,1177,115"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1001,171,1163,212"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="760,187,915,228"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1007,368,1157,409"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="751,252,924,293"/>
<area shape="rect" id="node15" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="736,318,939,374"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1005,259,1159,300"/>
<area shape="rect" id="node20" href="classfoedus_1_1debugging_1_1StopWatch.html#adacc2b7108e7b4df019cc79733050b8c" title="foedus::debugging::\lStopWatch::elapsed_ns" alt="" coords="506,508,667,549"/>
<area shape="rect" id="node21" href="namespacefoedus_1_1debugging.html#a35a786b0492e9799cb74359408079091" title="foedus::debugging::\lget_now_nanosec" alt="" coords="519,573,654,615"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed9170c9da66086329b6b675be8b4126"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::design_partition_first_parallel_recurse </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;&#160;</td>
          <td class="paramname"><em>resolver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>subtree_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html">OwnerSamples</a> *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1assorted_1_1UniformRandom.html">assorted::UniformRandom</a> *&#160;</td>
          <td class="paramname"><em>unirand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00124">124</a> of file <a class="el" href="masstree__partitioner__impl_8cpp_source.html">masstree_partitioner_impl.cpp</a>.</p>

<p>References <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>, <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00178">foedus::storage::masstree::OwnerSamples::increment()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00084">foedus::storage::masstree::MasstreePage::is_border()</a>, <a class="el" href="storage__id_8hpp_source.html#l00210">foedus::storage::VolatilePagePointer::is_null()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="uniform__random_8hpp_source.html#l00106">foedus::assorted::UniformRandom::next_uint32()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00278">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::pointers_</a>, <a class="el" href="page__resolver_8hpp_source.html#l00120">foedus::memory::GlobalVolatilePageResolver::resolve_offset()</a>, <a class="el" href="page_8hpp_source.html#l00251">foedus::storage::PageHeader::stat_last_updater_node_</a>, and <a class="el" href="storage__id_8hpp_source.html#l00308">foedus::storage::DualPagePointer::volatile_pointer_</a>.</p>

<p>Referenced by <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00155">design_partition_first_parallel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                  {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  uint32_t node = page-&gt;header().stat_last_updater_node_;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  result-&gt;increment(node, subtree_id);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// we don&#39;t care foster twins. this is just for sampling.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (!page-&gt;is_border()) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>* casted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>MasstreeIntermediatePage*<span class="keyword">&gt;</span>(page);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">const</span> uint32_t kSamplingWidth = 3;  <span class="comment">// follow this many pointers per page.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">for</span> (uint32_t rep = 0; rep &lt; kSamplingWidth; ++rep) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      uint32_t index = unirand-&gt;next_uint32() % (casted-&gt;get_key_count() + 1U);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keyword">const</span> MasstreeIntermediatePage::MiniPage&amp; minipage = casted-&gt;get_minipage(index);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      uint32_t index_mini = unirand-&gt;next_uint32() % (minipage.key_count_ + 1U);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      VolatilePagePointer pointer = minipage.pointers_[index_mini].volatile_pointer_;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">if</span> (pointer.is_null()) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">// because now this page might be changing, this is possible</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      MasstreePage* child = <span class="keyword">reinterpret_cast&lt;</span>MasstreePage*<span class="keyword">&gt;</span>(resolver.resolve_offset(pointer));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#aed9170c9da66086329b6b675be8b4126">design_partition_first_parallel_recurse</a>(resolver, child, subtree_id, result, unirand);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// so far do not bother going down to next layer. the border page&#39;s owner probably</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// represents it well. it might not, but a worst case always exists (such as just 1 page</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// in the first layer.. in that case anyway no luck).</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_aed9170c9da66086329b6b675be8b4126"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#aed9170c9da66086329b6b675be8b4126">foedus::storage::masstree::design_partition_first_parallel_recurse</a></div><div class="ttdeci">void design_partition_first_parallel_recurse(const memory::GlobalVolatilePageResolver &amp;resolver, const MasstreePage *page, uint32_t subtree_id, OwnerSamples *result, assorted::UniformRandom *unirand)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__partitioner__impl_8cpp_source.html#l00124">masstree_partitioner_impl.cpp:124</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_cgraph" id="namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="241,5,415,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html#a37cbcd872f616867401403f7c6a5eef8" title="foedus::storage::masstree\l::OwnerSamples::increment" alt="" coords="237,71,419,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="491,96,666,137"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="498,161,659,203"/>
<area shape="rect" id="node8" href="classfoedus_1_1assorted_1_1UniformRandom.html#a5aba938f3a43d80fbfcca815637bbcfc" title="foedus::assorted::Uniform\lRandom::next_uint32" alt="" coords="243,340,413,381"/>
<area shape="rect" id="node9" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="227,275,429,316"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="728,113,919,155"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="743,211,904,252"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="501,227,656,268"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="749,404,898,445"/>
<area shape="rect" id="node13" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="492,292,665,333"/>
<area shape="rect" id="node14" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="477,358,680,414"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="746,312,901,353"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_icgraph" id="namespacefoedus_1_1storage_1_1masstree_aed9170c9da66086329b6b675be8b4126_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a51b8fa58d4a0c9481b69bcfb5c5a3493" title="foedus::storage::masstree\l::design_partition_first\l_parallel" alt="" coords="227,5,400,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1a5bea4010c2c465bafdec7e4a407123"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t foedus::storage::masstree::extract_page_layer </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>in_page_pointer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve masstree layer information from the header of the page that contains the pointer. </p>
<p>We initially stored layer information in the log, but that might be incorrect when someone moves the record to next layer between log creation and record locking, so we now extract it in apply_record(). </p>

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00072">72</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="page_8hpp_source.html#l00336">foedus::storage::Page::get_header()</a>, <a class="el" href="page_8hpp_source.html#l00226">foedus::storage::PageHeader::masstree_layer_</a>, and <a class="el" href="page_8hpp_source.html#l00395">foedus::storage::to_page()</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00248">foedus::storage::masstree::MasstreeCommonLogType::apply_record_prepare()</a>, and <a class="el" href="masstree__log__types_8hpp_source.html#l00148">foedus::storage::masstree::MasstreeCommonLogType::equal_record_and_log_suffixes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                                               {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keyword">const</span> Page* page = <a class="code" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">to_page</a>(in_page_pointer);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> page-&gt;get_header().masstree_layer_;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_gaa114fc1859c2d4cb8b9e2021cb11cb25"><div class="ttname"><a href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">foedus::storage::to_page</a></div><div class="ttdeci">Page * to_page(const void *address)</div><div class="ttdoc">super-dirty way to obtain Page the address belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00395">page.hpp:395</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="235,5,384,47"/>
<area shape="rect" id="node3" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="227,71,392,98"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a1a5bea4010c2c465bafdec7e4a407123_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aec913d81af968b22bfd4be9956d59b37" title="Common parts of apply_record() in these log types that extract relevant addresses from the record hea..." alt="" coords="238,5,422,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a290b894a14cac91b105ecbab235c0a2d" title="used only for sanity check. " alt="" coords="227,85,433,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a61b432f0c51daf807b4b1c6a6a298089"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::fill_payload_padded </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__composer__impl_8cpp_source.html#l00048">48</a> of file <a class="el" href="masstree__composer__impl_8cpp_source.html">masstree_composer_impl.cpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>, <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00314">is_key_aligned_and_zero_padded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (count &gt; 0) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">is_key_aligned_and_zero_padded</a>(source, count));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    std::memcpy(destination, source, <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(count));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><div class="ttname"><a href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">foedus::storage::masstree::is_key_aligned_and_zero_padded</a></div><div class="ttdeci">bool is_key_aligned_and_zero_padded(const char *key, KeyLength key_length)</div><div class="ttdoc">Returns if the given key is 8-bytes aligned and also zero-padded to 8-bytes for easier slicing (which...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00314">masstree_id.hpp:314</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a61b432f0c51daf807b4b1c6a6a298089_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a61b432f0c51daf807b4b1c6a6a298089_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a61b432f0c51daf807b4b1c6a6a298089_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a61b432f0c51daf807b4b1c6a6a298089_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="259,5,419,32"/>
<area shape="rect" id="node3" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0" title="Returns if the given key is 8&#45;bytes aligned and also zero&#45;padded to 8&#45;bytes for easier slicing (which..." alt="" coords="227,57,452,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad5bde8a81bd922e388c91d1aaeac1411"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::from_this_snapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Composer_1_1ConstructRootArguments">Composer::ConstructRootArguments</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__composer__impl_8cpp_source.html#l00102">102</a> of file <a class="el" href="masstree__composer__impl_8cpp_source.html">masstree_composer_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage__id_8hpp_source.html#l00098">foedus::storage::extract_snapshot_id_from_snapshot_pointer()</a>, <a class="el" href="snapshot__writer__impl_8hpp_source.html#l00116">foedus::snapshot::SnapshotWriter::get_snapshot_id()</a>, <a class="el" href="snapshot__id_8hpp_source.html#l00045">foedus::snapshot::kNullSnapshotId</a>, and <a class="el" href="composer_8hpp_source.html#l00126">foedus::storage::Composer::ConstructRootArguments::snapshot_writer_</a>.</p>

<p>Referenced by <a class="el" href="masstree__composer__impl_8cpp_source.html#l00111">foedus::storage::masstree::MasstreeComposer::construct_root()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                                                                                 {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (pointer == 0) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">snapshot::SnapshotId</a> snapshot_id = <a class="code" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c">extract_snapshot_id_from_snapshot_pointer</a>(pointer);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(snapshot_id != <a class="code" href="namespacefoedus_1_1snapshot.html#a26a2120f7b28c565f2d22ff799ee2280">snapshot::kNullSnapshotId</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">return</span> snapshot_id == args.snapshot_writer_-&gt;get_snapshot_id();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1storage_html_a82df0b3921d7c863275baf4f9c59959c"><div class="ttname"><a href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c">foedus::storage::extract_snapshot_id_from_snapshot_pointer</a></div><div class="ttdeci">uint16_t extract_snapshot_id_from_snapshot_pointer(SnapshotPagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00098">storage_id.hpp:98</a></div></div>
<div class="ttc" id="group__SNAPSHOT_html_gaec32eb05303ebec1048d120f73295031"><div class="ttname"><a href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">foedus::snapshot::SnapshotId</a></div><div class="ttdeci">uint16_t SnapshotId</div><div class="ttdoc">Unique ID of Snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="snapshot__id_8hpp_source.html#l00043">snapshot_id.hpp:43</a></div></div>
<div class="ttc" id="namespacefoedus_1_1snapshot_html_a26a2120f7b28c565f2d22ff799ee2280"><div class="ttname"><a href="namespacefoedus_1_1snapshot.html#a26a2120f7b28c565f2d22ff799ee2280">foedus::snapshot::kNullSnapshotId</a></div><div class="ttdeci">const SnapshotId kNullSnapshotId</div><div class="ttdef"><b>Definition:</b> <a href="snapshot__id_8hpp_source.html#l00045">snapshot_id.hpp:45</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_cgraph" id="namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="227,5,417,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1snapshot_1_1SnapshotWriter.html#ad4209f06409d52c010aac8bf98660dbe" title="foedus::snapshot::Snapshot\lWriter::get_snapshot_id" alt="" coords="230,86,414,127"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_icgraph" id="namespacefoedus_1_1storage_1_1masstree_ad5bde8a81bd922e388c91d1aaeac1411_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#a45eb1cba6ccf8f51c973030848a47a9d" title="foedus::storage::masstree\l::MasstreeComposer::construct_root" alt="" coords="227,5,461,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="509,5,688,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a38db26f5c8d1d4869430a6b580209022"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1xct_1_1XctId.html">xct::XctId</a> foedus::storage::masstree::get_initial_xid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00031">31</a> of file <a class="el" href="masstree__reserve__impl_8cpp_source.html">masstree_reserve_impl.cpp</a>.</p>

<p>References <a class="el" href="epoch_8hpp_source.html#l00077">foedus::Epoch::kEpochInitialCurrent</a>, and <a class="el" href="xct__id_8hpp_source.html#l00958">foedus::xct::XctId::set()</a>.</p>

<p>Referenced by <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                  {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  xct::XctId initial_id;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  initial_id.set(</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    Epoch::kEpochInitialCurrent,  <span class="comment">// TODO(Hideaki) this should be something else</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    0);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> initial_id;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1xct_1_1XctId.html#ad18a2d4a528fa063786b6efaf1035377" title="foedus::xct::XctId::set" alt="" coords="227,13,375,39"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a38db26f5c8d1d4869430a6b580209022_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="227,5,400,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a554f6fb34b45687df09df15076aac190"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::grow_case_a_common </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">DualPagePointer</a> *&#160;</td>
          <td class="paramname"><em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *&#160;</td>
          <td class="paramname"><em>cur_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__grow__impl_8cpp_source.html#l00036">36</a> of file <a class="el" href="masstree__grow__impl_8cpp_source.html">masstree_grow_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="thread_8cpp_source.html#l00113">foedus::thread::Thread::collect_retired_volatile_page()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00109">foedus::storage::masstree::MasstreePage::get_foster_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00113">foedus::storage::masstree::MasstreePage::get_foster_major()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00112">foedus::storage::masstree::MasstreePage::get_foster_minor()</a>, <a class="el" href="thread_8cpp_source.html#l00125">foedus::thread::Thread::get_global_volatile_page_resolver()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00099">foedus::storage::masstree::MasstreePage::get_high_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00098">foedus::storage::masstree::MasstreePage::get_low_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00164">foedus::storage::masstree::MasstreePage::get_version_address()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00075">foedus::storage::masstree::MasstreePage::get_volatile_page_id()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00097">foedus::storage::masstree::MasstreePage::is_empty_range()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00168">foedus::storage::masstree::MasstreePage::is_locked()</a>, <a class="el" href="page_8hpp_source.html#l00061">foedus::storage::PageVersionStatus::kRetiredBit</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00172">foedus::storage::masstree::MasstreePage::set_retired()</a>, <a class="el" href="page_8hpp_source.html#l00211">foedus::storage::PageHeader::snapshot_</a>, <a class="el" href="page_8hpp_source.html#l00111">foedus::storage::PageVersionStatus::status_</a>, <a class="el" href="page_8hpp_source.html#l00172">foedus::storage::PageVersion::status_</a>, and <a class="el" href="storage__id_8hpp_source.html#l00308">foedus::storage::DualPagePointer::volatile_pointer_</a>.</p>

<p>Referenced by <a class="el" href="masstree__grow__impl_8cpp_source.html#l00119">foedus::storage::masstree::GrowFirstLayerRoot::run()</a>, and <a class="el" href="masstree__grow__impl_8cpp_source.html#l00167">foedus::storage::masstree::GrowNonFirstLayerRoot::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                          {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_root-&gt;is_locked());</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; resolver = context-&gt;get_global_volatile_page_resolver();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  MasstreePage* minor</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    = <span class="keyword">reinterpret_cast&lt;</span>MasstreePage*<span class="keyword">&gt;</span>(resolver.resolve_offset(cur_root-&gt;get_foster_minor()));</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  MasstreePage* major</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    = <span class="keyword">reinterpret_cast&lt;</span>MasstreePage*<span class="keyword">&gt;</span>(resolver.resolve_offset(cur_root-&gt;get_foster_major()));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(minor-&gt;get_low_fence() == cur_root-&gt;get_low_fence());</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(minor-&gt;get_high_fence() == cur_root-&gt;get_foster_fence());</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(major-&gt;get_low_fence() == cur_root-&gt;get_foster_fence());</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(major-&gt;get_high_fence() == cur_root-&gt;get_high_fence());</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!minor-&gt;header().snapshot_);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!major-&gt;header().snapshot_);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(minor-&gt;is_empty_range() != major-&gt;is_empty_range());</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  VolatilePagePointer nonempty_pointer;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  MasstreePage* empty_child;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span> (minor-&gt;is_empty_range()) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    empty_child = minor;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    nonempty_pointer = cur_root-&gt;get_foster_major();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    empty_child = major;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    nonempty_pointer = cur_root-&gt;get_foster_minor();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// snapshot pointer does NOT have to be reset. This is still logically the same page.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  pointer-&gt;volatile_pointer_ = nonempty_pointer;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// Same as Adopt::adopt_case_a()</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!empty_child-&gt;is_locked());</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  empty_child-&gt;get_version_address()-&gt;status_.status_ |= PageVersionStatus::kRetiredBit;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  context-&gt;collect_retired_volatile_page(empty_child-&gt;get_volatile_page_id());</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  cur_root-&gt;set_retired();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  context-&gt;collect_retired_volatile_page(cur_root-&gt;get_volatile_page_id());</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="240,165,432,207"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a44cc8d18dc9077ae2310667e88ed5b7c" title="foedus::storage::masstree\l::MasstreePage::get_foster_fence" alt="" coords="227,231,445,272"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a27d301fad7d4d340cd2d6255dc330607" title="foedus::storage::masstree\l::MasstreePage::get_foster_major" alt="" coords="227,296,445,337"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a32653a16ddca213c94560652e9388dd5" title="foedus::storage::masstree\l::MasstreePage::get_foster_minor" alt="" coords="227,361,445,403"/>
<area shape="rect" id="node36" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="261,427,411,483"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="231,508,441,549"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="234,573,438,615"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abbc553596fb9e1dc115e3aaccf3352f9" title="foedus::storage::masstree\l::MasstreePage::get_version\l_address" alt="" coords="243,639,429,695"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a8f8883172f7ee3c48a1609df044c3964" title="foedus::storage::masstree\l::MasstreePage::get_volatile\l_page_id" alt="" coords="243,719,429,775"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="249,800,423,841"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663" title="An empty&#45;range page, either intermediate or border, never has any entries. " alt="" coords="229,865,443,907"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a16a2c06a304514be7b99fb6c884e7e9b" title="foedus::storage::masstree\l::MasstreePage::is_locked" alt="" coords="501,35,678,76"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ad5263d631cad896c0494597018d72a8f" title="foedus::storage::masstree\l::MasstreePage::set_retired" alt="" coords="245,100,427,141"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="493,1023,685,1064"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a28d4f2f16808e20d2d174f12ff1c7317" title="Subroutine of collect_retired_volatile_page() just for assertion. " alt="" coords="753,1088,937,1129"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1519,1449,1680,1491"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="749,1285,942,1327"/>
<area shape="rect" id="node14" href="classfoedus_1_1Engine.html#a48d5e1f7ce2f70161c253f650c75ed95" title="See Transaction Manager. " alt="" coords="1045,792,1180,833"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1XctManager.html#a4578dd6dab7925b95d7810335ae5cec0" title="foedus::xct::XctManager\l::get_current_global_epoch_weak" alt="" coords="738,1023,953,1064"/>
<area shape="rect" id="node17" href="classfoedus_1_1Epoch.html#a786afd92afdc87b54dfa11ef093f06f3" title="foedus::Epoch::one_more" alt="" coords="760,1154,931,1181"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad0624fe34e52c0904ee449c97f0325c5" title="foedus::memory::NumaCore\lMemory::get_retired_volatile\l_pool_chunk" alt="" coords="753,1205,937,1261"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#acac2755ecb22d4539c3d6bb44538240d" title="foedus::memory::PagePool\lOffsetAndEpochChunk::full" alt="" coords="1023,188,1202,229"/>
<area shape="rect" id="node20" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="753,531,937,572"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#aae530fb2917cf0f6329ac323f1da7c8c" title="foedus::memory::PagePool\lOffsetAndEpochChunk::push_back" alt="" coords="733,941,957,983"/>
<area shape="rect" id="node5" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1011,1273,1214,1315"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1525,1215,1674,1256"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageVersion.html#a61318d7aab5c4ca7334ec05f8de168ca" title="foedus::storage::PageVersion\l::is_retired" alt="" coords="1017,1105,1209,1147"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1292,1420,1447,1461"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1283,1273,1456,1315"/>
<area shape="rect" id="node10" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1268,1339,1471,1395"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ab07c3c3d030fab04f79b59dee83ecd2e" title="foedus::storage::PageVersion\lStatus::is_retired" alt="" coords="1273,460,1465,501"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch_weak" alt="" coords="1005,1040,1220,1081"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#ad99e5b875980b442bf5de61fb022f0ac" title="foedus::memory::PagePool\lOffsetAndEpochChunk::size" alt="" coords="1020,531,1205,572"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#a7d9aa924c48bd26b4dd208d4a9333127" title="Returns the number of offsets (always from index&#45;0) whose safe_epoch_ is strictly&#45;before the given ep..." alt="" coords="1023,254,1202,310"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1XctManager.html#aa75089821b48c98a00cd7e4ddc0615da" title="Requests to advance the current global epoch as soon as possible and blocks until it actually does..." alt="" coords="1009,596,1216,637"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1XctManager.html#a419a270d62522ede9bd871dd4adc0e2a" title="Returns the current global epoch, the epoch a newly started transaction will be in. " alt="" coords="1023,661,1202,703"/>
<area shape="rect" id="node26" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="1045,727,1180,768"/>
<area shape="rect" id="node27" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="1007,335,1218,376"/>
<area shape="rect" id="node28" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="1017,400,1208,441"/>
<area shape="rect" id="node29" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463" title="Returns the specified number of free pages from the chunk. " alt="" coords="1023,465,1202,507"/>
<area shape="rect" id="node23" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="1298,693,1441,719"/>
<area shape="rect" id="node31" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1023,909,1202,951"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="1023,975,1202,1016"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1PageVersion.html#a301cba19b01cf82d7b576a04180b56e2" title="foedus::storage::PageVersion\l::is_locked" alt="" coords="749,35,941,76"/>
<area shape="rect" id="node45" href="structfoedus_1_1xct_1_1McsWwLock.html#abe15a0d250a2186ac534fc5d2d0b7f8e" title="This is a &quot;relaxed&quot; check. " alt="" coords="1028,5,1197,47"/>
<area shape="rect" id="node46" href="structfoedus_1_1xct_1_1McsWwBlockData.html#aa6a3e9b495bb234bf4c840a0e43d082e" title="foedus::xct::McsWwBlockData\l::is_valid_relaxed" alt="" coords="1269,5,1470,47"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1PageVersion.html#a018b79a89f8e665d8f0bb22023f3dad7" title="foedus::storage::PageVersion\l::set_retired" alt="" coords="493,100,685,141"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1PageVersionStatus.html#afc82a65bfa02d55987e2ef4533171f11" title="foedus::storage::PageVersion\lStatus::set_retired" alt="" coords="749,100,941,141"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="1017,71,1209,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a554f6fb34b45687df09df15076aac190_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="237,5,411,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="227,71,421,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9747d159e12f82f5fefcaed735947480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::grow_case_b_common </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">DualPagePointer</a> *&#160;</td>
          <td class="paramname"><em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *&#160;</td>
          <td class="paramname"><em>cur_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">76</a> of file <a class="el" href="masstree__grow__impl_8cpp_source.html">masstree_grow_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="thread_8cpp_source.html#l00113">foedus::thread::Thread::collect_retired_volatile_page()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00146">foedus::storage::masstree::MasstreePage::get_btree_level()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00109">foedus::storage::masstree::MasstreePage::get_foster_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00113">foedus::storage::masstree::MasstreePage::get_foster_major()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00112">foedus::storage::masstree::MasstreePage::get_foster_minor()</a>, <a class="el" href="thread_8cpp_source.html#l00125">foedus::thread::Thread::get_global_volatile_page_resolver()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00144">foedus::storage::masstree::MasstreePage::get_layer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage()</a>, <a class="el" href="thread_8cpp_source.html#l00057">foedus::thread::Thread::get_thread_memory()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00075">foedus::storage::masstree::MasstreePage::get_volatile_page_id()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00208">foedus::memory::NumaCoreMemory::grab_free_volatile_page_pointer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00088">foedus::storage::masstree::MasstreeIntermediatePage::initialize_volatile_page()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00168">foedus::storage::masstree::MasstreePage::is_locked()</a>, <a class="el" href="storage__id_8hpp_source.html#l00210">foedus::storage::VolatilePagePointer::is_null()</a>, <a class="el" href="error__code_8hpp_source.html#l00142">foedus::kErrorCodeMemoryNoFreePages</a>, <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>, <a class="el" href="page_8hpp_source.html#l00219">foedus::storage::PageHeader::key_count_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="masstree__id_8hpp_source.html#l00132">kInfimumSlice</a>, <a class="el" href="masstree__id_8hpp_source.html#l00137">kSupremumSlice</a>, <a class="el" href="atomic__fences_8hpp_source.html#l00058">foedus::assorted::memory_fence_release()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00172">foedus::storage::masstree::MasstreePage::set_retired()</a>, <a class="el" href="page_8hpp_source.html#l00196">foedus::storage::PageHeader::storage_id_</a>, and <a class="el" href="storage__id_8hpp_source.html#l00308">foedus::storage::DualPagePointer::volatile_pointer_</a>.</p>

<p>Referenced by <a class="el" href="masstree__grow__impl_8cpp_source.html#l00119">foedus::storage::masstree::GrowFirstLayerRoot::run()</a>, and <a class="el" href="masstree__grow__impl_8cpp_source.html#l00167">foedus::storage::masstree::GrowNonFirstLayerRoot::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                          {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_root-&gt;is_locked());</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; resolver = context-&gt;get_global_volatile_page_resolver();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// In this case, we create a new intermediate page.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  memory::NumaCoreMemory* memory = context-&gt;get_thread_memory();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  VolatilePagePointer new_pointer = memory-&gt;grab_free_volatile_page_pointer();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (new_pointer.is_null()) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a2ddd0cd462e4ae138f0e572106ad098c">kErrorCodeMemoryNoFreePages</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  MasstreeIntermediatePage* new_root = <span class="keyword">reinterpret_cast&lt;</span>MasstreeIntermediatePage*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    resolver.resolve_offset_newpage(new_pointer));</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  new_root-&gt;initialize_volatile_page(</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    cur_root-&gt;header().storage_id_,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    new_pointer,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    cur_root-&gt;get_layer(),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    cur_root-&gt;get_btree_level() + 1U,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a9cffc20f29ad72d4edbeedece861c48f">kInfimumSlice</a>,    <span class="comment">// infimum slice</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7bfcd277a96bcd1e9008459abe1ec40d">kSupremumSlice</a>);   <span class="comment">// high-fence is supremum</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  new_root-&gt;header().key_count_ = 0;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keyword">auto</span>&amp; mini_page = new_root-&gt;get_minipage(0);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  mini_page.key_count_ = 1;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  mini_page.pointers_[0].snapshot_pointer_ = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  mini_page.pointers_[0].volatile_pointer_ = cur_root-&gt;get_foster_minor();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  mini_page.pointers_[1].snapshot_pointer_ = 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  mini_page.pointers_[1].volatile_pointer_ = cur_root-&gt;get_foster_major();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  mini_page.separators_[0] = cur_root-&gt;get_foster_fence();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// Let&#39;s install a pointer to the new root page</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7">assorted::memory_fence_release</a>();  <span class="comment">// must be after populating the new_root.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// snapshot pointer does NOT have to be reset. This is still logically the same page.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  pointer-&gt;volatile_pointer_ = new_pointer;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// the old root page is now retired</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  cur_root-&gt;set_retired();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  context-&gt;collect_retired_volatile_page(cur_root-&gt;get_volatile_page_id());</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a9cffc20f29ad72d4edbeedece861c48f"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a9cffc20f29ad72d4edbeedece861c48f">foedus::storage::masstree::kInfimumSlice</a></div><div class="ttdeci">const KeySlice kInfimumSlice</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00132">masstree_id.hpp:132</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a2ddd0cd462e4ae138f0e572106ad098c"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a2ddd0cd462e4ae138f0e572106ad098c">foedus::kErrorCodeMemoryNoFreePages</a></div><div class="ttdoc">0x0301 : "MEMORY : Not enough free volatile pages. Check the config of MemoryOptions" ...</div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00142">error_code.hpp:142</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a7bfcd277a96bcd1e9008459abe1ec40d"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a7bfcd277a96bcd1e9008459abe1ec40d">foedus::storage::masstree::kSupremumSlice</a></div><div class="ttdeci">const KeySlice kSupremumSlice</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00137">masstree_id.hpp:137</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__ASSORTED_html_gafc1110de4c6bb85c7e1f7feccc27f6d7"><div class="ttname"><a href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7">foedus::assorted::memory_fence_release</a></div><div class="ttdeci">void memory_fence_release()</div><div class="ttdoc">Equivalent to std::atomic_thread_fence(std::memory_order_release). </div><div class="ttdef"><b>Definition:</b> <a href="atomic__fences_8hpp_source.html#l00058">atomic_fences.hpp:58</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="240,623,432,664"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab55e48873dcf5700871a035c65bfa588" title="used only in masstree. " alt="" coords="232,915,440,956"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a44cc8d18dc9077ae2310667e88ed5b7c" title="foedus::storage::masstree\l::MasstreePage::get_foster_fence" alt="" coords="227,980,445,1021"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a27d301fad7d4d340cd2d6255dc330607" title="foedus::storage::masstree\l::MasstreePage::get_foster_major" alt="" coords="227,1045,445,1087"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a32653a16ddca213c94560652e9388dd5" title="foedus::storage::masstree\l::MasstreePage::get_foster_minor" alt="" coords="227,1111,445,1152"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="261,1177,411,1233"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="249,1257,423,1299"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="506,1309,691,1365"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#a4e553f5e14ec00d8ba23fbdfa26d687e" title="Returns the private memory repository of this thread. " alt="" coords="261,1455,411,1496"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a8f8883172f7ee3c48a1609df044c3964" title="foedus::storage::masstree\l::MasstreePage::get_volatile\l_page_id" alt="" coords="243,1521,429,1577"/>
<area shape="rect" id="node34" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="244,834,428,890"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="249,1601,423,1643"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#ab25cb34a8304c744bf309cc02b515e72" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::initialize_volatile_page" alt="" coords="243,1374,429,1430"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a16a2c06a304514be7b99fb6c884e7e9b" title="foedus::storage::masstree\l::MasstreePage::is_locked" alt="" coords="510,1656,687,1697"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="518,776,679,817"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="249,1784,423,1825"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ad5263d631cad896c0494597018d72a8f" title="foedus::storage::masstree\l::MasstreePage::set_retired" alt="" coords="245,1719,427,1760"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="503,557,695,599"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a28d4f2f16808e20d2d174f12ff1c7317" title="Subroutine of collect_retired_volatile_page() just for assertion. " alt="" coords="772,688,956,729"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="767,557,961,599"/>
<area shape="rect" id="node9" href="classfoedus_1_1Engine.html#a48d5e1f7ce2f70161c253f650c75ed95" title="See Transaction Manager. " alt="" coords="1064,413,1199,455"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1XctManager.html#a4578dd6dab7925b95d7810335ae5cec0" title="foedus::xct::XctManager\l::get_current_global_epoch_weak" alt="" coords="757,623,971,664"/>
<area shape="rect" id="node12" href="classfoedus_1_1Epoch.html#a786afd92afdc87b54dfa11ef093f06f3" title="foedus::Epoch::one_more" alt="" coords="779,375,949,402"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad0624fe34e52c0904ee449c97f0325c5" title="foedus::memory::NumaCore\lMemory::get_retired_volatile\l_pool_chunk" alt="" coords="772,426,956,482"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#acac2755ecb22d4539c3d6bb44538240d" title="foedus::memory::PagePool\lOffsetAndEpochChunk::full" alt="" coords="1042,492,1221,533"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="772,259,956,300"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#aae530fb2917cf0f6329ac323f1da7c8c" title="foedus::memory::PagePool\lOffsetAndEpochChunk::push_back" alt="" coords="752,753,976,795"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="783,819,945,860"/>
<area shape="rect" id="node5" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1030,715,1233,756"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1287,685,1436,727"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1PageVersion.html#a61318d7aab5c4ca7334ec05f8de168ca" title="foedus::storage::PageVersion\l::is_retired" alt="" coords="1035,780,1227,821"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch_weak" alt="" coords="1024,597,1239,639"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#ad99e5b875980b442bf5de61fb022f0ac" title="foedus::memory::PagePool\lOffsetAndEpochChunk::size" alt="" coords="1039,267,1224,308"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#a7d9aa924c48bd26b4dd208d4a9333127" title="Returns the number of offsets (always from index&#45;0) whose safe_epoch_ is strictly&#45;before the given ep..." alt="" coords="1042,333,1221,389"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1XctManager.html#aa75089821b48c98a00cd7e4ddc0615da" title="Requests to advance the current global epoch as soon as possible and blocks until it actually does..." alt="" coords="1028,5,1235,47"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1XctManager.html#a419a270d62522ede9bd871dd4adc0e2a" title="Returns the current global epoch, the epoch a newly started transaction will be in. " alt="" coords="1042,71,1221,112"/>
<area shape="rect" id="node20" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="1064,136,1199,177"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="1026,201,1237,243"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1042,877,1221,919"/>
<area shape="rect" id="node35" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="493,907,704,948"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="518,841,679,883"/>
<area shape="rect" id="node36" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="775,936,953,977"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa95b56b38e523e345e5fb0283e43d65e" title="foedus::storage::masstree\l::MasstreePage::initialize\l_volatile_common" alt="" coords="512,1389,685,1445"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="769,1363,959,1404"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="761,1428,967,1469"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1PageVersion.html#a301cba19b01cf82d7b576a04180b56e2" title="foedus::storage::PageVersion\l::is_locked" alt="" coords="768,1656,960,1697"/>
<area shape="rect" id="node45" href="structfoedus_1_1xct_1_1McsWwLock.html#abe15a0d250a2186ac534fc5d2d0b7f8e" title="This is a &quot;relaxed&quot; check. " alt="" coords="1047,1656,1216,1697"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1PageVersion.html#a018b79a89f8e665d8f0bb22023f3dad7" title="foedus::storage::PageVersion\l::set_retired" alt="" coords="503,1721,695,1763"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1PageVersionStatus.html#afc82a65bfa02d55987e2ef4533171f11" title="foedus::storage::PageVersion\lStatus::set_retired" alt="" coords="768,1721,960,1763"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a9747d159e12f82f5fefcaed735947480_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="237,5,411,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="227,71,421,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf72e4bd9cb6ee7500a00a64caed0e7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__debug_8cpp_source.html#l00030">30</a> of file <a class="el" href="masstree__page__debug_8cpp_source.html">masstree_page_debug.cpp</a>.</p>

<p>References <a class="el" href="masstree__page__impl_8hpp_source.html#l00084">foedus::storage::masstree::MasstreePage::is_border()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                                                             {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordflow">if</span> (v.is_border()) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    o &lt;&lt; reinterpret_cast&lt;const MasstreeBorderPage&amp;&gt;(v);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    o &lt;&lt; reinterpret_cast&lt;const MasstreeIntermediatePage&amp;&gt;(v);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_acf72e4bd9cb6ee7500a00a64caed0e7a_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_acf72e4bd9cb6ee7500a00a64caed0e7a_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_acf72e4bd9cb6ee7500a00a64caed0e7a_cgraph" id="namespacefoedus_1_1storage_1_1masstree_acf72e4bd9cb6ee7500a00a64caed0e7a_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="227,5,401,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="449,5,640,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeedf507a4d7f2be10cb0621947633fdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadata.html">MasstreeMetadata</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__metadata_8cpp_source.html#l00034">34</a> of file <a class="el" href="masstree__metadata_8cpp_source.html">masstree_metadata.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                                                 {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  o &lt;&lt; MasstreeMetadataSerializer(const_cast&lt;MasstreeMetadata*&gt;(&amp;v));</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a852b9b8d5f797e5d3b41945f0c53e406"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCreateLogType.html">MasstreeCreateLogType</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8cpp_source.html#l00050">50</a> of file <a class="el" href="masstree__log__types_8cpp_source.html">masstree_log_types.cpp</a>.</p>

<p>References <a class="el" href="masstree__log__types_8hpp_source.html#l00059">foedus::storage::masstree::MasstreeCreateLogType::metadata_</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                                      {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeCreateLog&gt;&quot;</span> &lt;&lt; v.metadata_ &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeCreateLog&gt;&quot;</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb6f7508993143f1f48a064ff4b79fda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__debug_8cpp_source.html#l00054">54</a> of file <a class="el" href="masstree__page__debug_8cpp_source.html">masstree_page_debug.cpp</a>.</p>

<p>References <a class="el" href="masstree__page__debug_8cpp_source.html#l00039">describe_masstree_page_common()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00098">foedus::storage::masstree::MasstreePage::get_low_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00324">foedus::storage::masstree::MasstreeIntermediatePage::get_separator()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00097">foedus::storage::masstree::MasstreePage::is_empty_range()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00278">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::pointers_</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00276">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::separators_</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                                                         {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeIntermediatePage&gt;&quot;</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475">describe_masstree_page_common</a>(&amp;o, v);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span> (v.is_empty_range()) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;EmptyRangePage /&gt;&quot;</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt;= v.get_key_count(); ++i) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keyword">const</span> MasstreeIntermediatePage::MiniPage&amp; minipage = v.get_minipage(i);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> minipage_low = i == 0 ? v.get_low_fence() : v.get_separator(i - 1);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;  &lt;Minipage index=\&quot;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot; low=\&quot;&quot;</span> &lt;&lt; assorted::Hex(minipage_low, 16)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot; count=\&quot;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(minipage.key_count_)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">for</span> (uint16_t j = 0; j &lt;= minipage.key_count_; ++j) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;    &lt;Pointer index=\&quot;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(j)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot; low=\&quot;&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            &lt;&lt; assorted::Hex(j == 0 ? minipage_low : minipage.separators_[j - 1], 16)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span> &lt;&lt; minipage.pointers_[j] &lt;&lt; <span class="stringliteral">&quot;&lt;/Pointer&gt;&quot;</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;  &lt;/Minipage&gt;&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeIntermediatePage&gt;&quot;</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a76d989a7033cb8a6e331aea7e8a77475"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475">foedus::storage::masstree::describe_masstree_page_common</a></div><div class="ttdeci">void describe_masstree_page_common(std::ostream *o_ptr, const MasstreePage &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__debug_8cpp_source.html#l00039">masstree_page_debug.cpp:39</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_acb6f7508993143f1f48a064ff4b79fda_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_acb6f7508993143f1f48a064ff4b79fda_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_acb6f7508993143f1f48a064ff4b79fda_cgraph" id="namespacefoedus_1_1storage_1_1masstree_acb6f7508993143f1f48a064ff4b79fda_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475" title="foedus::storage::masstree\l::describe_masstree_page_common" alt="" coords="227,292,459,333"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="514,456,718,497"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="239,477,446,519"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="250,543,435,599"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_separator" alt="" coords="250,623,435,679"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663" title="An empty&#45;range page, either intermediate or border, never has any entries. " alt="" coords="235,704,450,745"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage.html#aec42af7f9b4a4e69d21138249281545c" title="foedus::storage::describe\l_volatile_pointer" alt="" coords="532,64,700,105"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a44cc8d18dc9077ae2310667e88ed5b7c" title="foedus::storage::masstree\l::MasstreePage::get_foster_fence" alt="" coords="507,129,725,171"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a27d301fad7d4d340cd2d6255dc330607" title="foedus::storage::masstree\l::MasstreePage::get_foster_major" alt="" coords="507,195,725,236"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a32653a16ddca213c94560652e9388dd5" title="foedus::storage::masstree\l::MasstreePage::get_foster_minor" alt="" coords="507,260,725,301"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="511,325,721,367"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="529,391,703,432"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="773,5,967,47"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1015,93,1176,135"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="789,123,951,164"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a167badba1d348e17e94d736a8902926e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html">MasstreeInsertLogType</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8cpp_source.html#l00055">55</a> of file <a class="el" href="masstree__log__types_8cpp_source.html">masstree_log_types.cpp</a>.</p>

<p>References <a class="el" href="masstree__log__types_8hpp_source.html#l00104">foedus::storage::masstree::MasstreeCommonLogType::get_key()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00108">foedus::storage::masstree::MasstreeCommonLogType::get_payload()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00088">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a>, and <a class="el" href="masstree__log__types_8hpp_source.html#l00090">foedus::storage::masstree::MasstreeCommonLogType::payload_count_</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                                                      {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeInsertLogType&gt;&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_length_&gt;&quot;</span> &lt;&lt; v.key_length_ &lt;&lt; <span class="stringliteral">&quot;&lt;/key_length_&gt;&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_&gt;&quot;</span> &lt;&lt; assorted::Top(v.get_key(), v.key_length_) &lt;&lt; <span class="stringliteral">&quot;&lt;/key_&gt;&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_count_&gt;&quot;</span> &lt;&lt; v.payload_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_count_&gt;&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_&gt;&quot;</span> &lt;&lt; assorted::Top(v.get_payload(), v.payload_count_) &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_&gt;&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeInsertLogType&gt;&quot;</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a167badba1d348e17e94d736a8902926e_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a167badba1d348e17e94d736a8902926e_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a167badba1d348e17e94d736a8902926e_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a167badba1d348e17e94d736a8902926e_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_key" alt="" coords="227,5,411,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a5f962d3287a41631441deeb70b2ddbc8" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_payload" alt="" coords="227,85,411,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36efb877bd13c6437976bb0783fee1d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html">MasstreeDeleteLogType</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8cpp_source.html#l00065">65</a> of file <a class="el" href="masstree__log__types_8cpp_source.html">masstree_log_types.cpp</a>.</p>

<p>References <a class="el" href="masstree__log__types_8hpp_source.html#l00104">foedus::storage::masstree::MasstreeCommonLogType::get_key()</a>, and <a class="el" href="masstree__log__types_8hpp_source.html#l00088">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                                      {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeDeleteLogType&gt;&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_length_&gt;&quot;</span> &lt;&lt; v.key_length_ &lt;&lt; <span class="stringliteral">&quot;&lt;/key_length_&gt;&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_&gt;&quot;</span> &lt;&lt; assorted::Top(v.get_key(), v.key_length_) &lt;&lt; <span class="stringliteral">&quot;&lt;/key_&gt;&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeDeleteLogType&gt;&quot;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a36efb877bd13c6437976bb0783fee1d3_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a36efb877bd13c6437976bb0783fee1d3_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a36efb877bd13c6437976bb0783fee1d3_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a36efb877bd13c6437976bb0783fee1d3_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_key" alt="" coords="227,5,411,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a025e5b101445ee4dcf5546fbab96112b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">MasstreeStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__storage_8cpp_source.html#l00071">71</a> of file <a class="el" href="masstree__storage_8cpp_source.html">masstree_storage.cpp</a>.</p>

<p>References <a class="el" href="storage_8hpp_source.html#l00145">foedus::storage::Storage&lt; CONTROL_BLOCK &gt;::get_id()</a>, and <a class="el" href="storage_8hpp_source.html#l00155">foedus::storage::Storage&lt; CONTROL_BLOCK &gt;::get_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                                {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeStorage&gt;&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;id&gt;&quot;</span> &lt;&lt; v.get_id() &lt;&lt; <span class="stringliteral">&quot;&lt;/id&gt;&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;name&gt;&quot;</span> &lt;&lt; v.get_name() &lt;&lt; <span class="stringliteral">&quot;&lt;/name&gt;&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeStorage&gt;&quot;</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a025e5b101445ee4dcf5546fbab96112b_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a025e5b101445ee4dcf5546fbab96112b_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a025e5b101445ee4dcf5546fbab96112b_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a025e5b101445ee4dcf5546fbab96112b_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824" title="Returns the unique ID of this storage. " alt="" coords="227,5,391,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Storage.html#ac1b54d4e7f3ad9f7f7c17598911abb01" title="Returns the unique name of this storage. " alt="" coords="227,71,391,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4947e2b17849f1401f5b186205030c8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html">MasstreeUpdateLogType</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8cpp_source.html#l00073">73</a> of file <a class="el" href="masstree__log__types_8cpp_source.html">masstree_log_types.cpp</a>.</p>

<p>References <a class="el" href="masstree__log__types_8hpp_source.html#l00104">foedus::storage::masstree::MasstreeCommonLogType::get_key()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00108">foedus::storage::masstree::MasstreeCommonLogType::get_payload()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00088">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a>, and <a class="el" href="masstree__log__types_8hpp_source.html#l00090">foedus::storage::masstree::MasstreeCommonLogType::payload_count_</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                                                      {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeUpdateLogType&gt;&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_length_&gt;&quot;</span> &lt;&lt; v.key_length_ &lt;&lt; <span class="stringliteral">&quot;&lt;/key_length_&gt;&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_&gt;&quot;</span> &lt;&lt; assorted::Top(v.get_key(), v.key_length_) &lt;&lt; <span class="stringliteral">&quot;&lt;/key_&gt;&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_count_&gt;&quot;</span> &lt;&lt; v.payload_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_count_&gt;&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_&gt;&quot;</span> &lt;&lt; assorted::Top(v.get_payload(), v.payload_count_) &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_&gt;&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeUpdateLogType&gt;&quot;</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a4947e2b17849f1401f5b186205030c8e_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a4947e2b17849f1401f5b186205030c8e_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a4947e2b17849f1401f5b186205030c8e_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a4947e2b17849f1401f5b186205030c8e_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_key" alt="" coords="227,5,411,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a5f962d3287a41631441deeb70b2ddbc8" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_payload" alt="" coords="227,85,411,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ee5fcdcd9c6fc6ddb3f000835dbe9a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html">MasstreeBorderPage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__debug_8cpp_source.html#l00080">80</a> of file <a class="el" href="masstree__page__debug_8cpp_source.html">masstree_page_debug.cpp</a>.</p>

<p>References <a class="el" href="masstree__page__impl_8hpp_source.html#l00492">foedus::storage::masstree::MasstreeBorderPage::SlotLengthUnion::components</a>, <a class="el" href="masstree__page__debug_8cpp_source.html#l00039">describe_masstree_page_common()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00796">foedus::storage::masstree::MasstreeBorderPage::does_point_to_layer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00750">foedus::storage::masstree::MasstreeBorderPage::get_next_layer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00809">foedus::storage::masstree::MasstreeBorderPage::get_offset_in_bytes()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00813">foedus::storage::masstree::MasstreeBorderPage::get_owner_id()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00832">foedus::storage::masstree::MasstreeBorderPage::get_payload_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00732">foedus::storage::masstree::MasstreeBorderPage::get_record()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00740">foedus::storage::masstree::MasstreeBorderPage::get_record_payload()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00820">foedus::storage::masstree::MasstreeBorderPage::get_remainder_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00801">foedus::storage::masstree::MasstreeBorderPage::get_slice()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00631">foedus::storage::masstree::MasstreeBorderPage::get_slot()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00823">foedus::storage::masstree::MasstreeBorderPage::get_suffix_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00510">foedus::storage::masstree::MasstreeBorderPage::Slot::lengthes_</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00478">foedus::storage::masstree::MasstreeBorderPage::SlotLengthPart::physical_record_length_</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                                                   {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeBorderPage&gt;&quot;</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475">describe_masstree_page_common</a>(&amp;o, v);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;consecutive_inserts_&gt;&quot;</span> &lt;&lt; v.consecutive_inserts_ &lt;&lt; <span class="stringliteral">&quot;&lt;/consecutive_inserts_&gt;&quot;</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;&lt;records&gt;&quot;</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; v.get_key_count(); ++i) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;  &lt;record index=\&quot;&quot;</span> &lt;&lt; i</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot; slice=\&quot;&quot;</span> &lt;&lt; assorted::Hex(v.get_slice(i), 16)</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot; remainder_len=\&quot;&quot;</span> &lt;&lt; static_cast&lt;int&gt;(v.get_remainder_length(i))</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot; offset=\&quot;&quot;</span> &lt;&lt; v.get_offset_in_bytes(i)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot; physical_record_len=\&quot;&quot;</span> &lt;&lt; v.get_slot(i)-&gt;lengthes_.components.physical_record_length_</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot; payload_len=\&quot;&quot;</span> &lt;&lt; v.get_payload_length(i)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (v.does_point_to_layer(i)) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      o &lt;&lt; <span class="stringliteral">&quot;&lt;next_layer&gt;&quot;</span> &lt;&lt; *v.get_next_layer(i) &lt;&lt; <span class="stringliteral">&quot;&lt;/next_layer&gt;&quot;</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">if</span> (v.get_remainder_length(i) &gt; <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        std::string suffix(v.get_record(i), v.get_suffix_length(i));</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        o &lt;&lt; <span class="stringliteral">&quot;&lt;key_suffix&gt;&quot;</span> &lt;&lt; assorted::HexString(suffix) &lt;&lt; <span class="stringliteral">&quot;&lt;/key_suffix&gt;&quot;</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">if</span> (v.get_payload_length(i) &gt; 0) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        std::string payload(v.get_record_payload(i), v.get_payload_length(i));</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        o &lt;&lt; <span class="stringliteral">&quot;&lt;payload&gt;&quot;</span> &lt;&lt; assorted::HexString(payload) &lt;&lt; <span class="stringliteral">&quot;&lt;/payload&gt;&quot;</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    o &lt;&lt; * v.get_owner_id(i);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;/record&gt;&quot;</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;&lt;/records&gt;&quot;</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeBorderPage&gt;&quot;</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a76d989a7033cb8a6e331aea7e8a77475"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475">foedus::storage::masstree::describe_masstree_page_common</a></div><div class="ttdeci">void describe_masstree_page_common(std::ostream *o_ptr, const MasstreePage &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__debug_8cpp_source.html#l00039">masstree_page_debug.cpp:39</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a0ee5fcdcd9c6fc6ddb3f000835dbe9a1_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a0ee5fcdcd9c6fc6ddb3f000835dbe9a1_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a0ee5fcdcd9c6fc6ddb3f000835dbe9a1_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a0ee5fcdcd9c6fc6ddb3f000835dbe9a1_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475" title="foedus::storage::masstree\l::describe_masstree_page_common" alt="" coords="227,292,459,333"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a04113a783c1b0022d35e7e8d7eae02a8" title="foedus::storage::masstree\l::MasstreeBorderPage::does\l_point_to_layer" alt="" coords="249,661,437,717"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="1269,733,1476,775"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="1524,624,1731,665"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a14c7383d33c5b6ddfcbab6b58ae80121" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer" alt="" coords="253,893,432,949"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a357f4256ff48e1c5cefbee98d0a2dd2d" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload" alt="" coords="527,867,705,923"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="773,792,995,833"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="1043,726,1221,782"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4dc67e57eb2c90ffced75953dcef70fa" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_remainder_length" alt="" coords="1043,897,1221,953"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bef5c88a00a3574b489d0259c5b49ad" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_owner_id" alt="" coords="795,1069,973,1125"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a634aa97d761122a7d7cd4cb7889d844f" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_payload_length" alt="" coords="253,1125,432,1181"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a42cee2c2a116efdd26420284e95a20f7" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slice" alt="" coords="237,1205,449,1247"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ad10a5e5c2b8774c5f2a96661dad217e8" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length" alt="" coords="795,989,973,1045"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage.html#aec42af7f9b4a4e69d21138249281545c" title="foedus::storage::describe\l_volatile_pointer" alt="" coords="532,64,700,105"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a44cc8d18dc9077ae2310667e88ed5b7c" title="foedus::storage::masstree\l::MasstreePage::get_foster_fence" alt="" coords="507,129,725,171"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a27d301fad7d4d340cd2d6255dc330607" title="foedus::storage::masstree\l::MasstreePage::get_foster_major" alt="" coords="507,195,725,236"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a32653a16ddca213c94560652e9388dd5" title="foedus::storage::masstree\l::MasstreePage::get_foster_minor" alt="" coords="507,260,725,301"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="511,325,721,367"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="514,391,718,432"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="529,456,703,497"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="787,5,981,47"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1051,93,1213,135"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="803,123,965,164"/>
<area shape="rect" id="node16" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="555,675,677,716"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a475fb985aa078dff7c627ce18538b52e" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length_aligned" alt="" coords="795,909,973,965"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="1043,806,1221,862"/>
<area shape="rect" id="node24" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c" title="foedus::storage::masstree\l::calculate_suffix_length\l_aligned" alt="" coords="1045,1199,1219,1255"/>
<area shape="rect" id="node25" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1293,1214,1453,1241"/>
<area shape="rect" id="node26" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="1286,1268,1459,1309"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94b8f2993e0641884826a7a850fce6b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html">MasstreeOverwriteLogType</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8cpp_source.html#l00083">83</a> of file <a class="el" href="masstree__log__types_8cpp_source.html">masstree_log_types.cpp</a>.</p>

<p>References <a class="el" href="masstree__log__types_8hpp_source.html#l00104">foedus::storage::masstree::MasstreeCommonLogType::get_key()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00108">foedus::storage::masstree::MasstreeCommonLogType::get_payload()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00088">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00090">foedus::storage::masstree::MasstreeCommonLogType::payload_count_</a>, and <a class="el" href="masstree__log__types_8hpp_source.html#l00089">foedus::storage::masstree::MasstreeCommonLogType::payload_offset_</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                                                         {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeOverwriteLog&gt;&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_length_&gt;&quot;</span> &lt;&lt; v.key_length_ &lt;&lt; <span class="stringliteral">&quot;&lt;/key_length_&gt;&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;key_&gt;&quot;</span> &lt;&lt; assorted::Top(v.get_key(), v.key_length_) &lt;&lt; <span class="stringliteral">&quot;&lt;/key_&gt;&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_offset_&gt;&quot;</span> &lt;&lt; v.payload_offset_ &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_offset_&gt;&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_count_&gt;&quot;</span> &lt;&lt; v.payload_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_count_&gt;&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_&gt;&quot;</span> &lt;&lt; assorted::Top(v.get_payload(), v.payload_count_) &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_&gt;&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeOverwriteLog&gt;&quot;</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a94b8f2993e0641884826a7a850fce6b8_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a94b8f2993e0641884826a7a850fce6b8_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a94b8f2993e0641884826a7a850fce6b8_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a94b8f2993e0641884826a7a850fce6b8_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_key" alt="" coords="227,5,411,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a5f962d3287a41631441deeb70b2ddbc8" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_payload" alt="" coords="227,85,411,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeedbaa3fdb498171877064ec22c5aa39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html">OwnerSamples</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00231">231</a> of file <a class="el" href="masstree__partitioner__impl_8cpp_source.html">masstree_partitioner_impl.cpp</a>.</p>

<p>References <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00183">foedus::storage::masstree::OwnerSamples::at()</a>, <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00189">foedus::storage::masstree::OwnerSamples::get_assignment()</a>, <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00170">foedus::storage::masstree::OwnerSamples::nodes_</a>, and <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00172">foedus::storage::masstree::OwnerSamples::subtrees_</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                                             {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;OwnerSamples nodes=\&quot;&quot;</span> &lt;&lt; v.nodes_</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;\&quot; subtrees=\&quot;&quot;</span> &lt;&lt; v.subtrees_ &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;!-- legend id=\&quot;x\&quot; assignment=\&quot;x\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">for</span> (uint32_t node = 0; node &lt; v.nodes_; ++node) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;[Node-&quot;</span> &lt;&lt; node &lt;&lt; <span class="stringliteral">&quot;] &quot;</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot; --&gt;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">for</span> (uint32_t subtree_id = 0; subtree_id &lt; v.subtrees_; ++subtree_id) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;  &lt;subtree id=\&quot;&quot;</span> &lt;&lt; subtree_id</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot; assignment=\&quot;&quot;</span> &lt;&lt; v.get_assignment(subtree_id) &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">for</span> (uint32_t node = 0; node &lt; v.nodes_; ++node) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      o &lt;&lt; assorted::Hex(v.at(node, subtree_id), 6) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;/subtree&gt;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;&lt;/OwnerSamples&gt;&quot;</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_aeedbaa3fdb498171877064ec22c5aa39_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_aeedbaa3fdb498171877064ec22c5aa39_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_aeedbaa3fdb498171877064ec22c5aa39_cgraph" id="namespacefoedus_1_1storage_1_1masstree_aeedbaa3fdb498171877064ec22c5aa39_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html#a6a0bf01df661369f28528fd6916559cc" title="foedus::storage::masstree\l::OwnerSamples::at" alt="" coords="249,5,423,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1OwnerSamples.html#a45f771fc8c3627224b161305be637977" title="foedus::storage::masstree\l::OwnerSamples::get_assignment" alt="" coords="227,71,445,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad1e902f2c721ccf21fe3f5feee9c6209"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html">MasstreePartitioner</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00503">503</a> of file <a class="el" href="masstree__partitioner__impl_8cpp_source.html">masstree_partitioner_impl.cpp</a>.</p>

<p>References <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00147">foedus::storage::masstree::MasstreePartitionerData::low_keys_</a>, <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00146">foedus::storage::masstree::MasstreePartitionerData::partition_count_</a>, and <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePartitionerData::partitions_</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                                                    {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreePartitioner&gt;&quot;</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (v.data_) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;partition_count_&gt;&quot;</span> &lt;&lt; v.data_-&gt;partition_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/partition_count_&gt;&quot;</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;&lt;partitions&gt;&quot;</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; v.data_-&gt;partition_count_; ++i) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;  &lt;partition node=\&quot;&quot;</span> &lt;&lt; v.data_-&gt;partitions_[i] &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        &lt;&lt; assorted::Hex(v.data_-&gt;low_keys_[i], 16)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;&lt;/partition&gt;&quot;</span>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;/partitions&gt;&quot;</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;Not yet designed&quot;</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreePartitioner&gt;&quot;</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad96786662ef385199a223a0387cb8b5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; foedus::storage::masstree::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext_1_1PathLevel.html">MasstreeComposeContext::PathLevel</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__composer__impl_8cpp_source.html#l02851">2851</a> of file <a class="el" href="masstree__composer__impl_8cpp_source.html">masstree_composer_impl.cpp</a>.</p>

<p>References <a class="el" href="masstree__composer__impl_8hpp_source.html#l00196">foedus::storage::masstree::MasstreeComposeContext::PathLevel::head_</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00217">foedus::storage::masstree::MasstreeComposeContext::PathLevel::high_fence_</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00200">foedus::storage::masstree::MasstreeComposeContext::PathLevel::layer_</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00215">foedus::storage::masstree::MasstreeComposeContext::PathLevel::low_fence_</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00206">foedus::storage::masstree::MasstreeComposeContext::PathLevel::next_original_</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00208">foedus::storage::masstree::MasstreeComposeContext::PathLevel::next_original_mini_</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00223">foedus::storage::masstree::MasstreeComposeContext::PathLevel::next_original_slice_</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00212">foedus::storage::masstree::MasstreeComposeContext::PathLevel::page_count_</a>, and <a class="el" href="masstree__composer__impl_8hpp_source.html#l00198">foedus::storage::masstree::MasstreeComposeContext::PathLevel::tail_</a>.</p>
<div class="fragment"><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                                                                                {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;PathLevel&gt;&quot;</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;layer_&gt;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(v.layer_) &lt;&lt; <span class="stringliteral">&quot;&lt;/layer_&gt;&quot;</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;next_original_&gt;&quot;</span> &lt;&lt; static_cast&lt;int&gt;(v.next_original_) &lt;&lt; <span class="stringliteral">&quot;&lt;/next_original_&gt;&quot;</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;next_original_mini&gt;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(v.next_original_mini_) &lt;&lt; <span class="stringliteral">&quot;&lt;/next_original_mini&gt;&quot;</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;head&gt;&quot;</span> &lt;&lt; v.head_ &lt;&lt; <span class="stringliteral">&quot;&lt;/head&gt;&quot;</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;tail_&gt;&quot;</span> &lt;&lt; v.tail_ &lt;&lt; <span class="stringliteral">&quot;&lt;/tail_&gt;&quot;</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;page_count_&gt;&quot;</span> &lt;&lt; v.page_count_ &lt;&lt; <span class="stringliteral">&quot;&lt;/page_count_&gt;&quot;</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;low_fence_&gt;&quot;</span> &lt;&lt; assorted::Hex(v.low_fence_, 16) &lt;&lt; <span class="stringliteral">&quot;&lt;/low_fence_&gt;&quot;</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;high_fence_&gt;&quot;</span> &lt;&lt; assorted::Hex(v.high_fence_, 16) &lt;&lt; <span class="stringliteral">&quot;&lt;/high_fence_&gt;&quot;</span></div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;next_original_slice_&gt;&quot;</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;      &lt;&lt; assorted::Hex(v.next_original_slice_, 16) &lt;&lt; <span class="stringliteral">&quot;&lt;/next_original_slice_&gt;&quot;</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/PathLevel&gt;&quot;</span>;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9efa7b5f1f339fd33444e0e62e46d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::prepare_sort_entries </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1Partitioner_1_1SortBatchArguments">Partitioner::SortBatchArguments</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SortEntry.html">SortEntry</a> *&#160;</td>
          <td class="paramname"><em>entries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>subroutine of sort_batch_8bytes </p>

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00444">444</a> of file <a class="el" href="masstree__partitioner__impl_8cpp_source.html">masstree_partitioner_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="partitioner_8hpp_source.html#l00159">foedus::storage::Partitioner::SortBatchArguments::base_epoch_</a>, <a class="el" href="xct__id_8hpp_source.html#l00964">foedus::xct::XctId::get_epoch()</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00104">foedus::storage::masstree::MasstreeCommonLogType::get_key()</a>, <a class="el" href="xct__id_8hpp_source.html#l00976">foedus::xct::XctId::get_ordinal()</a>, <a class="el" href="common__log__types_8hpp_source.html#l00113">foedus::log::BaseLogType::header_</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00088">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a>, <a class="el" href="log__type_8hpp_source.html#l00128">foedus::log::kLogCodeMasstreeDelete</a>, <a class="el" href="log__type_8hpp_source.html#l00127">foedus::log::kLogCodeMasstreeInsert</a>, <a class="el" href="log__type_8hpp_source.html#l00126">foedus::log::kLogCodeMasstreeOverwrite</a>, <a class="el" href="log__type_8hpp_source.html#l00129">foedus::log::kLogCodeMasstreeUpdate</a>, <a class="el" href="partitioner_8hpp_source.html#l00142">foedus::storage::Partitioner::SortBatchArguments::log_buffer_</a>, <a class="el" href="partitioner_8hpp_source.html#l00144">foedus::storage::Partitioner::SortBatchArguments::log_positions_</a>, <a class="el" href="common__log__types_8hpp_source.html#l00055">foedus::log::LogHeader::log_type_code_</a>, <a class="el" href="partitioner_8hpp_source.html#l00146">foedus::storage::Partitioner::SortBatchArguments::logs_count_</a>, <a class="el" href="masstree__id_8hpp_source.html#l00222">normalize_be_bytes_full_aligned()</a>, <a class="el" href="log__buffer_8hpp_source.html#l00042">foedus::snapshot::LogBuffer::resolve()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00403">foedus::storage::masstree::SortEntry::set()</a>, <a class="el" href="epoch_8hpp_source.html#l00137">foedus::Epoch::subtract()</a>, and <a class="el" href="common__log__types_8hpp_source.html#l00075">foedus::log::LogHeader::xct_id_</a>.</p>
<div class="fragment"><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                                                                         {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">const</span> Epoch base_epoch = args.base_epoch_;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// CPU profile of partition_masstree_perf: 9-10%.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; args.logs_count_; ++i) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keyword">const</span> MasstreeCommonLogType* log_entry = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>MasstreeCommonLogType*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      args.log_buffer_.resolve(args.log_positions_[i]));</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(log_entry-&gt;header_.log_type_code_ == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a">log::kLogCodeMasstreeInsert</a></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      || log_entry-&gt;header_.log_type_code_ == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235">log::kLogCodeMasstreeDelete</a></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      || log_entry-&gt;header_.log_type_code_ == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd">log::kLogCodeMasstreeUpdate</a></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      || log_entry-&gt;header_.log_type_code_ == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9">log::kLogCodeMasstreeOverwrite</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(log_entry-&gt;key_length_ == <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    Epoch epoch = log_entry-&gt;header_.xct_id_.get_epoch();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(epoch.subtract(base_epoch) &lt; (1U &lt;&lt; 16));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    uint16_t compressed_epoch = epoch.subtract(base_epoch);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    entries[i].set(</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">normalize_be_bytes_full_aligned</a>(log_entry-&gt;get_key()),</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      compressed_epoch,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      log_entry-&gt;header_.xct_id_.get_ordinal(),</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      args.log_positions_[i]);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a">foedus::log::kLogCodeMasstreeInsert</a></div><div class="ttdoc">0x0033 : foedus::storage::masstree::MasstreeInsertLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00127">log_type.hpp:127</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9">foedus::log::kLogCodeMasstreeOverwrite</a></div><div class="ttdoc">0x0032 : foedus::storage::masstree::MasstreeOverwriteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00126">log_type.hpp:126</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235">foedus::log::kLogCodeMasstreeDelete</a></div><div class="ttdoc">0x0034 : foedus::storage::masstree::MasstreeDeleteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00128">log_type.hpp:128</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd">foedus::log::kLogCodeMasstreeUpdate</a></div><div class="ttdoc">0x0035 : foedus::storage::masstree::MasstreeUpdateLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00129">log_type.hpp:129</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga48710f51199feed3db2e2f374ae73814"><div class="ttname"><a href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">foedus::storage::masstree::normalize_be_bytes_full_aligned</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full_aligned(const void *be_bytes)</div><div class="ttdoc">Convert an aligned big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00222">masstree_id.hpp:222</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_ad9efa7b5f1f339fd33444e0e62e46d40_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_ad9efa7b5f1f339fd33444e0e62e46d40_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_ad9efa7b5f1f339fd33444e0e62e46d40_cgraph" id="namespacefoedus_1_1storage_1_1masstree_ad9efa7b5f1f339fd33444e0e62e46d40_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1xct_1_1XctId.html#af48118bbaf92a957116ae2873fe55b83" title="foedus::xct::XctId\l::get_epoch" alt="" coords="257,5,380,47"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::get_key" alt="" coords="227,71,411,127"/>
<area shape="rect" id="node5" href="structfoedus_1_1xct_1_1XctId.html#a936888dbc82de6e76194b72c28c9a10f" title="foedus::xct::XctId\l::get_ordinal" alt="" coords="257,152,380,193"/>
<area shape="rect" id="node6" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814" title="Convert an aligned big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="232,218,405,274"/>
<area shape="rect" id="node7" href="structfoedus_1_1snapshot_1_1LogBuffer.html#a4c866d7cc1684237eca5fff49215b80e" title="foedus::snapshot::LogBuffer\l::resolve" alt="" coords="227,299,410,340"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1masstree_1_1SortEntry.html#aa533b00649d973c69c36f252d96e6076" title="foedus::storage::masstree\l::SortEntry::set" alt="" coords="232,364,405,405"/>
<area shape="rect" id="node10" href="classfoedus_1_1Epoch.html#a95ee2922375886d43b8e669a192fd4c4" title="Returns the number epochs from the given epoch to this epoch accounting for wrap&#45;around. " alt="" coords="239,430,399,457"/>
<area shape="rect" id="node3" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="475,5,597,47"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1snapshot.html#a499edf9829f41f833e2057346e8bbf3a" title="foedus::snapshot::from\l_buffer_position" alt="" coords="459,299,613,340"/>
<area shape="rect" id="node11" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="459,430,613,457"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a744edfba3574c4c7dd041519321ed5b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::release_parallel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8cpp_source.html#l00178">178</a> of file <a class="el" href="masstree__page__impl_8cpp_source.html">masstree_page_impl.cpp</a>.</p>

<p>References <a class="el" href="engine__memory_8hpp_source.html#l00090">foedus::memory::EngineMemory::get_global_volatile_page_resolver()</a>, <a class="el" href="engine_8cpp_source.html#l00050">foedus::Engine::get_memory_manager()</a>, <a class="el" href="page__pool_8cpp_source.html#l00189">foedus::memory::PageReleaseBatch::release_all()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00164">foedus::storage::masstree::MasstreePage::release_pages_recursive_common()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00120">foedus::memory::GlobalVolatilePageResolver::resolve_offset()</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8cpp_source.html#l00188">foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive_parallel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                                   {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keyword">const</span> memory::GlobalVolatilePageResolver&amp; page_resolver</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    = engine-&gt;get_memory_manager()-&gt;get_global_volatile_page_resolver();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  MasstreePage* p = <span class="keyword">reinterpret_cast&lt;</span>MasstreePage*<span class="keyword">&gt;</span>(page_resolver.resolve_offset(pointer));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  memory::PageReleaseBatch release_batch(engine);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  p-&gt;release_pages_recursive_common(page_resolver, &amp;release_batch);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  release_batch.release_all();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="227,5,437,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="776,6,911,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aacfb0dd808ba1a987cea4d957e8e511b" title="Called at the end to return all batched pages to their pools. " alt="" coords="232,137,432,178"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0d24e70c0a141db733ff45411b5a161e" title="foedus::storage::masstree\l::MasstreePage::release\l_pages_recursive_common" alt="" coords="243,656,421,712"/>
<area shape="rect" id="node15" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="742,831,945,873"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#af16728969f6c3544544000355b6d4f30" title="Return all batched pages in the given chunk to its pool. " alt="" coords="487,137,687,178"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="738,71,949,113"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="748,137,939,178"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463" title="Returns the specified number of free pages from the chunk. " alt="" coords="754,202,933,243"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="1011,202,1189,243"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1265,951,1455,993"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#abdd08567e3f74c11a90c599cbac45a24" title="foedus::storage::masstree\l::MasstreeBorderPage::release\l_pages_recursive" alt="" coords="485,736,688,792"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a09552cf1a9e8f061f9bd6cbdb9268688" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::release_pages_recursive" alt="" coords="494,576,679,632"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="1004,519,1196,561"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="2000,893,2207,934"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a04113a783c1b0022d35e7e8d7eae02a8" title="foedus::storage::masstree\l::MasstreeBorderPage::does\l_point_to_layer" alt="" coords="749,948,937,1004"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a14c7383d33c5b6ddfcbab6b58ae80121" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer" alt="" coords="754,1028,933,1084"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="763,714,924,755"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="757,583,930,625"/>
<area shape="rect" id="node38" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#afe13efbf3cc2111936b08e31bd18e179" title="Returns the given in&#45;memory volatile page to appropriate NUMA node. " alt="" coords="743,649,943,690"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="1264,519,1456,561"/>
<area shape="rect" id="node16" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1023,717,1177,758"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1285,767,1435,809"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1013,834,1187,875"/>
<area shape="rect" id="node21" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="999,636,1201,692"/>
<area shape="rect" id="node17" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1283,694,1437,735"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1279,599,1441,641"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="1745,1042,1952,1083"/>
<area shape="rect" id="node25" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="1039,951,1161,993"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a357f4256ff48e1c5cefbee98d0a2dd2d" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload" alt="" coords="1011,1159,1189,1215"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="1249,1155,1471,1197"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a475fb985aa078dff7c627ce18538b52e" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length_aligned" alt="" coords="1271,1228,1449,1284"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="1519,1148,1697,1204"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="1519,1068,1697,1124"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4dc67e57eb2c90ffced75953dcef70fa" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_remainder_length" alt="" coords="1519,1228,1697,1284"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c" title="foedus::storage::masstree\l::calculate_suffix_length\l_aligned" alt="" coords="1521,1308,1695,1364"/>
<area shape="rect" id="node34" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1769,1293,1929,1320"/>
<area shape="rect" id="node35" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="1762,1345,1935,1386"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663" title="An empty&#45;range page, either intermediate or border, never has any entries. " alt="" coords="736,349,951,390"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="751,268,936,324"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35" title="foedus::storage::masstree\l::MasstreePage::is_moved" alt="" coords="755,466,931,507"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a744edfba3574c4c7dd041519321ed5b3_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a854ff4750eb7aad99b3cff474882ec5c" title="This method is used when we release a large number of volatile pages, most likely when we drop a stor..." alt="" coords="227,5,412,76"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67ab7c42dbfd788773d6293ffdb64d52" title="Storage&#45;wide operations, such as drop, create, etc. " alt="" coords="460,20,655,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a40e22349aa6902839d3b80ac35e84790" title="foedus::storage::masstree\l::MasstreeStorage::drop" alt="" coords="703,20,876,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7df011f1d7015440e30e6013add5a667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a>* foedus::storage::masstree::resolve_log </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1snapshot_1_1LogBuffer.html">snapshot::LogBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>log_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">snapshot::BufferPosition</a>&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8hpp_source.html#l00221">221</a> of file <a class="el" href="masstree__partitioner__impl_8hpp_source.html">masstree_partitioner_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="common__log__types_8hpp_source.html#l00078">foedus::log::LogHeader::get_type()</a>, <a class="el" href="common__log__types_8hpp_source.html#l00113">foedus::log::BaseLogType::header_</a>, <a class="el" href="log__type_8hpp_source.html#l00128">foedus::log::kLogCodeMasstreeDelete</a>, <a class="el" href="log__type_8hpp_source.html#l00127">foedus::log::kLogCodeMasstreeInsert</a>, <a class="el" href="log__type_8hpp_source.html#l00126">foedus::log::kLogCodeMasstreeOverwrite</a>, <a class="el" href="log__type_8hpp_source.html#l00129">foedus::log::kLogCodeMasstreeUpdate</a>, and <a class="el" href="log__buffer_8hpp_source.html#l00042">foedus::snapshot::LogBuffer::resolve()</a>.</p>

<p>Referenced by <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00284">foedus::storage::masstree::MasstreePartitioner::partition_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                              {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keyword">const</span> MasstreeCommonLogType* rec = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>MasstreeCommonLogType*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    log_buffer.resolve(pos));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(rec-&gt;header_.get_type() == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a">log::kLogCodeMasstreeInsert</a></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    || rec-&gt;header_.get_type() == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235">log::kLogCodeMasstreeDelete</a></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    || rec-&gt;header_.get_type() == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd">log::kLogCodeMasstreeUpdate</a></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    || rec-&gt;header_.get_type() == <a class="code" href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9">log::kLogCodeMasstreeOverwrite</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">return</span> rec;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ad1dfa8a154a5ac67fe06f0ecefadda6a">foedus::log::kLogCodeMasstreeInsert</a></div><div class="ttdoc">0x0033 : foedus::storage::masstree::MasstreeInsertLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00127">log_type.hpp:127</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3a0cae9d20d4db5d08b6adbc1b8b318ef9">foedus::log::kLogCodeMasstreeOverwrite</a></div><div class="ttdoc">0x0032 : foedus::storage::masstree::MasstreeOverwriteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00126">log_type.hpp:126</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3abb140a328897a4bf18aea0170adbb235">foedus::log::kLogCodeMasstreeDelete</a></div><div class="ttdoc">0x0034 : foedus::storage::masstree::MasstreeDeleteLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00128">log_type.hpp:128</a></div></div>
<div class="ttc" id="namespacefoedus_1_1log_html_gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd"><div class="ttname"><a href="namespacefoedus_1_1log.html#gafeea30298c4f7a9586bddec3663fc4f3ac2062f25de0409e94e8a9c2486ae89cd">foedus::log::kLogCodeMasstreeUpdate</a></div><div class="ttdoc">0x0035 : foedus::storage::masstree::MasstreeUpdateLogType . </div><div class="ttdef"><b>Definition:</b> <a href="log__type_8hpp_source.html#l00129">log_type.hpp:129</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_cgraph" id="namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1LogHeader.html#a6ebe3b99442f2a58a4adeeb60f9a37e0" title="Convenience method to cast into LogCode. " alt="" coords="241,5,395,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1snapshot_1_1LogBuffer.html#a4c866d7cc1684237eca5fff49215b80e" title="foedus::snapshot::LogBuffer\l::resolve" alt="" coords="227,71,409,112"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1snapshot.html#a499edf9829f41f833e2057346e8bbf3a" title="foedus::snapshot::from\l_buffer_position" alt="" coords="457,71,612,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_icgraph" id="namespacefoedus_1_1storage_1_1masstree_a7df011f1d7015440e30e6013add5a667_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#aa88be4c928d4254f51e1e1252680f87e" title="foedus::storage::masstree\l::MasstreePartitioner::\lpartition_batch" alt="" coords="227,5,400,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="448,13,627,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acb952f744366b6a9d9a5be2e6b6c2803"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::retrieve_positions </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>logs_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SortEntry.html">SortEntry</a> *&#160;</td>
          <td class="paramname"><em>entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__SNAPSHOT.html#gad2482840d665e70d93678f530b452b79">snapshot::BufferPosition</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>subroutine of sort_batch_8bytes </p>

<p>Definition at line <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00432">432</a> of file <a class="el" href="masstree__partitioner__impl_8cpp_source.html">masstree_partitioner_impl.cpp</a>.</p>

<p>References <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00424">foedus::storage::masstree::SortEntry::position_</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                               {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// CPU profile of partition_masstree_perf: 2-3%. (10-15% if the &quot;index&quot; idea is used)</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; logs_count; ++i) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    out[i] = entries[i].position_;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acea98e6f343df2d62a9a8f9ddd127234"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::masstree::verify_page_basic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">PageType</a>&#160;</td>
          <td class="paramname"><em>page_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>low_fence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1HighFence.html">HighFence</a>&#160;</td>
          <td class="paramname"><em>high_fence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__storage__verify_8cpp_source.html#l00069">69</a> of file <a class="el" href="masstree__storage__verify_8cpp_source.html">masstree_storage_verify.cpp</a>.</p>

<p>References <a class="el" href="masstree__storage__verify_8cpp_source.html#l00035">CHECK_AND_ASSERT</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00146">foedus::storage::masstree::MasstreePage::get_btree_level()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00113">foedus::storage::masstree::MasstreePage::get_foster_major()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00112">foedus::storage::masstree::MasstreePage::get_foster_minor()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00099">foedus::storage::masstree::MasstreePage::get_high_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00098">foedus::storage::masstree::MasstreePage::get_low_fence()</a>, <a class="el" href="page_8hpp_source.html#l00280">foedus::storage::PageHeader::get_page_type()</a>, <a class="el" href="page_8hpp_source.html#l00338">foedus::storage::Page::get_page_type()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00139">foedus::storage::masstree::MasstreePage::has_foster_child()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00084">foedus::storage::masstree::MasstreePage::is_border()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00111">foedus::storage::masstree::MasstreePage::is_foster_major_null()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00110">foedus::storage::masstree::MasstreePage::is_foster_minor_null()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00100">foedus::storage::masstree::MasstreePage::is_high_fence_supremum()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00168">foedus::storage::masstree::MasstreePage::is_locked()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00169">foedus::storage::masstree::MasstreePage::is_moved()</a>, <a class="el" href="error__stack_8hpp_source.html#l00251">foedus::kRetOk</a>, <a class="el" href="thread_8cpp_source.html#l00129">foedus::thread::Thread::resolve()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00054">foedus::storage::masstree::HighFence::slice_</a>, <a class="el" href="page_8hpp_source.html#l00211">foedus::storage::PageHeader::snapshot_</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00055">foedus::storage::masstree::HighFence::supremum_</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__verify_8cpp_source.html#l00201">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_border()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00103">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_intermediate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                        {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(!page-&gt;is_locked());</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(page-&gt;header().get_page_type() == page_type);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(page-&gt;is_border() || page-&gt;get_btree_level() &gt; 0);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(!page-&gt;is_border() || page-&gt;get_btree_level() == 0);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(page-&gt;get_low_fence() == low_fence);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(page-&gt;get_high_fence() == high_fence.slice_);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(page-&gt;is_high_fence_supremum() == high_fence.supremum_);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    (page-&gt;is_moved() &amp;&amp; page-&gt;has_foster_child()</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      &amp;&amp; !page-&gt;is_foster_major_null() &amp;&amp; !page-&gt;is_foster_minor_null()) ||</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    (!page-&gt;is_moved() &amp;&amp; !page-&gt;has_foster_child()</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      &amp;&amp; page-&gt;is_foster_major_null() &amp;&amp; page-&gt;is_foster_minor_null()));</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">if</span> (!page-&gt;is_foster_major_null()) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(!page-&gt;header().snapshot_);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(!context-&gt;resolve(page-&gt;get_foster_major())-&gt;get_header().snapshot_);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(context-&gt;resolve(page-&gt;get_foster_major())-&gt;get_header().get_page_type()</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      == page_type);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span> (!page-&gt;is_foster_minor_null()) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(!page-&gt;header().snapshot_);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(!context-&gt;resolve(page-&gt;get_foster_minor())-&gt;get_header().snapshot_);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a>(context-&gt;resolve(page-&gt;get_foster_minor())-&gt;get_header().get_page_type()</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      == page_type);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">kRetOk</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="ttc" id="masstree__storage__verify_8cpp_html_aa0227b94f2abc9a7a5ac155db59cb2d3"><div class="ttname"><a href="masstree__storage__verify_8cpp.html#aa0227b94f2abc9a7a5ac155db59cb2d3">CHECK_AND_ASSERT</a></div><div class="ttdeci">#define CHECK_AND_ASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__storage__verify_8cpp_source.html#l00035">masstree_storage_verify.cpp:35</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_ga61f52cd33eb500d6997a91e704ace244"><div class="ttname"><a href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">foedus::kRetOk</a></div><div class="ttdeci">const ErrorStack kRetOk</div><div class="ttdoc">Normal return value for no-error case. </div><div class="ttdef"><b>Definition:</b> <a href="error__stack_8hpp_source.html#l00251">error_stack.hpp:251</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_cgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_cgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_cgraph" id="namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab55e48873dcf5700871a035c65bfa588" title="used only in masstree. " alt="" coords="232,5,440,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a27d301fad7d4d340cd2d6255dc330607" title="foedus::storage::masstree\l::MasstreePage::get_foster_major" alt="" coords="227,71,445,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a32653a16ddca213c94560652e9388dd5" title="foedus::storage::masstree\l::MasstreePage::get_foster_minor" alt="" coords="227,136,445,177"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="231,201,441,243"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="234,267,438,308"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1000,389,1191,431"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Page.html#a33a7095a34e8a551fc22bd1aad2bda97" title="foedus::storage::Page\l::get_page_type" alt="" coords="520,368,669,409"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abfe53cdc69964e52901556b1e8d9de9e" title="foedus::storage::masstree\l::MasstreePage::has_foster_child" alt="" coords="228,712,444,753"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="249,843,423,884"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="758,419,933,460"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a7a9d09469e106d14513932f3aebeef97" title="foedus::storage::masstree\l::MasstreePage::is_foster\l_major_null" alt="" coords="249,551,423,607"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a698b417f5e89daf68ebd78044222bb23" title="foedus::storage::masstree\l::MasstreePage::is_foster\l_minor_null" alt="" coords="249,631,423,687"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa0e32e13485c83c100d1153e23e96f88" title="foedus::storage::masstree\l::MasstreePage::is_high\l_fence_supremum" alt="" coords="249,909,423,965"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a16a2c06a304514be7b99fb6c884e7e9b" title="foedus::storage::masstree\l::MasstreePage::is_locked" alt="" coords="247,989,425,1031"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35" title="foedus::storage::masstree\l::MasstreePage::is_moved" alt="" coords="248,777,424,819"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="261,485,411,527"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="499,777,691,819"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="749,799,941,840"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="514,639,675,680"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1015,723,1176,764"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1PageVersion.html#a301cba19b01cf82d7b576a04180b56e2" title="foedus::storage::PageVersion\l::is_locked" alt="" coords="499,989,691,1031"/>
<area shape="rect" id="node21" href="structfoedus_1_1xct_1_1McsWwLock.html#abe15a0d250a2186ac534fc5d2d0b7f8e" title="This is a &quot;relaxed&quot; check. " alt="" coords="761,989,930,1031"/>
<area shape="rect" id="node22" href="structfoedus_1_1xct_1_1McsWwBlockData.html#aa6a3e9b495bb234bf4c840a0e43d082e" title="foedus::xct::McsWwBlockData\l::is_valid_relaxed" alt="" coords="995,989,1196,1031"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="519,554,670,610"/>
<area shape="rect" id="node26" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="493,488,696,529"/>
<area shape="rect" id="node27" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="768,601,923,643"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1021,540,1170,581"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="759,536,932,577"/>
<area shape="rect" id="node31" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="744,667,947,723"/>
<area shape="rect" id="node28" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1018,640,1173,681"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_icgraph.png" border="0" usemap="#namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_icgraph" id="namespacefoedus_1_1storage_1_1masstree_acea98e6f343df2d62a9a8f9ddd127234_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="227,9,413,65"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a351ca64071b130468a9ba9f200ccd417" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_intermediate" alt="" coords="461,83,683,139"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a09d587cc38996109b753a7704fa33736" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_layer" alt="" coords="731,5,909,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a2a4e90569074d49ab538041caedacf6a" title="These are defined in masstree_storage_verify.cpp. " alt="" coords="957,5,1131,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aedee683fbced316953d1cbc622f22c87" title="foedus::storage::masstree\l::MasstreeStorage::verify\l_single_thread" alt="" coords="1179,5,1352,61"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7abc672ebc91931d1fb7debd5fc1affc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a> foedus::storage::masstree::kBorderPageDataPartOffset</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">kCommonPageHeaderSize</a></div>
<div class="line">  + 8U  </div>
<div class="line">  + <a class="code" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a> * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)</div>
<div class="ttc" id="group__MASSTREE_html_ga54533a5e0a23f34c29a57f8701356491"><div class="ttname"><a href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">foedus::storage::masstree::kCommonPageHeaderSize</a></div><div class="ttdeci">const uint32_t kCommonPageHeaderSize</div><div class="ttdoc">Size of the base page class (MasstreePage), which is the common header for intermediate and border pa...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00144">masstree_id.hpp:144</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga78a96e3a0ec4256513d9d2e9c94f37fd"><div class="ttname"><a href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">foedus::storage::masstree::kBorderPageMaxSlots</a></div><div class="ttdeci">const SlotIndex kBorderPageMaxSlots</div><div class="ttdoc">Maximum number of slots in one MasstreeBorderPage. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00163">masstree_id.hpp:163</a></div></div>
</div><!-- fragment -->
<p>Offset of data_ member in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html" title="Represents one border page in Masstree Storage. ">MasstreeBorderPage</a>. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00178">178</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00248">foedus::storage::masstree::MasstreeCommonLogType::apply_record_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cffc20f29ad72d4edbeedece861c48f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foedus::storage::masstree::kInfimumSlice = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00132">132</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__split__impl_8cpp_source.html#l00146">foedus::storage::masstree::SplitBorder::decide_strategy()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00064">foedus::storage::masstree::MasstreePartitioner::design_partition()</a>, <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00094">foedus::storage::masstree::MasstreeStoragePimpl::fatify_first_root_double()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00213">foedus::storage::masstree::MasstreeStoragePimpl::find_border_physical()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00058">foedus::storage::masstree::MasstreeStoragePimpl::get_first_root()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">grow_case_b_common()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00431">foedus::storage::masstree::MasstreeBorderPage::initialize_as_layer_root_physical()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00103">foedus::storage::masstree::MasstreePage::is_low_fence_infimum()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00061">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_next_layer()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00144">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_this_layer()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00161">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_this_layer_recurse()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00051">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_normalized_recurse()</a>, <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00609">foedus::storage::masstree::MasstreeBorderPage::track_moved_record_next_layer()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00047">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_layer()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2d5b5067f38a22191eb77d85bc2d2d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t foedus::storage::masstree::kIntermediateAlmostFull = <a class="el" href="group__MASSTREE.html#ga6b0f46dbd051897bd6dae9bbd3eb446e">kMaxIntermediatePointers</a> * 9U / 10U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00052">52</a> of file <a class="el" href="masstree__storage__fatify_8cpp_source.html">masstree_storage_fatify.cpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00054">foedus::storage::masstree::MasstreeStoragePimpl::fatify_first_root()</a>.</p>

</div>
</div>
<a class="anchor" id="af3549bb49f633f74d58adfb5880b4c52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t foedus::storage::masstree::kSliceLen = sizeof(<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shorthand for sizeof(KeySlice). </p>
<p>Not much shorter? you are right.. </p>

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00129">129</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00170">foedus::storage::masstree::MasstreeCommonLogType::compare_logs()</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00236">foedus::storage::masstree::MasstreeComposeContext::PathLevel::contains_key()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01631">foedus::storage::masstree::MasstreeBorderPage::ltgt_key()</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00241">foedus::storage::masstree::MasstreeComposeContext::PathLevel::needs_to_consume_original()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01690">foedus::storage::masstree::MasstreeBorderPage::will_conflict()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l01714">foedus::storage::masstree::MasstreeBorderPage::will_contain_next_layer()</a>.</p>

</div>
</div>
<a class="anchor" id="a7bfcd277a96bcd1e9008459abe1ec40d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foedus::storage::masstree::kSupremumSlice = 0xFFFFFFFFFFFFFFFFULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__id_8hpp_source.html#l00137">137</a> of file <a class="el" href="masstree__id_8hpp_source.html">masstree_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__composer__impl_8hpp_source.html#l00232">foedus::storage::masstree::MasstreeComposeContext::PathLevel::contains_slice()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l02558">foedus::storage::masstree::MasstreeComposer::drop_volatiles()</a>, <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00094">foedus::storage::masstree::MasstreeStoragePimpl::fatify_first_root_double()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00058">foedus::storage::masstree::MasstreeStoragePimpl::get_first_root()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">grow_case_b_common()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00431">foedus::storage::masstree::MasstreeBorderPage::initialize_as_layer_root_physical()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00100">foedus::storage::masstree::MasstreePage::is_high_fence_supremum()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00345">foedus::storage::masstree::SplitBorder::migrate_records()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00051">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_normalized_recurse()</a>, <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>, <a class="el" href="masstree__composer__impl_8hpp_source.html#l00226">foedus::storage::masstree::MasstreeComposeContext::PathLevel::set_no_more_next_original()</a>, <a class="el" href="masstree__storage__verify_8cpp_source.html#l00201">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_border()</a>, <a class="el" href="masstree__storage__verify_8cpp_source.html#l00103">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_intermediate()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00047">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_layer()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html">masstree</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
