<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::masstree::MasstreeCursor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::masstree::MasstreeCursor Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a> &raquo; <a class="el" href="group__MASSTREE.html">Masstree Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a cursor object for Masstree storage.  
 <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a cursor object for Masstree storage. </p>
<dl class="section user"><dt>Cursor Example</dt><dd>Below is a typical usecase (from TPC-C) of this cursor class. <div class="fragment"><div class="line">... (begin xct, etc)</div>
<div class="line"><a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a8239a620a1d23ecbdd91c88704b70f40">MasstreeCursor</a> cursor(orderlines, context);</div>
<div class="line"><a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(cursor.open_normalized(low, high, <span class="keyword">true</span>, <span class="keyword">true</span>));</div>
<div class="line"><span class="keywordflow">while</span> (cursor.is_valid_record()) {</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">char</span>* key_be = cursor.get_key();</div>
<div class="line"> <span class="keyword">const</span> OrderlineData* payload = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>OrderlineData*<span class="keyword">&gt;</span>(cursor.get_payload());</div>
<div class="line"> *ol_amount_total += payload-&gt;amount_;</div>
<div class="line"> ++(*ol_count);</div>
<div class="line"> <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(cursor.overwrite_record(delivery_date, offset, delivery_date_len));</div>
<div class="line"> <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(cursor.next());</div>
<div class="line">}</div>
<div class="line">... (commit xct, etc)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Dynamic Memory</dt><dd>This cursor objects uses a few dymanically allocated memory for keys, route information, etc. However, we of course can't tolerate new/delete during transaction. We thus grab memory from the memory pool for snapshot pages (could be volatile page's, but probably volatile memory pool is more limiting, so let's grab it from snapshot memory pool). These memory are allocated via libnuma and using THP, so it's also faster. The only drawback is that we consume them in a little bit generous way, but shouldn't be a big issue. All of them are returned to the pool in destructor. </dd></dl>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00075">75</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html">Route</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one page in the current search path from layer0-root.  <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad40ea8caed6f534f09f569119b415b63"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63">SearchType</a> { <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb">kForwardInclusive</a> = 0, 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396">kForwardExclusive</a>, 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d">kBackwardInclusive</a>, 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71">kBackwardExclusive</a>
 }<tr class="separator:ad40ea8caed6f534f09f569119b415b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:afb1e69e2909e0b7c163f4d1d7d9783e8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8">KeyCompareResult</a> { <br />
&#160;&#160;<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8acbed958b1e8a54e858b3e9abdac23a1c">kCurKeySmaller</a>, 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8ac3c4447f530bc91055c28f3f358cca26">kCurKeyEquals</a>, 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a6ee4f5fe583afa3a4fe4e84555fd584a">kCurKeyLarger</a>, 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a74b3a015e2ed036d8f5eee2eda93e9dd">kCurKeyBeingsWith</a>, 
<br />
&#160;&#160;<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a7bc361a793361f4821fbc137b53ea017">kCurKeyContains</a>
<br />
 }<tr class="separator:afb1e69e2909e0b7c163f4d1d7d9783e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:a35f43427c7e0c1dd142b30dad70f4c41"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41">Constants</a> { <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a695e936c66ac0d01ce6b36190cfe6188">kMaxRecords</a> = kBorderPageMaxSlots, 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a956fb4b5c78fce87d5769d22cb237df3">kMaxRoutes</a> = kPageSize / sizeof(Route), 
<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d">kKeyLengthExtremum</a> = 0
 }<tr class="separator:a35f43427c7e0c1dd142b30dad70f4c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8239a620a1d23ecbdd91c88704b70f40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a8239a620a1d23ecbdd91c88704b70f40">MasstreeCursor</a> (<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">MasstreeStorage</a> storage, <a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context)</td></tr>
<tr class="separator:a8239a620a1d23ecbdd91c88704b70f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f96943aba51c51a4f6b300e568b543"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a88f96943aba51c51a4f6b300e568b543">get_context</a> ()</td></tr>
<tr class="separator:a88f96943aba51c51a4f6b300e568b543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79aeda37eb174cb668849f244f4a768e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">MasstreeStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a79aeda37eb174cb668849f244f4a768e">get_storage</a> ()</td></tr>
<tr class="separator:a79aeda37eb174cb668849f244f4a768e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae6cb9ff6a94727694bb60ae83ab3fe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afae6cb9ff6a94727694bb60ae83ab3fe">is_for_writes</a> () const </td></tr>
<tr class="separator:afae6cb9ff6a94727694bb60ae83ab3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3c2ce007fd78fff7333c9349b77b51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#abd3c2ce007fd78fff7333c9349b77b51">is_forward_cursor</a> () const </td></tr>
<tr class="separator:abd3c2ce007fd78fff7333c9349b77b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226f6c437144cfb13f8e64baecb41d8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a">open</a> (const char *begin_key=nullptr, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> begin_key_length=<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d">kKeyLengthExtremum</a>, const char *end_key=nullptr, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> end_key_length=<a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d">kKeyLengthExtremum</a>, bool forward_cursor=true, bool for_writes=false, bool begin_inclusive=true, bool end_inclusive=false)</td></tr>
<tr class="separator:a226f6c437144cfb13f8e64baecb41d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca58d4acdbc13f9cfd341d95f45caa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2">open_normalized</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> begin_key, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> end_key, bool forward_cursor=true, bool for_writes=false, bool begin_inclusive=true, bool end_inclusive=false)</td></tr>
<tr class="separator:a3ca58d4acdbc13f9cfd341d95f45caa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28baba8eb5b92bc2c737fae67e5d2a2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:ae28baba8eb5b92bc2c737fae67e5d2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a370d53c184a5f82017ca78fc9d810bf5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a370d53c184a5f82017ca78fc9d810bf5">get_key_length</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a370d53c184a5f82017ca78fc9d810bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the length of the whole key we are currently pointing to.  <a href="#a370d53c184a5f82017ca78fc9d810bf5">More...</a><br /></td></tr>
<tr class="separator:a370d53c184a5f82017ca78fc9d810bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf95a7bec6684a253f6adb5b3125156"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a1bf95a7bec6684a253f6adb5b3125156">get_cur_route_prefix_slices</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a1bf95a7bec6684a253f6adb5b3125156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the prefix slices upto the current page.  <a href="#a1bf95a7bec6684a253f6adb5b3125156">More...</a><br /></td></tr>
<tr class="separator:a1bf95a7bec6684a253f6adb5b3125156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeef467e93cd6851b864bf692d0fca84"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#adeef467e93cd6851b864bf692d0fca84">get_cur_route_prefix_be</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:adeef467e93cd6851b864bf692d0fca84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Big-endian version.  <a href="#adeef467e93cd6851b864bf692d0fca84">More...</a><br /></td></tr>
<tr class="separator:adeef467e93cd6851b864bf692d0fca84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95afe1e5788bff31c7768d68f5bb9da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad95afe1e5788bff31c7768d68f5bb9da">get_key_in_layer_slice</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:ad95afe1e5788bff31c7768d68f5bb9da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns only the slice of the key in the layer of the current page.  <a href="#ad95afe1e5788bff31c7768d68f5bb9da">More...</a><br /></td></tr>
<tr class="separator:ad95afe1e5788bff31c7768d68f5bb9da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af499e03047fb21045846508736edf433"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af499e03047fb21045846508736edf433">get_key_suffix</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:af499e03047fb21045846508736edf433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the suffix part of the key in the page.  <a href="#af499e03047fb21045846508736edf433">More...</a><br /></td></tr>
<tr class="separator:af499e03047fb21045846508736edf433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ca07acb134dd9bc25374823d74eadc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#aa2ca07acb134dd9bc25374823d74eadc">get_normalized_key</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:aa2ca07acb134dd9bc25374823d74eadc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method assumes the key length is at most 8 bytes.  <a href="#aa2ca07acb134dd9bc25374823d74eadc">More...</a><br /></td></tr>
<tr class="separator:aa2ca07acb134dd9bc25374823d74eadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af268bffce45fd61ca1c318e97c421999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">copy_combined_key</a> (char *buffer) const </td></tr>
<tr class="memdesc:af268bffce45fd61ca1c318e97c421999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the entire big-endian key of the current record to the given buffer.  <a href="#af268bffce45fd61ca1c318e97c421999">More...</a><br /></td></tr>
<tr class="separator:af268bffce45fd61ca1c318e97c421999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b95de73681a08b028fda1b8841cd79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a89b95de73681a08b028fda1b8841cd79">copy_combined_key_part</a> (<a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> offset, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> len, char *buffer) const </td></tr>
<tr class="memdesc:a89b95de73681a08b028fda1b8841cd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Another version to get a part of the key, from the offset for len bytes.  <a href="#a89b95de73681a08b028fda1b8841cd79">More...</a><br /></td></tr>
<tr class="separator:a89b95de73681a08b028fda1b8841cd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47399bb011685ecfa60399a14c241771"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a47399bb011685ecfa60399a14c241771">get_combined_key</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a47399bb011685ecfa60399a14c241771"><td class="mdescLeft">&#160;</td><td class="mdescRight">For even handier use, it returns std::string.  <a href="#a47399bb011685ecfa60399a14c241771">More...</a><br /></td></tr>
<tr class="separator:a47399bb011685ecfa60399a14c241771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1571dffe5d829eea45448d900abe6af8"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a1571dffe5d829eea45448d900abe6af8">get_payload</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a1571dffe5d829eea45448d900abe6af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e79cefca86fe14b4328e94813a34c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a03e79cefca86fe14b4328e94813a34c9">get_payload_length</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a03e79cefca86fe14b4328e94813a34c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923c9931204ce6c6f791ffeb73cec6b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a923c9931204ce6c6f791ffeb73cec6b3">next</a> ()</td></tr>
<tr class="memdesc:a923c9931204ce6c6f791ffeb73cec6b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the cursor to next record.  <a href="#a923c9931204ce6c6f791ffeb73cec6b3">More...</a><br /></td></tr>
<tr class="separator:a923c9931204ce6c6f791ffeb73cec6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af263fb1494c7ac6a5dbfd28b926ede3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b">delete_record</a> ()</td></tr>
<tr class="separator:af263fb1494c7ac6a5dbfd28b926ede3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b1919cb195dd063be409f772b36630"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630">overwrite_record</a> (const void *payload, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_offset, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_count)</td></tr>
<tr class="separator:ab8b1919cb195dd063be409f772b36630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496370a645284f8578875529c6eacb0f"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a496370a645284f8578875529c6eacb0f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f">overwrite_record_primitive</a> (PAYLOAD payload, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_offset)</td></tr>
<tr class="separator:a496370a645284f8578875529c6eacb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ce493961aa7dedc518ca4230d01868"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a81ce493961aa7dedc518ca4230d01868"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868">increment_record</a> (PAYLOAD *value, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_offset)</td></tr>
<tr class="separator:a81ce493961aa7dedc518ca4230d01868"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a35f43427c7e0c1dd142b30dad70f4c41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41">foedus::storage::masstree::MasstreeCursor::Constants</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a35f43427c7e0c1dd142b30dad70f4c41a695e936c66ac0d01ce6b36190cfe6188"></a>kMaxRecords&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a35f43427c7e0c1dd142b30dad70f4c41a956fb4b5c78fce87d5769d22cb237df3"></a>kMaxRoutes&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d"></a>kKeyLengthExtremum&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00178">178</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                 {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a695e936c66ac0d01ce6b36190cfe6188">kMaxRecords</a> = <a class="code" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a956fb4b5c78fce87d5769d22cb237df3">kMaxRoutes</a> = <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a> / <span class="keyword">sizeof</span>(Route),</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d">kKeyLengthExtremum</a> = 0,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  };</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_a35f43427c7e0c1dd142b30dad70f4c41a956fb4b5c78fce87d5769d22cb237df3"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a956fb4b5c78fce87d5769d22cb237df3">foedus::storage::masstree::MasstreeCursor::kMaxRoutes</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00180">masstree_cursor.hpp:180</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga78a96e3a0ec4256513d9d2e9c94f37fd"><div class="ttname"><a href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">foedus::storage::masstree::kBorderPageMaxSlots</a></div><div class="ttdeci">const SlotIndex kBorderPageMaxSlots</div><div class="ttdoc">Maximum number of slots in one MasstreeBorderPage. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00163">masstree_id.hpp:163</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_a35f43427c7e0c1dd142b30dad70f4c41a695e936c66ac0d01ce6b36190cfe6188"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a695e936c66ac0d01ce6b36190cfe6188">foedus::storage::masstree::MasstreeCursor::kMaxRecords</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00179">masstree_cursor.hpp:179</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga1a3c05fe1d44455fc3e761947c6e21e6"><div class="ttname"><a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a></div><div class="ttdeci">const uint16_t kPageSize</div><div class="ttdoc">A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00045">storage_id.hpp:45</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d">foedus::storage::masstree::MasstreeCursor::kKeyLengthExtremum</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00181">masstree_cursor.hpp:181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afb1e69e2909e0b7c163f4d1d7d9783e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8">foedus::storage::masstree::MasstreeCursor::KeyCompareResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="afb1e69e2909e0b7c163f4d1d7d9783e8acbed958b1e8a54e858b3e9abdac23a1c"></a>kCurKeySmaller&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb1e69e2909e0b7c163f4d1d7d9783e8ac3c4447f530bc91055c28f3f358cca26"></a>kCurKeyEquals&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb1e69e2909e0b7c163f4d1d7d9783e8a6ee4f5fe583afa3a4fe4e84555fd584a"></a>kCurKeyLarger&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb1e69e2909e0b7c163f4d1d7d9783e8a74b3a015e2ed036d8f5eee2eda93e9dd"></a>kCurKeyBeingsWith&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb1e69e2909e0b7c163f4d1d7d9783e8a7bc361a793361f4821fbc137b53ea017"></a>kCurKeyContains&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00170">170</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8acbed958b1e8a54e858b3e9abdac23a1c">kCurKeySmaller</a>,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8ac3c4447f530bc91055c28f3f358cca26">kCurKeyEquals</a>,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a6ee4f5fe583afa3a4fe4e84555fd584a">kCurKeyLarger</a>,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// the following two are only when cur key points to next layer. instead, no equals for layer</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a74b3a015e2ed036d8f5eee2eda93e9dd">kCurKeyBeingsWith</a>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a7bc361a793361f4821fbc137b53ea017">kCurKeyContains</a>,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  };</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_afb1e69e2909e0b7c163f4d1d7d9783e8a74b3a015e2ed036d8f5eee2eda93e9dd"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a74b3a015e2ed036d8f5eee2eda93e9dd">foedus::storage::masstree::MasstreeCursor::kCurKeyBeingsWith</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00175">masstree_cursor.hpp:175</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_afb1e69e2909e0b7c163f4d1d7d9783e8a6ee4f5fe583afa3a4fe4e84555fd584a"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a6ee4f5fe583afa3a4fe4e84555fd584a">foedus::storage::masstree::MasstreeCursor::kCurKeyLarger</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00173">masstree_cursor.hpp:173</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_afb1e69e2909e0b7c163f4d1d7d9783e8acbed958b1e8a54e858b3e9abdac23a1c"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8acbed958b1e8a54e858b3e9abdac23a1c">foedus::storage::masstree::MasstreeCursor::kCurKeySmaller</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00171">masstree_cursor.hpp:171</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_afb1e69e2909e0b7c163f4d1d7d9783e8a7bc361a793361f4821fbc137b53ea017"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8a7bc361a793361f4821fbc137b53ea017">foedus::storage::masstree::MasstreeCursor::kCurKeyContains</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00176">masstree_cursor.hpp:176</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_afb1e69e2909e0b7c163f4d1d7d9783e8ac3c4447f530bc91055c28f3f358cca26"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#afb1e69e2909e0b7c163f4d1d7d9783e8ac3c4447f530bc91055c28f3f358cca26">foedus::storage::masstree::MasstreeCursor::kCurKeyEquals</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00172">masstree_cursor.hpp:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad40ea8caed6f534f09f569119b415b63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63">foedus::storage::masstree::MasstreeCursor::SearchType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb"></a>kForwardInclusive&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396"></a>kForwardExclusive&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d"></a>kBackwardInclusive&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71"></a>kBackwardExclusive&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00164">164</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                  {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb">kForwardInclusive</a> = 0,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396">kForwardExclusive</a>,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d">kBackwardInclusive</a>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71">kBackwardExclusive</a>,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  };</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71">foedus::storage::masstree::MasstreeCursor::kBackwardExclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00168">masstree_cursor.hpp:168</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396">foedus::storage::masstree::MasstreeCursor::kForwardExclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00166">masstree_cursor.hpp:166</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d">foedus::storage::masstree::MasstreeCursor::kBackwardInclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00167">masstree_cursor.hpp:167</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb">foedus::storage::masstree::MasstreeCursor::kForwardInclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00165">masstree_cursor.hpp:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8239a620a1d23ecbdd91c88704b70f40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::masstree::MasstreeCursor::MasstreeCursor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">MasstreeStorage</a>&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l00041">41</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="masstree__record__location_8hpp_source.html#l00057">foedus::storage::masstree::RecordLocation::clear()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  : engine_(storage.get_engine()),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    storage_(storage.get_engine(), storage.get_control_block()),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    context_(context),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    current_xct_(&amp;context-&gt;get_current_xct()) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  for_writes_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  forward_cursor_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  reached_end_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  route_count_ = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  routes_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  should_skip_cur_route_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  end_inclusive_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  end_key_length_ = 0;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  end_key_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  end_key_slices_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  cur_route_prefix_slices_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  cur_route_prefix_be_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  cur_key_length_ = 0;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  cur_key_owner_id_address = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  cur_key_suffix_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  cur_key_in_layer_slice_ = 0;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  cur_key_in_layer_remainder_ = 0;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  cur_key_next_layer_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  cur_key_location_.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a952de8a37ed522dc611039c2fa90fa93">clear</a>();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  cur_payload_length_ = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  search_key_length_ = 0;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  search_key_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  search_key_slices_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1RecordLocation_html_a952de8a37ed522dc611039c2fa90fa93"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a952de8a37ed522dc611039c2fa90fa93">foedus::storage::masstree::RecordLocation::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="masstree__record__location_8hpp_source.html#l00057">masstree_record_location.hpp:57</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a8239a620a1d23ecbdd91c88704b70f40_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a8239a620a1d23ecbdd91c88704b70f40_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a8239a620a1d23ecbdd91c88704b70f40_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a8239a620a1d23ecbdd91c88704b70f40_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a952de8a37ed522dc611039c2fa90fa93" title="foedus::storage::masstree\l::RecordLocation::clear" alt="" coords="276,5,449,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af268bffce45fd61ca1c318e97c421999"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeCursor::copy_combined_key </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the entire big-endian key of the current record to the given buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>to receive the combined big-endian key. must be <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a370d53c184a5f82017ca78fc9d810bf5" title="Returns the length of the whole key we are currently pointing to. ">get_key_length()</a> or longer.</td></tr>
  </table>
  </dd>
</dl>
<p>In other words, this combines get_cur_route_prefixes(), <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad95afe1e5788bff31c7768d68f5bb9da" title="Returns only the slice of the key in the layer of the current page. ">get_key_in_layer_slice()</a> and <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af499e03047fb21045846508736edf433" title="Returns the suffix part of the key in the page. ">get_key_suffix()</a>. This method is handy to get a whole key as one char array, but it must copy something, so remember that it's a bit costly.</p>
<dl class="section user"><dt>Why we can't just return const char*</dt><dd>We initially provided such a method "get_key()". However, to provide such a method, we have to keep memcpy-ing for each key because there is no single contiguous key string! A key in masstree is stored in at least 3 components; prefix slices, current slice, suffix. If we could just point to somewhere in the data page, it's a no-cost operation. What we can do is only <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af499e03047fb21045846508736edf433" title="Returns the suffix part of the key in the page. ">get_key_suffix()</a> in that regard. We removed the get_key() method and instead added this explicit copy-method so that the user can choose when to re-construct the entire key. </dd></dl>

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l00077">77</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01105">foedus::storage::masstree::calculate_suffix_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00144">foedus::storage::masstree::MasstreePage::get_layer()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00086">foedus::storage::masstree::kInitiallyNextLayer</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00129">foedus::storage::masstree::MasstreeCursor::Route::layer_</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00095">foedus::storage::masstree::MasstreeCursor::Route::page_</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8cpp_source.html#l01305">delete_record()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00280">get_combined_key()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l01317">increment_record()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l01271">overwrite_record()</a>, and <a class="el" href="masstree__cursor_8cpp_source.html#l01289">overwrite_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                                         {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keyword">const</span> Route* route = cur_route();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a> layer = route-&gt;layer_;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(layer == route-&gt;page_-&gt;get_layer());</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_key_in_layer_remainder_ != <a class="code" href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">kInitiallyNextLayer</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_key_length_ == cur_key_in_layer_remainder_ + layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  std::memcpy(buffer, <a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(cur_route_prefix_be_, 256), layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  assorted::write_bigendian&lt;KeySlice&gt;(cur_key_in_layer_slice_, buffer + layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> suffix_length = <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70">calculate_suffix_length</a>(cur_key_in_layer_remainder_);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">if</span> (suffix_length &gt; 0) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    std::memcpy(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      buffer + (layer + 1U) * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(cur_key_suffix_, 8),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      suffix_length);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaeb8e2ed51f11bc2df537c109de8032dd"><div class="ttname"><a href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">foedus::storage::masstree::Layer</a></div><div class="ttdeci">uint8_t Layer</div><div class="ttdoc">Represents the depth of a B-trie layer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00042">masstree_id.hpp:42</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gae073d9373f83e959a96a36d14caef1a4"><div class="ttname"><a href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">foedus::storage::masstree::kInitiallyNextLayer</a></div><div class="ttdeci">const KeyLength kInitiallyNextLayer</div><div class="ttdoc">A special key length value that denotes the record in a border page was initially a next-layer pointe...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00086">masstree_id.hpp:86</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a575ba44804b98a334fc66eedf4b18d70"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70">foedus::storage::masstree::calculate_suffix_length</a></div><div class="ttdeci">KeyLength calculate_suffix_length(KeyLength remainder_length) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01105">masstree_page_impl.hpp:1105</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="247,5,421,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="247,71,421,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="227,136,441,177"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="489,129,663,185"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af268bffce45fd61ca1c318e97c421999_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="242,5,450,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a47399bb011685ecfa60399a14c241771" title="For even handier use, it returns std::string. " alt="" coords="227,71,465,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="231,136,461,177"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="235,201,457,243"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="256,267,436,323"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a89b95de73681a08b028fda1b8841cd79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeCursor::copy_combined_key_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Another version to get a part of the key, from the offset for len bytes. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l00095">95</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01105">foedus::storage::masstree::calculate_suffix_length()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00144">foedus::storage::masstree::MasstreePage::get_layer()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00086">foedus::storage::masstree::kInitiallyNextLayer</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00129">foedus::storage::masstree::MasstreeCursor::Route::layer_</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00095">foedus::storage::masstree::MasstreeCursor::Route::page_</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                                                                               {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(offset + len &lt;= cur_key_length_);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">const</span> Route* route = cur_route();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a> layer = route-&gt;layer_;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(layer == route-&gt;page_-&gt;get_layer());</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_key_in_layer_remainder_ != <a class="code" href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">kInitiallyNextLayer</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_key_length_ == cur_key_in_layer_remainder_ + layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> prefix_len = layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> buffer_pos = 0;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> len_remaining = len;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">if</span> (offset &lt; prefix_len) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> prefix_copy_len = std::min&lt;KeyLength&gt;(prefix_len - offset, len_remaining);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    std::memcpy(buffer, cur_route_prefix_be_ + offset, prefix_copy_len);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    buffer_pos += prefix_copy_len;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    len_remaining -= prefix_copy_len;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (len_remaining &gt; 0) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (offset &lt; prefix_len + <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordtype">char</span> cur_slice_be[<span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)];</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      assorted::write_bigendian&lt;KeySlice&gt;(cur_key_in_layer_slice_, cur_slice_be);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> cur_slice_offset = offset - prefix_len;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> cur_slice_copy_len</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        = std::min&lt;KeyLength&gt;(<span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>) - cur_slice_offset, len_remaining);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      std::memcpy(buffer + buffer_pos, cur_slice_be + cur_slice_offset, cur_slice_copy_len);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      buffer_pos += cur_slice_copy_len;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      len_remaining -= cur_slice_copy_len;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (len_remaining &gt; 0) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> suffix_offset = offset - prefix_len - <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> suffix_length = <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70">calculate_suffix_length</a>(cur_key_in_layer_remainder_);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> suffix_copy_len = std::min&lt;KeyLength&gt;(suffix_length - suffix_offset, len_remaining);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      std::memcpy(</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        buffer + buffer_pos,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        cur_key_suffix_ + suffix_offset,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        suffix_copy_len);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      buffer_pos += suffix_copy_len;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      len_remaining -= suffix_copy_len;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(buffer_pos == len);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(len_remaining == 0);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaeb8e2ed51f11bc2df537c109de8032dd"><div class="ttname"><a href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">foedus::storage::masstree::Layer</a></div><div class="ttdeci">uint8_t Layer</div><div class="ttdoc">Represents the depth of a B-trie layer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00042">masstree_id.hpp:42</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gae073d9373f83e959a96a36d14caef1a4"><div class="ttname"><a href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">foedus::storage::masstree::kInitiallyNextLayer</a></div><div class="ttdeci">const KeyLength kInitiallyNextLayer</div><div class="ttdoc">A special key length value that denotes the record in a border page was initially a next-layer pointe...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00086">masstree_id.hpp:86</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a575ba44804b98a334fc66eedf4b18d70"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70">foedus::storage::masstree::calculate_suffix_length</a></div><div class="ttdeci">KeyLength calculate_suffix_length(KeyLength remainder_length) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01105">masstree_page_impl.hpp:1105</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a89b95de73681a08b028fda1b8841cd79_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a89b95de73681a08b028fda1b8841cd79_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a89b95de73681a08b028fda1b8841cd79_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a89b95de73681a08b028fda1b8841cd79_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="247,5,421,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="247,71,421,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="227,136,441,177"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="489,129,663,185"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af263fb1494c7ac6a5dbfd28b926ede3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::MasstreeCursor::delete_record </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l01305">1305</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8cpp_source.html#l00077">copy_combined_key()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00691">foedus::storage::masstree::MasstreeStoragePimpl::delete_general()</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00075">foedus::storage::masstree::kMaxKeyLength</a>.</p>
<div class="fragment"><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                                        {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  assert_modify();</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordtype">char</span> key[<a class="code" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a>];</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">copy_combined_key</a>(key);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">return</span> MasstreeStoragePimpl(&amp;storage_).delete_general(</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    context_,</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    cur_key_location_,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    key,</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    cur_key_length_);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_gae33cf61cd45f5956aa2e46283b9474ab"><div class="ttname"><a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a></div><div class="ttdeci">const KeyLength kMaxKeyLength</div><div class="ttdoc">Max length of a key. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00075">masstree_id.hpp:75</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_af268bffce45fd61ca1c318e97c421999"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">foedus::storage::masstree::MasstreeCursor::copy_combined_key</a></div><div class="ttdeci">void copy_combined_key(char *buffer) const </div><div class="ttdoc">Copies the entire big-endian key of the current record to the given buffer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8cpp_source.html#l00077">masstree_cursor.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af263fb1494c7ac6a5dbfd28b926ede3b_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af263fb1494c7ac6a5dbfd28b926ede3b_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af263fb1494c7ac6a5dbfd28b926ede3b_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af263fb1494c7ac6a5dbfd28b926ede3b_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="261,97,435,153"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a45396b70b246f330355397b447af55f3" title="implementation of delete_record family. " alt="" coords="261,486,435,542"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="503,5,677,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="503,71,677,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="483,136,697,177"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="769,129,943,185"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="529,201,651,243"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6f2a3dd83d57c3e7ffb7f1dbfcbdfc1" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::check_next_layer_bit" alt="" coords="503,267,677,323"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html#a66a9832bd3efbb872578200928a219b9" title="foedus::storage::masstree\l::MasstreeDeleteLogType\l::calculate_log_length" alt="" coords="503,347,677,403"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="513,428,667,469"/>
<area shape="rect" id="node15" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="497,493,683,535"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html#a8f2fd3207f8a7a2f67668c4cc293e24f" title="foedus::storage::masstree\l::MasstreeDeleteLogType\l::populate" alt="" coords="503,559,677,615"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aca6d912133fd8b46eacb660b840bada0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_id" alt="" coords="769,637,943,693"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="503,820,677,861"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="515,1032,665,1073"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a3036d6662c0bd89e330ca19cbca1f549" title="Used in the following methods. " alt="" coords="503,739,677,795"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="795,229,917,271"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::calculate_log_length" alt="" coords="764,295,948,351"/>
<area shape="rect" id="node13" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1028,181,1188,207"/>
<area shape="rect" id="node16" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="763,376,949,417"/>
<area shape="rect" id="node17" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="1015,232,1201,273"/>
<area shape="rect" id="node19" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="763,493,949,535"/>
<area shape="rect" id="node18" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a824cf26a13eb7f42d5ae68f5725098c5" title="Subtract operator, considering wrapping around. " alt="" coords="1259,232,1446,273"/>
<area shape="rect" id="node20" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9aa20c59a7d75cf94742beb43b777de6" title="Only for Debug&#45;assertion. " alt="" coords="1015,297,1201,339"/>
<area shape="rect" id="node22" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="1041,363,1175,404"/>
<area shape="rect" id="node23" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1041,428,1175,469"/>
<area shape="rect" id="node24" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="1021,493,1195,535"/>
<area shape="rect" id="node25" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1021,559,1195,600"/>
<area shape="rect" id="node26" href="classfoedus_1_1log_1_1LogManager.html#a5c844c3bc8d71ce709999fd286a5e7b8" title="Wake up loggers if they are sleeping. " alt="" coords="1026,624,1190,665"/>
<area shape="rect" id="node21" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html#a05db4e7c61f07d2320aa7b2c3c76d520" title="Only for Debug&#45;assertion. " alt="" coords="1259,297,1446,339"/>
<area shape="rect" id="node27" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ae0a0fc275f36ad22a57786bc7d17413e" title="foedus::log::LogManagerPimpl\l::wakeup_loggers" alt="" coords="1254,624,1451,665"/>
<area shape="rect" id="node32" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="767,1032,945,1073"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="781,1097,931,1139"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bef5c88a00a3574b489d0259c5b49ad" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_owner_id" alt="" coords="1019,690,1197,746"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="745,776,967,817"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="781,841,931,883"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="785,915,927,956"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="1037,981,1179,1023"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="1249,737,1456,779"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="1504,737,1711,779"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="1019,770,1197,826"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="1019,850,1197,906"/>
<area shape="rect" id="node43" href="group__LOGTYPE.html#gad2d33090f44d00949a05c245e5ff1046" title="Invokes the assertion logic of each log type. " alt="" coords="1288,908,1417,949"/>
<area shape="rect" id="node44" href="structfoedus_1_1log_1_1LogHeader.html#a6ebe3b99442f2a58a4adeeb60f9a37e0" title="Convenience method to cast into LogCode. " alt="" coords="1530,908,1685,949"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1ff8ccbccdede750fb5a18b4da505ad9" title="foedus::xct::Retrospective\lLockList::get_volatile\l_page_resolver" alt="" coords="1267,974,1439,1030"/>
<area shape="rect" id="node47" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="1265,1055,1440,1096"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1RecordXctAccess.html#ace820ba89437e4d3a59fdb47a47525ba" title="Calculate owner_lock_id using the resolver. " alt="" coords="1252,1124,1453,1165"/>
<area shape="rect" id="node48" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1530,1045,1685,1101"/>
<area shape="rect" id="node50" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1535,1125,1680,1167"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47399bb011685ecfa60399a14c241771"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::storage::masstree::MasstreeCursor::get_combined_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For even handier use, it returns std::string. </p>
<p>It's SLOOOW. So use it as such. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00280">280</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8cpp_source.html#l00077">copy_combined_key()</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00075">foedus::storage::masstree::kMaxKeyLength</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                                   {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordtype">char</span> buf[<a class="code" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a>];</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">copy_combined_key</a>(buf);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> std::string(buf, cur_key_length_);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="ttc" id="group__MASSTREE_html_gae33cf61cd45f5956aa2e46283b9474ab"><div class="ttname"><a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a></div><div class="ttdeci">const KeyLength kMaxKeyLength</div><div class="ttdoc">Max length of a key. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00075">masstree_id.hpp:75</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_af268bffce45fd61ca1c318e97c421999"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">foedus::storage::masstree::MasstreeCursor::copy_combined_key</a></div><div class="ttdeci">void copy_combined_key(char *buffer) const </div><div class="ttdoc">Copies the entire big-endian key of the current record to the given buffer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8cpp_source.html#l00077">masstree_cursor.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a47399bb011685ecfa60399a14c241771_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a47399bb011685ecfa60399a14c241771_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a47399bb011685ecfa60399a14c241771_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a47399bb011685ecfa60399a14c241771_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="292,63,465,119"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="534,5,707,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="533,71,708,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="513,136,728,177"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="776,129,949,185"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a88f96943aba51c51a4f6b300e568b543"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a>* foedus::storage::masstree::MasstreeCursor::get_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00186">186</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{ <span class="keywordflow">return</span> context_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adeef467e93cd6851b864bf692d0fca84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* foedus::storage::masstree::MasstreeCursor::get_cur_route_prefix_be </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Big-endian version. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00239">239</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                                            {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> cur_route_prefix_be_;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1bf95a7bec6684a253f6adb5b3125156"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>* foedus::storage::masstree::MasstreeCursor::get_cur_route_prefix_slices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the prefix slices upto the current page. </p>
<p>When the current page is in layer-n, first n slices are set. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00235">235</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                                                    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> cur_route_prefix_slices_;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad95afe1e5788bff31c7768d68f5bb9da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foedus::storage::masstree::MasstreeCursor::get_key_in_layer_slice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns only the slice of the key in the layer of the current page. </p>
<p>Mostly internal use </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00243">243</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                                           {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> cur_key_in_layer_slice_;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ad95afe1e5788bff31c7768d68f5bb9da_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ad95afe1e5788bff31c7768d68f5bb9da_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ad95afe1e5788bff31c7768d68f5bb9da_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ad95afe1e5788bff31c7768d68f5bb9da_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="229,13,444,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="492,5,665,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a370d53c184a5f82017ca78fc9d810bf5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> foedus::storage::masstree::MasstreeCursor::get_key_length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the length of the whole key we are currently pointing to. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00227">227</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                   {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">return</span> cur_key_length_;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a370d53c184a5f82017ca78fc9d810bf5_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a370d53c184a5f82017ca78fc9d810bf5_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a370d53c184a5f82017ca78fc9d810bf5_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a370d53c184a5f82017ca78fc9d810bf5_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="272,13,487,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="535,5,708,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af499e03047fb21045846508736edf433"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* foedus::storage::masstree::MasstreeCursor::get_key_suffix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the suffix part of the key in the page. </p>
<p>Mostly internal use </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00248">248</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                                   {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> cur_key_suffix_;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af499e03047fb21045846508736edf433_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af499e03047fb21045846508736edf433_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af499e03047fb21045846508736edf433_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_af499e03047fb21045846508736edf433_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="267,13,481,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="529,5,703,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2ca07acb134dd9bc25374823d74eadc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foedus::storage::masstree::MasstreeCursor::get_normalized_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method assumes the key length is at most 8 bytes. </p>
<p>Instead, it's fast and handy. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00253">253</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                       {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_key_length_ &lt;= <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> cur_key_in_layer_slice_;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  };</div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_aa2ca07acb134dd9bc25374823d74eadc_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_aa2ca07acb134dd9bc25374823d74eadc_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_aa2ca07acb134dd9bc25374823d74eadc_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_aa2ca07acb134dd9bc25374823d74eadc_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="300,13,515,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="563,5,736,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1571dffe5d829eea45448d900abe6af8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* foedus::storage::masstree::MasstreeCursor::get_payload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00286">286</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                                {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> cur_payload_;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a1571dffe5d829eea45448d900abe6af8_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a1571dffe5d829eea45448d900abe6af8_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a1571dffe5d829eea45448d900abe6af8_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a1571dffe5d829eea45448d900abe6af8_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="253,13,468,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="516,5,689,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a03e79cefca86fe14b4328e94813a34c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> foedus::storage::masstree::MasstreeCursor::get_payload_length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00290">290</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                                          {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> cur_payload_length_;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a03e79cefca86fe14b4328e94813a34c9_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a03e79cefca86fe14b4328e94813a34c9_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a03e79cefca86fe14b4328e94813a34c9_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a03e79cefca86fe14b4328e94813a34c9_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="296,13,511,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="559,5,732,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79aeda37eb174cb668849f244f4a768e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html">MasstreeStorage</a>&amp; foedus::storage::masstree::MasstreeCursor::get_storage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00187">187</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{ <span class="keywordflow">return</span> storage_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81ce493961aa7dedc518ca4230d01868"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::MasstreeCursor::increment_record </td>
          <td>(</td>
          <td class="paramtype">PAYLOAD *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l01317">1317</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8cpp_source.html#l00077">copy_combined_key()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00806">foedus::storage::masstree::MasstreeStoragePimpl::increment_general()</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00075">foedus::storage::masstree::kMaxKeyLength</a>.</p>
<div class="fragment"><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                                                                                       {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  assert_modify();</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keywordtype">char</span> key[<a class="code" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a>];</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">copy_combined_key</a>(key);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">return</span> MasstreeStoragePimpl(&amp;storage_).increment_general&lt;PAYLOAD&gt;(</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    context_,</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    cur_key_location_,</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    key,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    cur_key_length_,</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    value,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    payload_offset);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_gae33cf61cd45f5956aa2e46283b9474ab"><div class="ttname"><a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a></div><div class="ttdeci">const KeyLength kMaxKeyLength</div><div class="ttdoc">Max length of a key. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00075">masstree_id.hpp:75</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_af268bffce45fd61ca1c318e97c421999"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">foedus::storage::masstree::MasstreeCursor::copy_combined_key</a></div><div class="ttdeci">void copy_combined_key(char *buffer) const </div><div class="ttdoc">Copies the entire big-endian key of the current record to the given buffer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8cpp_source.html#l00077">masstree_cursor.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a81ce493961aa7dedc518ca4230d01868_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a81ce493961aa7dedc518ca4230d01868_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a81ce493961aa7dedc518ca4230d01868_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a81ce493961aa7dedc518ca4230d01868_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="284,100,457,156"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="284,711,457,767"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="1289,625,1462,666"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="525,78,700,119"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="505,13,720,54"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="792,5,965,61"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="551,1003,674,1045"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6f2a3dd83d57c3e7ffb7f1dbfcbdfc1" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::check_next_layer_bit" alt="" coords="526,231,699,287"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a634aa97d761122a7d7cd4cb7889d844f" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_payload_length" alt="" coords="523,923,702,979"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a357f4256ff48e1c5cefbee98d0a2dd2d" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload" alt="" coords="523,776,702,832"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::calculate_log_length" alt="" coords="787,704,971,760"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="536,579,689,621"/>
<area shape="rect" id="node24" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="519,482,706,523"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html#ad59889a05bfad73c47891ee9be60d7f2" title="foedus::storage::masstree\l::MasstreeOverwriteLogType\l::populate" alt="" coords="520,645,705,701"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aca6d912133fd8b46eacb660b840bada0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_id" alt="" coords="792,1309,965,1365"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="526,857,699,898"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="537,339,688,381"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a3036d6662c0bd89e330ca19cbca1f549" title="Used in the following methods. " alt="" coords="525,1119,700,1175"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="817,209,940,250"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="1272,922,1479,963"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="1527,922,1733,963"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="768,911,989,953"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a475fb985aa078dff7c627ce18538b52e" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length_aligned" alt="" coords="789,784,968,840"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="1041,864,1220,920"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="1041,944,1220,1000"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c" title="foedus::storage::masstree\l::calculate_suffix_length\l_aligned" alt="" coords="1044,653,1217,709"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4dc67e57eb2c90ffced75953dcef70fa" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_remainder_length" alt="" coords="1041,784,1220,840"/>
<area shape="rect" id="node20" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1295,712,1455,739"/>
<area shape="rect" id="node25" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="785,522,972,563"/>
<area shape="rect" id="node26" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="1037,195,1224,237"/>
<area shape="rect" id="node28" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="785,457,972,498"/>
<area shape="rect" id="node27" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a824cf26a13eb7f42d5ae68f5725098c5" title="Subtract operator, considering wrapping around. " alt="" coords="1282,195,1469,237"/>
<area shape="rect" id="node29" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9aa20c59a7d75cf94742beb43b777de6" title="Only for Debug&#45;assertion. " alt="" coords="1037,522,1224,563"/>
<area shape="rect" id="node31" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="1063,587,1198,629"/>
<area shape="rect" id="node32" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1063,261,1198,302"/>
<area shape="rect" id="node33" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="1044,326,1217,367"/>
<area shape="rect" id="node34" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1044,391,1217,433"/>
<area shape="rect" id="node35" href="classfoedus_1_1log_1_1LogManager.html#a5c844c3bc8d71ce709999fd286a5e7b8" title="Wake up loggers if they are sleeping. " alt="" coords="1049,457,1213,498"/>
<area shape="rect" id="node30" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html#a05db4e7c61f07d2320aa7b2c3c76d520" title="Only for Debug&#45;assertion. " alt="" coords="1282,522,1469,563"/>
<area shape="rect" id="node40" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="789,274,968,315"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="803,339,954,381"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bef5c88a00a3574b489d0259c5b49ad" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_owner_id" alt="" coords="1041,1075,1220,1131"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="803,1126,954,1167"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="808,1243,949,1285"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="1060,1185,1201,1226"/>
<area shape="rect" id="node46" href="group__LOGTYPE.html#gad2d33090f44d00949a05c245e5ff1046" title="Invokes the assertion logic of each log type. " alt="" coords="1311,1250,1440,1291"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1ff8ccbccdede750fb5a18b4da505ad9" title="foedus::xct::Retrospective\lLockList::get_volatile\l_page_resolver" alt="" coords="1289,1104,1461,1160"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="1288,1185,1463,1226"/>
<area shape="rect" id="node50" href="structfoedus_1_1xct_1_1RecordXctAccess.html#ace820ba89437e4d3a59fdb47a47525ba" title="Calculate owner_lock_id using the resolver. " alt="" coords="1275,1038,1476,1079"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afae6cb9ff6a94727694bb60ae83ab3fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeCursor::is_for_writes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00188">188</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{ <span class="keywordflow">return</span> for_writes_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd3c2ce007fd78fff7333c9349b77b51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeCursor::is_forward_cursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00189">189</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{ <span class="keywordflow">return</span> forward_cursor_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae28baba8eb5b92bc2c737fae67e5d2a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeCursor::is_valid_record </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00223">223</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8hpp_source.html#l00153">foedus::storage::masstree::MasstreeCursor::Route::is_valid_record()</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8cpp_source.html#l00077">copy_combined_key()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00095">copy_combined_key_part()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00243">get_key_in_layer_slice()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00227">get_key_length()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00248">get_key_suffix()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00253">get_normalized_key()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00286">get_payload()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00290">get_payload_length()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00174">next()</a>, and <a class="el" href="masstree__cursor_8cpp_source.html#l00932">open()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                                  {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> route_count_ &gt; 0 &amp;&amp; !reached_end_ &amp;&amp; cur_route()-&gt;<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a">is_valid_record</a>();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a14da42a215184c0fc5d3cee4a71d016a"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a">foedus::storage::masstree::MasstreeCursor::Route::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00153">masstree_cursor.hpp:153</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="268,5,441,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ae28baba8eb5b92bc2c737fae67e5d2a2_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="305,129,478,185"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a89b95de73681a08b028fda1b8841cd79" title="Another version to get a part of the key, from the offset for len bytes. " alt="" coords="305,209,478,265"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad95afe1e5788bff31c7768d68f5bb9da" title="Returns only the slice of the key in the layer of the current page. " alt="" coords="303,289,479,345"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a370d53c184a5f82017ca78fc9d810bf5" title="Returns the length of the whole key we are currently pointing to. " alt="" coords="282,369,501,411"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af499e03047fb21045846508736edf433" title="Returns the suffix part of the key in the page. " alt="" coords="285,435,498,476"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#aa2ca07acb134dd9bc25374823d74eadc" title="This method assumes the key length is at most 8 bytes. " alt="" coords="268,500,515,541"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a1571dffe5d829eea45448d900abe6af8" title="foedus::storage::masstree\l::MasstreeCursor::get_payload" alt="" coords="291,565,491,607"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a03e79cefca86fe14b4328e94813a34c9" title="foedus::storage::masstree\l::MasstreeCursor::get_payload_length" alt="" coords="270,631,513,672"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a923c9931204ce6c6f791ffeb73cec6b3" title="Moves the cursor to next record. " alt="" coords="305,696,478,737"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="305,761,478,803"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="578,5,786,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a47399bb011685ecfa60399a14c241771" title="For even handier use, it returns std::string. " alt="" coords="563,71,801,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="567,136,797,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="571,201,793,243"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="592,267,772,323"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="595,754,769,810"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a923c9931204ce6c6f791ffeb73cec6b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::MasstreeCursor::next </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves the cursor to next record. </p>
<p>When the cursor already reached the end, it does nothing. </p><dl class="section user"><dt>Implementation note</dt><dd>This method changes a complete state of the cursor to a next complete status. In other words, this must NOT be called from other internal methods when this object is in interim state (such as should_skip_cur_route_==true). When this method returns, it is guaranteed that should_skip_cur_route_==false for this reason. </dd></dl>

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l00174">174</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="error__code_8hpp_source.html#l00155">CHECK_ERROR_CODE</a>, <a class="el" href="xct__id_8hpp_source.html#l01040">foedus::xct::XctId::is_deleted()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>, <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>, and <a class="el" href="masstree__record__location_8hpp_source.html#l00048">foedus::storage::masstree::RecordLocation::observed_</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                               {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!should_skip_cur_route_);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>()) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  assert_route();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(proceed_route());</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// After proceed_route(), it is still possible that we are at a deleted record or empty page.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// Keep moving on in that case.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">while</span> (should_skip_cur_route_</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    || (<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>() &amp;&amp; cur_key_location_.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a551691d9b2f30ff4bd0ea55037a62480">observed_</a>.<a class="code" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148">is_deleted</a>())) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    DVLOG(0) &lt;&lt; <span class="stringliteral">&quot;Rare. next() needs to move on to find non-deleted records/pages&quot;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    should_skip_cur_route_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(proceed_route());</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (route_count_ == 0) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;The empty page was the last page that might have had the record. we are done&quot;</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!should_skip_cur_route_);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  check_end_key();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>()) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    assert_route();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!cur_key_location_.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a551691d9b2f30ff4bd0ea55037a62480">observed_</a>.<a class="code" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148">is_deleted</a>());</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="structfoedus_1_1xct_1_1XctId_html_a6008b5f8531e6ee524d60cf86bc20148"><div class="ttname"><a href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148">foedus::xct::XctId::is_deleted</a></div><div class="ttdeci">bool is_deleted() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l01040">xct_id.hpp:1040</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaa3832e1d1faf1540161d389edf2a9c17"><div class="ttname"><a href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a></div><div class="ttdeci">#define CHECK_ERROR_CODE(x)</div><div class="ttdoc">This macro calls x and checks its returned error code. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00155">error_code.hpp:155</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1RecordLocation_html_a551691d9b2f30ff4bd0ea55037a62480"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a551691d9b2f30ff4bd0ea55037a62480">foedus::storage::masstree::RecordLocation::observed_</a></div><div class="ttdeci">xct::XctId observed_</div><div class="ttdoc">TID as of locate_record() identifying the record. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__record__location_8hpp_source.html#l00048">masstree_record_location.hpp:48</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a923c9931204ce6c6f791ffeb73cec6b3_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a923c9931204ce6c6f791ffeb73cec6b3_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a923c9931204ce6c6f791ffeb73cec6b3_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a923c9931204ce6c6f791ffeb73cec6b3_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="273,5,395,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="227,71,441,112"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="489,63,663,119"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a226f6c437144cfb13f8e64baecb41d8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::MasstreeCursor::open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>begin_key</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>begin_key_length</em> = <code><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d">kKeyLengthExtremum</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>end_key</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>end_key_length</em> = <code><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a35f43427c7e0c1dd142b30dad70f4c41a8276e094c4b8a7c354f32ac3f61c9f9d">kKeyLengthExtremum</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward_cursor</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_writes</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>begin_inclusive</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>end_inclusive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l00932">932</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="error__code_8hpp_source.html#l00155">CHECK_ERROR_CODE</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00925">foedus::storage::masstree::copy_input_key()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00058">foedus::storage::masstree::MasstreeStoragePimpl::get_first_root()</a>, <a class="el" href="xct_8hpp_source.html#l00121">foedus::xct::Xct::is_active()</a>, <a class="el" href="xct__id_8hpp_source.html#l01040">foedus::xct::XctId::is_deleted()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00223">is_valid_record()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00168">kBackwardExclusive</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00167">kBackwardInclusive</a>, <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>, <a class="el" href="error__code_8hpp_source.html#l00199">foedus::kErrorCodeXctNoXct</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00166">kForwardExclusive</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00165">kForwardInclusive</a>, and <a class="el" href="masstree__record__location_8hpp_source.html#l00048">foedus::storage::masstree::RecordLocation::observed_</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8hpp_source.html#l00201">open_normalized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                      {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(allocate_if_not_exist(&amp;routes_));</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(allocate_if_not_exist(&amp;search_key_));</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(allocate_if_not_exist(&amp;search_key_slices_));</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(allocate_if_not_exist(&amp;cur_route_prefix_slices_));</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(allocate_if_not_exist(&amp;cur_route_prefix_be_));</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(allocate_if_not_exist(&amp;end_key_));</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(allocate_if_not_exist(&amp;end_key_slices_));</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">if</span> (!current_xct_-&gt;<a class="code" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199">is_active</a>()) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a72dcb6f3cd90cdeb9cbc8fbcecd0da3b">kErrorCodeXctNoXct</a>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  forward_cursor_ = forward_cursor;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  reached_end_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  for_writes_ = for_writes;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  end_inclusive_ = end_inclusive;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  end_key_length_ = end_key_length;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  route_count_ = 0;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">if</span> (!is_end_key_supremum()) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34">copy_input_key</a>(end_key, end_key_length, end_key_, end_key_slices_);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  search_key_length_ = begin_key_length;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  search_type_ = forward_cursor ? (begin_inclusive ? <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb">kForwardInclusive</a> : <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396">kForwardExclusive</a>)</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                  : (begin_inclusive ? <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d">kBackwardInclusive</a> : <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71">kBackwardExclusive</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">if</span> (!is_search_key_extremum()) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34">copy_input_key</a>(begin_key, begin_key_length, search_key_, search_key_slices_);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  MasstreeIntermediatePage* root;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  MasstreeStoragePimpl pimpl(&amp;storage_);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(pimpl.get_first_root(context_, for_writes, &amp;root));</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(push_route(root));</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(locate_layer(0));</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(route_count_ != 0);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(cur_route()-&gt;page_-&gt;is_border());</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(should_skip_cur_route_ || (!should_skip_cur_route_ &amp;&amp; <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>()));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="comment">// In a few cases, open() must move on to next page/key.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// 1. locate_xxx doesn&#39;t take care of deleted record as it can&#39;t proceed to another page.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">//  so, if the initially located record is a deleted record, we need to move on to next key.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="comment">// 2. unluckily we hit an empty page or the page boundary in initial locate().</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="comment">//  Let&#39;s go on to next page by proceed_route() and find a next page.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// Note, it&#39;s a while, not if. It&#39;s very unlikely but possible that proceed_route again</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">// results in the same state.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">while</span> (should_skip_cur_route_</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      || (<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>() &amp;&amp; cur_key_location_.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a551691d9b2f30ff4bd0ea55037a62480">observed_</a>.<a class="code" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148">is_deleted</a>())) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    DVLOG(0) &lt;&lt; <span class="stringliteral">&quot;Rare. open() needs to move on to find non-deleted records/pages&quot;</span>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    should_skip_cur_route_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(proceed_route());</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">if</span> (route_count_ == 0) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;The empty page was the last page that might have had the record. we are done&quot;</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>());</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!should_skip_cur_route_);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>() || !cur_key_location_.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a551691d9b2f30ff4bd0ea55037a62480">observed_</a>.<a class="code" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148">is_deleted</a>());</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  check_end_key();</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">is_valid_record</a>()) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    assert_route();</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a8b2e32a461f6328bcda0bf4cd3860d71">foedus::storage::masstree::MasstreeCursor::kBackwardExclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00168">masstree_cursor.hpp:168</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a650ecc3e377ba6ba17c060a9566da396">foedus::storage::masstree::MasstreeCursor::kForwardExclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00166">masstree_cursor.hpp:166</a></div></div>
<div class="ttc" id="classfoedus_1_1xct_1_1Xct_html_a9a76be25f22fd49683d2a4138ab7b199"><div class="ttname"><a href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199">foedus::xct::Xct::is_active</a></div><div class="ttdeci">bool is_active() const </div><div class="ttdoc">Returns whether the object is an active transaction. </div><div class="ttdef"><b>Definition:</b> <a href="xct_8hpp_source.html#l00121">xct.hpp:121</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_ac46309d88898552d15a7f808dd948c34"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34">foedus::storage::masstree::copy_input_key</a></div><div class="ttdeci">void copy_input_key(const char *input_key, KeyLength length, char *buffer, KeySlice *slice_buffer)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8cpp_source.html#l00925">masstree_cursor.cpp:925</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ae28baba8eb5b92bc2c737fae67e5d2a2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2">foedus::storage::masstree::MasstreeCursor::is_valid_record</a></div><div class="ttdeci">bool is_valid_record() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00223">masstree_cursor.hpp:223</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="structfoedus_1_1xct_1_1XctId_html_a6008b5f8531e6ee524d60cf86bc20148"><div class="ttname"><a href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148">foedus::xct::XctId::is_deleted</a></div><div class="ttdeci">bool is_deleted() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l01040">xct_id.hpp:1040</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaa3832e1d1faf1540161d389edf2a9c17"><div class="ttname"><a href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a></div><div class="ttdeci">#define CHECK_ERROR_CODE(x)</div><div class="ttdoc">This macro calls x and checks its returned error code. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00155">error_code.hpp:155</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a0e733e6e35fc069d65eb1045fcccc97d">foedus::storage::masstree::MasstreeCursor::kBackwardInclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00167">masstree_cursor.hpp:167</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad40ea8caed6f534f09f569119b415b63a2dbdd7f751b2b9bccc88199703e884fb">foedus::storage::masstree::MasstreeCursor::kForwardInclusive</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00165">masstree_cursor.hpp:165</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a72dcb6f3cd90cdeb9cbc8fbcecd0da3b"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a72dcb6f3cd90cdeb9cbc8fbcecd0da3b">foedus::kErrorCodeXctNoXct</a></div><div class="ttdoc">0x0A04 : "XCTION : This thread is not running any transaction." . </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00199">error_code.hpp:199</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1RecordLocation_html_a551691d9b2f30ff4bd0ea55037a62480"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#a551691d9b2f30ff4bd0ea55037a62480">foedus::storage::masstree::RecordLocation::observed_</a></div><div class="ttdeci">xct::XctId observed_</div><div class="ttdoc">TID as of locate_record() identifying the record. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__record__location_8hpp_source.html#l00048">masstree_record_location.hpp:48</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34" title="foedus::storage::masstree\l::copy_input_key" alt="" coords="247,565,421,607"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="247,1162,421,1218"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199" title="Returns whether the object is an active transaction. " alt="" coords="269,1243,399,1284"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="273,1308,395,1349"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="227,1439,441,1480"/>
<area shape="rect" id="node3" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8" title="Extract a part of a big&#45;endian byte array of given length as KeySlice. " alt="" coords="511,64,684,105"/>
<area shape="rect" id="node4" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237" title="Convert a big&#45;endian byte array of given length to KeySlice. " alt="" coords="753,5,956,47"/>
<area shape="rect" id="node5" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296" title="Convert a big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="1013,5,1187,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a36d78c30d1b07389c3c0e7180e301008" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_first_root_pointer\l_address" alt="" coords="511,987,684,1057"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="522,1081,673,1123"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="2046,1075,2201,1116"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="510,1199,685,1240"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="495,1264,699,1305"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="493,1329,702,1371"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="511,1395,684,1436"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abfe53cdc69964e52901556b1e8d9de9e" title="foedus::storage::masstree\l::MasstreePage::has_foster_child" alt="" coords="489,1460,705,1501"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aca6d912133fd8b46eacb660b840bada0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_id" alt="" coords="511,841,684,897"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#a2a5e6b008138d755e7e401f25927400c" title="Methods related to System transactions (sysxct) nested under this thread. " alt="" coords="522,921,673,963"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="763,711,947,752"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1535,965,1696,1007"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2049,689,2198,731"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1510,301,1721,343"/>
<area shape="rect" id="node16" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1523,769,1707,825"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="1535,601,1696,643"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1801,1001,1956,1043"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1255,871,1442,912"/>
<area shape="rect" id="node23" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1514,1031,1717,1072"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1008,711,1192,752"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1244,471,1453,512"/>
<area shape="rect" id="node31" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1031,384,1169,425"/>
<area shape="rect" id="node32" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1029,449,1171,491"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="2043,877,2204,919"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="2034,276,2213,317"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="1789,247,1968,288"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="2028,1001,2219,1043"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="1501,900,1729,941"/>
<area shape="rect" id="node24" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1792,936,1965,977"/>
<area shape="rect" id="node25" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1777,1067,1980,1123"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="1257,537,1441,593"/>
<area shape="rect" id="node28" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1548,419,1683,460"/>
<area shape="rect" id="node29" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="1512,484,1719,525"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="759,1460,951,1501"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="1004,1460,1196,1501"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a498a6a07313bf9fbb2c0e3d02f075221" title="Sysxct&#45;related. " alt="" coords="763,201,947,243"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1Xct.html#aca66ae9959651b7c6fa86a75db287f54" title="foedus::xct::Xct::get\l_sysxct_workspace" alt="" coords="1031,267,1169,308"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a6ff575610172c3b1ed337665a277f761" title="foedus::thread::ThreadPimpl\l::cll_get_max_locked_id" alt="" coords="1008,71,1192,112"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="1008,136,1192,177"/>
<area shape="rect" id="node46" href="group__SYSXCT.html#gaf49955c6d4efe3d92e6e09b4ff890618" title="Runs a system transaction nested in a user transaction. " alt="" coords="1021,201,1179,243"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="511,1526,684,1582"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a226f6c437144cfb13f8e64baecb41d8a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="227,5,400,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ca58d4acdbc13f9cfd341d95f45caa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::MasstreeCursor::open_normalized </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>begin_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>end_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward_cursor</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_writes</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>begin_inclusive</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>end_inclusive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00201">201</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__cursor_8cpp_source.html#l00932">open()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>((forward_cursor &amp;&amp; end_key &gt;= begin_key) ||</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      (!forward_cursor &amp;&amp; end_key &lt;= begin_key));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> begin_key_be = assorted::htobe&lt;KeySlice&gt;(begin_key);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> end_key_be = assorted::htobe&lt;KeySlice&gt;(end_key);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a">open</a>(</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      reinterpret_cast&lt;const char*&gt;(&amp;begin_key_be),</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>),</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      reinterpret_cast&lt;const char*&gt;(&amp;end_key_be),</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>),</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      forward_cursor,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      for_writes,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      begin_inclusive,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      end_inclusive);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_a226f6c437144cfb13f8e64baecb41d8a"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a">foedus::storage::masstree::MasstreeCursor::open</a></div><div class="ttdeci">ErrorCode open(const char *begin_key=nullptr, KeyLength begin_key_length=kKeyLengthExtremum, const char *end_key=nullptr, KeyLength end_key_length=kKeyLengthExtremum, bool forward_cursor=true, bool for_writes=false, bool begin_inclusive=true, bool end_inclusive=false)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8cpp_source.html#l00932">masstree_cursor.cpp:932</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a3ca58d4acdbc13f9cfd341d95f45caa2_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a3ca58d4acdbc13f9cfd341d95f45caa2_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a3ca58d4acdbc13f9cfd341d95f45caa2_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a3ca58d4acdbc13f9cfd341d95f45caa2_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="227,1235,400,1276"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#ac46309d88898552d15a7f808dd948c34" title="foedus::storage::masstree\l::copy_input_key" alt="" coords="469,572,642,613"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="469,1154,642,1210"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199" title="Returns whether the object is an active transaction. " alt="" coords="490,1235,621,1276"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="494,1300,617,1341"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="448,1431,663,1472"/>
<area shape="rect" id="node4" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8" title="Extract a part of a big&#45;endian byte array of given length as KeySlice. " alt="" coords="732,64,905,105"/>
<area shape="rect" id="node5" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237" title="Convert a big&#45;endian byte array of given length to KeySlice. " alt="" coords="975,5,1177,47"/>
<area shape="rect" id="node6" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296" title="Convert a big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="1235,5,1408,47"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a36d78c30d1b07389c3c0e7180e301008" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_first_root_pointer\l_address" alt="" coords="732,979,905,1049"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="743,1073,894,1115"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="2267,1067,2422,1108"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="731,1191,906,1232"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="717,1256,921,1297"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="714,1321,923,1363"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="732,1387,905,1428"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abfe53cdc69964e52901556b1e8d9de9e" title="foedus::storage::masstree\l::MasstreePage::has_foster_child" alt="" coords="711,1452,927,1493"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aca6d912133fd8b46eacb660b840bada0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_id" alt="" coords="732,833,905,889"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#a2a5e6b008138d755e7e401f25927400c" title="Methods related to System transactions (sysxct) nested under this thread. " alt="" coords="743,913,894,955"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="984,703,1168,744"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1756,957,1917,999"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2270,681,2419,723"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1731,339,1942,380"/>
<area shape="rect" id="node17" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1745,761,1929,817"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="1756,593,1917,635"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="2023,993,2177,1035"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1477,863,1663,904"/>
<area shape="rect" id="node24" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1735,1023,1938,1064"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1229,703,1413,744"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1465,463,1675,504"/>
<area shape="rect" id="node31" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1252,384,1391,425"/>
<area shape="rect" id="node32" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1251,449,1392,491"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="2264,869,2425,911"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="2255,317,2434,359"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="2011,288,2189,329"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="2249,993,2440,1035"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="1723,892,1951,933"/>
<area shape="rect" id="node25" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="2013,928,2187,969"/>
<area shape="rect" id="node26" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1999,1059,2201,1115"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="1478,529,1662,585"/>
<area shape="rect" id="node29" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1769,463,1904,504"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="980,1452,1172,1493"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="1225,1452,1417,1493"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a498a6a07313bf9fbb2c0e3d02f075221" title="Sysxct&#45;related. " alt="" coords="984,201,1168,243"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1Xct.html#aca66ae9959651b7c6fa86a75db287f54" title="foedus::xct::Xct::get\l_sysxct_workspace" alt="" coords="1252,267,1391,308"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a6ff575610172c3b1ed337665a277f761" title="foedus::thread::ThreadPimpl\l::cll_get_max_locked_id" alt="" coords="1229,71,1413,112"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="1229,136,1413,177"/>
<area shape="rect" id="node46" href="group__SYSXCT.html#gaf49955c6d4efe3d92e6e09b4ff890618" title="Runs a system transaction nested in a user transaction. " alt="" coords="1242,201,1401,243"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="732,1518,905,1574"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab8b1919cb195dd063be409f772b36630"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::MasstreeCursor::overwrite_record </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l01271">1271</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8cpp_source.html#l00077">copy_combined_key()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00075">foedus::storage::masstree::kMaxKeyLength</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00772">foedus::storage::masstree::MasstreeStoragePimpl::overwrite_general()</a>.</p>
<div class="fragment"><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                               {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  assert_modify();</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keywordtype">char</span> key[<a class="code" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a>];</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">copy_combined_key</a>(key);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordflow">return</span> MasstreeStoragePimpl(&amp;storage_).overwrite_general(</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    context_,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    cur_key_location_,</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    key,</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    cur_key_length_,</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    payload,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    payload_offset,</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    payload_count);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_gae33cf61cd45f5956aa2e46283b9474ab"><div class="ttname"><a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a></div><div class="ttdeci">const KeyLength kMaxKeyLength</div><div class="ttdoc">Max length of a key. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00075">masstree_id.hpp:75</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_af268bffce45fd61ca1c318e97c421999"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">foedus::storage::masstree::MasstreeCursor::copy_combined_key</a></div><div class="ttdeci">void copy_combined_key(char *buffer) const </div><div class="ttdoc">Copies the entire big-endian key of the current record to the given buffer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8cpp_source.html#l00077">masstree_cursor.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ab8b1919cb195dd063be409f772b36630_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ab8b1919cb195dd063be409f772b36630_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ab8b1919cb195dd063be409f772b36630_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_ab8b1919cb195dd063be409f772b36630_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="276,97,449,153"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="276,535,449,591"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="518,136,691,177"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="517,5,692,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="497,71,712,112"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="784,63,957,119"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="543,436,666,477"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6f2a3dd83d57c3e7ffb7f1dbfcbdfc1" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::check_next_layer_bit" alt="" coords="518,633,691,689"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a634aa97d761122a7d7cd4cb7889d844f" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_payload_length" alt="" coords="1033,253,1212,309"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::calculate_log_length" alt="" coords="513,779,697,835"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="528,713,681,755"/>
<area shape="rect" id="node17" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="511,981,698,1023"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html#ad59889a05bfad73c47891ee9be60d7f2" title="foedus::storage::masstree\l::MasstreeOverwriteLogType\l::populate" alt="" coords="512,859,697,915"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aca6d912133fd8b46eacb660b840bada0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_id" alt="" coords="784,682,957,738"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="518,201,691,243"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="529,267,680,308"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a3036d6662c0bd89e330ca19cbca1f549" title="Used in the following methods. " alt="" coords="517,502,692,558"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="809,763,932,804"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="1264,340,1471,381"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="1519,340,1725,381"/>
<area shape="rect" id="node15" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="791,829,951,855"/>
<area shape="rect" id="node18" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="777,999,964,1040"/>
<area shape="rect" id="node19" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="1029,1129,1216,1171"/>
<area shape="rect" id="node21" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="777,933,964,975"/>
<area shape="rect" id="node20" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a824cf26a13eb7f42d5ae68f5725098c5" title="Subtract operator, considering wrapping around. " alt="" coords="1274,1129,1461,1171"/>
<area shape="rect" id="node22" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9aa20c59a7d75cf94742beb43b777de6" title="Only for Debug&#45;assertion. " alt="" coords="1029,868,1216,909"/>
<area shape="rect" id="node24" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="1055,933,1190,975"/>
<area shape="rect" id="node25" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1055,999,1190,1040"/>
<area shape="rect" id="node26" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="1036,1064,1209,1105"/>
<area shape="rect" id="node27" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1036,737,1209,779"/>
<area shape="rect" id="node28" href="classfoedus_1_1log_1_1LogManager.html#a5c844c3bc8d71ce709999fd286a5e7b8" title="Wake up loggers if they are sleeping. " alt="" coords="1041,803,1205,844"/>
<area shape="rect" id="node23" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html#a05db4e7c61f07d2320aa7b2c3c76d520" title="Only for Debug&#45;assertion. " alt="" coords="1274,868,1461,909"/>
<area shape="rect" id="node29" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ae0a0fc275f36ad22a57786bc7d17413e" title="foedus::log::LogManagerPimpl\l::wakeup_loggers" alt="" coords="1269,803,1466,844"/>
<area shape="rect" id="node34" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="781,267,960,308"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="795,201,946,243"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bef5c88a00a3574b489d0259c5b49ad" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_owner_id" alt="" coords="1033,333,1212,389"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="760,500,981,541"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="795,435,946,476"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="800,565,941,607"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="1052,624,1193,665"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="1033,493,1212,549"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="1033,413,1212,469"/>
<area shape="rect" id="node43" href="group__LOGTYPE.html#gad2d33090f44d00949a05c245e5ff1046" title="Invokes the assertion logic of each log type. " alt="" coords="1303,525,1432,567"/>
<area shape="rect" id="node44" href="structfoedus_1_1log_1_1LogHeader.html#a6ebe3b99442f2a58a4adeeb60f9a37e0" title="Convenience method to cast into LogCode. " alt="" coords="1545,517,1699,559"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1ff8ccbccdede750fb5a18b4da505ad9" title="foedus::xct::Retrospective\lLockList::get_volatile\l_page_resolver" alt="" coords="1281,722,1453,778"/>
<area shape="rect" id="node47" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="1280,591,1455,632"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1RecordXctAccess.html#ace820ba89437e4d3a59fdb47a47525ba" title="Calculate owner_lock_id using the resolver. " alt="" coords="1267,656,1468,697"/>
<area shape="rect" id="node48" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1545,583,1699,639"/>
<area shape="rect" id="node50" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1549,664,1695,705"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a496370a645284f8578875529c6eacb0f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::masstree::MasstreeCursor::overwrite_record_primitive </td>
          <td>(</td>
          <td class="paramtype">PAYLOAD&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l01289">1289</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8cpp_source.html#l00077">copy_combined_key()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00075">foedus::storage::masstree::kMaxKeyLength</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00772">foedus::storage::masstree::MasstreeStoragePimpl::overwrite_general()</a>.</p>
<div class="fragment"><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                                {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  assert_modify();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="keywordtype">char</span> key[<a class="code" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a>];</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">copy_combined_key</a>(key);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">return</span> MasstreeStoragePimpl(&amp;storage_).overwrite_general(</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    context_,</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    cur_key_location_,</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    key,</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    cur_key_length_,</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    &amp;payload,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    payload_offset,</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keyword">sizeof</span>(PAYLOAD));</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_gae33cf61cd45f5956aa2e46283b9474ab"><div class="ttname"><a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a></div><div class="ttdeci">const KeyLength kMaxKeyLength</div><div class="ttdoc">Max length of a key. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00075">masstree_id.hpp:75</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_html_af268bffce45fd61ca1c318e97c421999"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999">foedus::storage::masstree::MasstreeCursor::copy_combined_key</a></div><div class="ttdeci">void copy_combined_key(char *buffer) const </div><div class="ttdoc">Copies the entire big-endian key of the current record to the given buffer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8cpp_source.html#l00077">masstree_cursor.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a496370a645284f8578875529c6eacb0f_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a496370a645284f8578875529c6eacb0f_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a496370a645284f8578875529c6eacb0f_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_a496370a645284f8578875529c6eacb0f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="233,97,407,153"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="233,535,407,591"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="475,136,649,177"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07" title="Layer&#45;0 stores the first 8 byte slice, Layer&#45;1 next 8 byte... " alt="" coords="475,5,649,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="455,71,669,112"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a" title="foedus::storage::masstree\l::MasstreeCursor::Route\l::is_valid_record" alt="" coords="741,63,915,119"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="501,436,623,477"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6f2a3dd83d57c3e7ffb7f1dbfcbdfc1" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::check_next_layer_bit" alt="" coords="475,633,649,689"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a634aa97d761122a7d7cd4cb7889d844f" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_payload_length" alt="" coords="991,253,1169,309"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3" title="foedus::storage::masstree\l::MasstreeCommonLogType\l::calculate_log_length" alt="" coords="470,779,654,835"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="485,713,639,755"/>
<area shape="rect" id="node17" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="469,981,655,1023"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html#ad59889a05bfad73c47891ee9be60d7f2" title="foedus::storage::masstree\l::MasstreeOverwriteLogType\l::populate" alt="" coords="469,859,655,915"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aca6d912133fd8b46eacb660b840bada0" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::get_id" alt="" coords="741,682,915,738"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="475,201,649,243"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="487,267,637,308"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a3036d6662c0bd89e330ca19cbca1f549" title="Used in the following methods. " alt="" coords="475,502,649,558"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="767,763,889,804"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="1221,340,1428,381"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="1476,340,1683,381"/>
<area shape="rect" id="node15" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="748,829,908,855"/>
<area shape="rect" id="node18" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="735,999,921,1040"/>
<area shape="rect" id="node19" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="987,1129,1173,1171"/>
<area shape="rect" id="node21" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="735,933,921,975"/>
<area shape="rect" id="node20" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a824cf26a13eb7f42d5ae68f5725098c5" title="Subtract operator, considering wrapping around. " alt="" coords="1231,1129,1418,1171"/>
<area shape="rect" id="node22" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9aa20c59a7d75cf94742beb43b777de6" title="Only for Debug&#45;assertion. " alt="" coords="987,868,1173,909"/>
<area shape="rect" id="node24" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="1013,933,1147,975"/>
<area shape="rect" id="node25" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1013,999,1147,1040"/>
<area shape="rect" id="node26" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="993,1064,1167,1105"/>
<area shape="rect" id="node27" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="993,737,1167,779"/>
<area shape="rect" id="node28" href="classfoedus_1_1log_1_1LogManager.html#a5c844c3bc8d71ce709999fd286a5e7b8" title="Wake up loggers if they are sleeping. " alt="" coords="998,803,1162,844"/>
<area shape="rect" id="node23" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html#a05db4e7c61f07d2320aa7b2c3c76d520" title="Only for Debug&#45;assertion. " alt="" coords="1231,868,1418,909"/>
<area shape="rect" id="node29" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ae0a0fc275f36ad22a57786bc7d17413e" title="foedus::log::LogManagerPimpl\l::wakeup_loggers" alt="" coords="1226,803,1423,844"/>
<area shape="rect" id="node34" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="739,267,917,308"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="753,201,903,243"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a0bef5c88a00a3574b489d0259c5b49ad" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_owner_id" alt="" coords="991,333,1169,389"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="717,500,939,541"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="753,435,903,476"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="757,565,899,607"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="1009,624,1151,665"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="991,493,1169,549"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="991,413,1169,469"/>
<area shape="rect" id="node43" href="group__LOGTYPE.html#gad2d33090f44d00949a05c245e5ff1046" title="Invokes the assertion logic of each log type. " alt="" coords="1260,525,1389,567"/>
<area shape="rect" id="node44" href="structfoedus_1_1log_1_1LogHeader.html#a6ebe3b99442f2a58a4adeeb60f9a37e0" title="Convenience method to cast into LogCode. " alt="" coords="1502,517,1657,559"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1ff8ccbccdede750fb5a18b4da505ad9" title="foedus::xct::Retrospective\lLockList::get_volatile\l_page_resolver" alt="" coords="1239,722,1411,778"/>
<area shape="rect" id="node47" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="1237,591,1412,632"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1RecordXctAccess.html#ace820ba89437e4d3a59fdb47a47525ba" title="Calculate owner_lock_id using the resolver. " alt="" coords="1224,656,1425,697"/>
<area shape="rect" id="node48" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1502,583,1657,639"/>
<area shape="rect" id="node50" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1507,664,1652,705"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/masstree/<a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/masstree/<a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html">masstree</a></li><li class="navelem"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html">MasstreeCursor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
