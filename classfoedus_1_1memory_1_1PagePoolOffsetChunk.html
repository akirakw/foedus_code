<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::memory::PagePoolOffsetChunk Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1memory_1_1PagePoolOffsetChunk.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::memory::PagePoolOffsetChunk Class Reference<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__MEMORY.html">Memory Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>To reduce the overhead of grabbing/releasing pages from pool, we pack this many pointers for each grab/release.  
 <a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>To reduce the overhead of grabbing/releasing pages from pool, we pack this many pointers for each grab/release. </p>
<p>The pointers themselves might not be contiguous. This is just a package of pointers. </p>

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00047">47</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0220a2ef27f3fb51c0d96f71bae8334b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334b">Constants</a> { <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">kMaxSize</a> = (1 &lt;&lt; 12) - 1
 }<tr class="separator:a0220a2ef27f3fb51c0d96f71bae8334b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93be56555df6c8872750c039898da1ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a93be56555df6c8872750c039898da1ff">PagePoolOffsetChunk</a> ()</td></tr>
<tr class="separator:a93be56555df6c8872750c039898da1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a995a98dc72fa504271482bf14ac56"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a73a995a98dc72fa504271482bf14ac56">capacity</a> () const </td></tr>
<tr class="separator:a73a995a98dc72fa504271482bf14ac56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa4e09fc9e251f5cc259de81c23c6e2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#affa4e09fc9e251f5cc259de81c23c6e2">size</a> () const </td></tr>
<tr class="separator:affa4e09fc9e251f5cc259de81c23c6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac661b8baf462a1e969a8a1c7e619858b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b">empty</a> () const </td></tr>
<tr class="separator:ac661b8baf462a1e969a8a1c7e619858b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace44cb03e7da84d29f3a02a790c69191"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191">full</a> () const </td></tr>
<tr class="separator:ace44cb03e7da84d29f3a02a790c69191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e011070a4928973c6bbd9b0f0f96935"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a7e011070a4928973c6bbd9b0f0f96935">clear</a> ()</td></tr>
<tr class="separator:a7e011070a4928973c6bbd9b0f0f96935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af897b38ac1ef4217ff99018436c0112e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e">pop_back</a> ()</td></tr>
<tr class="separator:af897b38ac1ef4217ff99018436c0112e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f558bb023b2c5c7dd9bf7ab9d054ef0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0">push_back</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> pointer)</td></tr>
<tr class="separator:a6f558bb023b2c5c7dd9bf7ab9d054ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982e41314f3d2d99dfb5ff6622808faa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a982e41314f3d2d99dfb5ff6622808faa">push_back</a> (const <a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *begin, const <a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *end)</td></tr>
<tr class="separator:a982e41314f3d2d99dfb5ff6622808faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29228540eea2a1630154b0b0eee48939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a29228540eea2a1630154b0b0eee48939">move_to</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *destination, uint32_t count)</td></tr>
<tr class="separator:a29228540eea2a1630154b0b0eee48939"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a0220a2ef27f3fb51c0d96f71bae8334b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334b">foedus::memory::PagePoolOffsetChunk::Constants</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6"></a>kMaxSize&#160;</td><td class="fielddoc">
<p>Max number of pointers to pack. </p>
<p>-1 for size_ (make the size of this class power of two). </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00049">49</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                 {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">kMaxSize</a> = (1 &lt;&lt; 12) - 1,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  };</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_html_a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">foedus::memory::PagePoolOffsetChunk::kMaxSize</a></div><div class="ttdoc">Max number of pointers to pack. </div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8hpp_source.html#l00054">page_pool.hpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a93be56555df6c8872750c039898da1ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::PagePoolOffsetChunk::PagePoolOffsetChunk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00056">56</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;: size_(0) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a73a995a98dc72fa504271482bf14ac56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::memory::PagePoolOffsetChunk::capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00058">58</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>

<p>References <a class="el" href="page__pool_8hpp_source.html#l00054">kMaxSize</a>.</p>

<p>Referenced by <a class="el" href="page__pool__pimpl_8cpp_source.html#l00191">foedus::memory::PagePoolPimpl::grab()</a>, <a class="el" href="page__pool_8cpp_source.html#l00202">foedus::memory::RoundRobinPageGrabBatch::grab()</a>, and <a class="el" href="page__pool_8cpp_source.html#l00267">foedus::memory::DivvyupPageGrabBatch::grab()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">kMaxSize</a>; }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_html_a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">foedus::memory::PagePoolOffsetChunk::kMaxSize</a></div><div class="ttdoc">Max number of pointers to pack. </div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8hpp_source.html#l00054">page_pool.hpp:54</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a73a995a98dc72fa504271482bf14ac56_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_a73a995a98dc72fa504271482bf14ac56_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a73a995a98dc72fa504271482bf14ac56_icgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a73a995a98dc72fa504271482bf14ac56_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abec400efafc2d5e23b8f240e10abdfb3" title="foedus::memory::PagePool\lPimpl::grab" alt="" coords="232,71,411,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="687,5,880,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#a3fcf76c5c95efed24463c7c9eb5e8dc0" title="Grabs an in&#45;memory page in specified NUMA node. " alt="" coords="685,136,881,177"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1PagePool.html#a1fdd8ce2a10921faeccc1fe38ffd25c0" title="Adds the specified number of free pages to the chunk. " alt="" coords="459,71,637,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="691,71,875,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad1cb17d3564061683f038da9e30ba305" title="Grabs an in&#45;memory page evenly and contiguously from each NUMA node. " alt="" coords="929,136,1125,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7e011070a4928973c6bbd9b0f0f96935"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePoolOffsetChunk::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00062">62</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>

<p>Referenced by <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00488">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages()</a>, and <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{ size_ = 0; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a7e011070a4928973c6bbd9b0f0f96935_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_a7e011070a4928973c6bbd9b0f0f96935_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a7e011070a4928973c6bbd9b0f0f96935_icgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a7e011070a4928973c6bbd9b0f0f96935_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="464,39,691,80"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="232,63,416,119"/>
<area shape="rect" id="node3" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="739,31,949,87"/>
<area shape="rect" id="node4" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1025,5,1180,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="997,71,1208,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1256,5,1451,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1256,71,1451,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac661b8baf462a1e969a8a1c7e619858b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::memory::PagePoolOffsetChunk::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00060">60</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>

<p>Referenced by <a class="el" href="composer_8cpp_source.html#l00114">foedus::storage::Composer::DropVolatilesArguments::drop()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>, <a class="el" href="page__pool_8cpp_source.html#l00202">foedus::memory::RoundRobinPageGrabBatch::grab()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00221">foedus::memory::NumaCoreMemory::grab_free_snapshot_page()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00199">foedus::memory::NumaCoreMemory::grab_free_volatile_page()</a>, <a class="el" href="page__pool_8hpp_source.html#l00064">pop_back()</a>, <a class="el" href="page__pool_8hpp_source.html#l00140">foedus::memory::PagePoolOffsetAndEpochChunk::push_back()</a>, and <a class="el" href="page__pool_8cpp_source.html#l00241">foedus::memory::RoundRobinPageGrabBatch::release_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{ <span class="keywordflow">return</span> size_ == 0; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_ac661b8baf462a1e969a8a1c7e619858b_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_ac661b8baf462a1e969a8a1c7e619858b_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_ac661b8baf462a1e969a8a1c7e619858b_icgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_ac661b8baf462a1e969a8a1c7e619858b_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html#aa29872b9c654848dde2e5c0ca1409da0" title="Returns (might cache) the given pointer to volatile pool. " alt="" coords="243,197,445,239"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="1054,145,1238,201"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="523,428,716,469"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="507,599,732,640"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="783,527,993,568"/>
<area shape="rect" id="node45" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="255,481,433,523"/>
<area shape="rect" id="node46" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#aae530fb2917cf0f6329ac323f1da7c8c" title="foedus::memory::PagePool\lOffsetAndEpochChunk::push_back" alt="" coords="232,364,456,405"/>
<area shape="rect" id="node49" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a256ca43b80dc2eb1dfdf5fd630fe3dd4" title="Called at the end to return all remaining pages to their pools. " alt="" coords="247,664,441,705"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="528,165,711,221"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="799,161,977,203"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1299,39,1525,80"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1573,30,1784,86"/>
<area shape="rect" id="node8" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1860,71,2015,112"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1832,5,2043,47"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="796,903,980,944"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1041,976,1251,1017"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1054,895,1238,951"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1833,897,2042,939"/>
<area shape="rect" id="node17" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1320,699,1504,740"/>
<area shape="rect" id="node18" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1587,768,1771,809"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="2317,832,2531,873"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="2091,825,2269,881"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1587,435,1771,491"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1862,592,2013,633"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="2091,505,2269,561"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="2097,585,2263,641"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="2098,665,2262,721"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="2093,745,2267,801"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff31f521523d7a7b81ff5b750e081dac" title="Thread::follow_page_pointer() for masstree. " alt="" coords="2093,425,2267,481"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1862,431,2013,487"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1332,895,1492,951"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1320,765,1504,821"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1603,541,1754,597"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="1848,511,2027,567"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da" title="foedus::storage::masstree\l::allocate_new_border_page" alt="" coords="1055,552,1237,593"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="1325,501,1499,543"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="1057,225,1235,281"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#a51fde507b10c15c4c39e6de2de3c6deb" title="If this thread doesn&#39;t have enough free pages, no page is obtained, returning kErrorCodeMemoryNoFreeP..." alt="" coords="1061,305,1231,347"/>
<area shape="rect" id="node42" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="1054,618,1238,674"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="1323,107,1501,163"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="1587,110,1770,166"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1325,319,1499,360"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="1325,253,1499,295"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1325,188,1499,229"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a22cd4e9f8619968685921c525d6fa4b8" title="foedus::storage::hash\l::ReserveRecords::create\l_new_tail_page" alt="" coords="1328,567,1496,623"/>
<area shape="rect" id="node44" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="1325,384,1499,425"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="792,369,984,411"/>
<area shape="rect" id="node48" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="1050,371,1242,412"/>
<area shape="rect" id="node50" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a9e55ed7e111f63dc91c5fbb610baf30e" title="foedus::memory::RoundRobin\lPageGrabBatch::~RoundRobinPage\lGrabBatch" alt="" coords="504,665,735,721"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace44cb03e7da84d29f3a02a790c69191"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::memory::PagePoolOffsetChunk::full </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00061">61</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>

<p>References <a class="el" href="page__pool_8hpp_source.html#l00054">kMaxSize</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="composer_8cpp_source.html#l00114">foedus::storage::Composer::DropVolatilesArguments::drop()</a>, <a class="el" href="page__pool_8hpp_source.html#l00068">push_back()</a>, <a class="el" href="page__pool_8hpp_source.html#l00140">foedus::memory::PagePoolOffsetAndEpochChunk::push_back()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00230">foedus::memory::NumaCoreMemory::release_free_snapshot_page()</a>, and <a class="el" href="numa__core__memory_8cpp_source.html#l00213">foedus::memory::NumaCoreMemory::release_free_volatile_page()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{ <span class="keywordflow">return</span> size_ == <a class="code" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">kMaxSize</a>; }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_html_a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">foedus::memory::PagePoolOffsetChunk::kMaxSize</a></div><div class="ttdoc">Max number of pointers to pack. </div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8hpp_source.html#l00054">page_pool.hpp:54</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_ace44cb03e7da84d29f3a02a790c69191_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_ace44cb03e7da84d29f3a02a790c69191_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_ace44cb03e7da84d29f3a02a790c69191_icgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_ace44cb03e7da84d29f3a02a790c69191_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="524,106,727,147"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html#aa29872b9c654848dde2e5c0ca1409da0" title="Returns (might cache) the given pointer to volatile pool. " alt="" coords="524,171,727,213"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="255,302,433,343"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="511,531,739,573"/>
<area shape="rect" id="node31" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="504,367,747,409"/>
<area shape="rect" id="node44" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#aae530fb2917cf0f6329ac323f1da7c8c" title="foedus::memory::PagePool\lOffsetAndEpochChunk::push_back" alt="" coords="232,622,456,663"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="816,86,995,127"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="814,152,997,208"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="1079,25,1258,66"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="1327,5,1511,61"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1565,13,1792,54"/>
<area shape="rect" id="node37" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aedda2314df207e1d39509858cbee6bbd" title="Returns the given in&#45;memory page to the specified NUMA node. " alt="" coords="525,302,725,343"/>
<area shape="rect" id="node38" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abec400efafc2d5e23b8f240e10abdfb3" title="foedus::memory::PagePool\lPimpl::grab" alt="" coords="536,237,715,278"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="2097,261,2276,317"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#a51fde507b10c15c4c39e6de2de3c6deb" title="If this thread doesn&#39;t have enough free pages, no page is obtained, returning kErrorCodeMemoryNoFreeP..." alt="" coords="1083,706,1254,747"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1075,363,1262,405"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#acbf8a6e96a43f097a20b2d3bcb460d26" title="Idempotent. " alt="" coords="811,670,999,711"/>
<area shape="rect" id="node30" href="structfoedus_1_1memory_1_1AutoVolatilePageReleaseScope.html#ac72aea03df3b822c5f278d1db2fa2cdf" title="foedus::memory::AutoVolatile\lPageReleaseScope::~AutoVolatile\lPageReleaseScope" alt="" coords="795,589,1016,645"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="2324,203,2537,245"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="2585,203,2791,245"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1333,765,1506,806"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="1333,699,1506,741"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1333,830,1506,871"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1592,862,1765,903"/>
<area shape="rect" id="node20" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1327,305,1511,346"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1587,225,1771,266"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1587,356,1771,412"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1327,421,1511,477"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1599,290,1758,331"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1869,225,2020,266"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1869,356,2020,412"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1603,436,1754,492"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#af1155881509611bbf7bb52fb54c58ba2" title="foedus::thread::GrabFree\lVolatilePagesScope::~GrabFree\lVolatilePagesScope" alt="" coords="1065,625,1273,681"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="813,367,997,409"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1064,298,1273,339"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1077,429,1261,485"/>
<area shape="rect" id="node34" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1840,153,2049,194"/>
<area shape="rect" id="node36" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1339,501,1499,557"/>
<area shape="rect" id="node39" href="classfoedus_1_1memory_1_1PagePool.html#a1fdd8ce2a10921faeccc1fe38ffd25c0" title="Adds the specified number of free pages to the chunk. " alt="" coords="816,233,995,274"/>
<area shape="rect" id="node40" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="1072,102,1265,143"/>
<area shape="rect" id="node41" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#a3fcf76c5c95efed24463c7c9eb5e8dc0" title="Grabs an in&#45;memory page in specified NUMA node. " alt="" coords="1071,167,1267,209"/>
<area shape="rect" id="node43" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="1077,233,1261,274"/>
<area shape="rect" id="node42" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad1cb17d3564061683f038da9e30ba305" title="Grabs an in&#45;memory page evenly and contiguously from each NUMA node. " alt="" coords="1321,86,1517,127"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="529,731,721,773"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="809,866,1001,907"/>
<area shape="rect" id="node47" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="1333,961,1506,1002"/>
<area shape="rect" id="node48" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="1082,903,1255,945"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="1082,969,1255,1010"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="1082,823,1255,879"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29228540eea2a1630154b0b0eee48939"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePoolOffsetChunk::move_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00040">40</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                                             {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(size_ &gt;= count);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  std::memcpy(destination, chunk_ + (size_ - count), count * <span class="keyword">sizeof</span>(<a class="code" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>));</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">// we move from the tail of this chunk. so, just decrementing the count is enough.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// no need to move the remainings back to the beginning</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  size_ -= count;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
<div class="ttc" id="group__MEMORY_html_gaf7ed7c23d184b14ce978b1775a86dfae"><div class="ttname"><a href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">foedus::memory::PagePoolOffset</a></div><div class="ttdeci">uint32_t PagePoolOffset</div><div class="ttdoc">Offset in PagePool that compactly represents the page address (unlike 8 bytes pointer). </div><div class="ttdef"><b>Definition:</b> <a href="memory__id_8hpp_source.html#l00044">memory_id.hpp:44</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af897b38ac1ef4217ff99018436c0112e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> foedus::memory::PagePoolOffsetChunk::pop_back </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00064">64</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="page__pool_8hpp_source.html#l00060">empty()</a>.</p>

<p>Referenced by <a class="el" href="page__pool_8cpp_source.html#l00202">foedus::memory::RoundRobinPageGrabBatch::grab()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00221">foedus::memory::NumaCoreMemory::grab_free_snapshot_page()</a>, and <a class="el" href="numa__core__memory_8cpp_source.html#l00199">foedus::memory::NumaCoreMemory::grab_free_volatile_page()</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                     {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b">empty</a>());</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">return</span> chunk_[--size_];</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_html_ac661b8baf462a1e969a8a1c7e619858b"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b">foedus::memory::PagePoolOffsetChunk::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8hpp_source.html#l00060">page_pool.hpp:60</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_cgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="232,5,411,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_icgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_af897b38ac1ef4217ff99018436c0112e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="248,210,441,251"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="232,275,457,317"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="505,478,716,519"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="519,226,703,267"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="764,143,973,185"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="777,219,961,275"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1253,103,1463,145"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1021,273,1205,314"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1266,281,1450,322"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1511,187,1704,243"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="1979,143,2192,185"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1752,136,1931,192"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1517,5,1698,61"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="1521,267,1694,323"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1279,215,1437,257"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1266,427,1450,483"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1532,434,1683,475"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="1752,216,1931,272"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="1759,427,1924,483"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="1759,507,1923,563"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="1755,587,1928,643"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff31f521523d7a7b81ff5b750e081dac" title="Thread::follow_page_pointer() for masstree. " alt="" coords="1755,296,1928,352"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="1993,281,2178,337"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="1993,395,2178,451"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="1993,507,2178,563"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="1993,652,2178,708"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1532,683,1683,739"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="1752,717,1931,773"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1033,192,1193,248"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1021,339,1205,395"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1283,347,1433,403"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="1518,535,1697,591"/>
<area shape="rect" id="node34" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da" title="foedus::storage::masstree\l::allocate_new_border_page" alt="" coords="777,419,960,461"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="1027,419,1200,461"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="779,725,958,781"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#a51fde507b10c15c4c39e6de2de3c6deb" title="If this thread doesn&#39;t have enough free pages, no page is obtained, returning kErrorCodeMemoryNoFreeP..." alt="" coords="783,897,954,938"/>
<area shape="rect" id="node44" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="777,587,961,643"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="1024,784,1203,840"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="1267,849,1449,905"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1027,995,1200,1037"/>
<area shape="rect" id="node42" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="1027,865,1200,906"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1027,930,1200,971"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1271,995,1445,1037"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a22cd4e9f8619968685921c525d6fa4b8" title="foedus::storage::hash\l::ReserveRecords::create\l_new_tail_page" alt="" coords="1029,637,1197,693"/>
<area shape="rect" id="node48" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="1027,718,1200,759"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="1276,637,1440,693"/>
<area shape="rect" id="node47" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#acc93c206465207018eb9e29a5fa5342b" title="Installs it as a fresh&#45;new physical record, assuming the given page is the tail and already locked..." alt="" coords="1273,557,1443,613"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="1271,783,1445,825"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="1261,718,1455,759"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f558bb023b2c5c7dd9bf7ab9d054ef0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePoolOffsetChunk::push_back </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>pointer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00068">68</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="page__pool_8hpp_source.html#l00061">full()</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="composer_8cpp_source.html#l00114">foedus::storage::Composer::DropVolatilesArguments::drop()</a>, <a class="el" href="page__pool__pimpl_8cpp_source.html#l00191">foedus::memory::PagePoolPimpl::grab()</a>, <a class="el" href="page__pool_8cpp_source.html#l00169">foedus::memory::PageReleaseBatch::release()</a>, <a class="el" href="numa__core__memory_8cpp_source.html#l00230">foedus::memory::NumaCoreMemory::release_free_snapshot_page()</a>, and <a class="el" href="numa__core__memory_8cpp_source.html#l00213">foedus::memory::NumaCoreMemory::release_free_volatile_page()</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                            {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191">full</a>());</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    chunk_[size_++] = pointer;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_html_ace44cb03e7da84d29f3a02a790c69191"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191">foedus::memory::PagePoolOffsetChunk::full</a></div><div class="ttdeci">bool full() const </div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8hpp_source.html#l00061">page_pool.hpp:61</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_cgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="232,5,411,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_icgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_a6f558bb023b2c5c7dd9bf7ab9d054ef0_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="252,12,455,53"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html#aa29872b9c654848dde2e5c0ca1409da0" title="Returns (might cache) the given pointer to volatile pool. " alt="" coords="252,83,455,124"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abec400efafc2d5e23b8f240e10abdfb3" title="foedus::memory::PagePool\lPimpl::grab" alt="" coords="264,152,443,193"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aedda2314df207e1d39509858cbee6bbd" title="Returns the given in&#45;memory page to the specified NUMA node. " alt="" coords="253,217,453,259"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="232,283,475,324"/>
<area shape="rect" id="node41" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="523,657,751,699"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="547,5,726,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="545,71,728,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="820,21,999,63"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="1080,14,1264,70"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1324,21,1551,63"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1PagePool.html#a1fdd8ce2a10921faeccc1fe38ffd25c0" title="Adds the specified number of free pages to the chunk. " alt="" coords="547,152,726,193"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="813,152,1006,193"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#a3fcf76c5c95efed24463c7c9eb5e8dc0" title="Grabs an in&#45;memory page in specified NUMA node. " alt="" coords="811,217,1007,259"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="817,87,1001,128"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad1cb17d3564061683f038da9e30ba305" title="Grabs an in&#45;memory page evenly and contiguously from each NUMA node. " alt="" coords="1074,144,1270,185"/>
<area shape="rect" id="node17" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="545,283,729,324"/>
<area shape="rect" id="node18" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="805,283,1014,324"/>
<area shape="rect" id="node37" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="817,483,1001,539"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1333,171,1542,212"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1080,312,1264,353"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1345,348,1529,389"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1599,293,1792,349"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="2067,308,2280,349"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1840,366,2019,422"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1605,82,1786,138"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="1609,213,1782,269"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="2328,308,2533,349"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="2591,141,2755,197"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="2591,221,2755,277"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="2583,301,2762,357"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="2582,381,2763,437"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="2581,461,2764,517"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1358,283,1517,324"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1345,414,1529,470"/>
<area shape="rect" id="node34" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1620,373,1771,415"/>
<area shape="rect" id="node36" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1620,439,1771,495"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1092,559,1252,615"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1080,479,1264,535"/>
<area shape="rect" id="node40" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1362,494,1513,550"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#a51fde507b10c15c4c39e6de2de3c6deb" title="If this thread doesn&#39;t have enough free pages, no page is obtained, returning kErrorCodeMemoryNoFreeP..." alt="" coords="1087,716,1257,757"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="816,417,1003,459"/>
<area shape="rect" id="node48" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#acbf8a6e96a43f097a20b2d3bcb460d26" title="Idempotent. " alt="" coords="815,741,1003,783"/>
<area shape="rect" id="node50" href="structfoedus_1_1memory_1_1AutoVolatilePageReleaseScope.html#ac72aea03df3b822c5f278d1db2fa2cdf" title="foedus::memory::AutoVolatile\lPageReleaseScope::~AutoVolatile\lPageReleaseScope" alt="" coords="799,807,1020,863"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1351,821,1524,863"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="1351,691,1524,732"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1351,756,1524,797"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1609,821,1782,863"/>
<area shape="rect" id="node49" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#af1155881509611bbf7bb52fb54c58ba2" title="foedus::thread::GrabFree\lVolatilePagesScope::~GrabFree\lVolatilePagesScope" alt="" coords="1068,782,1276,838"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a982e41314f3d2d99dfb5ff6622808faa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::memory::PagePoolOffsetChunk::push_back </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a> *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8cpp_source.html#l00034">34</a> of file <a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="page__pool_8hpp_source.html#l00054">kMaxSize</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                                                                          {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  uint32_t count = end - begin;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(size_ + count &lt;= <a class="code" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">kMaxSize</a>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  std::memcpy(chunk_ + size_, begin, count * <span class="keyword">sizeof</span>(<a class="code" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">PagePoolOffset</a>));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  size_ += count;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="group__MEMORY_html_gaf7ed7c23d184b14ce978b1775a86dfae"><div class="ttname"><a href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">foedus::memory::PagePoolOffset</a></div><div class="ttdeci">uint32_t PagePoolOffset</div><div class="ttdoc">Offset in PagePool that compactly represents the page address (unlike 8 bytes pointer). </div><div class="ttdef"><b>Definition:</b> <a href="memory__id_8hpp_source.html#l00044">memory_id.hpp:44</a></div></div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_html_a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a0220a2ef27f3fb51c0d96f71bae8334ba4105a6be9397c1ffbdd9d4cfa4f23aa6">foedus::memory::PagePoolOffsetChunk::kMaxSize</a></div><div class="ttdoc">Max number of pointers to pack. </div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8hpp_source.html#l00054">page_pool.hpp:54</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="affa4e09fc9e251f5cc259de81c23c6e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::memory::PagePoolOffsetChunk::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="page__pool_8hpp_source.html#l00059">59</a> of file <a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a>.</p>

<p>Referenced by <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="composer_8cpp_source.html#l00114">foedus::storage::Composer::DropVolatilesArguments::drop()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>, <a class="el" href="page__pool__pimpl_8cpp_source.html#l00191">foedus::memory::PagePoolPimpl::grab()</a>, <a class="el" href="page__pool_8cpp_source.html#l00241">foedus::memory::RoundRobinPageGrabBatch::release_all()</a>, and <a class="el" href="numa__core__memory_8cpp_source.html#l00170">foedus::memory::NumaCoreMemory::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{ <span class="keywordflow">return</span> size_; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1PagePoolOffsetChunk_affa4e09fc9e251f5cc259de81c23c6e2_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1PagePoolOffsetChunk_affa4e09fc9e251f5cc259de81c23c6e2_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1PagePoolOffsetChunk_affa4e09fc9e251f5cc259de81c23c6e2_icgraph" id="classfoedus_1_1memory_1_1PagePoolOffsetChunk_affa4e09fc9e251f5cc259de81c23c6e2_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="232,12,435,53"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html#aa29872b9c654848dde2e5c0ca1409da0" title="Returns (might cache) the given pointer to volatile pool. " alt="" coords="232,83,435,124"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="1011,106,1195,162"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abec400efafc2d5e23b8f240e10abdfb3" title="foedus::memory::PagePool\lPimpl::grab" alt="" coords="244,203,423,244"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a256ca43b80dc2eb1dfdf5fd630fe3dd4" title="Called at the end to return all remaining pages to their pools. " alt="" coords="237,268,430,309"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a4a7a7f3ef2839774e1e35fc0b9f79336" title="foedus::memory::NumaCore\lMemory::uninitialize_once" alt="" coords="241,333,425,375"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="509,5,687,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="507,71,689,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="770,83,949,124"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1249,113,1476,155"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1524,106,1735,162"/>
<area shape="rect" id="node10" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1811,80,1965,121"/>
<area shape="rect" id="node12" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1783,145,1993,187"/>
<area shape="rect" id="node11" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="2041,80,2236,121"/>
<area shape="rect" id="node13" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="2041,145,2236,187"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1PagePool.html#a1fdd8ce2a10921faeccc1fe38ffd25c0" title="Adds the specified number of free pages to the chunk. " alt="" coords="509,203,687,244"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a114c524e1d8efc628c3e7d98f85cfa83" title="Grabs an in&#45;memory page in some NUMA node. " alt="" coords="763,203,956,244"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#a3fcf76c5c95efed24463c7c9eb5e8dc0" title="Grabs an in&#45;memory page in specified NUMA node. " alt="" coords="761,268,957,309"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#af7bdd6c02647872c28ecb66d89adb965" title="foedus::memory::NumaCore\lMemory::initialize_once" alt="" coords="767,333,951,375"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad1cb17d3564061683f038da9e30ba305" title="Grabs an in&#45;memory page evenly and contiguously from each NUMA node. " alt="" coords="1005,268,1201,309"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a9e55ed7e111f63dc91c5fbb610baf30e" title="foedus::memory::RoundRobin\lPageGrabBatch::~RoundRobinPage\lGrabBatch" alt="" coords="483,269,713,325"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/memory/<a class="el" href="page__pool_8hpp_source.html">page_pool.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/memory/<a class="el" href="page__pool_8cpp_source.html">page_pool.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1memory.html">memory</a></li><li class="navelem"><a class="el" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html">PagePoolOffsetChunk</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
