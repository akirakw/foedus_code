<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::snapshot::InMemorySortedBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::snapshot::InMemorySortedBuffer Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__SNAPSHOT.html">Snapshot Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html" title="Represents one input stream of sorted log entries. ">SortedBuffer</a> that is backed by fully in-memory buffer.  
 <a href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html" title="Represents one input stream of sorted log entries. ">SortedBuffer</a> that is backed by fully in-memory buffer. </p>
<p>After all mappers are completed, the reducer actually skips dumping the last buffer because anyway it needs to read it back (BTW, if this is the only buffer, everything becomes in-memory, so efficient). In that case, we just sort the last buffer and provides it to composers as it is. This object is used in such cases. </p>

<p>Definition at line <a class="el" href="log__buffer_8hpp_source.html#l00225">225</a> of file <a class="el" href="log__buffer_8hpp_source.html">log_buffer.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="log__buffer_8hpp_source.html">log_buffer.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::snapshot::InMemorySortedBuffer:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1snapshot_1_1InMemorySortedBuffer__inherit__graph.png" border="0" usemap="#foedus_1_1snapshot_1_1InMemorySortedBuffer_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1snapshot_1_1InMemorySortedBuffer_inherit__map" id="foedus_1_1snapshot_1_1InMemorySortedBuffer_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SortedBuffer.html" title="Represents one input stream of sorted log entries. " alt="" coords="15,5,182,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::snapshot::InMemorySortedBuffer:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1snapshot_1_1InMemorySortedBuffer__coll__graph.png" border="0" usemap="#foedus_1_1snapshot_1_1InMemorySortedBuffer_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1snapshot_1_1InMemorySortedBuffer_coll__map" id="foedus_1_1snapshot_1_1InMemorySortedBuffer_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SortedBuffer.html" title="Represents one input stream of sorted log entries. " alt="" coords="15,5,182,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7bfb5070bff140f8db739916b2328ce3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html#a7bfb5070bff140f8db739916b2328ce3">InMemorySortedBuffer</a> (char *buffer, uint64_t buffer_size)</td></tr>
<tr class="separator:a7bfb5070bff140f8db739916b2328ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4ae98ce178c0a9c38f03f0ed61f4b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html#a0a4ae98ce178c0a9c38f03f0ed61f4b3">~InMemorySortedBuffer</a> () override</td></tr>
<tr class="separator:a0a4ae98ce178c0a9c38f03f0ed61f4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaba4c430b22b6ee71ea565bf22b51a6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html#aaaba4c430b22b6ee71ea565bf22b51a6">to_string</a> () const  override</td></tr>
<tr class="memdesc:aaaba4c430b22b6ee71ea565bf22b51a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a short string that briefly describes this object.  <a href="#aaaba4c430b22b6ee71ea565bf22b51a6">More...</a><br /></td></tr>
<tr class="separator:aaaba4c430b22b6ee71ea565bf22b51a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1146d34e6a53343d7395ca03f15115e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html#aa1146d34e6a53343d7395ca03f15115e">wind</a> (uint64_t next_absolute_pos) override</td></tr>
<tr class="memdesc:aa1146d34e6a53343d7395ca03f15115e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads next data block to be consumed by the caller (composer).  <a href="#aa1146d34e6a53343d7395ca03f15115e">More...</a><br /></td></tr>
<tr class="separator:aa1146d34e6a53343d7395ca03f15115e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa117233679b556a7d1a2815ab031715"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html#aaa117233679b556a7d1a2815ab031715">describe</a> (std::ostream *o) const  override</td></tr>
<tr class="memdesc:aaa117233679b556a7d1a2815ab031715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes out a detailed description of this object to stream.  <a href="#aaa117233679b556a7d1a2815ab031715">More...</a><br /></td></tr>
<tr class="separator:aaa117233679b556a7d1a2815ab031715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">foedus::snapshot::SortedBuffer</a></td></tr>
<tr class="memitem:a52490a3555ee4d1d2eb46d99df59f910 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a52490a3555ee4d1d2eb46d99df59f910">SortedBuffer</a> (char *buffer, uint64_t buffer_size, uint64_t total_size)</td></tr>
<tr class="separator:a52490a3555ee4d1d2eb46d99df59f910 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e63631b094fc388498d64de554b38ec inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a1e63631b094fc388498d64de554b38ec">~SortedBuffer</a> ()</td></tr>
<tr class="separator:a1e63631b094fc388498d64de554b38ec inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65275b0d75e1b8c56aaa53e981911e69 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a65275b0d75e1b8c56aaa53e981911e69">to_relative_pos</a> (uint64_t absolute_pos) const </td></tr>
<tr class="separator:a65275b0d75e1b8c56aaa53e981911e69 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fbc14791fdb7bc1ecb2d007732b931 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ab5fbc14791fdb7bc1ecb2d007732b931">to_absolute_pos</a> (uint64_t relative_pos) const </td></tr>
<tr class="separator:ab5fbc14791fdb7bc1ecb2d007732b931 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca9a4662628831cb0c4f8719e7cc2eb inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a1ca9a4662628831cb0c4f8719e7cc2eb">get_buffer</a> () const </td></tr>
<tr class="memdesc:a1ca9a4662628831cb0c4f8719e7cc2eb inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the buffer memory.  <a href="#a1ca9a4662628831cb0c4f8719e7cc2eb">More...</a><br /></td></tr>
<tr class="separator:a1ca9a4662628831cb0c4f8719e7cc2eb inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977e4eef74c89091bd9695fd174bc7ed inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a977e4eef74c89091bd9695fd174bc7ed">get_buffer_size</a> () const </td></tr>
<tr class="memdesc:a977e4eef74c89091bd9695fd174bc7ed inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of buffer memory.  <a href="#a977e4eef74c89091bd9695fd174bc7ed">More...</a><br /></td></tr>
<tr class="separator:a977e4eef74c89091bd9695fd174bc7ed inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebdd5322ae2e5998f974796dab56454d inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aebdd5322ae2e5998f974796dab56454d">get_offset</a> () const </td></tr>
<tr class="memdesc:aebdd5322ae2e5998f974796dab56454d inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the absolute byte position of the buffer's beginning in the entire file.  <a href="#aebdd5322ae2e5998f974796dab56454d">More...</a><br /></td></tr>
<tr class="separator:aebdd5322ae2e5998f974796dab56454d inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4441b03aaac44894e9d7c7c1cf77774c inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a4441b03aaac44894e9d7c7c1cf77774c">get_total_size</a> () const </td></tr>
<tr class="memdesc:a4441b03aaac44894e9d7c7c1cf77774c inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total size of the underlying stream (eg file size).  <a href="#a4441b03aaac44894e9d7c7c1cf77774c">More...</a><br /></td></tr>
<tr class="separator:a4441b03aaac44894e9d7c7c1cf77774c inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c004f7ac4c3c677635d4d8036eacbe0 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">storage::StorageId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a3c004f7ac4c3c677635d4d8036eacbe0">get_cur_block_storage_id</a> () const </td></tr>
<tr class="separator:a3c004f7ac4c3c677635d4d8036eacbe0 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c62d055143289bc5ac7ceac1bbbd2e inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a19c62d055143289bc5ac7ceac1bbbd2e">get_cur_block_log_count</a> () const </td></tr>
<tr class="separator:a19c62d055143289bc5ac7ceac1bbbd2e inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b9b4a784eabc6bb7eb2e16c64dbac2 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a23b9b4a784eabc6bb7eb2e16c64dbac2">get_cur_block_abosulte_begin</a> () const </td></tr>
<tr class="memdesc:a23b9b4a784eabc6bb7eb2e16c64dbac2 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current storage block's beginning in absolute byte position in the file.  <a href="#a23b9b4a784eabc6bb7eb2e16c64dbac2">More...</a><br /></td></tr>
<tr class="separator:a23b9b4a784eabc6bb7eb2e16c64dbac2 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7994e9e8b0cfe799f3746d22a29bf236 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a7994e9e8b0cfe799f3746d22a29bf236">get_cur_block_abosulte_end</a> () const </td></tr>
<tr class="memdesc:a7994e9e8b0cfe799f3746d22a29bf236 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current storage block's end in absolute byte position in the file.  <a href="#a7994e9e8b0cfe799f3746d22a29bf236">More...</a><br /></td></tr>
<tr class="separator:a7994e9e8b0cfe799f3746d22a29bf236 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ee75d99fe376183f671bf4b896d797 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a22ee75d99fe376183f671bf4b896d797">get_cur_block_shortest_key_length</a> () const </td></tr>
<tr class="memdesc:a22ee75d99fe376183f671bf4b896d797 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current storage block's shortest key length.  <a href="#a22ee75d99fe376183f671bf4b896d797">More...</a><br /></td></tr>
<tr class="separator:a22ee75d99fe376183f671bf4b896d797 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c67b4da8ef78d0e6fd77e001dbcec2 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ab5c67b4da8ef78d0e6fd77e001dbcec2">get_cur_block_longest_key_length</a> () const </td></tr>
<tr class="memdesc:ab5c67b4da8ef78d0e6fd77e001dbcec2 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current storage block's longest key length.  <a href="#ab5c67b4da8ef78d0e6fd77e001dbcec2">More...</a><br /></td></tr>
<tr class="separator:ab5c67b4da8ef78d0e6fd77e001dbcec2 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6a1efd4be5b624219e12d1cd42bfe3 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a1f6a1efd4be5b624219e12d1cd42bfe3">set_current_block</a> (<a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">storage::StorageId</a> storage_id, uint32_t log_count, uint64_t abosulte_begin, uint64_t abosulte_end, uint32_t shortest_key_length, uint32_t longest_key_length)</td></tr>
<tr class="separator:a1f6a1efd4be5b624219e12d1cd42bfe3 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32480b91af9dbe7eed89e56d1c34e154 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a32480b91af9dbe7eed89e56d1c34e154">is_valid_current_block</a> () const </td></tr>
<tr class="separator:a32480b91af9dbe7eed89e56d1c34e154 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1d2f7d39db42835ffed4a0e2a06d58 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a0f1d2f7d39db42835ffed4a0e2a06d58">invalidate_current_block</a> ()</td></tr>
<tr class="separator:a0f1d2f7d39db42835ffed4a0e2a06d58 inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3c42518538c584ac9640c7c1313c3f inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#afb3c42518538c584ac9640c7c1313c3f">assert_checks</a> ()</td></tr>
<tr class="separator:afb3c42518538c584ac9640c7c1313c3f inherit pub_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfoedus_1_1snapshot_1_1SortedBuffer')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">foedus::snapshot::SortedBuffer</a></td></tr>
<tr class="memitem:a28ec20c317676b603bffc18ee03137e9 inherit pro_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a28ec20c317676b603bffc18ee03137e9">describe_base_elements</a> (std::ostream *o) const </td></tr>
<tr class="separator:a28ec20c317676b603bffc18ee03137e9 inherit pro_methods_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html">foedus::snapshot::SortedBuffer</a></td></tr>
<tr class="memitem:abc123a4e540e107b88f24d79252b5982 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#abc123a4e540e107b88f24d79252b5982">buffer_</a></td></tr>
<tr class="separator:abc123a4e540e107b88f24d79252b5982 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847f884b8cc19caf9941ef089f12a3d1 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a847f884b8cc19caf9941ef089f12a3d1">buffer_size_</a></td></tr>
<tr class="separator:a847f884b8cc19caf9941ef089f12a3d1 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e38df907c2928b872585158b062413 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ab3e38df907c2928b872585158b062413">offset_</a></td></tr>
<tr class="memdesc:ab3e38df907c2928b872585158b062413 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aebdd5322ae2e5998f974796dab56454d" title="Returns the absolute byte position of the buffer&#39;s beginning in the entire file. ">get_offset()</a>  <a href="#ab3e38df907c2928b872585158b062413">More...</a><br /></td></tr>
<tr class="separator:ab3e38df907c2928b872585158b062413 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26544878db414057d0273838422908c9 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a26544878db414057d0273838422908c9">total_size_</a></td></tr>
<tr class="memdesc:a26544878db414057d0273838422908c9 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a4441b03aaac44894e9d7c7c1cf77774c" title="Returns the total size of the underlying stream (eg file size). ">get_total_size()</a>  <a href="#a26544878db414057d0273838422908c9">More...</a><br /></td></tr>
<tr class="separator:a26544878db414057d0273838422908c9 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6cbacfa1bbac313020beeed8891bd7 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">storage::StorageId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#adc6cbacfa1bbac313020beeed8891bd7">cur_block_storage_id_</a></td></tr>
<tr class="memdesc:adc6cbacfa1bbac313020beeed8891bd7 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this is zero, this buffer is not set for reading any block.  <a href="#adc6cbacfa1bbac313020beeed8891bd7">More...</a><br /></td></tr>
<tr class="separator:adc6cbacfa1bbac313020beeed8891bd7 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07cd419f65d3ed1812388fad468936d inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ae07cd419f65d3ed1812388fad468936d">cur_block_log_count_</a></td></tr>
<tr class="separator:ae07cd419f65d3ed1812388fad468936d inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5cf03d982b905c1598633e84fe189e inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aab5cf03d982b905c1598633e84fe189e">cur_block_abosulte_begin_</a></td></tr>
<tr class="memdesc:aab5cf03d982b905c1598633e84fe189e inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a23b9b4a784eabc6bb7eb2e16c64dbac2" title="Current storage block&#39;s beginning in absolute byte position in the file. ">get_cur_block_abosulte_begin()</a>  <a href="#aab5cf03d982b905c1598633e84fe189e">More...</a><br /></td></tr>
<tr class="separator:aab5cf03d982b905c1598633e84fe189e inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fd73db774ddfc063b6a8355bd26c5e inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ae8fd73db774ddfc063b6a8355bd26c5e">cur_block_abosulte_end_</a></td></tr>
<tr class="memdesc:ae8fd73db774ddfc063b6a8355bd26c5e inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a7994e9e8b0cfe799f3746d22a29bf236" title="Current storage block&#39;s end in absolute byte position in the file. ">get_cur_block_abosulte_end()</a>  <a href="#ae8fd73db774ddfc063b6a8355bd26c5e">More...</a><br /></td></tr>
<tr class="separator:ae8fd73db774ddfc063b6a8355bd26c5e inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c2b7581e83fa21f47aac26942d7467 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aa2c2b7581e83fa21f47aac26942d7467">cur_block_shortest_key_length_</a></td></tr>
<tr class="memdesc:aa2c2b7581e83fa21f47aac26942d7467 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">additional statistics for masstree/hash  <a href="#aa2c2b7581e83fa21f47aac26942d7467">More...</a><br /></td></tr>
<tr class="separator:aa2c2b7581e83fa21f47aac26942d7467 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c2eb161a5a9cc6014d5bc1279313e1 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aa1c2eb161a5a9cc6014d5bc1279313e1">cur_block_longest_key_length_</a></td></tr>
<tr class="memdesc:aa1c2eb161a5a9cc6014d5bc1279313e1 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">additional statistics for masstree/hash  <a href="#aa1c2eb161a5a9cc6014d5bc1279313e1">More...</a><br /></td></tr>
<tr class="separator:aa1c2eb161a5a9cc6014d5bc1279313e1 inherit pro_attribs_classfoedus_1_1snapshot_1_1SortedBuffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7bfb5070bff140f8db739916b2328ce3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::snapshot::InMemorySortedBuffer::InMemorySortedBuffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__buffer_8hpp_source.html#l00227">227</a> of file <a class="el" href="log__buffer_8hpp_source.html">log_buffer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    : <a class="code" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a52490a3555ee4d1d2eb46d99df59f910">SortedBuffer</a>(buffer, buffer_size, buffer_size) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1snapshot_1_1SortedBuffer_html_a52490a3555ee4d1d2eb46d99df59f910"><div class="ttname"><a href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a52490a3555ee4d1d2eb46d99df59f910">foedus::snapshot::SortedBuffer::SortedBuffer</a></div><div class="ttdeci">SortedBuffer(char *buffer, uint64_t buffer_size, uint64_t total_size)</div><div class="ttdef"><b>Definition:</b> <a href="log__buffer_8hpp_source.html#l00083">log_buffer.hpp:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a4ae98ce178c0a9c38f03f0ed61f4b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::snapshot::InMemorySortedBuffer::~InMemorySortedBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="log__buffer_8hpp_source.html#l00230">230</a> of file <a class="el" href="log__buffer_8hpp_source.html">log_buffer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaa117233679b556a7d1a2815ab031715"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::snapshot::InMemorySortedBuffer::describe </td>
          <td>(</td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes out a detailed description of this object to stream. </p>

<p>Implements <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ad46cfcb6686707a3d9d899ef9fcb7c92">foedus::snapshot::SortedBuffer</a>.</p>

<p>Definition at line <a class="el" href="log__buffer_8cpp_source.html#l00049">49</a> of file <a class="el" href="log__buffer_8cpp_source.html">log_buffer.cpp</a>.</p>

<p>References <a class="el" href="log__buffer_8cpp_source.html#l00037">foedus::snapshot::SortedBuffer::describe_base_elements()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                                          {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  std::ostream&amp; o = *optr;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;InMemorySortedBuffer&gt;&quot;</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a28ec20c317676b603bffc18ee03137e9">describe_base_elements</a>(optr);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/InMemorySortedBuffer&gt;&quot;</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1snapshot_1_1SortedBuffer_html_a28ec20c317676b603bffc18ee03137e9"><div class="ttname"><a href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a28ec20c317676b603bffc18ee03137e9">foedus::snapshot::SortedBuffer::describe_base_elements</a></div><div class="ttdeci">void describe_base_elements(std::ostream *o) const </div><div class="ttdef"><b>Definition:</b> <a href="log__buffer_8cpp_source.html#l00037">log_buffer.cpp:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1snapshot_1_1InMemorySortedBuffer_aaa117233679b556a7d1a2815ab031715_cgraph.png" border="0" usemap="#classfoedus_1_1snapshot_1_1InMemorySortedBuffer_aaa117233679b556a7d1a2815ab031715_cgraph" alt=""/></div>
<map name="classfoedus_1_1snapshot_1_1InMemorySortedBuffer_aaa117233679b556a7d1a2815ab031715_cgraph" id="classfoedus_1_1snapshot_1_1InMemorySortedBuffer_aaa117233679b556a7d1a2815ab031715_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a28ec20c317676b603bffc18ee03137e9" title="foedus::snapshot::Sorted\lBuffer::describe_base\l_elements" alt="" coords="240,5,407,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaaba4c430b22b6ee71ea565bf22b51a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::snapshot::InMemorySortedBuffer::to_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a short string that briefly describes this object. </p>

<p>Implements <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#ae07d55c7c07858ca33069ae03ae7781e">foedus::snapshot::SortedBuffer</a>.</p>

<p>Definition at line <a class="el" href="log__buffer_8hpp_source.html#l00232">232</a> of file <a class="el" href="log__buffer_8hpp_source.html">log_buffer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;in-memory buffer&gt;&quot;</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1146d34e6a53343d7395ca03f15115e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::snapshot::InMemorySortedBuffer::wind </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>next_absolute_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads next data block to be consumed by the caller (composer). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">next_absolute_pos</td><td>the absolute byte position that will be guaranteed to be within the buffer after this method call. Note that this position might not become 0-th byte position after this method call because the buffer might be backed by an aligned File I/O. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>next_absolute_pos &lt;= <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a4441b03aaac44894e9d7c7c1cf77774c" title="Returns the total size of the underlying stream (eg file size). ">get_total_size()</a> </dd>
<dd>
next_absolute_pos &gt;= <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aebdd5322ae2e5998f974796dab56454d" title="Returns the absolute byte position of the buffer&#39;s beginning in the entire file. ">get_offset()</a> : we allow foward-only iteration. </dd>
<dd>
next_absolute_pos &lt;= <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aebdd5322ae2e5998f974796dab56454d" title="Returns the absolute byte position of the buffer&#39;s beginning in the entire file. ">get_offset()</a> + <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a977e4eef74c89091bd9695fd174bc7ed" title="Returns the size of buffer memory. ">get_buffer_size()</a> : we allow contiguous-read only. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aebdd5322ae2e5998f974796dab56454d" title="Returns the absolute byte position of the buffer&#39;s beginning in the entire file. ">get_offset()</a> + <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a977e4eef74c89091bd9695fd174bc7ed" title="Returns the size of buffer memory. ">get_buffer_size()</a> &gt; next_absolute_pos &gt;= <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#aebdd5322ae2e5998f974796dab56454d" title="Returns the absolute byte position of the buffer&#39;s beginning in the entire file. ">get_offset()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>File I/O related errors only </dd></dl>

<p>Implements <a class="el" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a8f65c7b06e89f59db0be2065b4b04c75">foedus::snapshot::SortedBuffer</a>.</p>

<p>Definition at line <a class="el" href="log__buffer_8hpp_source.html#l00233">233</a> of file <a class="el" href="log__buffer_8hpp_source.html">log_buffer.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="log__buffer_8hpp_source.html#l00195">foedus::snapshot::SortedBuffer::buffer_size_</a>, and <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                              {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(next_absolute_pos &lt;= <a class="code" href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a847f884b8cc19caf9941ef089f12a3d1">buffer_size_</a>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  }</div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="classfoedus_1_1snapshot_1_1SortedBuffer_html_a847f884b8cc19caf9941ef089f12a3d1"><div class="ttname"><a href="classfoedus_1_1snapshot_1_1SortedBuffer.html#a847f884b8cc19caf9941ef089f12a3d1">foedus::snapshot::SortedBuffer::buffer_size_</a></div><div class="ttdeci">const uint64_t buffer_size_</div><div class="ttdef"><b>Definition:</b> <a href="log__buffer_8hpp_source.html#l00195">log_buffer.hpp:195</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/snapshot/<a class="el" href="log__buffer_8hpp_source.html">log_buffer.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/snapshot/<a class="el" href="log__buffer_8cpp_source.html">log_buffer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1snapshot.html">snapshot</a></li><li class="navelem"><a class="el" href="classfoedus_1_1snapshot_1_1InMemorySortedBuffer.html">InMemorySortedBuffer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
