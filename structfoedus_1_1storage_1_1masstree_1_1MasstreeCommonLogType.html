<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::masstree::MasstreeCommonLogType Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::masstree::MasstreeCommonLogType Struct Reference<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a> &raquo; <a class="el" href="group__MASSTREE.html">Masstree Storage</a><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__LOG.html">Log Manager</a> &raquo;  &#124; <a class="el" href="group__LOGTYPE.html">Log Types</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A base class for MasstreeInsertLogType/MasstreeDeleteLogType/MasstreeOverwriteLogType.  
 <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A base class for MasstreeInsertLogType/MasstreeDeleteLogType/MasstreeOverwriteLogType. </p>
<p>This defines a common layout for the log types so that composer/partitioner can easier handle these log types. This means we waste a bit (eg delete log type doesn't need payload offset/count), but we anyway have extra space if we want to have data_ 8-byte aligned. data_ always starts with the key, followed by payload for insert/overwrite. </p>

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00086">86</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::storage::masstree::MasstreeCommonLogType:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType__inherit__graph.png" border="0" usemap="#foedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_inherit__map" id="foedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_inherit__map">
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html" title="Log type of masstree&#45;storage&#39;s delete operation. " alt="" coords="693,5,866,47"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeInsertLogType.html" title="Log type of masstree&#45;storage&#39;s insert operation. " alt="" coords="693,71,866,112"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeOverwriteLogType.html" title="Log type of masstree&#45;storage&#39;s overwrite operation. " alt="" coords="687,136,872,177"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeUpdateLogType.html" title="Log type of masstree&#45;storage&#39;s update operation. " alt="" coords="693,201,866,243"/>
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1RecordLogType.html" title="Base class for log type of record&#45;wise operation. " alt="" coords="224,111,407,138"/>
<area shape="rect" id="node3" href="structfoedus_1_1log_1_1BaseLogType.html" title="Base class for log type. " alt="" coords="5,111,176,138"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::storage::masstree::MasstreeCommonLogType:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_coll__map" id="foedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_coll__map">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1RecordLogType.html" title="Base class for log type of record&#45;wise operation. " alt="" coords="6,260,189,287"/>
<area shape="rect" id="node3" href="structfoedus_1_1log_1_1BaseLogType.html" title="Base class for log type. " alt="" coords="12,184,183,211"/>
<area shape="rect" id="node4" href="structfoedus_1_1log_1_1LogHeader.html" title="A common header part for all log types. " alt="" coords="20,95,175,121"/>
<area shape="rect" id="node5" href="structfoedus_1_1xct_1_1XctId.html" title="Persistent status part of Transaction ID. " alt="" coords="36,5,159,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses">RecordAddresses</a></td></tr>
<tr class="separator:structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a807c0658618f51a9dcad807b6c595911"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a807c0658618f51a9dcad807b6c595911">MasstreeCommonLogType</a> ()=delete</td></tr>
<tr class="separator:a807c0658618f51a9dcad807b6c595911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef154144f636767edde2658796bed4cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aef154144f636767edde2658796bed4cd">MasstreeCommonLogType</a> (const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a> &amp;other)=delete</td></tr>
<tr class="separator:aef154144f636767edde2658796bed4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f15bee3413b9af63b5aa33c6cdbe325"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a2f15bee3413b9af63b5aa33c6cdbe325">~MasstreeCommonLogType</a> ()=delete</td></tr>
<tr class="separator:a2f15bee3413b9af63b5aa33c6cdbe325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0dcbac82c0486cd1d527f408b65c37"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37">get_key</a> ()</td></tr>
<tr class="separator:aee0dcbac82c0486cd1d527f408b65c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9130a0892d5fcd4ddf7fbb31ff5cb772"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a9130a0892d5fcd4ddf7fbb31ff5cb772">get_key</a> () const </td></tr>
<tr class="separator:a9130a0892d5fcd4ddf7fbb31ff5cb772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad49defa1d56fc34a2df9f1d5b8cd99f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aad49defa1d56fc34a2df9f1d5b8cd99f">get_first_slice</a> () const </td></tr>
<tr class="separator:aad49defa1d56fc34a2df9f1d5b8cd99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40454cac7c437c10905eb921c4052bfc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc">get_key_length_aligned</a> () const </td></tr>
<tr class="separator:a40454cac7c437c10905eb921c4052bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f962d3287a41631441deeb70b2ddbc8"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a5f962d3287a41631441deeb70b2ddbc8">get_payload</a> ()</td></tr>
<tr class="separator:a5f962d3287a41631441deeb70b2ddbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c56574f3a515a718a3156850b2c1d9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a36c56574f3a515a718a3156850b2c1d9">get_payload</a> () const </td></tr>
<tr class="separator:a36c56574f3a515a718a3156850b2c1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ce12370a75b9e0c79a8ab930a96cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ac2ce12370a75b9e0c79a8ab930a96cdc">populate_base</a> (<a class="el" href="group__LOGTYPE.html#gafeea30298c4f7a9586bddec3663fc4f3">log::LogCode</a> type, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id, const void *key, <a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> key_length, const void *payload=nullptr, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_offset=0, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_count=0) __attribute__((always_inline))</td></tr>
<tr class="separator:ac2ce12370a75b9e0c79a8ab930a96cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a290b894a14cac91b105ecbab235c0a2d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a290b894a14cac91b105ecbab235c0a2d">equal_record_and_log_suffixes</a> (const char *data) const </td></tr>
<tr class="memdesc:a290b894a14cac91b105ecbab235c0a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">used only for sanity check.  <a href="#a290b894a14cac91b105ecbab235c0a2d">More...</a><br /></td></tr>
<tr class="separator:a290b894a14cac91b105ecbab235c0a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec913d81af968b22bfd4be9956d59b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses">RecordAddresses</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aec913d81af968b22bfd4be9956d59b37">apply_record_prepare</a> (<a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> *owner_id, char *record) const </td></tr>
<tr class="memdesc:aec913d81af968b22bfd4be9956d59b37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common parts of apply_record() in these log types that extract relevant addresses from the record header.  <a href="#aec913d81af968b22bfd4be9956d59b37">More...</a><br /></td></tr>
<tr class="separator:aec913d81af968b22bfd4be9956d59b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structfoedus_1_1log_1_1RecordLogType"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structfoedus_1_1log_1_1RecordLogType')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structfoedus_1_1log_1_1RecordLogType.html">foedus::log::RecordLogType</a></td></tr>
<tr class="memitem:a9e56d1bc5e412a73f457548c90dbde9e inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1RecordLogType.html#a9e56d1bc5e412a73f457548c90dbde9e">is_engine_log</a> () const </td></tr>
<tr class="separator:a9e56d1bc5e412a73f457548c90dbde9e inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa349172272d5ed28eb2b085b9e7f26a5 inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1RecordLogType.html#aa349172272d5ed28eb2b085b9e7f26a5">is_storage_log</a> () const </td></tr>
<tr class="separator:aa349172272d5ed28eb2b085b9e7f26a5 inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e8f0660a550c50181ca8db13523316 inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1RecordLogType.html#a22e8f0660a550c50181ca8db13523316">is_record_log</a> () const </td></tr>
<tr class="separator:a22e8f0660a550c50181ca8db13523316 inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2811c5372901e774cce46f26c5389f5 inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1RecordLogType.html#af2811c5372901e774cce46f26c5389f5">apply_engine</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *)</td></tr>
<tr class="separator:af2811c5372901e774cce46f26c5389f5 inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19e268cc7ed5dec6217945e69861f4a inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1RecordLogType.html#ab19e268cc7ed5dec6217945e69861f4a">apply_storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">storage::StorageId</a>)</td></tr>
<tr class="separator:ab19e268cc7ed5dec6217945e69861f4a inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c94d1432fb7a2eb942f1407be8ef3a inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1RecordLogType.html#a23c94d1432fb7a2eb942f1407be8ef3a">assert_valid_generic</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a23c94d1432fb7a2eb942f1407be8ef3a inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies the log contains essential fields set.  <a href="#a23c94d1432fb7a2eb942f1407be8ef3a">More...</a><br /></td></tr>
<tr class="separator:a23c94d1432fb7a2eb942f1407be8ef3a inherit pub_methods_structfoedus_1_1log_1_1RecordLogType"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aaa0d49b768842255f27147327cc72ef3"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3">calculate_log_length</a> (<a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> key_length, <a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> payload_count) __attribute__((always_inline))</td></tr>
<tr class="separator:aaa0d49b768842255f27147327cc72ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f964ae492f5867bb1ae754e033a110e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a5f964ae492f5867bb1ae754e033a110e">compare_logs</a> (const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a> *left, const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a> *right) __attribute__((always_inline))</td></tr>
<tr class="memdesc:a5f964ae492f5867bb1ae754e033a110e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns -1, 0, 1 when left is less than, same, larger than right in terms of key and xct_id.  <a href="#a5f964ae492f5867bb1ae754e033a110e">More...</a><br /></td></tr>
<tr class="separator:a5f964ae492f5867bb1ae754e033a110e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7d4d08afd1dc946443c2f8151cd23ea0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">key_length_</a></td></tr>
<tr class="separator:a7d4d08afd1dc946443c2f8151cd23ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab901ccfe54fae1232a0da6726717a52e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ab901ccfe54fae1232a0da6726717a52e">payload_offset_</a></td></tr>
<tr class="separator:ab901ccfe54fae1232a0da6726717a52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f1877e7b86a560041f9b4a2c47d649"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ae7f1877e7b86a560041f9b4a2c47d649">payload_count_</a></td></tr>
<tr class="separator:ae7f1877e7b86a560041f9b4a2c47d649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de55fa9cf2cd2b936022ff5d5f4c2ce"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a0de55fa9cf2cd2b936022ff5d5f4c2ce">reserved_</a></td></tr>
<tr class="separator:a0de55fa9cf2cd2b936022ff5d5f4c2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd5602bb6cce8639a8d3ec465bf84a7"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a> [8]</td></tr>
<tr class="memdesc:aebd5602bb6cce8639a8d3ec465bf84a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full key and (if exists) payload data, both of which are padded to 8 bytes.  <a href="#aebd5602bb6cce8639a8d3ec465bf84a7">More...</a><br /></td></tr>
<tr class="separator:aebd5602bb6cce8639a8d3ec465bf84a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_structfoedus_1_1log_1_1BaseLogType"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_structfoedus_1_1log_1_1BaseLogType')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="structfoedus_1_1log_1_1BaseLogType.html">foedus::log::BaseLogType</a></td></tr>
<tr class="memitem:a574e9dac4445db7814303700a9910821 inherit pub_attribs_structfoedus_1_1log_1_1BaseLogType"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1log_1_1LogHeader.html">LogHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1BaseLogType.html#a574e9dac4445db7814303700a9910821">header_</a></td></tr>
<tr class="separator:a574e9dac4445db7814303700a9910821 inherit pub_attribs_structfoedus_1_1log_1_1BaseLogType"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a807c0658618f51a9dcad807b6c595911"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::masstree::MasstreeCommonLogType::MasstreeCommonLogType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aef154144f636767edde2658796bed4cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::masstree::MasstreeCommonLogType::MasstreeCommonLogType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2f15bee3413b9af63b5aa33c6cdbe325"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::masstree::MasstreeCommonLogType::~MasstreeCommonLogType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aec913d81af968b22bfd4be9956d59b37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses">RecordAddresses</a> foedus::storage::masstree::MasstreeCommonLogType::apply_record_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> *&#160;</td>
          <td class="paramname"><em>owner_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Common parts of apply_record() in these log types that extract relevant addresses from the record header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">owner_id</td><td>TID of the record </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">record</td><td>data-region of the record <em>AS OF taking the write-set</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>This record must be locked by this thread. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__MASSTREE.html#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_1_1RecordAddresses">RecordAddresses</a>, to which the type-specific logic applies the change</dd></dl>
<p>This method mostly consists of assertions and straightforward calculations of offsets. The only notable thing is the handling of records <b>whose</b> <b>offsets</b> <b>have</b> <b>changed</b> since we took it as write-set.</p>
<dl class="section user"><dt>When it happens</dt><dd>When the record must contain more space, expand_record() runs a system transaction that might migrate the record in the same page. When it happens, it <b>keeps</b> <b>the</b> <b>same</b> <b>TID</b> because the sysxct does nothing logically and the new page layout keeps the previous record intact. Reading xcts are safe to read either new or old records, and don't have to abort unless the TID actually changes when writing xcts update the TID.</dd></dl>
<dl class="section user"><dt>What to do then</dt><dd>Remember, both old and new record regions are complete and correct. The only thing we have to be careful is that writing xcts write to the new record region. If they write to the old place, we lose the change. Fortunately, it is trivial for writing xcts because they always lock the records first. We can safely retrieve the new offset in apply_record() because lock implies full barriers. We just overwrite <em>"record"</em> pointer.</dd></dl>
<dl class="section user"><dt>Other approches considered</dt><dd>We also tried a simpler approach, in sysxct increments TID when it migrates the record in-page. While it is <em>"correct"</em>, we of course observed unnecessary aborts especially in transactions that caused the migration themselves. So, we </dd></dl>

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00248">248</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>, <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>, <a class="el" href="masstree__log__types_8hpp_source.html#l00072">foedus::storage::masstree::extract_page_layer()</a>, <a class="el" href="xct__id_8hpp_source.html#l01140">foedus::xct::RwLockableXctId::is_keylocked()</a>, <a class="el" href="xct__id_8hpp_source.html#l01041">foedus::xct::XctId::is_moved()</a>, <a class="el" href="xct__id_8hpp_source.html#l01042">foedus::xct::XctId::is_next_layer()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00178">foedus::storage::masstree::kBorderPageDataPartOffset</a>, <a class="el" href="storage__id_8hpp_source.html#l00045">foedus::storage::kPageSize</a>, <a class="el" href="page_8hpp_source.html#l00395">foedus::storage::to_page()</a>, and <a class="el" href="xct__id_8hpp_source.html#l01137">foedus::xct::RwLockableXctId::xct_id_</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                                                                                {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(owner_id-&gt;is_keylocked());</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!owner_id-&gt;xct_id_.is_next_layer());</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!owner_id-&gt;xct_id_.is_moved());</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">const</span> uint8_t layer = <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123">extract_page_layer</a>(owner_id);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> skipped = (layer + 1U) * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> key_length_aligned = this-&gt;<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc">get_key_length_aligned</a>();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(key_length_aligned &gt;= skipped);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> suffix_length_aligned = key_length_aligned - skipped;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// no need to set key in apply(). it&#39;s already set when the record is physically inserted</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// (or in other places if this is recovery).</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a290b894a14cac91b105ecbab235c0a2d">equal_record_and_log_suffixes</a>(record));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// In the MasstreeBorderPage Slot, lengthes come right after TID.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// [0]: offset, [1]: physical_record_length_, [3]: payload_length_, [4]: remainder_length_</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// [5]: original_physical_record_length_, [6]: original_offset_</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    uint16_t* lengthes = <span class="keyword">reinterpret_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(owner_id + 1);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a> offset = lengthes[0];</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(reinterpret_cast&lt;uint64_t&gt;(reinterpret_cast&lt;uintptr_t&gt;(record)) % <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      == static_cast&lt;uint64_t&gt;(offset + <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">kBorderPageDataPartOffset</a>));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(lengthes[1] &gt;= suffix_length_aligned + <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(this-&gt;<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ae7f1877e7b86a560041f9b4a2c47d649">payload_count_</a>));</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(lengthes[1] + offset + <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">kBorderPageDataPartOffset</a> &lt;= <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(lengthes[1] &gt;= suffix_length_aligned + <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(lengthes[3]));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(lengthes[4] == this-&gt;<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">key_length_</a> - (layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>)));</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    Page* page = <a class="code" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">to_page</a>(record);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">char</span>* page_char = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(page);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(record == page_char + offset + <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">kBorderPageDataPartOffset</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">const</span> <a class="code" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a> old_offset = (record - page_char) - <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">kBorderPageDataPartOffset</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (old_offset != offset) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="comment">// This happens only when we expanded the record</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(lengthes[5] &gt; lengthes[1]);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="comment">// Data-region grows forward, so the new offset must be larger</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(lengthes[6] &lt; offset);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(old_offset &lt; offset);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      record = page_char + <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">kBorderPageDataPartOffset</a> + offset;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a290b894a14cac91b105ecbab235c0a2d">equal_record_and_log_suffixes</a>(record));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>* record_payload_count = lengthes + 3;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// record&#39;s payload is also 8-byte aligned, so copy multiply of 8 bytes.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// if the compiler is smart enough, it will do some optimization here.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordtype">char</span>* record_payload = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(record + suffix_length_aligned, 8U));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    RecordAddresses ret = { record_payload_count, record_payload };</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga9d05e904033c0bba7113cdafb43d6610"><div class="ttname"><a href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">foedus::storage::masstree::PayloadLength</a></div><div class="ttdeci">uint16_t PayloadLength</div><div class="ttdoc">Represents a byte-length of a payload in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00092">masstree_id.hpp:92</a></div></div>
<div class="ttc" id="group__STORAGE_html_gaa114fc1859c2d4cb8b9e2021cb11cb25"><div class="ttname"><a href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25">foedus::storage::to_page</a></div><div class="ttdeci">Page * to_page(const void *address)</div><div class="ttdoc">super-dirty way to obtain Page the address belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00395">page.hpp:395</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga1ab02d0a6214e7d36d74a30afda7b1ff"><div class="ttname"><a href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">foedus::storage::masstree::DataOffset</a></div><div class="ttdeci">uint16_t DataOffset</div><div class="ttdoc">Byte-offset in a page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00104">masstree_id.hpp:104</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_ae7f1877e7b86a560041f9b4a2c47d649"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ae7f1877e7b86a560041f9b4a2c47d649">foedus::storage::masstree::MasstreeCommonLogType::payload_count_</a></div><div class="ttdeci">PayloadLength payload_count_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00090">masstree_log_types.hpp:90</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a7abc672ebc91931d1fb7debd5fc1affc"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">foedus::storage::masstree::kBorderPageDataPartOffset</a></div><div class="ttdeci">const DataOffset kBorderPageDataPartOffset</div><div class="ttdoc">Offset of data_ member in MasstreeBorderPage. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00178">masstree_id.hpp:178</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a1a5bea4010c2c465bafdec7e4a407123"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123">foedus::storage::masstree::extract_page_layer</a></div><div class="ttdeci">uint8_t extract_page_layer(const void *in_page_pointer)</div><div class="ttdoc">Retrieve masstree layer information from the header of the page that contains the pointer...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00072">masstree_log_types.hpp:72</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a290b894a14cac91b105ecbab235c0a2d"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a290b894a14cac91b105ecbab235c0a2d">foedus::storage::masstree::MasstreeCommonLogType::equal_record_and_log_suffixes</a></div><div class="ttdeci">bool equal_record_and_log_suffixes(const char *data) const </div><div class="ttdoc">used only for sanity check. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00148">masstree_log_types.hpp:148</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a40454cac7c437c10905eb921c4052bfc"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc">foedus::storage::masstree::MasstreeCommonLogType::get_key_length_aligned</a></div><div class="ttdeci">KeyLength get_key_length_aligned() const </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00107">masstree_log_types.hpp:107</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga1a3c05fe1d44455fc3e761947c6e21e6"><div class="ttname"><a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a></div><div class="ttdeci">const uint16_t kPageSize</div><div class="ttdoc">A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00045">storage_id.hpp:45</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a7d4d08afd1dc946443c2f8151cd23ea0"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a></div><div class="ttdeci">KeyLength key_length_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00088">masstree_log_types.hpp:88</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aec913d81af968b22bfd4be9956d59b37_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aec913d81af968b22bfd4be9956d59b37_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aec913d81af968b22bfd4be9956d59b37_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aec913d81af968b22bfd4be9956d59b37_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="249,5,409,32"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123" title="Retrieve masstree layer information from the header of the page that contains the pointer..." alt="" coords="242,57,415,98"/>
<area shape="rect" id="node5" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="468,123,633,149"/>
<area shape="rect" id="node6" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a610d8c1bfd1d86dcde181c3fb0020f0c" title="foedus::xct::RwLockableXct\lId::is_keylocked" alt="" coords="237,174,420,215"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="267,239,390,281"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="267,305,390,346"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="476,57,625,98"/>
<area shape="rect" id="node7" href="structfoedus_1_1xct_1_1McsRwLock.html#adc5e6612e3cecf3d2f15d02237b4ef8f" title="foedus::xct::McsRwLock\l::is_locked" alt="" coords="468,174,633,215"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa0d49b768842255f27147327cc72ef3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t foedus::storage::masstree::MasstreeCommonLogType::calculate_log_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00098">98</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8hpp_source.html#l00354">foedus::storage::masstree::MasstreeDeleteLogType::calculate_log_length()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00806">foedus::storage::masstree::MasstreeStoragePimpl::increment_general()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00661">foedus::storage::masstree::MasstreeStoragePimpl::insert_general()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00772">foedus::storage::masstree::MasstreeStoragePimpl::overwrite_general()</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00711">foedus::storage::masstree::MasstreeStoragePimpl::upsert_general()</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                               {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> 24U + <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(key_length) + <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(payload_count);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="237,20,397,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_icgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_icgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_icgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aaa0d49b768842255f27147327cc72ef3_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeDeleteLogType.html#a66a9832bd3efbb872578200928a219b9" title="foedus::storage::masstree\l::MasstreeDeleteLogType\l::calculate_log_length" alt="" coords="237,90,411,146"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="237,235,411,291"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="237,379,411,435"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="237,627,411,683"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="237,926,411,982"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a45396b70b246f330355397b447af55f3" title="implementation of delete_record family. " alt="" coords="491,57,664,113"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="755,5,963,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1023,97,1237,139"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="773,122,946,178"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="462,137,693,179"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="459,203,696,244"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="480,269,675,325"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="471,349,683,391"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="491,415,664,471"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="466,496,689,537"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="487,562,667,618"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="744,707,975,748"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="484,693,671,749"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="484,773,671,829"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="483,853,672,909"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="469,933,685,975"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="491,999,664,1055"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5f964ae492f5867bb1ae754e033a110e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int foedus::storage::masstree::MasstreeCommonLogType::compare_logs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a> *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a> *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns -1, 0, 1 when left is less than, same, larger than right in terms of key and xct_id. </p>
<dl class="section pre"><dt>Precondition</dt><dd>this-&gt;is_valid(), other.is_valid() </dd>
<dd>
this-&gt;get_ordinal() != 0, other.get_ordinal() != 0 </dd></dl>

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00170">170</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__id_8hpp_source.html#l00314">foedus::storage::masstree::is_key_aligned_and_zero_padded()</a>, <a class="el" href="masstree__id_8hpp_source.html#l00129">foedus::storage::masstree::kSliceLen</a>, <a class="el" href="compiler_8hpp_source.html#l00103">LIKELY</a>, and <a class="el" href="masstree__id_8hpp_source.html#l00222">foedus::storage::masstree::normalize_be_bytes_full_aligned()</a>.</p>

<p>Referenced by <a class="el" href="merge__sort_8hpp_source.html#l00261">foedus::snapshot::MergeSort::AdjustComparatorMasstree::operator()()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                                      {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(left-&gt;header_.storage_id_ == right-&gt;header_.storage_id_);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (left == right) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__COMPILER.html#gad10e2a9bf230cc6fdd98a6c70958ef81">LIKELY</a>(left-&gt;key_length_ &gt; 0 &amp;&amp; right-&gt;key_length_ &gt; 0)) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="comment">// Compare the first slice. This should be enough to differentiate most logs</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* left_key = left-&gt;get_key();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* right_key = right-&gt;get_key();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">is_key_aligned_and_zero_padded</a>(left_key, left-&gt;key_length_));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">is_key_aligned_and_zero_padded</a>(right_key, right-&gt;key_length_));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> left_slice = <a class="code" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">normalize_be_bytes_full_aligned</a>(left_key);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> right_slice = <a class="code" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">normalize_be_bytes_full_aligned</a>(right_key);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">if</span> (left_slice &lt; right_slice) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (left_slice &gt; right_slice) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="comment">// compare the rest with memcmp.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> min_length = std::min(left-&gt;key_length_, right-&gt;key_length_);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span> (min_length &gt; <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#af3549bb49f633f74d58adfb5880b4c52">kSliceLen</a>) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> remainder = min_length - <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#af3549bb49f633f74d58adfb5880b4c52">kSliceLen</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordtype">int</span> key_result = std::memcmp(left_key + kSliceLen, right_key + kSliceLen, remainder);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span> (key_result != 0) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;          <span class="keywordflow">return</span> key_result;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (left-&gt;key_length_ &lt; right-&gt;key_length_) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (left-&gt;key_length_ &lt; right-&gt;key_length_) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// same key, now compare xct_id</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> left-&gt;header_.xct_id_.compare_epoch_and_orginal(right-&gt;header_.xct_id_);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_af3549bb49f633f74d58adfb5880b4c52"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#af3549bb49f633f74d58adfb5880b4c52">foedus::storage::masstree::kSliceLen</a></div><div class="ttdeci">const uint64_t kSliceLen</div><div class="ttdoc">Shorthand for sizeof(KeySlice). </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00129">masstree_id.hpp:129</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="group__COMPILER_html_gad10e2a9bf230cc6fdd98a6c70958ef81"><div class="ttname"><a href="group__COMPILER.html#gad10e2a9bf230cc6fdd98a6c70958ef81">LIKELY</a></div><div class="ttdeci">#define LIKELY(x)        </div><div class="ttdoc">Hints that x is highly likely true. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00103">compiler.hpp:103</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><div class="ttname"><a href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">foedus::storage::masstree::is_key_aligned_and_zero_padded</a></div><div class="ttdeci">bool is_key_aligned_and_zero_padded(const char *key, KeyLength key_length)</div><div class="ttdoc">Returns if the given key is 8-bytes aligned and also zero-padded to 8-bytes for easier slicing (which...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00314">masstree_id.hpp:314</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga48710f51199feed3db2e2f374ae73814"><div class="ttname"><a href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">foedus::storage::masstree::normalize_be_bytes_full_aligned</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full_aligned(const void *be_bytes)</div><div class="ttdoc">Convert an aligned big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00222">masstree_id.hpp:222</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_cgraph">
<area shape="rect" id="node2" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0" title="Returns if the given key is 8&#45;bytes aligned and also zero&#45;padded to 8&#45;bytes for easier slicing (which..." alt="" coords="237,5,463,47"/>
<area shape="rect" id="node3" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814" title="Convert an aligned big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="263,71,437,127"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_icgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_icgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_icgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f964ae492f5867bb1ae754e033a110e_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1snapshot_1_1MergeSort_1_1AdjustComparatorMasstree.html#a5db36dcb980a35c8aaa0296146281401" title="foedus::snapshot::MergeSort\l::AdjustComparatorMasstree\l::operator()" alt="" coords="237,5,427,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a290b894a14cac91b105ecbab235c0a2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeCommonLogType::equal_record_and_log_suffixes </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>used only for sanity check. </p>
<p>returns if the record's and log's suffix keys are equal </p>

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00148">148</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>, <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__log__types_8hpp_source.html#l00072">foedus::storage::masstree::extract_page_layer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                                             {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    uint8_t layer = <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123">extract_page_layer</a>(data);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// Keys shorter than 8h+8 bytes are stored at layer &lt;= h</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(layer &lt;= <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">key_length_</a> / <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>));</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// both record and log keep 8-byte padded keys. so we can simply compare keys</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> skipped = (layer + 1U) * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">key_length_</a> &gt; skipped) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* key = <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37">get_key</a>();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> suffix_length = <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">key_length_</a> - skipped;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> suffix_length_aligned = <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(suffix_length);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="comment">// both record and log&#39;s suffix keys are 8-byte aligned with zero-padding, so we can</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="comment">// compare multiply of 8 bytes</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">return</span> std::memcmp(data, key + skipped, suffix_length_aligned) == 0;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aee0dcbac82c0486cd1d527f408b65c37"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aee0dcbac82c0486cd1d527f408b65c37">foedus::storage::masstree::MasstreeCommonLogType::get_key</a></div><div class="ttdeci">char * get_key()</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00104">masstree_log_types.hpp:104</a></div></div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a1a5bea4010c2c465bafdec7e4a407123"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123">foedus::storage::masstree::extract_page_layer</a></div><div class="ttdeci">uint8_t extract_page_layer(const void *in_page_pointer)</div><div class="ttdoc">Retrieve masstree layer information from the header of the page that contains the pointer...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00072">masstree_log_types.hpp:72</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a7d4d08afd1dc946443c2f8151cd23ea0"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a></div><div class="ttdeci">KeyLength key_length_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00088">masstree_log_types.hpp:88</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a290b894a14cac91b105ecbab235c0a2d_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a290b894a14cac91b105ecbab235c0a2d_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a290b894a14cac91b105ecbab235c0a2d_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a290b894a14cac91b105ecbab235c0a2d_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="267,5,427,32"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a1a5bea4010c2c465bafdec7e4a407123" title="Retrieve masstree layer information from the header of the page that contains the pointer..." alt="" coords="260,57,433,98"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="489,27,639,69"/>
<area shape="rect" id="node5" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="481,93,647,120"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aad49defa1d56fc34a2df9f1d5b8cd99f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foedus::storage::masstree::MasstreeCommonLogType::get_first_slice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00106">106</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="masstree__id_8hpp_source.html#l00222">foedus::storage::masstree::normalize_be_bytes_full_aligned()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">normalize_be_bytes_full_aligned</a>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a>); }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aebd5602bb6cce8639a8d3ec465bf84a7"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">foedus::storage::masstree::MasstreeCommonLogType::aligned_data_</a></div><div class="ttdeci">char aligned_data_[8]</div><div class="ttdoc">Full key and (if exists) payload data, both of which are padded to 8 bytes. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00096">masstree_log_types.hpp:96</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga48710f51199feed3db2e2f374ae73814"><div class="ttname"><a href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">foedus::storage::masstree::normalize_be_bytes_full_aligned</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full_aligned(const void *be_bytes)</div><div class="ttdoc">Convert an aligned big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00222">masstree_id.hpp:222</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aad49defa1d56fc34a2df9f1d5b8cd99f_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aad49defa1d56fc34a2df9f1d5b8cd99f_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aad49defa1d56fc34a2df9f1d5b8cd99f_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aad49defa1d56fc34a2df9f1d5b8cd99f_cgraph">
<area shape="rect" id="node2" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814" title="Convert an aligned big&#45;endian byte array of at least 8&#45;bytes&#45;length to KeySlice. " alt="" coords="237,5,411,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aee0dcbac82c0486cd1d527f408b65c37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* foedus::storage::masstree::MasstreeCommonLogType::get_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00104">104</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__composer__impl_8cpp_source.html#l00371">foedus::storage::masstree::MasstreeComposeContext::execute()</a>, <a class="el" href="masstree__log__types_8cpp_source.html#l00055">foedus::storage::masstree::operator&lt;&lt;()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00284">foedus::storage::masstree::MasstreePartitioner::partition_batch()</a>, and <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00444">foedus::storage::masstree::prepare_sort_entries()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a>; }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aebd5602bb6cce8639a8d3ec465bf84a7"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">foedus::storage::masstree::MasstreeCommonLogType::aligned_data_</a></div><div class="ttdeci">char aligned_data_[8]</div><div class="ttdoc">Full key and (if exists) payload data, both of which are padded to 8 bytes. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00096">masstree_log_types.hpp:96</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aee0dcbac82c0486cd1d527f408b65c37_icgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aee0dcbac82c0486cd1d527f408b65c37_icgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aee0dcbac82c0486cd1d527f408b65c37_icgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_aee0dcbac82c0486cd1d527f408b65c37_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposeContext.html#a1d9ff2d2af85b6d09ecb6e310bae6888" title="MasstreeComposeContext::execute() and subroutines for log groups. " alt="" coords="237,5,421,61"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a167badba1d348e17e94d736a8902926e" title="foedus::storage::masstree\l::operator\&lt;\&lt;" alt="" coords="243,86,416,127"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#aa88be4c928d4254f51e1e1252680f87e" title="foedus::storage::masstree\l::MasstreePartitioner::\lpartition_batch" alt="" coords="243,152,416,208"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage_1_1masstree.html#ad9efa7b5f1f339fd33444e0e62e46d40" title="subroutine of sort_batch_8bytes " alt="" coords="243,233,416,274"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="469,159,648,201"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9130a0892d5fcd4ddf7fbb31ff5cb772"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* foedus::storage::masstree::MasstreeCommonLogType::get_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00105">105</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a>; }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aebd5602bb6cce8639a8d3ec465bf84a7"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">foedus::storage::masstree::MasstreeCommonLogType::aligned_data_</a></div><div class="ttdeci">char aligned_data_[8]</div><div class="ttdoc">Full key and (if exists) payload data, both of which are padded to 8 bytes. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00096">masstree_log_types.hpp:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40454cac7c437c10905eb921c4052bfc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> foedus::storage::masstree::MasstreeCommonLogType::get_key_length_aligned </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00107">107</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">key_length_</a>); }</div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a7d4d08afd1dc946443c2f8151cd23ea0"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a></div><div class="ttdeci">KeyLength key_length_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00088">masstree_log_types.hpp:88</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a40454cac7c437c10905eb921c4052bfc_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a40454cac7c437c10905eb921c4052bfc_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a40454cac7c437c10905eb921c4052bfc_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a40454cac7c437c10905eb921c4052bfc_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="237,20,397,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5f962d3287a41631441deeb70b2ddbc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* foedus::storage::masstree::MasstreeCommonLogType::get_payload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00108">108</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8cpp_source.html#l00055">foedus::storage::masstree::operator&lt;&lt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a> + <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc">get_key_length_aligned</a>(), 8U));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aebd5602bb6cce8639a8d3ec465bf84a7"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">foedus::storage::masstree::MasstreeCommonLogType::aligned_data_</a></div><div class="ttdeci">char aligned_data_[8]</div><div class="ttdoc">Full key and (if exists) payload data, both of which are padded to 8 bytes. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00096">masstree_log_types.hpp:96</a></div></div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a40454cac7c437c10905eb921c4052bfc"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc">foedus::storage::masstree::MasstreeCommonLogType::get_key_length_aligned</a></div><div class="ttdeci">KeyLength get_key_length_aligned() const </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00107">masstree_log_types.hpp:107</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f962d3287a41631441deeb70b2ddbc8_icgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f962d3287a41631441deeb70b2ddbc8_icgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f962d3287a41631441deeb70b2ddbc8_icgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_a5f962d3287a41631441deeb70b2ddbc8_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a167badba1d348e17e94d736a8902926e" title="foedus::storage::masstree\l::operator\&lt;\&lt;" alt="" coords="237,13,411,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36c56574f3a515a718a3156850b2c1d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* foedus::storage::masstree::MasstreeCommonLogType::get_payload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00111">111</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="compiler_8hpp_source.html#l00111">ASSUME_ALIGNED</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                      {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a> + <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc">get_key_length_aligned</a>(), 8U));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aebd5602bb6cce8639a8d3ec465bf84a7"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">foedus::storage::masstree::MasstreeCommonLogType::aligned_data_</a></div><div class="ttdeci">char aligned_data_[8]</div><div class="ttdoc">Full key and (if exists) payload data, both of which are padded to 8 bytes. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00096">masstree_log_types.hpp:96</a></div></div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a40454cac7c437c10905eb921c4052bfc"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a40454cac7c437c10905eb921c4052bfc">foedus::storage::masstree::MasstreeCommonLogType::get_key_length_aligned</a></div><div class="ttdeci">KeyLength get_key_length_aligned() const </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00107">masstree_log_types.hpp:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2ce12370a75b9e0c79a8ab930a96cdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeCommonLogType::populate_base </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LOGTYPE.html#gafeea30298c4f7a9586bddec3663fc4f3">log::LogCode</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>storage_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_offset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>&#160;</td>
          <td class="paramname"><em>payload_count</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00116">116</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>References <a class="el" href="assorted__func_8hpp_source.html#l00058">foedus::assorted::align8()</a>, <a class="el" href="common__log__types_8hpp_source.html#l00113">foedus::log::BaseLogType::header_</a>, <a class="el" href="common__log__types_8hpp_source.html#l00061">foedus::log::LogHeader::log_length_</a>, <a class="el" href="common__log__types_8hpp_source.html#l00055">foedus::log::LogHeader::log_type_code_</a>, and <a class="el" href="common__log__types_8hpp_source.html#l00066">foedus::log::LogHeader::storage_id_</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                                   {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1BaseLogType.html#a574e9dac4445db7814303700a9910821">header_</a>.<a class="code" href="structfoedus_1_1log_1_1LogHeader.html#a7c382058dce51839469c0f7da72f7003">log_type_code_</a> = type;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1BaseLogType.html#a574e9dac4445db7814303700a9910821">header_</a>.<a class="code" href="structfoedus_1_1log_1_1LogHeader.html#a1400e0567816605732d3c5d0070c5a54">log_length_</a> = <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3">calculate_log_length</a>(key_length, payload_count);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1BaseLogType.html#a574e9dac4445db7814303700a9910821">header_</a>.<a class="code" href="structfoedus_1_1log_1_1LogHeader.html#a4130fa3f2304558f7a357c7cbd4bac95">storage_id_</a> = storage_id;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">key_length_</a> = key_length;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ab901ccfe54fae1232a0da6726717a52e">payload_offset_</a> = payload_offset;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ae7f1877e7b86a560041f9b4a2c47d649">payload_count_</a> = payload_count;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a0de55fa9cf2cd2b936022ff5d5f4c2ce">reserved_</a> = 0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    std::memcpy(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a>, key, key_length);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> aligned_key_length = <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(key_length);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (aligned_key_length != key_length) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      std::memset(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a> + key_length, 0, aligned_key_length - key_length);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (payload_count &gt; 0) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> aligned_payload_count = <a class="code" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">assorted::align8</a>(payload_count);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordtype">char</span>* payload_base = <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">aligned_data_</a> + aligned_key_length;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      std::memcpy(payload_base, payload, payload_count);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">if</span> (aligned_payload_count != payload_count) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        std::memset(payload_base + payload_count, 0, aligned_payload_count - payload_count);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aebd5602bb6cce8639a8d3ec465bf84a7"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aebd5602bb6cce8639a8d3ec465bf84a7">foedus::storage::masstree::MasstreeCommonLogType::aligned_data_</a></div><div class="ttdeci">char aligned_data_[8]</div><div class="ttdoc">Full key and (if exists) payload data, both of which are padded to 8 bytes. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00096">masstree_log_types.hpp:96</a></div></div>
<div class="ttc" id="group__ASSORTED_html_ga34d731a5b871bbd8a43b748808e9ce52"><div class="ttname"><a href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52">foedus::assorted::align8</a></div><div class="ttdeci">T align8(T value)</div><div class="ttdoc">8-alignment. </div><div class="ttdef"><b>Definition:</b> <a href="assorted__func_8hpp_source.html#l00058">assorted_func.hpp:58</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga9d05e904033c0bba7113cdafb43d6610"><div class="ttname"><a href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">foedus::storage::masstree::PayloadLength</a></div><div class="ttdeci">uint16_t PayloadLength</div><div class="ttdoc">Represents a byte-length of a payload in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00092">masstree_id.hpp:92</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_ae7f1877e7b86a560041f9b4a2c47d649"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ae7f1877e7b86a560041f9b4a2c47d649">foedus::storage::masstree::MasstreeCommonLogType::payload_count_</a></div><div class="ttdeci">PayloadLength payload_count_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00090">masstree_log_types.hpp:90</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LogHeader_html_a7c382058dce51839469c0f7da72f7003"><div class="ttname"><a href="structfoedus_1_1log_1_1LogHeader.html#a7c382058dce51839469c0f7da72f7003">foedus::log::LogHeader::log_type_code_</a></div><div class="ttdeci">uint16_t log_type_code_</div><div class="ttdoc">Actually of LogCode defined in the X-Macro, but we want to make sure the type size is 2 bytes...</div><div class="ttdef"><b>Definition:</b> <a href="common__log__types_8hpp_source.html#l00055">common_log_types.hpp:55</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LogHeader_html_a1400e0567816605732d3c5d0070c5a54"><div class="ttname"><a href="structfoedus_1_1log_1_1LogHeader.html#a1400e0567816605732d3c5d0070c5a54">foedus::log::LogHeader::log_length_</a></div><div class="ttdeci">uint16_t log_length_</div><div class="ttdoc">Byte size of this log entry including this header itself and everything. </div><div class="ttdef"><b>Definition:</b> <a href="common__log__types_8hpp_source.html#l00061">common_log_types.hpp:61</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_aaa0d49b768842255f27147327cc72ef3"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#aaa0d49b768842255f27147327cc72ef3">foedus::storage::masstree::MasstreeCommonLogType::calculate_log_length</a></div><div class="ttdeci">static uint16_t calculate_log_length(KeyLength key_length, PayloadLength payload_count) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00098">masstree_log_types.hpp:98</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1LogHeader_html_a4130fa3f2304558f7a357c7cbd4bac95"><div class="ttname"><a href="structfoedus_1_1log_1_1LogHeader.html#a4130fa3f2304558f7a357c7cbd4bac95">foedus::log::LogHeader::storage_id_</a></div><div class="ttdeci">storage::StorageId storage_id_</div><div class="ttdoc">The storage this loggable operation mainly affects. </div><div class="ttdef"><b>Definition:</b> <a href="common__log__types_8hpp_source.html#l00066">common_log_types.hpp:66</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_ab901ccfe54fae1232a0da6726717a52e"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#ab901ccfe54fae1232a0da6726717a52e">foedus::storage::masstree::MasstreeCommonLogType::payload_offset_</a></div><div class="ttdeci">PayloadLength payload_offset_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00089">masstree_log_types.hpp:89</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a0de55fa9cf2cd2b936022ff5d5f4c2ce"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a0de55fa9cf2cd2b936022ff5d5f4c2ce">foedus::storage::masstree::MasstreeCommonLogType::reserved_</a></div><div class="ttdeci">uint16_t reserved_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00091">masstree_log_types.hpp:91</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_html_a7d4d08afd1dc946443c2f8151cd23ea0"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html#a7d4d08afd1dc946443c2f8151cd23ea0">foedus::storage::masstree::MasstreeCommonLogType::key_length_</a></div><div class="ttdeci">KeyLength key_length_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__log__types_8hpp_source.html#l00088">masstree_log_types.hpp:88</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1BaseLogType_html_a574e9dac4445db7814303700a9910821"><div class="ttname"><a href="structfoedus_1_1log_1_1BaseLogType.html#a574e9dac4445db7814303700a9910821">foedus::log::BaseLogType::header_</a></div><div class="ttdeci">LogHeader header_</div><div class="ttdef"><b>Definition:</b> <a href="common__log__types_8hpp_source.html#l00113">common_log_types.hpp:113</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_ac2ce12370a75b9e0c79a8ab930a96cdc_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_ac2ce12370a75b9e0c79a8ab930a96cdc_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_ac2ce12370a75b9e0c79a8ab930a96cdc_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType_ac2ce12370a75b9e0c79a8ab930a96cdc_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="237,20,397,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aebd5602bb6cce8639a8d3ec465bf84a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char foedus::storage::masstree::MasstreeCommonLogType::aligned_data_[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Full key and (if exists) payload data, both of which are padded to 8 bytes. </p>
<p>By padding key part to 8 bytes, slicing becomes more efficient. </p>

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00096">96</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7d4d08afd1dc946443c2f8151cd23ea0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a> foedus::storage::masstree::MasstreeCommonLogType::key_length_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00088">88</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__composer__impl_8cpp_source.html#l00371">foedus::storage::masstree::MasstreeComposeContext::execute()</a>, <a class="el" href="masstree__log__types_8cpp_source.html#l00055">foedus::storage::masstree::operator&lt;&lt;()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00284">foedus::storage::masstree::MasstreePartitioner::partition_batch()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00444">foedus::storage::masstree::prepare_sort_entries()</a>, and <a class="el" href="log__mapper__impl_8cpp_source.html#l00540">foedus::snapshot::update_key_lengthes()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7f1877e7b86a560041f9b4a2c47d649"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> foedus::storage::masstree::MasstreeCommonLogType::payload_count_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00090">90</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8cpp_source.html#l00055">foedus::storage::masstree::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="ab901ccfe54fae1232a0da6726717a52e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a> foedus::storage::masstree::MasstreeCommonLogType::payload_offset_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00089">89</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__log__types_8cpp_source.html#l00083">foedus::storage::masstree::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="a0de55fa9cf2cd2b936022ff5d5f4c2ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t foedus::storage::masstree::MasstreeCommonLogType::reserved_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__log__types_8hpp_source.html#l00091">91</a> of file <a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/masstree/<a class="el" href="masstree__log__types_8hpp_source.html">masstree_log_types.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html">masstree</a></li><li class="navelem"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCommonLogType.html">MasstreeCommonLogType</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
