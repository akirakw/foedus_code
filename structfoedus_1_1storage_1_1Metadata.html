<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::Metadata Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfoedus_1_1storage_1_1Metadata.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structfoedus_1_1storage_1_1Metadata-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::Metadata Struct Reference<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> of one storage.  
 <a href="structfoedus_1_1storage_1_1Metadata.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> of one storage. </p>
<p><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> of a storage is a concise set of information about its structure, not about its data. For example, ID, name, and other stuffs specific to the storage type.</p>
<dl class="section user"><dt>Metadata file format</dt><dd>So far, we use a human-readable XML format for all metadata. The main reason is ease of debugging.</dd></dl>
<dl class="section user"><dt>When metadata is written</dt><dd>Currently, all metadata of all storages are written to a single file for each snapshotting. We start from previous snapshot and apply durable logs up to some epoch just like data files. We have a plan to implement a stratified metadata-store equivalent to data files, but it has lower priority. It happens only once per several seconds, and the cost to dump that file, even in XML format, is negligible unless there are many thousands stores. (yes, which might be the case later, but not for now.)</dd></dl>
<dl class="section user"><dt>When metadata is read</dt><dd>Snapshot metadata files are read at next snapshotting and at next restart.</dd></dl>
<dl class="section user"><dt>No virtual methods and no heap-allocation</dt><dd><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> objects are placed in shared memory. It must not have any heap-allocated data (eg std::string) nor virtual methods. </dd></dl>

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00058">58</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::storage::Metadata:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Metadata__inherit__graph.png" border="0" usemap="#foedus_1_1storage_1_1Metadata_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1storage_1_1Metadata_inherit__map" id="foedus_1_1storage_1_1Metadata_inherit__map">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html" title="Metadata of an array storage. " alt="" coords="242,5,390,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1hash_1_1HashMetadata.html" title="Metadata of an hash storage. " alt="" coords="243,71,389,112"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeMetadata.html" title="Metadata of a masstree storage. " alt="" coords="229,136,403,177"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1sequential_1_1SequentialMetadata.html" title="Metadata of a sequential storage. " alt="" coords="227,201,405,243"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::storage::Metadata:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Metadata__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1Metadata_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1Metadata_coll__map" id="foedus_1_1storage_1_1Metadata_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1assorted_1_1FixedString.html" title="foedus::assorted::FixedString\l\&lt; 60 \&gt;" alt="" coords="5,5,197,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html" title="Tuning parameters related to snapshotting. " alt="" coords="221,5,395,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html">SnapshotThresholds</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tuning parameters related to snapshotting.  <a href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab737070cead0522a2d28ba64ccf92c13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#ab737070cead0522a2d28ba64ccf92c13">Metadata</a> ()</td></tr>
<tr class="separator:ab737070cead0522a2d28ba64ccf92c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045b1ae57a72b198c7a128eb4641380a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#a045b1ae57a72b198c7a128eb4641380a">Metadata</a> (<a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id, <a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a> type, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name)</td></tr>
<tr class="separator:a045b1ae57a72b198c7a128eb4641380a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae042694ab5eaaf833486b476d8b934e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#ae042694ab5eaaf833486b476d8b934e1">Metadata</a> (<a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id, <a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a> type, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name, <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> root_snapshot_page_id)</td></tr>
<tr class="separator:ae042694ab5eaaf833486b476d8b934e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675df0db1a3c909581db949c10fd192b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#a675df0db1a3c909581db949c10fd192b">keeps_all_volatile_pages</a> () const </td></tr>
<tr class="separator:a675df0db1a3c909581db949c10fd192b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af6a22ad237452cc06aec3676620d533c"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#af6a22ad237452cc06aec3676620d533c">describe</a> (const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;metadata)</td></tr>
<tr class="memdesc:af6a22ad237452cc06aec3676620d533c"><td class="mdescLeft">&#160;</td><td class="mdescRight">to_string operator of all <a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> objects.  <a href="#af6a22ad237452cc06aec3676620d533c">More...</a><br /></td></tr>
<tr class="separator:af6a22ad237452cc06aec3676620d533c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2187b39e4d71b81227dc6f09b0c711e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#a2187b39e4d71b81227dc6f09b0c711e8">id_</a></td></tr>
<tr class="memdesc:a2187b39e4d71b81227dc6f09b0c711e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">the unique ID of this storage.  <a href="#a2187b39e4d71b81227dc6f09b0c711e8">More...</a><br /></td></tr>
<tr class="separator:a2187b39e4d71b81227dc6f09b0c711e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396f771fdd6dd3af6ac9d8fca1cb4839"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#a396f771fdd6dd3af6ac9d8fca1cb4839">type_</a></td></tr>
<tr class="memdesc:a396f771fdd6dd3af6ac9d8fca1cb4839"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of the storage.  <a href="#a396f771fdd6dd3af6ac9d8fca1cb4839">More...</a><br /></td></tr>
<tr class="separator:a396f771fdd6dd3af6ac9d8fca1cb4839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db8672e0efd0ed879c109dbef07c418"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#a0db8672e0efd0ed879c109dbef07c418">name_</a></td></tr>
<tr class="memdesc:a0db8672e0efd0ed879c109dbef07c418"><td class="mdescLeft">&#160;</td><td class="mdescRight">the unique name of this storage.  <a href="#a0db8672e0efd0ed879c109dbef07c418">More...</a><br /></td></tr>
<tr class="separator:a0db8672e0efd0ed879c109dbef07c418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d6a766410a36959158818af739df34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#ab9d6a766410a36959158818af739df34">root_snapshot_page_id_</a></td></tr>
<tr class="memdesc:ab9d6a766410a36959158818af739df34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a snapshotted page this storage is rooted at.  <a href="#ab9d6a766410a36959158818af739df34">More...</a><br /></td></tr>
<tr class="separator:ab9d6a766410a36959158818af739df34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0edcb4f17be53df951830465520a8655"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html">SnapshotThresholds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">snapshot_thresholds_</a></td></tr>
<tr class="separator:a0edcb4f17be53df951830465520a8655"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab737070cead0522a2d28ba64ccf92c13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::Metadata::Metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00079">79</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    : <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a2187b39e4d71b81227dc6f09b0c711e8">id_</a>(0), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a396f771fdd6dd3af6ac9d8fca1cb4839">type_</a>(<a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb">kInvalidStorage</a>), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a0db8672e0efd0ed879c109dbef07c418">name_</a>(<span class="stringliteral">&quot;&quot;</span>), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#ab9d6a766410a36959158818af739df34">root_snapshot_page_id_</a>(0), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">snapshot_thresholds_</a>() {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea8ce620f53e9dd4d037ff2b30c175d8bb">foedus::storage::kInvalidStorage</a></div><div class="ttdoc">0 indicates invalid type. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00124">storage_id.hpp:124</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a0db8672e0efd0ed879c109dbef07c418"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a0db8672e0efd0ed879c109dbef07c418">foedus::storage::Metadata::name_</a></div><div class="ttdeci">StorageName name_</div><div class="ttdoc">the unique name of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00107">metadata.hpp:107</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a0edcb4f17be53df951830465520a8655"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">foedus::storage::Metadata::snapshot_thresholds_</a></div><div class="ttdeci">SnapshotThresholds snapshot_thresholds_</div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00114">metadata.hpp:114</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a396f771fdd6dd3af6ac9d8fca1cb4839"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a396f771fdd6dd3af6ac9d8fca1cb4839">foedus::storage::Metadata::type_</a></div><div class="ttdeci">StorageType type_</div><div class="ttdoc">type of the storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00105">metadata.hpp:105</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a2187b39e4d71b81227dc6f09b0c711e8"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a2187b39e4d71b81227dc6f09b0c711e8">foedus::storage::Metadata::id_</a></div><div class="ttdeci">StorageId id_</div><div class="ttdoc">the unique ID of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00103">metadata.hpp:103</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_ab9d6a766410a36959158818af739df34"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#ab9d6a766410a36959158818af739df34">foedus::storage::Metadata::root_snapshot_page_id_</a></div><div class="ttdeci">SnapshotPagePointer root_snapshot_page_id_</div><div class="ttdoc">Pointer to a snapshotted page this storage is rooted at. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00112">metadata.hpp:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a045b1ae57a72b198c7a128eb4641380a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::Metadata::Metadata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00082">82</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    : <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a2187b39e4d71b81227dc6f09b0c711e8">id_</a>(<span class="keywordtype">id</span>), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a396f771fdd6dd3af6ac9d8fca1cb4839">type_</a>(type), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a0db8672e0efd0ed879c109dbef07c418">name_</a>(name), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#ab9d6a766410a36959158818af739df34">root_snapshot_page_id_</a>(0), <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">snapshot_thresholds_</a>() {}</div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a0db8672e0efd0ed879c109dbef07c418"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a0db8672e0efd0ed879c109dbef07c418">foedus::storage::Metadata::name_</a></div><div class="ttdeci">StorageName name_</div><div class="ttdoc">the unique name of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00107">metadata.hpp:107</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a0edcb4f17be53df951830465520a8655"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">foedus::storage::Metadata::snapshot_thresholds_</a></div><div class="ttdeci">SnapshotThresholds snapshot_thresholds_</div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00114">metadata.hpp:114</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a396f771fdd6dd3af6ac9d8fca1cb4839"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a396f771fdd6dd3af6ac9d8fca1cb4839">foedus::storage::Metadata::type_</a></div><div class="ttdeci">StorageType type_</div><div class="ttdoc">type of the storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00105">metadata.hpp:105</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a2187b39e4d71b81227dc6f09b0c711e8"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a2187b39e4d71b81227dc6f09b0c711e8">foedus::storage::Metadata::id_</a></div><div class="ttdeci">StorageId id_</div><div class="ttdoc">the unique ID of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00103">metadata.hpp:103</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_ab9d6a766410a36959158818af739df34"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#ab9d6a766410a36959158818af739df34">foedus::storage::Metadata::root_snapshot_page_id_</a></div><div class="ttdeci">SnapshotPagePointer root_snapshot_page_id_</div><div class="ttdoc">Pointer to a snapshotted page this storage is rooted at. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00112">metadata.hpp:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae042694ab5eaaf833486b476d8b934e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::Metadata::Metadata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>root_snapshot_page_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00084">84</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    : <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a2187b39e4d71b81227dc6f09b0c711e8">id_</a>(<span class="keywordtype">id</span>),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a396f771fdd6dd3af6ac9d8fca1cb4839">type_</a>(type),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a0db8672e0efd0ed879c109dbef07c418">name_</a>(name),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#ab9d6a766410a36959158818af739df34">root_snapshot_page_id_</a>(root_snapshot_page_id),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">snapshot_thresholds_</a>() {}</div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a0db8672e0efd0ed879c109dbef07c418"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a0db8672e0efd0ed879c109dbef07c418">foedus::storage::Metadata::name_</a></div><div class="ttdeci">StorageName name_</div><div class="ttdoc">the unique name of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00107">metadata.hpp:107</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a0edcb4f17be53df951830465520a8655"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">foedus::storage::Metadata::snapshot_thresholds_</a></div><div class="ttdeci">SnapshotThresholds snapshot_thresholds_</div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00114">metadata.hpp:114</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a396f771fdd6dd3af6ac9d8fca1cb4839"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a396f771fdd6dd3af6ac9d8fca1cb4839">foedus::storage::Metadata::type_</a></div><div class="ttdeci">StorageType type_</div><div class="ttdoc">type of the storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00105">metadata.hpp:105</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a2187b39e4d71b81227dc6f09b0c711e8"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a2187b39e4d71b81227dc6f09b0c711e8">foedus::storage::Metadata::id_</a></div><div class="ttdeci">StorageId id_</div><div class="ttdoc">the unique ID of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00103">metadata.hpp:103</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_ab9d6a766410a36959158818af739df34"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#ab9d6a766410a36959158818af739df34">foedus::storage::Metadata::root_snapshot_page_id_</a></div><div class="ttdeci">SnapshotPagePointer root_snapshot_page_id_</div><div class="ttdoc">Pointer to a snapshotted page this storage is rooted at. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00112">metadata.hpp:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af6a22ad237452cc06aec3676620d533c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::storage::Metadata::describe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>to_string operator of all <a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> objects. </p>

<p>Definition at line <a class="el" href="metadata_8cpp_source.html#l00035">35</a> of file <a class="el" href="metadata_8cpp_source.html">metadata.cpp</a>.</p>

<p>References <a class="el" href="storage__id_8hpp_source.html#l00126">foedus::storage::kArrayStorage</a>, <a class="el" href="storage__id_8hpp_source.html#l00128">foedus::storage::kHashStorage</a>, <a class="el" href="storage__id_8hpp_source.html#l00130">foedus::storage::kMasstreeStorage</a>, <a class="el" href="storage__id_8hpp_source.html#l00132">foedus::storage::kSequentialStorage</a>, and <a class="el" href="metadata_8hpp_source.html#l00105">type_</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                                     {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">switch</span> (metadata.type_) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">kArrayStorage</a>:</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>array::ArrayMetadata&amp;<span class="keyword">&gt;</span>(metadata).<a class="code" href="structfoedus_1_1storage_1_1Metadata.html#af6a22ad237452cc06aec3676620d533c">describe</a>();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">kHashStorage</a>:</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>hash::HashMetadata&amp;<span class="keyword">&gt;</span>(metadata).<a class="code" href="structfoedus_1_1storage_1_1Metadata.html#af6a22ad237452cc06aec3676620d533c">describe</a>();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">kMasstreeStorage</a>:</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>masstree::MasstreeMetadata&amp;<span class="keyword">&gt;</span>(metadata).<a class="code" href="structfoedus_1_1storage_1_1Metadata.html#af6a22ad237452cc06aec3676620d533c">describe</a>();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">kSequentialStorage</a>:</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>sequential::SequentialMetadata&amp;<span class="keyword">&gt;</span>(metadata).<a class="code" href="structfoedus_1_1storage_1_1Metadata.html#af6a22ad237452cc06aec3676620d533c">describe</a>();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown metadata type&quot;</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea132b35d3a56bd101207d58348d70bf9e">foedus::storage::kMasstreeStorage</a></div><div class="ttdoc">Masstree Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00130">storage_id.hpp:130</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_af6a22ad237452cc06aec3676620d533c"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#af6a22ad237452cc06aec3676620d533c">foedus::storage::Metadata::describe</a></div><div class="ttdeci">static std::string describe(const Metadata &amp;metadata)</div><div class="ttdoc">to_string operator of all Metadata objects. </div><div class="ttdef"><b>Definition:</b> <a href="metadata_8cpp_source.html#l00035">metadata.cpp:35</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">foedus::storage::kHashStorage</a></div><div class="ttdoc">Hashtable Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00128">storage_id.hpp:128</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea0d282d3546345301294188204cff05a6">foedus::storage::kSequentialStorage</a></div><div class="ttdoc">Sequential Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00132">storage_id.hpp:132</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">foedus::storage::kArrayStorage</a></div><div class="ttdoc">Array Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00126">storage_id.hpp:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a675df0db1a3c909581db949c10fd192b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::Metadata::keeps_all_volatile_pages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00098">98</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>

<p>References <a class="el" href="metadata_8hpp_source.html#l00076">foedus::storage::Metadata::SnapshotThresholds::snapshot_keep_threshold_</a>, and <a class="el" href="metadata_8hpp_source.html#l00114">snapshot_thresholds_</a>.</p>

<p>Referenced by <a class="el" href="array__composer__impl_8cpp_source.html#l00971">foedus::storage::array::ArrayComposer::drop_root_volatile()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l01223">foedus::storage::hash::HashComposer::drop_root_volatile()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l02622">foedus::storage::masstree::MasstreeComposer::drop_root_volatile()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00929">foedus::storage::array::ArrayComposer::drop_volatiles()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l01165">foedus::storage::hash::HashComposer::drop_volatiles()</a>, and <a class="el" href="masstree__composer__impl_8cpp_source.html#l02558">foedus::storage::masstree::MasstreeComposer::drop_volatiles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                        {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">snapshot_thresholds_</a>.<a class="code" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html#a27025d6e30c42aa8d859929e6230549c">snapshot_keep_threshold_</a> == 0xFFFFFFFFU;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds_html_a27025d6e30c42aa8d859929e6230549c"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html#a27025d6e30c42aa8d859929e6230549c">foedus::storage::Metadata::SnapshotThresholds::snapshot_keep_threshold_</a></div><div class="ttdeci">uint32_t snapshot_keep_threshold_</div><div class="ttdoc">[Only partially implemented] When a log gleaner created new snapshot pages for this storage...</div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00076">metadata.hpp:76</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1Metadata_html_a0edcb4f17be53df951830465520a8655"><div class="ttname"><a href="structfoedus_1_1storage_1_1Metadata.html#a0edcb4f17be53df951830465520a8655">foedus::storage::Metadata::snapshot_thresholds_</a></div><div class="ttdeci">SnapshotThresholds snapshot_thresholds_</div><div class="ttdef"><b>Definition:</b> <a href="metadata_8hpp_source.html#l00114">metadata.hpp:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1Metadata_a675df0db1a3c909581db949c10fd192b_icgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1Metadata_a675df0db1a3c909581db949c10fd192b_icgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1Metadata_a675df0db1a3c909581db949c10fd192b_icgraph" id="structfoedus_1_1storage_1_1Metadata_a675df0db1a3c909581db949c10fd192b_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a9ee9788f623a51584b4fd7f8ded6103a" title="foedus::storage::array\l::ArrayComposer::drop\l_root_volatile" alt="" coords="238,5,391,61"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a4a9dc98b699194503e37e0e6609872ec" title="foedus::storage::hash\l::HashComposer::drop\l_root_volatile" alt="" coords="239,85,391,141"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#aa0cb9d19afa32166a7c128697f291ea2" title="foedus::storage::masstree\l::MasstreeComposer::drop\l_root_volatile" alt="" coords="227,165,403,221"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#abea76692cff38e66aa4328401422488a" title="drop_volatiles and related methods " alt="" coords="238,245,391,301"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a86416af851cf44112fbc0ea9c519c9b9" title="drop_volatiles and related methods " alt="" coords="239,325,391,381"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#ad25781d742feeced13ed8b047b485a3e" title="drop_volatiles and related methods " alt="" coords="227,405,403,461"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="451,133,629,174"/>
<area shape="rect" id="node4" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="909,199,1136,241"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1184,192,1395,248"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1443,166,1653,207"/>
<area shape="rect" id="node8" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1471,231,1625,273"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1701,166,1896,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1701,231,1896,273"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="451,315,629,357"/>
<area shape="rect" id="node14" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="677,241,861,297"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2187b39e4d71b81227dc6f09b0c711e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> foedus::storage::Metadata::id_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the unique ID of this storage. </p>

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00103">103</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>

<p>Referenced by <a class="el" href="storage__log__types_8cpp_source.html#l00068">foedus::storage::CreateLogType::apply_storage()</a>, <a class="el" href="storage__log__types_8cpp_source.html#l00063">foedus::storage::CreateLogType::assert_valid()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00288">foedus::storage::array::ArrayStoragePimpl::create()</a>, <a class="el" href="storage__manager_8cpp_source.html#l00083">foedus::storage::StorageManager::create_array()</a>, <a class="el" href="storage__manager_8cpp_source.html#l00092">foedus::storage::StorageManager::create_hash()</a>, <a class="el" href="storage__manager_8cpp_source.html#l00110">foedus::storage::StorageManager::create_masstree()</a>, <a class="el" href="storage__manager_8cpp_source.html#l00101">foedus::storage::StorageManager::create_sequential()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00352">foedus::storage::StorageManagerPimpl::create_storage()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00321">foedus::storage::StorageManagerPimpl::create_storage_and_log()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00393">foedus::storage::StorageManagerPimpl::create_storage_apply()</a>, <a class="el" href="array__storage__pimpl_8hpp_source.html#l00111">foedus::storage::array::ArrayStoragePimpl::get_id()</a>, <a class="el" href="storage_8hpp_source.html#l00145">foedus::storage::Storage&lt; MasstreeStorageControlBlock &gt;::get_id()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00094">foedus::storage::StorageManagerPimpl::initialize_read_latest_snapshot()</a>, <a class="el" href="metadata_8cpp_source.html#l00050">foedus::storage::MetadataSerializer::load_base()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00213">foedus::storage::sequential::SequentialStorageControlBlock::optimistic_read_truncate_epoch()</a>, and <a class="el" href="metadata_8cpp_source.html#l00066">foedus::storage::MetadataSerializer::save_base()</a>.</p>

</div>
</div>
<a class="anchor" id="a0db8672e0efd0ed879c109dbef07c418"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> foedus::storage::Metadata::name_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the unique name of this storage. </p>

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00107">107</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>

<p>Referenced by <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00352">foedus::storage::StorageManagerPimpl::create_storage()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00321">foedus::storage::StorageManagerPimpl::create_storage_and_log()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00393">foedus::storage::StorageManagerPimpl::create_storage_apply()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00264">foedus::storage::StorageManagerPimpl::drop_storage()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>, <a class="el" href="storage__manager_8cpp_source.html#l00060">foedus::storage::StorageManager::get_name()</a>, <a class="el" href="storage_8hpp_source.html#l00155">foedus::storage::Storage&lt; MasstreeStorageControlBlock &gt;::get_name()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00094">foedus::storage::StorageManagerPimpl::initialize_read_latest_snapshot()</a>, <a class="el" href="metadata_8cpp_source.html#l00050">foedus::storage::MetadataSerializer::load_base()</a>, <a class="el" href="array__storage__prefetch_8cpp_source.html#l00031">foedus::storage::array::ArrayStoragePimpl::prefetch_pages()</a>, and <a class="el" href="metadata_8cpp_source.html#l00066">foedus::storage::MetadataSerializer::save_base()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9d6a766410a36959158818af739df34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> foedus::storage::Metadata::root_snapshot_page_id_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to a snapshotted page this storage is rooted at. </p>
<p>This is 0 until this storage has the first snapshot. </p>

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00112">112</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>

<p>Referenced by <a class="el" href="array__composer__impl_8cpp_source.html#l00095">foedus::storage::array::ArrayComposer::construct_root()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l00126">foedus::storage::hash::HashComposer::construct_root()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00230">foedus::storage::sequential::SequentialComposer::construct_root()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00094">foedus::storage::StorageManagerPimpl::initialize_read_latest_snapshot()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00301">foedus::storage::array::ArrayStoragePimpl::load()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00176">foedus::storage::masstree::MasstreeStoragePimpl::load()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00135">foedus::storage::hash::HashStoragePimpl::load()</a>, <a class="el" href="metadata_8cpp_source.html#l00050">foedus::storage::MetadataSerializer::load_base()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00254">foedus::storage::array::ArrayStoragePimpl::load_empty()</a>, and <a class="el" href="metadata_8cpp_source.html#l00066">foedus::storage::MetadataSerializer::save_base()</a>.</p>

</div>
</div>
<a class="anchor" id="a0edcb4f17be53df951830465520a8655"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html">SnapshotThresholds</a> foedus::storage::Metadata::snapshot_thresholds_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00114">114</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>

<p>Referenced by <a class="el" href="metadata_8hpp_source.html#l00098">keeps_all_volatile_pages()</a>, <a class="el" href="metadata_8cpp_source.html#l00050">foedus::storage::MetadataSerializer::load_base()</a>, and <a class="el" href="metadata_8cpp_source.html#l00066">foedus::storage::MetadataSerializer::save_base()</a>.</p>

</div>
</div>
<a class="anchor" id="a396f771fdd6dd3af6ac9d8fca1cb4839"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a> foedus::storage::Metadata::type_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of the storage. </p>

<p>Definition at line <a class="el" href="metadata_8hpp_source.html#l00105">105</a> of file <a class="el" href="metadata_8hpp_source.html">metadata.hpp</a>.</p>

<p>Referenced by <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00352">foedus::storage::StorageManagerPimpl::create_storage()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00321">foedus::storage::StorageManagerPimpl::create_storage_and_log()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00393">foedus::storage::StorageManagerPimpl::create_storage_apply()</a>, <a class="el" href="metadata_8cpp_source.html#l00035">describe()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00264">foedus::storage::StorageManagerPimpl::drop_storage()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00300">foedus::storage::StorageManagerPimpl::drop_storage_apply()</a>, <a class="el" href="storage_8hpp_source.html#l00150">foedus::storage::Storage&lt; MasstreeStorageControlBlock &gt;::get_type()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00427">foedus::storage::StorageManagerPimpl::hcc_reset_all_temperature_stat()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00094">foedus::storage::StorageManagerPimpl::initialize_read_latest_snapshot()</a>, <a class="el" href="metadata_8cpp_source.html#l00050">foedus::storage::MetadataSerializer::load_base()</a>, <a class="el" href="storage__log__types_8cpp_source.html#l00075">foedus::storage::operator&lt;&lt;()</a>, <a class="el" href="partitioner_8cpp_source.html#l00084">foedus::storage::Partitioner::Partitioner()</a>, <a class="el" href="metadata_8cpp_source.html#l00166">foedus::storage::MetadataSerializer::save_all_storages_to_xml()</a>, <a class="el" href="metadata_8cpp_source.html#l00066">foedus::storage::MetadataSerializer::save_base()</a>, and <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00452">foedus::storage::StorageManagerPimpl::track_moved_record()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/<a class="el" href="metadata_8hpp_source.html">metadata.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/<a class="el" href="metadata_8cpp_source.html">metadata.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
