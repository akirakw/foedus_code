<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::soc::SocManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1soc_1_1SocManager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1soc_1_1SocManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::soc::SocManager Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__SOC.html">SOC and IPC</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SOC manager, which maintains the shared resource across SOCs and, if this engine is a master engine, manages child SOCs.  
 <a href="classfoedus_1_1soc_1_1SocManager.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SOC manager, which maintains the shared resource across SOCs and, if this engine is a master engine, manages child SOCs. </p>
<p>Initialization of this module is quite special because a master engine launches child SOCs potentially as different processes. Also, to avoid leak of shared memory, we take a bit complicated steps.</p>
<h1><a class="anchor" id="SOC_INIT_ORDER"></a>
Initialization Order</h1>
<p>When the user instantiates an <a class="el" href="classfoedus_1_1Engine.html" title="Database engine object that holds all resources and provides APIs. ">Engine</a> object, the engine is initialized in the following order: </p><ul>
<li><a class="el" href="classfoedus_1_1Engine.html" title="Database engine object that holds all resources and provides APIs. ">Engine</a> object constructor (which does almost nothing itself) </li>
<li>(Optional) The user pre-registers user procedures (for emulated or fork children SOCs only). </li>
<li>The user invokes <a class="el" href="classfoedus_1_1Engine.html#ab48eb5d8f1860714592869b195de211d" title="Starts up the database engine. ">Engine::initialize()</a> of the master engine </li>
<li><b>CAUTION-FROM-HERE</b>. SOCManager allocates shared memory of required sizes. </li>
<li>SOCManager in master engine launches child SOCs, waits for their progress. </li>
<li>SOCManager in child SOC engines attach the shared memory and acknowledge it via the shared memory. </li>
<li><b>CAUTION-UNTIL-HERE</b>. SOCManager in master engine determines if either all SOCManagers attached the shared memory or there was some error. In either case, it marks the shared memory for reclamation (shmctl(IPC_RMID)). </li>
<li>Child SOCs move on to other modules' initialization. </li>
<li>Master SOCManager receives the result of child SOC initilization, then does remaining initialization, such as restart.</li>
</ul>
<p>Notice the annotated region. If there is an unexpected crash in master engine during this period, we <b>leak</b> shared memory until reboot or manual reclamation (ipcrm command). We must avoid it as much as possible. Be extra careful! </p>

<p>Definition at line <a class="el" href="soc__manager_8hpp_source.html#l00060">60</a> of file <a class="el" href="soc__manager_8hpp_source.html">soc_manager.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="soc__manager_8hpp_source.html">soc_manager.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::soc::SocManager:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager__inherit__graph.png" border="0" usemap="#foedus_1_1soc_1_1SocManager_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1soc_1_1SocManager_inherit__map" id="foedus_1_1soc_1_1SocManager_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="25,5,157,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::soc::SocManager:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager__coll__graph.png" border="0" usemap="#foedus_1_1soc_1_1SocManager_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1soc_1_1SocManager_coll__map" id="foedus_1_1soc_1_1SocManager_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="25,5,157,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51f41ee0ff1283b6902d27e258524201"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a51f41ee0ff1283b6902d27e258524201">SocManager</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:a51f41ee0ff1283b6902d27e258524201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d08ad948c50f05cb7dcb02b2eb5abe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a97d08ad948c50f05cb7dcb02b2eb5abe">~SocManager</a> ()</td></tr>
<tr class="separator:a97d08ad948c50f05cb7dcb02b2eb5abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f48beceb00c81b6c4dcd675a67b2a6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a6f48beceb00c81b6c4dcd675a67b2a6e">SocManager</a> ()=delete</td></tr>
<tr class="separator:a6f48beceb00c81b6c4dcd675a67b2a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae887b75e750303f16e7c8176ee17011e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#ae887b75e750303f16e7c8176ee17011e">SocManager</a> (const <a class="el" href="classfoedus_1_1soc_1_1SocManager.html">SocManager</a> &amp;)=delete</td></tr>
<tr class="separator:ae887b75e750303f16e7c8176ee17011e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46cdf16c5d1494d63444ba667a325cc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html">SocManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a46cdf16c5d1494d63444ba667a325cc0">operator=</a> (const <a class="el" href="classfoedus_1_1soc_1_1SocManager.html">SocManager</a> &amp;)=delete</td></tr>
<tr class="separator:a46cdf16c5d1494d63444ba667a325cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cbbd4c869d67cdf00104abdad76aac6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a0cbbd4c869d67cdf00104abdad76aac6">initialize</a> () override</td></tr>
<tr class="memdesc:a0cbbd4c869d67cdf00104abdad76aac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires resources in this object, usually called right after constructor.  <a href="#a0cbbd4c869d67cdf00104abdad76aac6">More...</a><br /></td></tr>
<tr class="separator:a0cbbd4c869d67cdf00104abdad76aac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6dd284be4b99ed64f2de739b149af9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#ab6dd284be4b99ed64f2de739b149af9d">is_initialized</a> () const  override</td></tr>
<tr class="memdesc:ab6dd284be4b99ed64f2de739b149af9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already initialized or not.  <a href="#ab6dd284be4b99ed64f2de739b149af9d">More...</a><br /></td></tr>
<tr class="separator:ab6dd284be4b99ed64f2de739b149af9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682c59396c07f64db698d0b5fcb76ba4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a682c59396c07f64db698d0b5fcb76ba4">uninitialize</a> () override</td></tr>
<tr class="memdesc:a682c59396c07f64db698d0b5fcb76ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">An <em>idempotent</em> method to release all resources of this object, if any.  <a href="#a682c59396c07f64db698d0b5fcb76ba4">More...</a><br /></td></tr>
<tr class="separator:a682c59396c07f64db698d0b5fcb76ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627cf434892c441c90c2de7c20637e9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html">SharedMemoryRepo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a627cf434892c441c90c2de7c20637e9c">get_shared_memory_repo</a> ()</td></tr>
<tr class="memdesc:a627cf434892c441c90c2de7c20637e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the shared memories maintained across SOCs.  <a href="#a627cf434892c441c90c2de7c20637e9c">More...</a><br /></td></tr>
<tr class="separator:a627cf434892c441c90c2de7c20637e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4a98141cedc11e909878cfae62d5df"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a4f4a98141cedc11e909878cfae62d5df">get_shared_user_memory</a> () const </td></tr>
<tr class="memdesc:a4f4a98141cedc11e909878cfae62d5df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shortcut for <a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a627cf434892c441c90c2de7c20637e9c" title="Returns the shared memories maintained across SOCs. ">get_shared_memory_repo()</a>-&gt;get_global_user_memory()  <a href="#a4f4a98141cedc11e909878cfae62d5df">More...</a><br /></td></tr>
<tr class="separator:a4f4a98141cedc11e909878cfae62d5df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69150b63965420241a8eb7d703876dc6"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a69150b63965420241a8eb7d703876dc6">get_shared_user_memory_size</a> () const </td></tr>
<tr class="separator:a69150b63965420241a8eb7d703876dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73369a529df5147ddacd8d749ae2e002"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a73369a529df5147ddacd8d749ae2e002">wait_for_master_module</a> (bool init, <a class="el" href="group__ENGINE.html#gabb05ed0c64264f08cb24c4a832ec1e9c">ModuleType</a> module)</td></tr>
<tr class="memdesc:a73369a529df5147ddacd8d749ae2e002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for master engine to finish init/uninit the module.  <a href="#a73369a529df5147ddacd8d749ae2e002">More...</a><br /></td></tr>
<tr class="separator:a73369a529df5147ddacd8d749ae2e002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9cd36f9f5daf08d2424026f611dc11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a7a9cd36f9f5daf08d2424026f611dc11">wait_for_children_module</a> (bool init, <a class="el" href="group__ENGINE.html#gabb05ed0c64264f08cb24c4a832ec1e9c">ModuleType</a> module)</td></tr>
<tr class="memdesc:a7a9cd36f9f5daf08d2424026f611dc11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for other engines to finish init/uninit the module.  <a href="#a7a9cd36f9f5daf08d2424026f611dc11">More...</a><br /></td></tr>
<tr class="separator:a7a9cd36f9f5daf08d2424026f611dc11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abffe61e3c3cd7959937bf3f81b4579d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#abffe61e3c3cd7959937bf3f81b4579d7">report_engine_fatal_error</a> ()</td></tr>
<tr class="memdesc:abffe61e3c3cd7959937bf3f81b4579d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Announce fatal error state of this (either master or child) engine if possible.  <a href="#abffe61e3c3cd7959937bf3f81b4579d7">More...</a><br /></td></tr>
<tr class="separator:abffe61e3c3cd7959937bf3f81b4579d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Initializable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Initializable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Initializable.html">foedus::Initializable</a></td></tr>
<tr class="memitem:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Initializable.html#aff308260543d18b3fd1367fd9017b176">~Initializable</a> ()</td></tr>
<tr class="separator:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0836514a042cf474f6e94a9f00fb8726"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a0836514a042cf474f6e94a9f00fb8726">trap_spawned_soc_main</a> ()</td></tr>
<tr class="memdesc:a0836514a042cf474f6e94a9f00fb8726"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be called at the beginning of main() if the executable expects to be spawned as SOC engines.  <a href="#a0836514a042cf474f6e94a9f00fb8726">More...</a><br /></td></tr>
<tr class="separator:a0836514a042cf474f6e94a9f00fb8726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b8ea1146fa76120be0fcb5ace838d0f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a8b8ea1146fa76120be0fcb5ace838d0f">trap_spawned_soc_main</a> (const std::vector&lt; <a class="el" href="group__PROC.html#ga66e05b529dbdf230d526ac66c01149ca">proc::ProcAndName</a> &gt; &amp;procedures)</td></tr>
<tr class="memdesc:a8b8ea1146fa76120be0fcb5ace838d0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This version also receives user-defined procedures to be registered in this SOC.  <a href="#a8b8ea1146fa76120be0fcb5ace838d0f">More...</a><br /></td></tr>
<tr class="separator:a8b8ea1146fa76120be0fcb5ace838d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:afc21fdc82239f8603b4ffce605c8c185"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#afc21fdc82239f8603b4ffce605c8c185">SocManagerPimpl</a></td></tr>
<tr class="separator:afc21fdc82239f8603b4ffce605c8c185"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a51f41ee0ff1283b6902d27e258524201"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::soc::SocManager::SocManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00026">26</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="soc__manager_8hpp_source.html#l00062">SocManagerPimpl</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                                     : pimpl_(<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  pimpl_ = <span class="keyword">new</span> <a class="code" href="classfoedus_1_1soc_1_1SocManager.html#afc21fdc82239f8603b4ffce605c8c185">SocManagerPimpl</a>(engine);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManager_html_afc21fdc82239f8603b4ffce605c8c185"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManager.html#afc21fdc82239f8603b4ffce605c8c185">foedus::soc::SocManager::SocManagerPimpl</a></div><div class="ttdeci">friend class SocManagerPimpl</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager_8hpp_source.html#l00062">soc_manager.hpp:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97d08ad948c50f05cb7dcb02b2eb5abe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::soc::SocManager::~SocManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00029">29</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                        {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keyword">delete</span> pimpl_;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  pimpl_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f48beceb00c81b6c4dcd675a67b2a6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::soc::SocManager::SocManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae887b75e750303f16e7c8176ee17011e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::soc::SocManager::SocManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1soc_1_1SocManager.html">SocManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a627cf434892c441c90c2de7c20637e9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html">SharedMemoryRepo</a> * foedus::soc::SocManager::get_shared_memory_repo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the shared memories maintained across SOCs. </p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00038">38</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="soc__manager__pimpl_8hpp_source.html#l00087">foedus::soc::SocManagerPimpl::memory_repo_</a>.</p>

<p>Referenced by <a class="el" href="log__gleaner__impl_8cpp_source.html#l00148">foedus::snapshot::LogGleaner::execute()</a>, <a class="el" href="log__reducer__ref_8cpp_source.html#l00071">foedus::snapshot::LogReducerRef::get_buffer()</a>, <a class="el" href="log__reducer__ref_8cpp_source.html#l00077">foedus::snapshot::LogReducerRef::get_cur_snapshot()</a>, <a class="el" href="partitioner_8cpp_source.html#l00045">foedus::storage::PartitionerMetadata::get_index0_metadata()</a>, <a class="el" href="partitioner_8cpp_source.html#l00038">foedus::storage::PartitionerMetadata::get_metadata()</a>, <a class="el" href="restart__manager__pimpl_8cpp_source.html#l00040">foedus::restart::RestartManagerPimpl::initialize_once()</a>, <a class="el" href="meta__logger__impl_8cpp_source.html#l00036">foedus::log::MetaLogger::initialize_once()</a>, <a class="el" href="numa__node__memory_8cpp_source.html#l00057">foedus::memory::NumaNodeMemory::initialize_once()</a>, <a class="el" href="engine__pimpl_8cpp_source.html#l00096">foedus::EnginePimpl::initialize_once()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00069">foedus::storage::StorageManagerPimpl::initialize_once()</a>, <a class="el" href="proc__manager__pimpl_8cpp_source.html#l00035">foedus::proc::ProcManagerPimpl::initialize_once()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00049">foedus::log::LogManagerPimpl::initialize_once()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00084">foedus::xct::XctManagerPimpl::initialize_once()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00037">foedus::savepoint::SavepointManagerPimpl::initialize_once()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00081">foedus::thread::ThreadPimpl::initialize_once()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00061">foedus::snapshot::SnapshotManagerPimpl::initialize_once()</a>, <a class="el" href="partitioner_8cpp_source.html#l00051">foedus::storage::PartitionerMetadata::locate_data()</a>, <a class="el" href="log__gleaner__ref_8cpp_source.html#l00030">foedus::snapshot::LogGleanerRef::LogGleanerRef()</a>, <a class="el" href="log__reducer__impl_8cpp_source.html#l00052">foedus::snapshot::LogReducer::LogReducer()</a>, <a class="el" href="log__reducer__ref_8cpp_source.html#l00036">foedus::snapshot::LogReducerRef::LogReducerRef()</a>, <a class="el" href="numa__node__memory_8cpp_source.html#l00235">foedus::memory::NumaNodeMemoryRef::NumaNodeMemoryRef()</a>, <a class="el" href="engine__pimpl_8cpp_source.html#l00261">foedus::EnginePimpl::on_module_initialized()</a>, <a class="el" href="engine__pimpl_8cpp_source.html#l00270">foedus::EnginePimpl::on_module_uninitialized()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00158">foedus::savepoint::SavepointManagerPimpl::savepoint_main()</a>, <a class="el" href="thread__ref_8cpp_source.html#l00047">foedus::thread::ThreadRef::ThreadRef()</a>, <a class="el" href="engine__pimpl_8cpp_source.html#l00178">foedus::EnginePimpl::uninitialize_once()</a>, and <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00125">foedus::snapshot::SnapshotManagerPimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{ <span class="keywordflow">return</span> &amp;pimpl_-&gt;<a class="code" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ad5dc399379271a8f079014a72cffd224">memory_repo_</a>; }</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManagerPimpl_html_ad5dc399379271a8f079014a72cffd224"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ad5dc399379271a8f079014a72cffd224">foedus::soc::SocManagerPimpl::memory_repo_</a></div><div class="ttdeci">SharedMemoryRepo memory_repo_</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager__pimpl_8hpp_source.html#l00087">soc_manager_pimpl.hpp:87</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a627cf434892c441c90c2de7c20637e9c_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a627cf434892c441c90c2de7c20637e9c_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a627cf434892c441c90c2de7c20637e9c_icgraph" id="classfoedus_1_1soc_1_1SocManager_a627cf434892c441c90c2de7c20637e9c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1LogGleaner.html#a617c3de45c34c6533c7f3e82216557f4" title="Main routine of log gleaner. " alt="" coords="249,93,444,135"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="2045,47,2240,88"/>
<area shape="rect" id="node8" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="2045,141,2240,183"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a01c6454d8099e0d74a325af05718dc12" title="foedus::snapshot::LogReducer\lRef::get_buffer" alt="" coords="518,899,717,940"/>
<area shape="rect" id="node11" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#aa4a57d52ef10b270b50d0e00511b24e5" title="foedus::snapshot::LogReducer\lRef::get_cur_snapshot" alt="" coords="247,768,446,809"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PartitionerMetadata.html#a889951c15caacc4d60b446f6c6c56cde" title="Returns the special index&#45;0 entry that manages data block allocation for partitioners. " alt="" coords="243,703,451,744"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1PartitionerMetadata.html#aa6e48ddb92bb1c1b572cc3b90e19daf9" title="Returns the shared memory for the given storage ID. " alt="" coords="257,331,436,372"/>
<area shape="rect" id="node25" href="classfoedus_1_1log_1_1MetaLogger.html#a5a3484d094947ced0a08a5e162f08a88" title="foedus::log::MetaLogger\l::initialize_once" alt="" coords="266,885,427,927"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="253,951,440,992"/>
<area shape="rect" id="node27" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="803,1016,945,1057"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#ad89ca2bb2619e01c3b13d65302a3d7c9" title="foedus::storage::Storage\lManagerPimpl::initialize_once" alt="" coords="249,1133,444,1175"/>
<area shape="rect" id="node29" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#a37d27ce95acbf5eb397f277c83034a15" title="foedus::proc::ProcManager\lPimpl::initialize_once" alt="" coords="257,1199,436,1240"/>
<area shape="rect" id="node30" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a8b2cfe458668cc3f8cf4ccbfeab179dc" title="foedus::log::LogManagerPimpl\l::initialize_once" alt="" coords="248,1264,445,1305"/>
<area shape="rect" id="node31" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#aefb36bf03b0bd29c160f5aa36b219d45" title="foedus::xct::XctManagerPimpl\l::initialize_once" alt="" coords="249,1329,444,1371"/>
<area shape="rect" id="node32" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ad75cdea74e547a1f66d62b85a938a2cd" title="foedus::savepoint::\lSavepointManagerPimpl\l::initialize_once" alt="" coords="537,1429,698,1485"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a741208e803d0a0bb5f979ebb099d2a8d" title="foedus::thread::ThreadPimpl\l::initialize_once" alt="" coords="255,1527,439,1568"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1PartitionerMetadata.html#a0534520d3f4fb059afdf7b9db375907e" title="Returns the partitioner data pointed from this metadata. " alt="" coords="257,512,436,553"/>
<area shape="rect" id="node38" href="classfoedus_1_1snapshot_1_1LogGleanerRef.html#a41909aaaf2f05485a26998af4e291fbf" title="foedus::snapshot::LogGleaner\lRef::LogGleanerRef" alt="" coords="249,1592,444,1633"/>
<area shape="rect" id="node39" href="classfoedus_1_1snapshot_1_1LogReducer.html#addaf1ec8c392fb0384c0ae90e46a1b34" title="foedus::snapshot::LogReducer\l::LogReducer" alt="" coords="247,1657,446,1699"/>
<area shape="rect" id="node40" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a48fa59b1bcce029bc8a7e5fd3f688068" title="foedus::snapshot::LogReducer\lRef::LogReducerRef" alt="" coords="247,1723,446,1764"/>
<area shape="rect" id="node41" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a8e735f7411d3a28d4ddf0c25f3eced4e" title="foedus::memory::NumaNode\lMemoryRef::NumaNodeMemoryRef" alt="" coords="233,1788,460,1829"/>
<area shape="rect" id="node42" href="classfoedus_1_1EnginePimpl.html#a13acd726f8d0ab03b7976d00006a0e6b" title="Called whenever each module has completed its initialization. " alt="" coords="269,1016,424,1057"/>
<area shape="rect" id="node44" href="classfoedus_1_1EnginePimpl.html#a5a2c657e4fcf77d3166da849a6af8ffd" title="Called whenever each module has completed its uninitialization. " alt="" coords="263,1853,431,1895"/>
<area shape="rect" id="node45" href="classfoedus_1_1EnginePimpl.html#a483875a16cf2f469b8b751c9f6e2d673" title="foedus::EnginePimpl\l::uninitialize_once" alt="" coords="547,1883,688,1924"/>
<area shape="rect" id="node46" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ae5e8a2671c819fc0ada038b3fa47105a" title="foedus::savepoint::\lSavepointManagerPimpl\l::savepoint_main" alt="" coords="266,1395,427,1451"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1ThreadRef.html#a3f798a317603d0d463863c75805d30d6" title="foedus::thread::ThreadRef\l::ThreadRef" alt="" coords="261,1971,432,2012"/>
<area shape="rect" id="node48" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a4fd4f82797b7ce89da73feca6570f581" title="foedus::snapshot::Snapshot\lManagerPimpl::uninitialize_once" alt="" coords="242,2036,451,2077"/>
<area shape="rect" id="node3" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a75c5d41290ab6f960725a004622dc3be" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1275,61,1459,103"/>
<area shape="rect" id="node4" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1528,86,1739,142"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1787,61,1997,103"/>
<area shape="rect" id="node7" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1815,127,1969,168"/>
<area shape="rect" id="node10" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a4ea0f6f073f92ff447cc34429adafbda" title="Append the log entries of one storage in the given buffer to this reducer&#39;s buffer. " alt="" coords="775,867,973,908"/>
<area shape="rect" id="node12" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a493bf984062f2615c6788b4c4f6b36df" title="used only in debug mode " alt="" coords="518,833,717,875"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1PartitionerMetadata.html#a3b5c729829a30ca3848d8254d616459a" title="Allocates a patitioner data in shared memory of the given size. " alt="" coords="528,716,707,757"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#a7002637fe43ab0917bead1d4636805ad" title="foedus::storage::array\l::ArrayPartitioner::design\l_partition" alt="" coords="791,578,957,634"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a9def1e9584cd2af4bae4d2b0c0ca10e4" title="foedus::storage::hash\l::HashPartitioner::design\l_partition" alt="" coords="791,658,957,714"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#a1aedc45cc5621bd3889f1bf2d47ab79c" title="foedus::storage::masstree\l::MasstreePartitioner::\ldesign_partition" alt="" coords="787,738,961,794"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="1024,665,1203,707"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayComposeContext.html#ae70f8ca9a8540b78619ac770e2bbbec9" title="ArrayComposeContext methods. " alt="" coords="537,243,698,299"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#ad25781d742feeced13ed8b047b485a3e" title="drop_volatiles and related methods " alt="" coords="529,323,705,379"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="785,311,963,352"/>
<area shape="rect" id="node23" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="1021,283,1205,339"/>
<area shape="rect" id="node24" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1253,127,1480,168"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#ac0e40ecaf673b0ba0c5ffa38ff093532" title="foedus::storage::array\l::ArrayPartitioner::ArrayPartitioner" alt="" coords="508,585,727,627"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#afe8984187e16a5366b95bef1bc824b6e" title="foedus::storage::hash\l::HashPartitioner::HashPartitioner" alt="" coords="509,651,725,692"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#a9cbd3bf85a0f48ca30e2e2228361de90" title="MasstreePartitioner methods. " alt="" coords="531,505,704,561"/>
<area shape="rect" id="node43" href="classfoedus_1_1EnginePimpl.html#a1e2a6a45cbf165080b584269b2bbc5aa" title="foedus::EnginePimpl\l::initialize_modules" alt="" coords="547,1016,688,1057"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4f4a98141cedc11e909878cfae62d5df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * foedus::soc::SocManager::get_shared_user_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shortcut for <a class="el" href="classfoedus_1_1soc_1_1SocManager.html#a627cf434892c441c90c2de7c20637e9c" title="Returns the shared memories maintained across SOCs. ">get_shared_memory_repo()</a>-&gt;get_global_user_memory() </p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00040">40</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="shared__memory__repo_8hpp_source.html#l00515">foedus::soc::SharedMemoryRepo::get_global_user_memory()</a>, and <a class="el" href="soc__manager__pimpl_8hpp_source.html#l00087">foedus::soc::SocManagerPimpl::memory_repo_</a>.</p>

<p>Referenced by <a class="el" href="engine__memory_8cpp_source.html#l00113">foedus::memory::EngineMemory::get_shared_user_memory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                               {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ad5dc399379271a8f079014a72cffd224">memory_repo_</a>.<a class="code" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#ab6dda26e594cbef6ceeb6287a1a3092b">get_global_user_memory</a>();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManagerPimpl_html_ad5dc399379271a8f079014a72cffd224"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ad5dc399379271a8f079014a72cffd224">foedus::soc::SocManagerPimpl::memory_repo_</a></div><div class="ttdeci">SharedMemoryRepo memory_repo_</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager__pimpl_8hpp_source.html#l00087">soc_manager_pimpl.hpp:87</a></div></div>
<div class="ttc" id="classfoedus_1_1soc_1_1SharedMemoryRepo_html_ab6dda26e594cbef6ceeb6287a1a3092b"><div class="ttname"><a href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#ab6dda26e594cbef6ceeb6287a1a3092b">foedus::soc::SharedMemoryRepo::get_global_user_memory</a></div><div class="ttdeci">void * get_global_user_memory()</div><div class="ttdef"><b>Definition:</b> <a href="shared__memory__repo_8hpp_source.html#l00515">shared_memory_repo.hpp:515</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_cgraph" id="classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#ab6dda26e594cbef6ceeb6287a1a3092b" title="foedus::soc::SharedMemory\lRepo::get_global_user_memory" alt="" coords="233,5,439,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_icgraph" id="classfoedus_1_1soc_1_1SocManager_a4f4a98141cedc11e909878cfae62d5df_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1EngineMemory.html#a678ed893d9fb18f180043e28bb8405e4" title="As part of the global shared memory, we reserve this size of &#39;user memory&#39; that can be used for arbit..." alt="" coords="233,5,444,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a69150b63965420241a8eb7d703876dc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::soc::SocManager::get_shared_user_memory_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the byte size of shared user-controlled memory. Equivalent to <a class="el" href="structfoedus_1_1soc_1_1SocOptions.html#a42c3a591e22b172a11ce9167f0a546d7" title="As part of the global shared memory, we reserve this size of &#39;user memory&#39; that can be used for arbit...">SocOptions.shared_user_memory_size_kb_</a> &lt;&lt; 10. </dd></dl>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00043">43</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="soc__manager__pimpl_8hpp_source.html#l00086">foedus::soc::SocManagerPimpl::engine_</a>, <a class="el" href="engine_8cpp_source.html#l00039">foedus::Engine::get_options()</a>, <a class="el" href="soc__options_8hpp_source.html#l00060">foedus::soc::SocOptions::shared_user_memory_size_kb_</a>, and <a class="el" href="engine__options_8hpp_source.html#l00144">foedus::EngineOptions::soc_</a>.</p>

<p>Referenced by <a class="el" href="engine__memory_8cpp_source.html#l00117">foedus::memory::EngineMemory::get_shared_user_memory_size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                       {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a738f546a8d0b00722ed692c28eba4e6c">engine_</a>-&gt;<a class="code" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1">get_options</a>().<a class="code" href="structfoedus_1_1EngineOptions.html#acdaeb0ed690baac440396853f8795833">soc_</a>.<a class="code" href="structfoedus_1_1soc_1_1SocOptions.html#a42c3a591e22b172a11ce9167f0a546d7">shared_user_memory_size_kb_</a> * 1024ULL;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManagerPimpl_html_a738f546a8d0b00722ed692c28eba4e6c"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a738f546a8d0b00722ed692c28eba4e6c">foedus::soc::SocManagerPimpl::engine_</a></div><div class="ttdeci">Engine *const engine_</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager__pimpl_8hpp_source.html#l00086">soc_manager_pimpl.hpp:86</a></div></div>
<div class="ttc" id="structfoedus_1_1EngineOptions_html_acdaeb0ed690baac440396853f8795833"><div class="ttname"><a href="structfoedus_1_1EngineOptions.html#acdaeb0ed690baac440396853f8795833">foedus::EngineOptions::soc_</a></div><div class="ttdeci">soc::SocOptions soc_</div><div class="ttdef"><b>Definition:</b> <a href="engine__options_8hpp_source.html#l00144">engine_options.hpp:144</a></div></div>
<div class="ttc" id="classfoedus_1_1Engine_html_a6546930099132529543c320327367ef1"><div class="ttname"><a href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1">foedus::Engine::get_options</a></div><div class="ttdeci">const EngineOptions &amp; get_options() const </div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00039">engine.cpp:39</a></div></div>
<div class="ttc" id="structfoedus_1_1soc_1_1SocOptions_html_a42c3a591e22b172a11ce9167f0a546d7"><div class="ttname"><a href="structfoedus_1_1soc_1_1SocOptions.html#a42c3a591e22b172a11ce9167f0a546d7">foedus::soc::SocOptions::shared_user_memory_size_kb_</a></div><div class="ttdeci">uint64_t shared_user_memory_size_kb_</div><div class="ttdoc">As part of the global shared memory, we reserve this size of &#39;user memory&#39; that can be used for arbit...</div><div class="ttdef"><b>Definition:</b> <a href="soc__options_8hpp_source.html#l00060">soc_options.hpp:60</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_cgraph" id="classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="264,5,399,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_icgraph" id="classfoedus_1_1soc_1_1SocManager_a69150b63965420241a8eb7d703876dc6_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1EngineMemory.html#acd6b03ce8d83c1172c8b4c5bbaac739a" title="foedus::memory::EngineMemory\l::get_shared_user_memory_size" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0cbbd4c869d67cdf00104abdad76aac6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::soc::SocManager::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires resources in this object, usually called right after constructor. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classfoedus_1_1soc_1_1SocManager.html#ab6dd284be4b99ed64f2de739b149af9d" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> == FALSE</dd></dl>
<p>If and only if the return value was not an error, <a class="el" href="classfoedus_1_1soc_1_1SocManager.html#ab6dd284be4b99ed64f2de739b149af9d" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return TRUE. This method is usually not idempotent, but some implementation can choose to be. In that case, the implementation class should clarify that it's idempotent. This method is responsible for releasing all acquired resources when initialization fails. This method itself is NOT thread-safe. Do not call this in a racy situation. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#aa087b096d1edaeb0304c250eadb0d7e1">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00034">34</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00169">foedus::DefaultInitializable::initialize()</a>.</p>

<p>Referenced by <a class="el" href="engine__pimpl_8cpp_source.html#l00096">foedus::EnginePimpl::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">initialize</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a22a0dc3bbbca682c3bc41eace9b6d1ff"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">foedus::DefaultInitializable::initialize</a></div><div class="ttdeci">ErrorStack initialize() override final</div><div class="ttdoc">Typical implementation of Initializable::initialize() that provides initialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00169">initializable.hpp:169</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_cgraph" id="classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="224,104,396,145"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="444,5,616,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="465,71,595,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="444,136,616,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="444,201,616,243"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_icgraph" id="classfoedus_1_1soc_1_1SocManager_a0cbbd4c869d67cdf00104abdad76aac6_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="224,5,365,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab6dd284be4b99ed64f2de739b149af9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::soc::SocManager::is_initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the object has been already initialized or not. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#a3c3a54a44a7a86bd99f800dbebae90eb">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00035">35</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00196">foedus::DefaultInitializable::is_initialized()</a>.</p>

<p>Referenced by <a class="el" href="engine__pimpl_8cpp_source.html#l00162">foedus::EnginePimpl::initialize_modules()</a>, and <a class="el" href="engine__pimpl_8cpp_source.html#l00178">foedus::EnginePimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">is_initialized</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a1abda1e84b8af8bd6916e52fd0a09f3e"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">foedus::DefaultInitializable::is_initialized</a></div><div class="ttdeci">bool is_initialized() const  override final</div><div class="ttdoc">Returns whether the object has been already initialized or not. </div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00196">initializable.hpp:196</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_cgraph" id="classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="224,5,396,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_icgraph" id="classfoedus_1_1soc_1_1SocManager_ab6dd284be4b99ed64f2de739b149af9d_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1EnginePimpl.html#a1e2a6a45cbf165080b584269b2bbc5aa" title="foedus::EnginePimpl\l::initialize_modules" alt="" coords="224,5,365,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1EnginePimpl.html#a483875a16cf2f469b8b751c9f6e2d673" title="foedus::EnginePimpl\l::uninitialize_once" alt="" coords="224,71,365,112"/>
<area shape="rect" id="node3" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="413,5,555,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46cdf16c5d1494d63444ba667a325cc0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html">SocManager</a>&amp; foedus::soc::SocManager::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1soc_1_1SocManager.html">SocManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abffe61e3c3cd7959937bf3f81b4579d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::soc::SocManager::report_engine_fatal_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Announce fatal error state of this (either master or child) engine if possible. </p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00064">64</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00067">foedus::soc::SocManagerPimpl::report_engine_fatal_error()</a>.</p>

<p>Referenced by <a class="el" href="engine__pimpl_8cpp_source.html#l00096">foedus::EnginePimpl::initialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{ pimpl_-&gt;<a class="code" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a36ec21a4c2b374ce071755a8b2696e3a">report_engine_fatal_error</a>(); }</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManagerPimpl_html_a36ec21a4c2b374ce071755a8b2696e3a"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a36ec21a4c2b374ce071755a8b2696e3a">foedus::soc::SocManagerPimpl::report_engine_fatal_error</a></div><div class="ttdeci">void report_engine_fatal_error()</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager__pimpl_8cpp_source.html#l00067">soc_manager_pimpl.cpp:67</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_cgraph" id="classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a36ec21a4c2b374ce071755a8b2696e3a" title="foedus::soc::SocManagerPimpl\l::report_engine_fatal_error" alt="" coords="225,232,428,273"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="500,5,672,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1Engine.html#a5a390a597023f4b5c8cbcdcdd95e17ee" title="Returns if this engine object is a master instance. " alt="" coords="523,71,649,112"/>
<area shape="rect" id="node5" href="group__FILESYSTEM.html#gaaa833e3af93824a2485400b32dab7bcd" title="Returns the status of the file. " alt="" coords="525,137,647,163"/>
<area shape="rect" id="node7" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a1c21cc6a27cabaf4a8c9dc26985aacfb" title="foedus::soc::SharedMemory\lRepo::get_global_memory\l_anchors" alt="" coords="493,187,679,243"/>
<area shape="rect" id="node8" href="structfoedus_1_1soc_1_1MasterEngineStatus.html#aa3f2eb00974e1e60ce9a03e8f8f64954" title="Update the value of status_code_ with fence. " alt="" coords="487,268,685,309"/>
<area shape="rect" id="node10" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a2e5d1a0a78c66ac6e1c8ef166d2965c3" title="foedus::soc::SharedMemory\lRepo::get_node_memory_anchors" alt="" coords="476,333,696,375"/>
<area shape="rect" id="node11" href="classfoedus_1_1Engine.html#a8d9a31e48aec9b73e16b64170c0250f9" title="If this is a child instance, returns its SOC ID (NUMA node). " alt="" coords="519,399,653,440"/>
<area shape="rect" id="node12" href="structfoedus_1_1soc_1_1ChildEngineStatus.html#aa4e9303cf9cd2299bd7e9f44f6e837e0" title="Update the value of status_code_ with fence. " alt="" coords="503,465,669,521"/>
<area shape="rect" id="node6" href="classfoedus_1_1fs_1_1Path.html#a821cee2f2cec808d90e187513064f40f" title="foedus::fs::Path::c_str" alt="" coords="755,137,906,163"/>
<area shape="rect" id="node9" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="744,369,917,411"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_icgraph" id="classfoedus_1_1soc_1_1SocManager_abffe61e3c3cd7959937bf3f81b4579d7_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="225,5,367,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0836514a042cf474f6e94a9f00fb8726"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::soc::SocManager::trap_spawned_soc_main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This should be called at the beginning of main() if the executable expects to be spawned as SOC engines. </p>
<p>This method detects if the process has been spawned from FOEDUS as an SOC engine. If so, it starts running as an SOC engine and exits the process (via _exit()) when done. This should be called as early as possible like following: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv) {</div>
<div class="line">  <a class="code" href="classfoedus_1_1soc_1_1SocManager.html#a0836514a042cf474f6e94a9f00fb8726">foedus::soc::SocManager::trap_spawned_soc_main</a>();</div>
<div class="line">  <span class="comment">// user code ....</span></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>If the process has not been spawned as FOEDUS's SOC engine, this method does nothing and immediately returns. </p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00048">48</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                       {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  std::vector&lt; proc::ProcAndName &gt; procedures;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classfoedus_1_1soc_1_1SocManager.html#a0836514a042cf474f6e94a9f00fb8726">trap_spawned_soc_main</a>(procedures);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManager_html_a0836514a042cf474f6e94a9f00fb8726"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManager.html#a0836514a042cf474f6e94a9f00fb8726">foedus::soc::SocManager::trap_spawned_soc_main</a></div><div class="ttdeci">static void trap_spawned_soc_main()</div><div class="ttdoc">This should be called at the beginning of main() if the executable expects to be spawned as SOC engin...</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager_8cpp_source.html#l00048">soc_manager.cpp:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b8ea1146fa76120be0fcb5ace838d0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::soc::SocManager::trap_spawned_soc_main </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="group__PROC.html#ga66e05b529dbdf230d526ac66c01149ca">proc::ProcAndName</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>procedures</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This version also receives user-defined procedures to be registered in this SOC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">procedures</td><td>user-defined procedures' name and function pointer <b>in</b> <b>this</b> <b>process</b>.</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p><div class="fragment"><div class="line">ErrorStack my_proc(<a class="code" href="classfoedus_1_1thread_1_1Thread.html">foedus::thread::Thread</a>* context, ...) {</div>
<div class="line">  ...</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">kRetOk</a>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv) {</div>
<div class="line">  std::vector&lt; foedus::proc::ProcAndName &gt; procedures;</div>
<div class="line">  procedures.push_back(<a class="code" href="group__PROC.html#ga66e05b529dbdf230d526ac66c01149ca">foedus::proc::ProcAndName</a>(<span class="stringliteral">&quot;my_proc&quot;</span>, &amp;my_proc));</div>
<div class="line">  ...  <span class="comment">// register more</span></div>
<div class="line">  <a class="code" href="classfoedus_1_1soc_1_1SocManager.html#a0836514a042cf474f6e94a9f00fb8726">foedus::soc::SocManager::trap_spawned_soc_main</a>(procedures);</div>
<div class="line">  <span class="comment">// user code ....</span></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00053">53</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00568">foedus::soc::SocManagerPimpl::spawned_child_main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                                                     {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a328e5ee7367152a0033bcc5843867eb1">SocManagerPimpl::spawned_child_main</a>(procedures);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManagerPimpl_html_a328e5ee7367152a0033bcc5843867eb1"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a328e5ee7367152a0033bcc5843867eb1">foedus::soc::SocManagerPimpl::spawned_child_main</a></div><div class="ttdeci">static void spawned_child_main(const std::vector&lt; proc::ProcAndName &gt; &amp;procedures)</div><div class="ttdoc">Main routine of spawned SOCs. </div><div class="ttdef"><b>Definition:</b> <a href="soc__manager__pimpl_8cpp_source.html#l00568">soc_manager_pimpl.cpp:568</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a8b8ea1146fa76120be0fcb5ace838d0f_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a8b8ea1146fa76120be0fcb5ace838d0f_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a8b8ea1146fa76120be0fcb5ace838d0f_cgraph" id="classfoedus_1_1soc_1_1SocManager_a8b8ea1146fa76120be0fcb5ace838d0f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a328e5ee7367152a0033bcc5843867eb1" title="Main routine of spawned SOCs. " alt="" coords="227,86,429,127"/>
<area shape="rect" id="node3" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#adfd1a1b588c61f7b8efaf8e0e9fd5f8f" title="foedus::soc::SocManagerPimpl\l::child_main_common" alt="" coords="477,229,680,270"/>
<area shape="rect" id="node7" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="1267,11,1398,53"/>
<area shape="rect" id="node4" href="classfoedus_1_1Engine.html#ab48eb5d8f1860714592869b195de211d" title="Starts up the database engine. " alt="" coords="748,211,911,237"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#ab9107891ec9e48472d68bbd91e5f5934" title="Terminates the database engine. " alt="" coords="741,261,918,288"/>
<area shape="rect" id="node12" href="classfoedus_1_1Engine.html#ae9ad7ab6a3df52b0e9f0e50ede6faa2e" title="See SOC and IPC. " alt="" coords="762,27,897,69"/>
<area shape="rect" id="node13" href="classfoedus_1_1Engine.html#a213680d8d683ac663b847d09f1c0e9e3" title="See System and User Procedures. " alt="" coords="762,145,897,186"/>
<area shape="rect" id="node14" href="classfoedus_1_1proc_1_1ProcManager.html#a9cb7a5d09ab09f65251e40f2f1e6de76" title="Register a function pointer as a user procedure in the current SOC. " alt="" coords="740,317,919,358"/>
<area shape="rect" id="node23" href="classfoedus_1_1proc_1_1ProcManager.html#ad2cea910fc23749fbf7e88bd2682da93" title="For debug uses only. " alt="" coords="738,413,921,454"/>
<area shape="rect" id="node25" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#ad6e39207d5c93495c392a8c41ffae38e" title="foedus::soc::SharedMemory\lRepo::change_child_status" alt="" coords="737,682,922,723"/>
<area shape="rect" id="node28" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a8ce63382de1e198ee20353505efef67a" title="Wait for master engine to finish upto the specified status. " alt="" coords="728,581,931,622"/>
<area shape="rect" id="node5" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="1000,145,1172,186"/>
<area shape="rect" id="node6" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="1247,77,1419,118"/>
<area shape="rect" id="node8" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="1247,207,1419,249"/>
<area shape="rect" id="node9" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="1247,142,1419,183"/>
<area shape="rect" id="node11" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="1000,210,1172,251"/>
<area shape="rect" id="node15" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#ab86903482c491cf4e2d4e4b78cb6250a" title="foedus::proc::ProcManager\lPimpl::local_register" alt="" coords="997,323,1175,365"/>
<area shape="rect" id="node16" href="group__ERRORCODES.html#gaefc0aeec33bc4adc2f147fd1828b816e" title="Returns the error messages corresponding to ErrorCode enum defined in error_code.xmacro. " alt="" coords="1243,273,1422,300"/>
<area shape="rect" id="node17" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#ab44be75337e69f54c8952842f2179b0e" title="foedus::proc::ProcManager\lPimpl::get_local_data" alt="" coords="1243,442,1422,483"/>
<area shape="rect" id="node19" href="classfoedus_1_1Engine.html#a5a390a597023f4b5c8cbcdcdd95e17ee" title="Returns if this engine object is a master instance. " alt="" coords="1498,501,1625,542"/>
<area shape="rect" id="node20" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#acbcaf42a8076afae40a010323557ad54" title="foedus::proc::ProcManager\lPimpl::insert" alt="" coords="1243,325,1422,366"/>
<area shape="rect" id="node18" href="classfoedus_1_1Engine.html#a8d9a31e48aec9b73e16b64170c0250f9" title="If this is a child instance, returns its SOC ID (NUMA node). " alt="" coords="1494,435,1629,477"/>
<area shape="rect" id="node21" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#aa92f0d777803a8ee817ac6141875ad1a" title="foedus::proc::ProcManager\lPimpl::find_by_name" alt="" coords="1472,325,1651,366"/>
<area shape="rect" id="node22" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="1699,325,1872,366"/>
<area shape="rect" id="node24" href="classfoedus_1_1proc_1_1ProcManagerPimpl.html#ada9fdf5bccda75b4a408ea053780f6d1" title="foedus::proc::ProcManager\lPimpl::describe_registered_procs" alt="" coords="979,442,1193,483"/>
<area shape="rect" id="node26" href="structfoedus_1_1soc_1_1ChildEngineStatus.html#aa4e9303cf9cd2299bd7e9f44f6e837e0" title="Update the value of status_code_ with fence. " alt="" coords="1003,741,1169,797"/>
<area shape="rect" id="node27" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="1475,689,1648,730"/>
<area shape="rect" id="node29" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb" title="Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. " alt="" coords="999,675,1173,717"/>
<area shape="rect" id="node30" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a91712157cc54f8072a0c1664a902f388" title="foedus::soc::SharedMemory\lRepo::get_master_status" alt="" coords="993,610,1179,651"/>
<area shape="rect" id="node31" href="structfoedus_1_1soc_1_1MasterEngineStatus.html#ac6c964bf07458b5adc1f034705daca34" title="Read status_code_ with fence. " alt="" coords="1241,650,1424,691"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a682c59396c07f64db698d0b5fcb76ba4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::soc::SocManager::uninitialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An <em>idempotent</em> method to release all resources of this object, if any. </p>
<p>After this method, <a class="el" href="classfoedus_1_1soc_1_1SocManager.html#ab6dd284be4b99ed64f2de739b149af9d" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return FALSE. <b>Whether</b> this method encounters an error or not, the implementation should make the best effort to release as many resources as possible. In other words, Do not leak <b>all</b> resources because of <b>one</b> issue. This method itself is NOT thread-safe. Do not call this in a racy situation. </p><dl class="section attention"><dt>Attention</dt><dd>This method is NOT automatically called from the destructor. This is due to the fundamental limitation in C++. Explicitly call this method as soon as you are done, checking the returned value. You can also use <a class="el" href="classfoedus_1_1UninitializeGuard.html" title="Calls Initializable::uninitialize() automatically when it gets out of scope. ">UninitializeGuard</a> to ameliorate the issue, but it's not perfect. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The error this method encounters, if any. In case there are multiple errors while uninitialization, the implementation should use <a class="el" href="classfoedus_1_1ErrorStackBatch.html" title="Batches zero or more ErrorStack objects to represent in one ErrorStack. ">ErrorStackBatch</a> to produce a batched <a class="el" href="classfoedus_1_1ErrorStack.html" title="Brings error stacktrace information as return value of functions. ">ErrorStack</a> object. </dd></dl>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#afbe5738b0bc85362fba80bdf788fd3c3">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00036">36</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00187">foedus::DefaultInitializable::uninitialize()</a>.</p>

<p>Referenced by <a class="el" href="engine__pimpl_8cpp_source.html#l00178">foedus::EnginePimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">uninitialize</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_ab14b136a7d26f9f499ab9dc15a45a8cb"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">foedus::DefaultInitializable::uninitialize</a></div><div class="ttdeci">ErrorStack uninitialize() override final</div><div class="ttdoc">Typical implementation of Initializable::uninitialize() that provides uninitialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00187">initializable.hpp:187</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_cgraph" id="classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="224,39,396,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="444,5,616,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="444,71,616,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_icgraph" id="classfoedus_1_1soc_1_1SocManager_a682c59396c07f64db698d0b5fcb76ba4_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1EnginePimpl.html#a483875a16cf2f469b8b751c9f6e2d673" title="foedus::EnginePimpl\l::uninitialize_once" alt="" coords="224,5,365,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a9cd36f9f5daf08d2424026f611dc11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::soc::SocManager::wait_for_children_module </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ENGINE.html#gabb05ed0c64264f08cb24c4a832ec1e9c">ModuleType</a>&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for other engines to finish init/uninit the module. </p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00057">57</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00360">foedus::soc::SocManagerPimpl::wait_for_children_module()</a>.</p>

<p>Referenced by <a class="el" href="engine__pimpl_8cpp_source.html#l00162">foedus::EnginePimpl::initialize_modules()</a>, and <a class="el" href="engine__pimpl_8cpp_source.html#l00178">foedus::EnginePimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                                                            {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ab34e312e55cd449909c9096b45c200fe">wait_for_children_module</a>(init, module);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManagerPimpl_html_ab34e312e55cd449909c9096b45c200fe"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ab34e312e55cd449909c9096b45c200fe">foedus::soc::SocManagerPimpl::wait_for_children_module</a></div><div class="ttdeci">ErrorStack wait_for_children_module(bool init, ModuleType module)</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager__pimpl_8cpp_source.html#l00360">soc_manager_pimpl.cpp:360</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_cgraph" id="classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#ab34e312e55cd449909c9096b45c200fe" title="foedus::soc::SocManagerPimpl\l::wait_for_children_module" alt="" coords="228,136,431,177"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="521,5,656,47"/>
<area shape="rect" id="node4" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb" title="Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. " alt="" coords="501,71,676,112"/>
<area shape="rect" id="node5" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="502,136,675,177"/>
<area shape="rect" id="node6" href="group__FILESYSTEM.html#gaaa833e3af93824a2485400b32dab7bcd" title="Returns the status of the file. " alt="" coords="527,202,650,229"/>
<area shape="rect" id="node8" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a2e5d1a0a78c66ac6e1c8ef166d2965c3" title="foedus::soc::SharedMemory\lRepo::get_node_memory_anchors" alt="" coords="479,253,699,295"/>
<area shape="rect" id="node7" href="classfoedus_1_1fs_1_1Path.html#a821cee2f2cec808d90e187513064f40f" title="foedus::fs::Path::c_str" alt="" coords="747,202,897,229"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_icgraph" id="classfoedus_1_1soc_1_1SocManager_a7a9cd36f9f5daf08d2424026f611dc11_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1EnginePimpl.html#a1e2a6a45cbf165080b584269b2bbc5aa" title="foedus::EnginePimpl\l::initialize_modules" alt="" coords="228,5,369,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1EnginePimpl.html#a483875a16cf2f469b8b751c9f6e2d673" title="foedus::EnginePimpl\l::uninitialize_once" alt="" coords="228,71,369,112"/>
<area shape="rect" id="node3" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="417,5,559,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a73369a529df5147ddacd8d749ae2e002"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::soc::SocManager::wait_for_master_module </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ENGINE.html#gabb05ed0c64264f08cb24c4a832ec1e9c">ModuleType</a>&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for master engine to finish init/uninit the module. </p>

<p>Definition at line <a class="el" href="soc__manager_8cpp_source.html#l00061">61</a> of file <a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a>.</p>

<p>References <a class="el" href="soc__manager__pimpl_8cpp_source.html#l00327">foedus::soc::SocManagerPimpl::wait_for_master_module()</a>.</p>

<p>Referenced by <a class="el" href="engine__pimpl_8cpp_source.html#l00162">foedus::EnginePimpl::initialize_modules()</a>, and <a class="el" href="engine__pimpl_8cpp_source.html#l00178">foedus::EnginePimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                                          {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a1e8d5c98af1d33d7a77a05503eedc7be">wait_for_master_module</a>(init, module);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1soc_1_1SocManagerPimpl_html_a1e8d5c98af1d33d7a77a05503eedc7be"><div class="ttname"><a href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a1e8d5c98af1d33d7a77a05503eedc7be">foedus::soc::SocManagerPimpl::wait_for_master_module</a></div><div class="ttdeci">ErrorStack wait_for_master_module(bool init, ModuleType module)</div><div class="ttdef"><b>Definition:</b> <a href="soc__manager__pimpl_8cpp_source.html#l00327">soc_manager_pimpl.cpp:327</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_cgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_cgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_cgraph" id="classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1soc_1_1SocManagerPimpl.html#a1e8d5c98af1d33d7a77a05503eedc7be" title="foedus::soc::SocManagerPimpl\l::wait_for_master_module" alt="" coords="224,101,427,142"/>
<area shape="rect" id="node3" href="group__FILESYSTEM.html#gaaa833e3af93824a2485400b32dab7bcd" title="Returns the status of the file. " alt="" coords="506,5,629,32"/>
<area shape="rect" id="node5" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a1c21cc6a27cabaf4a8c9dc26985aacfb" title="foedus::soc::SharedMemory\lRepo::get_global_memory\l_anchors" alt="" coords="475,56,660,112"/>
<area shape="rect" id="node6" href="group__ASSORTED.html#gaa05e01910d3ea9909f1a64afd62729fb" title="Invoke _mm_pause(), x86 PAUSE instruction, or something equivalent in the env. " alt="" coords="480,137,655,178"/>
<area shape="rect" id="node7" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="481,202,654,243"/>
<area shape="rect" id="node4" href="classfoedus_1_1fs_1_1Path.html#a821cee2f2cec808d90e187513064f40f" title="foedus::fs::Path::c_str" alt="" coords="708,5,859,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_icgraph.png" border="0" usemap="#classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_icgraph" alt=""/></div>
<map name="classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_icgraph" id="classfoedus_1_1soc_1_1SocManager_a73369a529df5147ddacd8d749ae2e002_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1EnginePimpl.html#a1e2a6a45cbf165080b584269b2bbc5aa" title="foedus::EnginePimpl\l::initialize_modules" alt="" coords="224,5,365,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1EnginePimpl.html#a483875a16cf2f469b8b751c9f6e2d673" title="foedus::EnginePimpl\l::uninitialize_once" alt="" coords="224,71,365,112"/>
<area shape="rect" id="node3" href="classfoedus_1_1EnginePimpl.html#a15c27fd38d4219abdf0b2deb5e5f365c" title="foedus::EnginePimpl\l::initialize_once" alt="" coords="413,5,555,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="afc21fdc82239f8603b4ffce605c8c185"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfoedus_1_1soc_1_1SocManagerPimpl.html">SocManagerPimpl</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="soc__manager_8hpp_source.html#l00062">62</a> of file <a class="el" href="soc__manager_8hpp_source.html">soc_manager.hpp</a>.</p>

<p>Referenced by <a class="el" href="soc__manager_8cpp_source.html#l00026">SocManager()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/soc/<a class="el" href="soc__manager_8hpp_source.html">soc_manager.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/soc/<a class="el" href="soc__manager_8cpp_source.html">soc_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1soc.html">soc</a></li><li class="navelem"><a class="el" href="classfoedus_1_1soc_1_1SocManager.html">SocManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
