<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::Epoch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1Epoch.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1Epoch-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::Epoch Class Reference<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__ENGINE.html">Database Engine</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a time epoch.  
 <a href="classfoedus_1_1Epoch.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a time epoch. </p>
<p><a class="el" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. ">Epoch</a> is an corase-grained timestamp used all over the places.</p>
<dl class="section user"><dt>What is Epoch</dt><dd>An <a class="el" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. ">Epoch</a> represents a few to 100s milliseconds. XctManager periodically or by-demand advances the value so that the commit protocol, loggers, garbage collector, etc can <em>loosely</em> and efficiently and synchronize with other parts of the engine. Compared to fine-grained sequence number like Oracle/PostgreSQL's timestamp, this is much more scalable. Several commercial and open-source storage engines use such a coarse-grained timestamp nowadays.</dd></dl>
<dl class="section user"><dt>Value range</dt><dd>We use 28 bits to represent an epoch (we need to save 4 bits for the sake of <a class="el" href="structfoedus_1_1xct_1_1XctId.html" title="Persistent status part of Transaction ID. ">foedus::xct::XctId</a>). The first 4 bits must be always zero. This means the value range of [0, 2^28 - 1]. Assuming 20ms per epoch, this is about 1 year.</dd></dl>
<dl class="section user"><dt>Wrap-around</dt><dd>This class can handle wrapping-around <b>assuming</b> there is no case where we have two epochs that are 2^27 or more distant. As one epoch represents tens of milliseconds, this assumption should hold. All very-old epochs will disappear from logs and snapshots by the time we wrap around. We use wrap-around-aware comparison algorithms</dd></dl>
<dl class="section see"><dt>See also</dt><dd>RFC 1982 </dd>
<dd>
<a href="http://en.wikipedia.org/wiki/Serial_number_arithmetic">http://en.wikipedia.org/wiki/Serial_number_arithmetic</a> </dd>
<dd>
<a href="http://github.com/pjkundert/sequence">http://github.com/pjkundert/sequence</a></dd></dl>
<dl class="section user"><dt>Translation unit</dt><dd>This class is header-only <b>except</b> the std::ostream redirect. </dd></dl>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00061">61</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a987db657e61845e18835ce4b1617470f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470f">Constants</a> { <br />
&#160;&#160;<a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">kEpochInvalid</a> = 0, 
<a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa5fb5da158901984d4b85c2f26f58a33f">kEpochInitialDurable</a> = 1, 
<a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fac4a45d76ef5f2bfa42153bbbe282fef3">kEpochInitialGrace</a> = 2, 
<a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fabfe4d611fb293208a4a9141666b16575">kEpochInitialCurrent</a> = 3, 
<br />
&#160;&#160;<a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa1619c3f620e25943f6db03d6f1d16ace">kEpochBits</a> = 28, 
<a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">kEpochIntOverflow</a> = (1 &lt;&lt; kEpochBits), 
<a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0">kEpochIntHalf</a> = (1 &lt;&lt; (kEpochBits - 1))
<br />
 }<tr class="memdesc:a987db657e61845e18835ce4b1617470f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines constant values.  <a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470f">More...</a><br /></td></tr>
<tr class="separator:a987db657e61845e18835ce4b1617470f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:a62a30a9e703c23a5ef1b0fdaab0c34e1"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">EpochInteger</a></td></tr>
<tr class="memdesc:a62a30a9e703c23a5ef1b0fdaab0c34e1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>Unsigned</b> integer representation of epoch.  <a href="#a62a30a9e703c23a5ef1b0fdaab0c34e1">More...</a><br /></td></tr>
<tr class="separator:a62a30a9e703c23a5ef1b0fdaab0c34e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3cf3334d00de70cdb48059e8dec73d3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a3cf3334d00de70cdb48059e8dec73d3f">Epoch</a> () noexcept</td></tr>
<tr class="memdesc:a3cf3334d00de70cdb48059e8dec73d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an invalid epoch.  <a href="#a3cf3334d00de70cdb48059e8dec73d3f">More...</a><br /></td></tr>
<tr class="separator:a3cf3334d00de70cdb48059e8dec73d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41f5185fd95468352ea09edd19fe96f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#ae41f5185fd95468352ea09edd19fe96f">Epoch</a> (<a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">EpochInteger</a> <a class="el" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf">value</a>) noexcept</td></tr>
<tr class="memdesc:ae41f5185fd95468352ea09edd19fe96f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an epoch of specified integer representation.  <a href="#ae41f5185fd95468352ea09edd19fe96f">More...</a><br /></td></tr>
<tr class="separator:ae41f5185fd95468352ea09edd19fe96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3025b58495cd16f5d8969aed4566086c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a3025b58495cd16f5d8969aed4566086c">reset</a> ()</td></tr>
<tr class="memdesc:a3025b58495cd16f5d8969aed4566086c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears this epoch variable so that it points to an invalid epoch.  <a href="#a3025b58495cd16f5d8969aed4566086c">More...</a><br /></td></tr>
<tr class="separator:a3025b58495cd16f5d8969aed4566086c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8228a1a49b7db9b93498a778cb40f8e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid</a> () const </td></tr>
<tr class="separator:a8228a1a49b7db9b93498a778cb40f8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af13cf48db2b5bd1d273f5f7350a4d8cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">EpochInteger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf">value</a> () const </td></tr>
<tr class="memdesc:af13cf48db2b5bd1d273f5f7350a4d8cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the raw integer representation.  <a href="#af13cf48db2b5bd1d273f5f7350a4d8cf">More...</a><br /></td></tr>
<tr class="separator:af13cf48db2b5bd1d273f5f7350a4d8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe036a3801a9710c8e046fd117999b28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#abe036a3801a9710c8e046fd117999b28">operator++</a> ()</td></tr>
<tr class="separator:abe036a3801a9710c8e046fd117999b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00e23c0dc709cefa7eaa3fc4fabb06f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#ae00e23c0dc709cefa7eaa3fc4fabb06f">operator--</a> ()</td></tr>
<tr class="separator:ae00e23c0dc709cefa7eaa3fc4fabb06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701de077839df51ebe44749a116ec10f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a701de077839df51ebe44749a116ec10f">one_less</a> () const </td></tr>
<tr class="separator:a701de077839df51ebe44749a116ec10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786afd92afdc87b54dfa11ef093f06f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a786afd92afdc87b54dfa11ef093f06f3">one_more</a> () const </td></tr>
<tr class="separator:a786afd92afdc87b54dfa11ef093f06f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ee2922375886d43b8e669a192fd4c4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a95ee2922375886d43b8e669a192fd4c4">subtract</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="memdesc:a95ee2922375886d43b8e669a192fd4c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number epochs from the given epoch to this epoch accounting for wrap-around.  <a href="#a95ee2922375886d43b8e669a192fd4c4">More...</a><br /></td></tr>
<tr class="separator:a95ee2922375886d43b8e669a192fd4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae113d98c40171e4b80526cd7f7502c03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#ae113d98c40171e4b80526cd7f7502c03">store_min</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other)</td></tr>
<tr class="memdesc:ae113d98c40171e4b80526cd7f7502c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kind of std::min(this, other).  <a href="#ae113d98c40171e4b80526cd7f7502c03">More...</a><br /></td></tr>
<tr class="separator:ae113d98c40171e4b80526cd7f7502c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf886b8b219538b7dac2da820fbec68c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#adf886b8b219538b7dac2da820fbec68c">store_max</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other)</td></tr>
<tr class="memdesc:adf886b8b219538b7dac2da820fbec68c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kind of std::max(this, other).  <a href="#adf886b8b219538b7dac2da820fbec68c">More...</a><br /></td></tr>
<tr class="separator:adf886b8b219538b7dac2da820fbec68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef554452ea9ac7b072af98cde1558dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc">before</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="memdesc:aaef554452ea9ac7b072af98cde1558dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if this epoch is <em>before</em> the given epoch in the sense of <em>distance</em> defined in RFC 1982.  <a href="#aaef554452ea9ac7b072af98cde1558dc">More...</a><br /></td></tr>
<tr class="separator:aaef554452ea9ac7b072af98cde1558dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2366c2ef92467d184ebc34871c441d6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a2366c2ef92467d184ebc34871c441d6a">operator==</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="separator:a2366c2ef92467d184ebc34871c441d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa82fa46174f77825ae9ba5c5201641"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a5fa82fa46174f77825ae9ba5c5201641">operator!=</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="separator:a5fa82fa46174f77825ae9ba5c5201641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5716815157dd298ffb6175e05f1c0e8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a5716815157dd298ffb6175e05f1c0e8e">operator&lt;</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="separator:a5716815157dd298ffb6175e05f1c0e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa873047454ec607c4a530c98ada0c6ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#aa873047454ec607c4a530c98ada0c6ac">operator&gt;</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="separator:aa873047454ec607c4a530c98ada0c6ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad15b7c6482069b35e28a32aad23376"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a2ad15b7c6482069b35e28a32aad23376">operator&lt;=</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="separator:a2ad15b7c6482069b35e28a32aad23376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a059c0d613cd326d376aae5360682a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a8a059c0d613cd326d376aae5360682a7">operator&gt;=</a> (const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;other) const </td></tr>
<tr class="separator:a8a059c0d613cd326d376aae5360682a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2fc70c2aa337230d070e88c137c62b57"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Epoch.html#a2fc70c2aa337230d070e88c137c62b57">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;v)</td></tr>
<tr class="separator:a2fc70c2aa337230d070e88c137c62b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a62a30a9e703c23a5ef1b0fdaab0c34e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">foedus::Epoch::EpochInteger</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><b>Unsigned</b> integer representation of epoch. </p>
<p>"Unsigned" is important. see the links. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00064">64</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a987db657e61845e18835ce4b1617470f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470f">foedus::Epoch::Constants</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines constant values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf"></a>kEpochInvalid&#160;</td><td class="fielddoc">
<p>Zero is always reserved for invalid epoch. </p>
<p>A valid epoch always skips this value. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a987db657e61845e18835ce4b1617470fa5fb5da158901984d4b85c2f26f58a33f"></a>kEpochInitialDurable&#160;</td><td class="fielddoc">
<p>As there is no transaction in ep-1, initial durable_epoch is 1. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a987db657e61845e18835ce4b1617470fac4a45d76ef5f2bfa42153bbbe282fef3"></a>kEpochInitialGrace&#160;</td><td class="fielddoc">
<p>Usually, current epoch -1 is the grace period before being durable. </p>
<p>Initial epochs don't need grace period, but let's reserve one for consistency. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a987db657e61845e18835ce4b1617470fabfe4d611fb293208a4a9141666b16575"></a>kEpochInitialCurrent&#160;</td><td class="fielddoc">
<p>The first epoch (before wrap-around) that might have transactions is ep-3. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a987db657e61845e18835ce4b1617470fa1619c3f620e25943f6db03d6f1d16ace"></a>kEpochBits&#160;</td><td class="fielddoc">
<p>Bits to represent an epoch. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0"></a>kEpochIntOverflow&#160;</td><td class="fielddoc">
<p><a class="el" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. ">Epoch</a> values wrap around at this value. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0"></a>kEpochIntHalf&#160;</td><td class="fielddoc">
<p>Used for <a class="el" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc" title="Returns if this epoch is before the given epoch in the sense of distance defined in RFC 1982...">before()</a>. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00066">66</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                 {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">kEpochInvalid</a> = 0,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa5fb5da158901984d4b85c2f26f58a33f">kEpochInitialDurable</a> = 1,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fac4a45d76ef5f2bfa42153bbbe282fef3">kEpochInitialGrace</a> = 2,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fabfe4d611fb293208a4a9141666b16575">kEpochInitialCurrent</a> = 3,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa1619c3f620e25943f6db03d6f1d16ace">kEpochBits</a> = 28,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">kEpochIntOverflow</a> = (1 &lt;&lt; <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa1619c3f620e25943f6db03d6f1d16ace">kEpochBits</a>),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0">kEpochIntHalf</a> = (1 &lt;&lt; (<a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa1619c3f620e25943f6db03d6f1d16ace">kEpochBits</a> - 1)),</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  };</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fabfe4d611fb293208a4a9141666b16575"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fabfe4d611fb293208a4a9141666b16575">foedus::Epoch::kEpochInitialCurrent</a></div><div class="ttdoc">The first epoch (before wrap-around) that might have transactions is ep-3. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00077">epoch.hpp:77</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa1619c3f620e25943f6db03d6f1d16ace"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa1619c3f620e25943f6db03d6f1d16ace">foedus::Epoch::kEpochBits</a></div><div class="ttdoc">Bits to represent an epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00079">epoch.hpp:79</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fac4a45d76ef5f2bfa42153bbbe282fef3"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fac4a45d76ef5f2bfa42153bbbe282fef3">foedus::Epoch::kEpochInitialGrace</a></div><div class="ttdoc">Usually, current epoch -1 is the grace period before being durable. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00075">epoch.hpp:75</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">foedus::Epoch::kEpochIntOverflow</a></div><div class="ttdoc">Epoch values wrap around at this value. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00081">epoch.hpp:81</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">foedus::Epoch::kEpochInvalid</a></div><div class="ttdoc">Zero is always reserved for invalid epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00068">epoch.hpp:68</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0">foedus::Epoch::kEpochIntHalf</a></div><div class="ttdoc">Used for before(). </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00083">epoch.hpp:83</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa5fb5da158901984d4b85c2f26f58a33f"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa5fb5da158901984d4b85c2f26f58a33f">foedus::Epoch::kEpochInitialDurable</a></div><div class="ttdoc">As there is no transaction in ep-1, initial durable_epoch is 1. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00070">epoch.hpp:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3cf3334d00de70cdb48059e8dec73d3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::Epoch::Epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an invalid epoch. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00087">87</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;: epoch_(<a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">kEpochInvalid</a>) {}</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">foedus::Epoch::kEpochInvalid</a></div><div class="ttdoc">Zero is always reserved for invalid epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00068">epoch.hpp:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae41f5185fd95468352ea09edd19fe96f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::Epoch::Epoch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">EpochInteger</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an epoch of specified integer representation. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00089">89</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="epoch_8hpp_source.html#l00081">kEpochIntOverflow</a>, and <a class="el" href="epoch_8hpp_source.html#l00102">value()</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                                    : epoch_(<a class="code" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf">value</a>) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf">value</a> &lt; <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">kEpochIntOverflow</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">foedus::Epoch::kEpochIntOverflow</a></div><div class="ttdoc">Epoch values wrap around at this value. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00081">epoch.hpp:81</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_af13cf48db2b5bd1d273f5f7350a4d8cf"><div class="ttname"><a href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf">foedus::Epoch::value</a></div><div class="ttdeci">EpochInteger value() const </div><div class="ttdoc">Returns the raw integer representation. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00102">epoch.hpp:102</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_ae41f5185fd95468352ea09edd19fe96f_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_ae41f5185fd95468352ea09edd19fe96f_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_ae41f5185fd95468352ea09edd19fe96f_cgraph" id="classfoedus_1_1Epoch_ae41f5185fd95468352ea09edd19fe96f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="204,5,347,32"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaef554452ea9ac7b072af98cde1558dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::before </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if this epoch is <em>before</em> the given epoch in the sense of <em>distance</em> defined in RFC 1982. </p>
<p>Both this and other must be valid epochs. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00176">176</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="epoch_8hpp_source.html#l00096">is_valid()</a>, and <a class="el" href="epoch_8hpp_source.html#l00083">kEpochIntHalf</a>.</p>

<p>Referenced by <a class="el" href="xct__id_8hpp_source.html#l01074">foedus::xct::XctId::before()</a>, <a class="el" href="xct_8cpp_source.html#l00134">foedus::xct::Xct::issue_next_id()</a>, <a class="el" href="epoch_8hpp_source.html#l00185">operator&lt;()</a>, and <a class="el" href="epoch_8hpp_source.html#l00186">operator&gt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                        {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid</a>());</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(other.is_valid());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    int64_t diff = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(other.epoch_) - static_cast&lt;int64_t&gt;(epoch_);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> diff &lt;= -<a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0">kEpochIntHalf</a> || (diff &gt; 0 &amp;&amp; diff &lt; <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0">kEpochIntHalf</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470faf0f9eb8df39dfa18bf6143aa1f3f74c0">foedus::Epoch::kEpochIntHalf</a></div><div class="ttdoc">Used for before(). </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00083">epoch.hpp:83</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a8228a1a49b7db9b93498a778cb40f8e9"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">foedus::Epoch::is_valid</a></div><div class="ttdeci">bool is_valid() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00096">epoch.hpp:96</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_cgraph" id="classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="201,5,356,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_icgraph" id="classfoedus_1_1Epoch_aaef554452ea9ac7b072af98cde1558dc_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1xct_1_1XctId.html#ac151128ff0040de166018da6133f8d85" title="Returns if this XctId is before other in serialization order, meaning this is either an invalid (unus..." alt="" coords="224,161,347,203"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a208310505c3d16cf2dc10f94f968d4a4" title="Called while a successful commit of xct to issue a new xct id. " alt="" coords="674,129,825,171"/>
<area shape="rect" id="node12" href="classfoedus_1_1Epoch.html#a5716815157dd298ffb6175e05f1c0e8e" title="foedus::Epoch::operator\&lt;" alt="" coords="201,239,369,266"/>
<area shape="rect" id="node14" href="classfoedus_1_1Epoch.html#aa873047454ec607c4a530c98ada0c6ac" title="foedus::Epoch::operator\&gt;" alt="" coords="201,315,369,342"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#a054cf2fca2ce0e5047c817ed10ae1a80" title="foedus::xct::Xct::remember\l_previous_xct_id" alt="" coords="417,155,596,196"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="903,129,1097,171"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1XctId.html#a2878cd14b103f72c8bce5a330e03e2b2" title="Kind of std::max(this, other). " alt="" coords="445,37,568,79"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="1145,64,1340,105"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="1388,64,1583,105"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1631,64,1793,105"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2376431f079ce60800c9c25d89d74896" title="Phase 1 of precommit_xct() " alt="" coords="903,5,1097,47"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="644,64,855,105"/>
<area shape="rect" id="node13" href="classfoedus_1_1Epoch.html#a8a059c0d613cd326d376aae5360682a7" title="foedus::Epoch::operator\&gt;=" alt="" coords="419,271,595,298"/>
<area shape="rect" id="node15" href="classfoedus_1_1Epoch.html#a2ad15b7c6482069b35e28a32aad23376" title="foedus::Epoch::operator\&lt;=" alt="" coords="419,322,595,349"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8228a1a49b7db9b93498a778cb40f8e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::is_valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00096">96</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="epoch_8hpp_source.html#l00081">kEpochIntOverflow</a>, and <a class="el" href="epoch_8hpp_source.html#l00068">kEpochInvalid</a>.</p>

<p>Referenced by <a class="el" href="thread__log__buffer_8cpp_source.html#l00059">foedus::log::ThreadLogBufferMeta::assert_consistent()</a>, <a class="el" href="epoch_8hpp_source.html#l00176">before()</a>, <a class="el" href="xct__id_8hpp_source.html#l00993">foedus::xct::XctId::compare_epoch_and_orginal()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00352">foedus::storage::StorageManagerPimpl::create_storage()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00971">foedus::storage::array::ArrayComposer::drop_root_volatile()</a>, <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00264">foedus::storage::StorageManagerPimpl::drop_storage()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00488">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages()</a>, <a class="el" href="logger__ref_8cpp_source.html#l00091">foedus::log::LoggerRef::get_log_range()</a>, <a class="el" href="thread__ref_8cpp_source.html#l00132">foedus::thread::ThreadGroupRef::get_min_in_commit_epoch()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00186">foedus::xct::XctManagerPimpl::handle_epoch_chime_wait_grace_period()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00191">foedus::snapshot::SnapshotManagerPimpl::handle_snapshot()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00316">foedus::snapshot::SnapshotManagerPimpl::handle_snapshot_triggered()</a>, <a class="el" href="array__page__impl_8cpp_source.html#l00032">foedus::storage::array::ArrayPage::initialize_snapshot_page()</a>, <a class="el" href="array__page__impl_8cpp_source.html#l00055">foedus::storage::array::ArrayPage::initialize_volatile_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00166">foedus::storage::sequential::SequentialStoragePimpl::load()</a>, <a class="el" href="sequential__cursor_8cpp_source.html#l00039">foedus::storage::sequential::max_from_epoch_snapshot_epoch()</a>, <a class="el" href="sequential__cursor_8hpp_source.html#l00393">foedus::storage::sequential::SequentialRecordIterator::next()</a>, <a class="el" href="epoch_8hpp_source.html#l00104">operator++()</a>, <a class="el" href="epoch_8hpp_source.html#l00113">operator--()</a>, <a class="el" href="epoch_8cpp_source.html#l00023">foedus::operator&lt;&lt;()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00868">foedus::xct::XctManagerPimpl::precommit_xct_apply()</a>, <a class="el" href="restart__manager__pimpl_8cpp_source.html#l00110">foedus::restart::RestartManagerPimpl::redo_meta_logs()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00179">foedus::log::LogManagerPimpl::refresh_global_durable_epoch()</a>, <a class="el" href="sequential__cursor_8cpp_source.html#l00050">foedus::storage::sequential::SequentialCursor::SequentialCursor()</a>, <a class="el" href="sequential__cursor_8cpp_source.html#l00139">foedus::storage::sequential::SequentialRecordIterator::SequentialRecordIterator()</a>, <a class="el" href="epoch_8hpp_source.html#l00165">store_max()</a>, <a class="el" href="epoch_8hpp_source.html#l00153">store_min()</a>, <a class="el" href="epoch_8hpp_source.html#l00137">subtract()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00277">foedus::snapshot::SnapshotManagerPimpl::trigger_snapshot_immediate()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00236">foedus::storage::sequential::SequentialStoragePimpl::truncate()</a>, <a class="el" href="log__reducer__ref_8cpp_source.html#l00082">foedus::snapshot::LogReducerRef::verify_log_chunk()</a>, <a class="el" href="masstree__storage__verify_8cpp_source.html#l00201">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_border()</a>, and <a class="el" href="hash__storage__verify_8cpp_source.html#l00087">foedus::storage::hash::HashStoragePimpl::verify_single_thread_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                           {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(epoch_ &lt; <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">kEpochIntOverflow</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> epoch_ != <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">kEpochInvalid</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">foedus::Epoch::kEpochIntOverflow</a></div><div class="ttdoc">Epoch values wrap around at this value. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00081">epoch.hpp:81</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">foedus::Epoch::kEpochInvalid</a></div><div class="ttdoc">Zero is always reserved for invalid epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00068">epoch.hpp:68</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a8228a1a49b7db9b93498a778cb40f8e9_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a8228a1a49b7db9b93498a778cb40f8e9_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a8228a1a49b7db9b93498a778cb40f8e9_icgraph" id="classfoedus_1_1Epoch_a8228a1a49b7db9b93498a778cb40f8e9_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html#a05db4e7c61f07d2320aa7b2c3c76d520" title="Only for Debug&#45;assertion. " alt="" coords="233,64,419,105"/>
<area shape="rect" id="node4" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc" title="Returns if this epoch is before the given epoch in the sense of distance defined in RFC 1982..." alt="" coords="252,187,400,214"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="760,239,955,280"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1XctId.html#a76fa9521598d6415dcb58cdff12c7cb1" title="Returns &#45;1, 0, 1 when this is less than, same, larger than other in terms of epoch/ordinal. " alt="" coords="251,515,401,571"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#af961ec67a7d797595ec92bc6dcfdfc24" title="foedus::storage::Storage\lManagerPimpl::create_storage" alt="" coords="227,671,425,712"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a9ee9788f623a51584b4fd7f8ded6103a" title="foedus::storage::array\l::ArrayComposer::drop\l_root_volatile" alt="" coords="249,787,403,843"/>
<area shape="rect" id="node19" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="744,852,971,893"/>
<area shape="rect" id="node20" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1019,857,1229,913"/>
<area shape="rect" id="node22" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1277,951,1488,992"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a252f35e96555817a5eba6ab2e2275d53" title="foedus::storage::Storage\lManagerPimpl::drop_storage" alt="" coords="232,1020,420,1061"/>
<area shape="rect" id="node26" href="classfoedus_1_1log_1_1LoggerRef.html#a99e27a7bd4247f0729ae154c5a2262b5" title="Constructs the range of log entries that represent the given epoch ranges. " alt="" coords="251,1085,401,1127"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1ThreadGroupRef.html#a5b15c98366cf1839fe6621f445853fa1" title="Returns the oldest in&#45;commit epoch of the threads in this group. " alt="" coords="492,1203,696,1244"/>
<area shape="rect" id="node29" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a881d783a084b1225debd5408a9248a51" title="Makes sure all worker threads will commit with an epoch larger than grace_epoch. " alt="" coords="760,1166,955,1222"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a4f3a748fa4e795bd86e0b2a2ed7e6630" title="Called only when this page is initialized. " alt="" coords="252,1354,400,1410"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="252,1434,400,1490"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aaf7d413df08f874c5d7caf175260c02f" title="foedus::storage::sequential\l::SequentialStoragePimpl::load" alt="" coords="225,1515,427,1556"/>
<area shape="rect" id="node34" href="namespacefoedus_1_1storage_1_1sequential.html#a93179071bbdb69c7c29c90356bce51e1" title="foedus::storage::sequential\l::max_from_epoch_snapshot_epoch" alt="" coords="211,1580,441,1621"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1sequential_1_1SequentialRecordIterator.html#a92d99cedf486287d2a5aa2c614368ab8" title="foedus::storage::sequential\l::SequentialRecordIterator::next" alt="" coords="223,1645,429,1687"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1sequential_1_1SequentialRecordIterator.html#a0944dc5d45707857ab9ffa830e884656" title="foedus::storage::sequential\l::SequentialRecordIterator\l::SequentialRecordIterator" alt="" coords="505,1667,683,1723"/>
<area shape="rect" id="node37" href="classfoedus_1_1Epoch.html#abe036a3801a9710c8e046fd117999b28" title="foedus::Epoch::operator++" alt="" coords="238,1762,414,1789"/>
<area shape="rect" id="node38" href="classfoedus_1_1Epoch.html#ae00e23c0dc709cefa7eaa3fc4fabb06f" title="foedus::Epoch::operator&#45;&#45;" alt="" coords="242,1813,410,1839"/>
<area shape="rect" id="node39" href="namespacefoedus.html#a65afe94b132f62adb386eedd27a3a94a" title="foedus::operator\&lt;\&lt;" alt="" coords="261,1863,391,1890"/>
<area shape="rect" id="node40" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#ac587afcb72a4b29b67a56fb49c49b503" title="Redo metadata operation (create/drop storage) since the latest snapshot. " alt="" coords="1021,747,1227,788"/>
<area shape="rect" id="node41" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ad75bb7dd8ca8589f86502836f975b2c3" title="foedus::log::LogManagerPimpl\l::refresh_global_durable_epoch" alt="" coords="493,1283,695,1324"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1sequential_1_1SequentialCursor.html#a63f0ef6e7a9171191d4117e08da4e7d3" title="Constructs a cursor to read tuples from this storage. " alt="" coords="208,1915,444,1956"/>
<area shape="rect" id="node43" href="classfoedus_1_1Epoch.html#adf886b8b219538b7dac2da820fbec68c" title="Kind of std::max(this, other). " alt="" coords="239,1981,413,2007"/>
<area shape="rect" id="node44" href="classfoedus_1_1Epoch.html#ae113d98c40171e4b80526cd7f7502c03" title="Kind of std::min(this, other). " alt="" coords="241,1253,411,1279"/>
<area shape="rect" id="node45" href="classfoedus_1_1Epoch.html#a95ee2922375886d43b8e669a192fd4c4" title="Returns the number epochs from the given epoch to this epoch accounting for wrap&#45;around. " alt="" coords="246,2031,406,2058"/>
<area shape="rect" id="node46" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a4496237075c2f411bb548e1bec7ca06b" title="foedus::snapshot::Snapshot\lManagerPimpl::trigger_snapshot\l_immediate" alt="" coords="221,2082,431,2138"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="237,2162,415,2218"/>
<area shape="rect" id="node48" href="classfoedus_1_1snapshot_1_1LogReducerRef.html#a493bf984062f2615c6788b4c4f6b36df" title="used only in debug mode " alt="" coords="227,2243,425,2284"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="233,2309,419,2365"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad137d51b31782b8e525481bb69816848" title="foedus::storage::hash\l::HashStoragePimpl::verify\l_single_thread_data" alt="" coords="239,2389,413,2445"/>
<area shape="rect" id="node3" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9aa20c59a7d75cf94742beb43b777de6" title="Only for Debug&#45;assertion. " alt="" coords="501,5,687,47"/>
<area shape="rect" id="node5" href="structfoedus_1_1xct_1_1XctId.html#ac151128ff0040de166018da6133f8d85" title="Returns if this XctId is before other in serialization order, meaning this is either an invalid (unus..." alt="" coords="533,239,655,280"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1Xct.html#a208310505c3d16cf2dc10f94f968d4a4" title="Called while a successful commit of xct to issue a new xct id. " alt="" coords="519,71,669,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1Epoch.html#a5716815157dd298ffb6175e05f1c0e8e" title="foedus::Epoch::operator\&lt;" alt="" coords="510,137,678,163"/>
<area shape="rect" id="node9" href="classfoedus_1_1Epoch.html#aa873047454ec607c4a530c98ada0c6ac" title="foedus::Epoch::operator\&gt;" alt="" coords="510,187,678,214"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashTmpBin.html#ab5ac0d32ded6cfa7bb3df7f28eafb33e" title="Inserts a new record of the given key and payload. " alt="" coords="521,515,667,571"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashTmpBin.html#a105eb120235425e73380a9b943a9bf66" title="Logically deletes a record of the given key. " alt="" coords="521,595,667,651"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashTmpBin.html#ae3f726ea1ce191d9ea5c41202568623b" title="Overwrites a part of the record of the given key. " alt="" coords="513,355,675,411"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashTmpBin.html#ad54d9fdfa4874b6eaa0231bce58fccf8" title="Updates a record of the given key with the given payload, which might change length. " alt="" coords="519,435,669,491"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1StorageManager.html#a9274ccbcf6b2ff5a0de3ba86d9314031" title="Newly creates a storage with the specified metadata and registers it to this manager. " alt="" coords="511,676,677,717"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="505,799,683,840"/>
<area shape="rect" id="node21" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1305,864,1460,905"/>
<area shape="rect" id="node23" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1536,951,1731,992"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1StorageManager.html#a2f5e7bd059656ae653d0a326141e76f1" title="Removes the storage object. " alt="" coords="512,1020,676,1061"/>
<area shape="rect" id="node27" href="classfoedus_1_1snapshot_1_1LogMapper.html#a661014d4832400f072544ff4b7e74a45" title="Implements the specific logics in derived class. " alt="" coords="497,1085,691,1127"/>
<area shape="rect" id="node30" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="1027,1173,1221,1215"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a701de077839df51ebe44749a116ec10f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::Epoch::one_less </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00122">122</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00063">foedus::xct::XctManager::get_current_grace_epoch()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00066">foedus::xct::XctManager::get_current_grace_epoch_weak()</a>, and <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00135">foedus::xct::XctManagerPimpl::handle_epoch_chime()</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                         {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a3cf3334d00de70cdb48059e8dec73d3f">Epoch</a> tmp(epoch_);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    tmp.operator--();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a3cf3334d00de70cdb48059e8dec73d3f"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a3cf3334d00de70cdb48059e8dec73d3f">foedus::Epoch::Epoch</a></div><div class="ttdeci">Epoch() noexcept</div><div class="ttdoc">Construct an invalid epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00087">epoch.hpp:87</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a701de077839df51ebe44749a116ec10f_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a701de077839df51ebe44749a116ec10f_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a701de077839df51ebe44749a116ec10f_icgraph" id="classfoedus_1_1Epoch_a701de077839df51ebe44749a116ec10f_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManager.html#addd36d7a9f38e055767f9a36c0889385" title="Returns the current grace&#45;period epoch (global epoch &#45; 1), the epoch some transaction might be still ..." alt="" coords="237,37,413,79"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManager.html#ac5c5f89e66b63d3eb621906c8f88a654" title="foedus::xct::XctManager\l::get_current_grace_epoch_weak" alt="" coords="219,103,432,144"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="228,168,423,209"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#ab93f097823724ccb9ed885d6a5d0cd8d" title="Returns the current grace&#45;period epoch (global epoch &#45; 1), the epoch some transaction might be still ..." alt="" coords="523,5,673,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialCursor.html#a63f0ef6e7a9171191d4117e08da4e7d3" title="Constructs a cursor to read tuples from this storage. " alt="" coords="480,71,716,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#aefb36bf03b0bd29c160f5aa36b219d45" title="foedus::xct::XctManagerPimpl\l::initialize_once" alt="" coords="501,168,695,209"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a786afd92afdc87b54dfa11ef093f06f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::Epoch::one_more </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00127">127</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00255">foedus::xct::XctManagerPimpl::advance_current_global_epoch()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00777">foedus::thread::ThreadPimpl::collect_retired_volatile_page()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00154">foedus::storage::sequential::SequentialComposer::compose()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>, <a class="el" href="cache__manager__pimpl_8cpp_source.html#l00119">foedus::cache::CacheManagerPimpl::handle_cleaner()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00135">foedus::xct::XctManagerPimpl::handle_epoch_chime()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00186">foedus::xct::XctManagerPimpl::handle_epoch_chime_wait_grace_period()</a>, and <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00290">foedus::xct::XctManagerPimpl::wait_for_commit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                         {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="classfoedus_1_1Epoch.html#a3cf3334d00de70cdb48059e8dec73d3f">Epoch</a> tmp(epoch_);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    tmp.operator++();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a3cf3334d00de70cdb48059e8dec73d3f"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a3cf3334d00de70cdb48059e8dec73d3f">foedus::Epoch::Epoch</a></div><div class="ttdeci">Epoch() noexcept</div><div class="ttdoc">Construct an invalid epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00087">epoch.hpp:87</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a786afd92afdc87b54dfa11ef093f06f3_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a786afd92afdc87b54dfa11ef093f06f3_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a786afd92afdc87b54dfa11ef093f06f3_icgraph" id="classfoedus_1_1Epoch_a786afd92afdc87b54dfa11ef093f06f3_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6" title="foedus::xct::XctManagerPimpl\l::advance_current_global_epoch" alt="" coords="226,256,433,297"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="763,93,962,135"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="1025,363,1217,404"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a3e005713f9a1c12bb2a4771a192b47a5" title="foedus::storage::sequential\l::SequentialComposer::compose" alt="" coords="224,407,435,448"/>
<area shape="rect" id="node32" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="237,473,421,529"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="499,583,693,624"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a881d783a084b1225debd5408a9248a51" title="Makes sure all worker threads will commit with an epoch larger than grace_epoch. " alt="" coords="232,603,427,659"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a69fb51b2a05a90f46b4658cb984928a0" title="foedus::xct::XctManagerPimpl\l::wait_for_commit" alt="" coords="232,684,427,725"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManager.html#aa75089821b48c98a00cd7e4ddc0615da" title="Requests to advance the current global epoch as soon as possible and blocks until it actually does..." alt="" coords="493,224,699,265"/>
<area shape="rect" id="node7" href="classfoedus_1_1log_1_1MetaLogBuffer.html#ab94212c9c14361971679c5581c99e7c3" title="Synchronously writes out the given log to metadata log file. " alt="" coords="775,224,951,265"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="771,289,955,331"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1Xct.html#a208310505c3d16cf2dc10f94f968d4a4" title="Called while a successful commit of xct to issue a new xct id. " alt="" coords="787,159,938,200"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="1022,5,1221,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1cache_1_1CacheManager.html#a9181ec7d7e0ee1faa942ba9eec6c1345" title="foedus::cache::CacheManager\l::initialize_once" alt="" coords="1275,5,1473,47"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="1032,217,1211,273"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a252f35e96555817a5eba6ab2e2275d53" title="foedus::storage::Storage\lManagerPimpl::drop_storage" alt="" coords="1027,297,1215,339"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a9eec079742233abb22d147da7b4fa50a" title="foedus::storage::Storage\lManagerPimpl::create_storage\l_and_log" alt="" coords="1022,137,1221,193"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a4d7e58057f2fb648b7ff9ee6ab7fa0" title="Discards all records in this storage before the given epoch. " alt="" coords="1279,224,1469,265"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1StorageManager.html#a2f5e7bd059656ae653d0a326141e76f1" title="Removes the storage object. " alt="" coords="1292,297,1456,339"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="1278,363,1470,404"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="1532,232,1705,273"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1532,297,1705,339"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="1532,363,1705,404"/>
<area shape="rect" id="node22" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="1532,428,1705,469"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="1532,494,1705,550"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="1775,264,1948,305"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="1775,363,1948,404"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="1764,428,1959,469"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="1775,501,1948,543"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="1024,71,1219,112"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="1277,71,1471,112"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="1521,71,1716,112"/>
<area shape="rect" id="node29" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1780,71,1943,112"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1Composer.html#a28c752ec784b85418c0bfafab7ee60c0" title="Construct snapshot pages from sorted run files of one storage. " alt="" coords="507,407,685,448"/>
<area shape="rect" id="node33" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="483,480,709,521"/>
<area shape="rect" id="node34" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="757,473,968,529"/>
<area shape="rect" id="node35" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1044,453,1199,495"/>
<area shape="rect" id="node37" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1016,519,1227,560"/>
<area shape="rect" id="node36" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1277,453,1471,495"/>
<area shape="rect" id="node38" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1277,519,1471,560"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#aefb36bf03b0bd29c160f5aa36b219d45" title="foedus::xct::XctManagerPimpl\l::initialize_once" alt="" coords="765,583,960,624"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1XctManager.html#a577f44c6f10022d645605d171ef4a781" title="Synchronously blocks until the durable global epoch reaches the given commit epoch or the given durat..." alt="" coords="515,684,677,725"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5fa82fa46174f77825ae9ba5c5201641"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::operator!= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00184">184</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{ <span class="keywordflow">return</span> epoch_ != other.epoch_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abe036a3801a9710c8e046fd117999b28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&amp; foedus::Epoch::operator++ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00104">104</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="epoch_8hpp_source.html#l00096">is_valid()</a>, and <a class="el" href="epoch_8hpp_source.html#l00081">kEpochIntOverflow</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                       {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid</a>());  <span class="comment">// we prohibit increment from invalid epoch</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (epoch_ == <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">kEpochIntOverflow</a> - 1) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      epoch_ = 1;  <span class="comment">// skip 0, which is always an invalid epoch.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      ++epoch_;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">foedus::Epoch::kEpochIntOverflow</a></div><div class="ttdoc">Epoch values wrap around at this value. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00081">epoch.hpp:81</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a8228a1a49b7db9b93498a778cb40f8e9"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">foedus::Epoch::is_valid</a></div><div class="ttdeci">bool is_valid() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00096">epoch.hpp:96</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_abe036a3801a9710c8e046fd117999b28_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_abe036a3801a9710c8e046fd117999b28_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_abe036a3801a9710c8e046fd117999b28_cgraph" id="classfoedus_1_1Epoch_abe036a3801a9710c8e046fd117999b28_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="229,5,384,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae00e23c0dc709cefa7eaa3fc4fabb06f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&amp; foedus::Epoch::operator-- </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00113">113</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="epoch_8hpp_source.html#l00096">is_valid()</a>, and <a class="el" href="epoch_8hpp_source.html#l00081">kEpochIntOverflow</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                       {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid</a>());  <span class="comment">// we prohibit decrement from invalid epoch</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (epoch_ == 1) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      epoch_ = <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">kEpochIntOverflow</a> - 1;  <span class="comment">// skip 0, which is always an invalid epoch.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      --epoch_;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">foedus::Epoch::kEpochIntOverflow</a></div><div class="ttdoc">Epoch values wrap around at this value. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00081">epoch.hpp:81</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a8228a1a49b7db9b93498a778cb40f8e9"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">foedus::Epoch::is_valid</a></div><div class="ttdeci">bool is_valid() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00096">epoch.hpp:96</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_ae00e23c0dc709cefa7eaa3fc4fabb06f_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_ae00e23c0dc709cefa7eaa3fc4fabb06f_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_ae00e23c0dc709cefa7eaa3fc4fabb06f_cgraph" id="classfoedus_1_1Epoch_ae00e23c0dc709cefa7eaa3fc4fabb06f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="221,5,376,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5716815157dd298ffb6175e05f1c0e8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::operator&lt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00185">185</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="epoch_8hpp_source.html#l00176">before()</a>.</p>

<p>Referenced by <a class="el" href="epoch_8hpp_source.html#l00188">operator&gt;=()</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc">before</a>(other); }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_aaef554452ea9ac7b072af98cde1558dc"><div class="ttname"><a href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc">foedus::Epoch::before</a></div><div class="ttdeci">bool before(const Epoch &amp;other) const </div><div class="ttdoc">Returns if this epoch is before the given epoch in the sense of distance defined in RFC 1982...</div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00176">epoch.hpp:176</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_cgraph" id="classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc" title="Returns if this epoch is before the given epoch in the sense of distance defined in RFC 1982..." alt="" coords="221,5,369,32"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="417,5,572,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_icgraph" id="classfoedus_1_1Epoch_a5716815157dd298ffb6175e05f1c0e8e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a8a059c0d613cd326d376aae5360682a7" title="foedus::Epoch::operator\&gt;=" alt="" coords="221,5,397,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ad15b7c6482069b35e28a32aad23376"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::operator&lt;= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00187">187</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="epoch_8hpp_source.html#l00186">operator&gt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{ <span class="keywordflow">return</span> !<a class="code" href="classfoedus_1_1Epoch.html#aa873047454ec607c4a530c98ada0c6ac">operator&gt;</a>(other); }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_aa873047454ec607c4a530c98ada0c6ac"><div class="ttname"><a href="classfoedus_1_1Epoch.html#aa873047454ec607c4a530c98ada0c6ac">foedus::Epoch::operator&gt;</a></div><div class="ttdeci">bool operator&gt;(const Epoch &amp;other) const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00186">epoch.hpp:186</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a2ad15b7c6482069b35e28a32aad23376_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a2ad15b7c6482069b35e28a32aad23376_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a2ad15b7c6482069b35e28a32aad23376_cgraph" id="classfoedus_1_1Epoch_a2ad15b7c6482069b35e28a32aad23376_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#aa873047454ec607c4a530c98ada0c6ac" title="foedus::Epoch::operator\&gt;" alt="" coords="229,5,397,32"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc" title="Returns if this epoch is before the given epoch in the sense of distance defined in RFC 1982..." alt="" coords="445,5,593,32"/>
<area shape="rect" id="node4" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="641,5,796,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2366c2ef92467d184ebc34871c441d6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00183">183</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{ <span class="keywordflow">return</span> epoch_ == other.epoch_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa873047454ec607c4a530c98ada0c6ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::operator&gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00186">186</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="epoch_8hpp_source.html#l00176">before()</a>.</p>

<p>Referenced by <a class="el" href="epoch_8hpp_source.html#l00187">operator&lt;=()</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{ <span class="keywordflow">return</span> other.before(*<span class="keyword">this</span>); }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_cgraph" id="classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc" title="Returns if this epoch is before the given epoch in the sense of distance defined in RFC 1982..." alt="" coords="221,5,369,32"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="417,5,572,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_icgraph" id="classfoedus_1_1Epoch_aa873047454ec607c4a530c98ada0c6ac_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a2ad15b7c6482069b35e28a32aad23376" title="foedus::Epoch::operator\&lt;=" alt="" coords="221,5,397,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a059c0d613cd326d376aae5360682a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::Epoch::operator&gt;= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00188">188</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="epoch_8hpp_source.html#l00185">operator&lt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{ <span class="keywordflow">return</span> !<a class="code" href="classfoedus_1_1Epoch.html#a5716815157dd298ffb6175e05f1c0e8e">operator&lt;</a>(other); }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a5716815157dd298ffb6175e05f1c0e8e"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a5716815157dd298ffb6175e05f1c0e8e">foedus::Epoch::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(const Epoch &amp;other) const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00185">epoch.hpp:185</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a8a059c0d613cd326d376aae5360682a7_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a8a059c0d613cd326d376aae5360682a7_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a8a059c0d613cd326d376aae5360682a7_cgraph" id="classfoedus_1_1Epoch_a8a059c0d613cd326d376aae5360682a7_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a5716815157dd298ffb6175e05f1c0e8e" title="foedus::Epoch::operator\&lt;" alt="" coords="229,5,397,32"/>
<area shape="rect" id="node3" href="classfoedus_1_1Epoch.html#aaef554452ea9ac7b072af98cde1558dc" title="Returns if this epoch is before the given epoch in the sense of distance defined in RFC 1982..." alt="" coords="445,5,593,32"/>
<area shape="rect" id="node4" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="641,5,796,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3025b58495cd16f5d8969aed4566086c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::Epoch::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears this epoch variable so that it points to an invalid epoch. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00095">95</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="epoch_8hpp_source.html#l00068">kEpochInvalid</a>.</p>

<p>Referenced by <a class="el" href="thread__log__buffer_8hpp_source.html#l00076">foedus::log::ThreadEpockMark::ThreadEpockMark()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{ epoch_ = <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">kEpochInvalid</a>; }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa16cb33440c051fd4414f3714bb93dcbf">foedus::Epoch::kEpochInvalid</a></div><div class="ttdoc">Zero is always reserved for invalid epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00068">epoch.hpp:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a3025b58495cd16f5d8969aed4566086c_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a3025b58495cd16f5d8969aed4566086c_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a3025b58495cd16f5d8969aed4566086c_icgraph" id="classfoedus_1_1Epoch_a3025b58495cd16f5d8969aed4566086c_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1ThreadEpockMark.html#ac6afe713dcad455d8b10983762747aa0" title="foedus::log::ThreadEpock\lMark::ThreadEpockMark" alt="" coords="196,5,365,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adf886b8b219538b7dac2da820fbec68c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::Epoch::store_max </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Kind of std::max(this, other). </p>
<dl class="section pre"><dt>Precondition</dt><dd>other.is_valid() otherwise what's the point?</dd></dl>
<p>If this.is_valid(), this is exactly std::max. If not, other is unconditionally taken. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00165">165</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="epoch_8hpp_source.html#l00096">is_valid()</a>.</p>

<p>Referenced by <a class="el" href="composer_8hpp_source.html#l00176">foedus::storage::Composer::DropResult::combine()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00154">foedus::storage::sequential::SequentialComposer::compose()</a>, and <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00648">foedus::xct::XctManagerPimpl::precommit_xct_verify_readonly()</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                        {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(other.is_valid());</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid</a>() || other &gt; *<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      epoch_ = other.epoch_;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a8228a1a49b7db9b93498a778cb40f8e9"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">foedus::Epoch::is_valid</a></div><div class="ttdeci">bool is_valid() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00096">epoch.hpp:96</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_cgraph" id="classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="228,5,383,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_icgraph" id="classfoedus_1_1Epoch_adf886b8b219538b7dac2da820fbec68c_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1Composer_1_1DropResult.html#a0cac5a92e42765bafd1fd54ca3200080" title="foedus::storage::Composer\l::DropResult::combine" alt="" coords="244,93,423,134"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a3e005713f9a1c12bb2a4771a192b47a5" title="foedus::storage::sequential\l::SequentialComposer::compose" alt="" coords="228,166,439,207"/>
<area shape="rect" id="node15" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="229,231,437,273"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#abea76692cff38e66aa4328401422488a" title="drop_volatiles and related methods " alt="" coords="507,5,661,61"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#ad25781d742feeced13ed8b047b485a3e" title="drop_volatiles and related methods " alt="" coords="496,85,672,141"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="737,53,916,94"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="972,45,1156,101"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1204,53,1431,94"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1479,45,1689,101"/>
<area shape="rect" id="node8" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1765,19,1920,61"/>
<area shape="rect" id="node10" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1737,85,1948,126"/>
<area shape="rect" id="node9" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1996,19,2191,61"/>
<area shape="rect" id="node11" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1996,85,2191,126"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1Composer.html#a28c752ec784b85418c0bfafab7ee60c0" title="Construct snapshot pages from sorted run files of one storage. " alt="" coords="495,166,673,207"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="487,231,681,273"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="729,231,924,273"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="983,231,1145,273"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae113d98c40171e4b80526cd7f7502c03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::Epoch::store_min </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Kind of std::min(this, other). </p>
<dl class="section pre"><dt>Precondition</dt><dd>other.is_valid() otherwise what's the point?</dd></dl>
<p>If this.is_valid(), this is exactly std::min. If not, other is unconditionally taken. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00153">153</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="epoch_8hpp_source.html#l00096">is_valid()</a>.</p>

<p>Referenced by <a class="el" href="sequential__composer__impl_8cpp_source.html#l00154">foedus::storage::sequential::SequentialComposer::compose()</a>, <a class="el" href="thread__ref_8cpp_source.html#l00132">foedus::thread::ThreadGroupRef::get_min_in_commit_epoch()</a>, and <a class="el" href="log__manager__pimpl_8cpp_source.html#l00179">foedus::log::LogManagerPimpl::refresh_global_durable_epoch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(other.is_valid());</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid</a>() || other &lt; *<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      epoch_ = other.epoch_;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a8228a1a49b7db9b93498a778cb40f8e9"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">foedus::Epoch::is_valid</a></div><div class="ttdeci">bool is_valid() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00096">epoch.hpp:96</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_cgraph" id="classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="224,5,379,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_icgraph" id="classfoedus_1_1Epoch_ae113d98c40171e4b80526cd7f7502c03_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a3e005713f9a1c12bb2a4771a192b47a5" title="foedus::storage::sequential\l::SequentialComposer::compose" alt="" coords="224,9,435,51"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadGroupRef.html#a5b15c98366cf1839fe6621f445853fa1" title="Returns the oldest in&#45;commit epoch of the threads in this group. " alt="" coords="227,79,431,120"/>
<area shape="rect" id="node8" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ad75bb7dd8ca8589f86502836f975b2c3" title="foedus::log::LogManagerPimpl\l::refresh_global_durable_epoch" alt="" coords="229,148,430,189"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#a28c752ec784b85418c0bfafab7ee60c0" title="Construct snapshot pages from sorted run files of one storage. " alt="" coords="494,5,673,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a881d783a084b1225debd5408a9248a51" title="Makes sure all worker threads will commit with an epoch larger than grace_epoch. " alt="" coords="486,71,681,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="732,79,927,120"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#aefb36bf03b0bd29c160f5aa36b219d45" title="foedus::xct::XctManagerPimpl\l::initialize_once" alt="" coords="975,79,1169,120"/>
<area shape="rect" id="node9" href="classfoedus_1_1log_1_1LogManager.html#aba382b725496593eb3f06b1644ef53c6" title="Called whenever there is a chance that the global durable epoch advances. " alt="" coords="483,152,684,193"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95ee2922375886d43b8e669a192fd4c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t foedus::Epoch::subtract </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number epochs from the given epoch to this epoch accounting for wrap-around. </p>
<dl class="section pre"><dt>Precondition</dt><dd>this-&gt;<a class="el" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid()</a>. other doesn't have to be valid, considered as 0. </dd></dl>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00137">137</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="epoch_8hpp_source.html#l00096">is_valid()</a>, and <a class="el" href="epoch_8hpp_source.html#l00081">kEpochIntOverflow</a>.</p>

<p>Referenced by <a class="el" href="merge__sort_8cpp_source.html#l00695">foedus::snapshot::MergeSort::assert_sorted()</a>, <a class="el" href="array__partitioner__impl_8cpp_source.html#l00228">foedus::storage::array::prepare_sort_entries()</a>, <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00236">foedus::storage::hash::prepare_sort_entries()</a>, and <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00444">foedus::storage::masstree::prepare_sort_entries()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                              {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">is_valid</a>());</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (epoch_ &gt;= other.epoch_) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">return</span> epoch_ - other.epoch_;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="comment">// wrap around</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">return</span> epoch_ + <a class="code" href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">kEpochIntOverflow</a> - other.epoch_;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a987db657e61845e18835ce4b1617470fa92892be081cbd1925b9aae64ef095ec0">foedus::Epoch::kEpochIntOverflow</a></div><div class="ttdoc">Epoch values wrap around at this value. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00081">epoch.hpp:81</a></div></div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a8228a1a49b7db9b93498a778cb40f8e9"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9">foedus::Epoch::is_valid</a></div><div class="ttdeci">bool is_valid() const </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00096">epoch.hpp:96</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_cgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_cgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_cgraph" id="classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="213,5,368,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_icgraph" id="classfoedus_1_1Epoch_a95ee2922375886d43b8e669a192fd4c4_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1snapshot_1_1MergeSort.html#a6c611c17929fbf66fdab84a824a82b3c" title="For debug/test only. " alt="" coords="213,5,403,47"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1array.html#a0d5e107fe3c1885c8984bacd1f5cf188" title="subroutine of sort_batch " alt="" coords="234,71,382,112"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage_1_1hash.html#a213ec023dfa3d7901e0c40ce20fc538d" title="subroutine of sort_batch " alt="" coords="234,136,382,177"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1storage_1_1masstree.html#ad9efa7b5f1f339fd33444e0e62e46d40" title="subroutine of sort_batch_8bytes " alt="" coords="221,201,395,243"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#abcc2f61287dd0e9f643cc7c7b406ed32" title="foedus::storage::array\l::ArrayPartitioner::sort_batch" alt="" coords="451,71,640,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1Partitioner.html#a8c8909d8a44ae9d6a4afee0ded0add4c" title="Called from log reducer to sort log entries by keys. " alt="" coords="688,104,867,145"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a8255043c6cb91246cbff43cceb88f596" title="foedus::storage::hash\l::HashPartitioner::sort_batch" alt="" coords="451,136,639,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af13cf48db2b5bd1d273f5f7350a4d8cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html#a62a30a9e703c23a5ef1b0fdaab0c34e1">EpochInteger</a> foedus::Epoch::value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the raw integer representation. </p>

<p>Definition at line <a class="el" href="epoch_8hpp_source.html#l00102">102</a> of file <a class="el" href="epoch_8hpp_source.html">epoch.hpp</a>.</p>

<p>Referenced by <a class="el" href="log__manager__pimpl_8cpp_source.html#l00268">foedus::log::LogManagerPimpl::announce_new_durable_global_epoch()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00313">foedus::storage::sequential::SequentialStoragePimpl::apply_truncate()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00147">foedus::storage::sequential::SequentialStoragePimpl::create()</a>, <a class="el" href="epoch_8hpp_source.html#l00089">Epoch()</a>, <a class="el" href="page__pool_8cpp_source.html#l00057">foedus::memory::PagePoolOffsetAndEpochChunk::get_safe_offset_count()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00135">foedus::xct::XctManagerPimpl::handle_epoch_chime()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00316">foedus::snapshot::SnapshotManagerPimpl::handle_snapshot_triggered()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00049">foedus::log::LogManagerPimpl::initialize_once()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00084">foedus::xct::XctManagerPimpl::initialize_once()</a>, <a class="el" href="logger__impl_8cpp_source.html#l00074">foedus::log::Logger::initialize_once()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00061">foedus::snapshot::SnapshotManagerPimpl::initialize_once()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00166">foedus::storage::sequential::SequentialStoragePimpl::load()</a>, <a class="el" href="epoch_8cpp_source.html#l00023">foedus::operator&lt;&lt;()</a>, <a class="el" href="page__pool_8hpp_source.html#l00140">foedus::memory::PagePoolOffsetAndEpochChunk::push_back()</a>, <a class="el" href="restart__manager__pimpl_8cpp_source.html#l00071">foedus::restart::RestartManagerPimpl::recover()</a>, <a class="el" href="log__manager__pimpl_8cpp_source.html#l00179">foedus::log::LogManagerPimpl::refresh_global_durable_epoch()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00158">foedus::savepoint::SavepointManagerPimpl::savepoint_main()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00241">foedus::xct::XctManagerPimpl::set_requested_global_epoch()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00401">foedus::snapshot::SnapshotManagerPimpl::snapshot_metadata()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00102">foedus::savepoint::SavepointManagerPimpl::take_savepoint()</a>, <a class="el" href="savepoint__manager__pimpl_8cpp_source.html#l00120">foedus::savepoint::SavepointManagerPimpl::take_savepoint_after_snapshot()</a>, and <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00236">foedus::storage::sequential::SequentialStoragePimpl::truncate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{ <span class="keywordflow">return</span> epoch_; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1Epoch_af13cf48db2b5bd1d273f5f7350a4d8cf_icgraph.png" border="0" usemap="#classfoedus_1_1Epoch_af13cf48db2b5bd1d273f5f7350a4d8cf_icgraph" alt=""/></div>
<map name="classfoedus_1_1Epoch_af13cf48db2b5bd1d273f5f7350a4d8cf_icgraph" id="classfoedus_1_1Epoch_af13cf48db2b5bd1d273f5f7350a4d8cf_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a6b560cbd51f4a39559154ff6a4007aae" title="foedus::log::LogManagerPimpl\l::announce_new_durable_global_epoch" alt="" coords="196,102,444,144"/>
<area shape="rect" id="node4" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ae5e8a2671c819fc0ada038b3fa47105a" title="foedus::savepoint::\lSavepointManagerPimpl\l::savepoint_main" alt="" coords="769,62,931,118"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#af9fd4d7cf6f1fcd1a4df6ca7bc7b7ae4" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::apply_truncate" alt="" coords="231,171,409,227"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab9ccf59655effed1a259100c4d46b06b" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::create" alt="" coords="231,251,409,307"/>
<area shape="rect" id="node11" href="classfoedus_1_1Epoch.html#ae41f5185fd95468352ea09edd19fe96f" title="Construct an epoch of specified integer representation. " alt="" coords="245,331,395,358"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#a7d9aa924c48bd26b4dd208d4a9333127" title="Returns the number of offsets (always from index&#45;0) whose safe_epoch_ is strictly&#45;before the given ep..." alt="" coords="761,291,939,347"/>
<area shape="rect" id="node21" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ac95c3e56168f87c3550f908720035d60" title="Main routine for epoch_chime_thread_. " alt="" coords="223,620,417,661"/>
<area shape="rect" id="node22" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#aefb36bf03b0bd29c160f5aa36b219d45" title="foedus::xct::XctManagerPimpl\l::initialize_once" alt="" coords="498,620,693,661"/>
<area shape="rect" id="node23" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1008,803,1219,859"/>
<area shape="rect" id="node24" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1301,718,1456,760"/>
<area shape="rect" id="node27" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1532,896,1727,937"/>
<area shape="rect" id="node28" href="classfoedus_1_1log_1_1LogManagerPimpl.html#a8b2cfe458668cc3f8cf4ccbfeab179dc" title="foedus::log::LogManagerPimpl\l::initialize_once" alt="" coords="221,985,419,1026"/>
<area shape="rect" id="node29" href="classfoedus_1_1log_1_1Logger.html#a3b1d647f1458d1172a511b7e57a2a237" title="foedus::log::Logger\l::initialize_once" alt="" coords="254,1050,386,1092"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aaf7d413df08f874c5d7caf175260c02f" title="foedus::storage::sequential\l::SequentialStoragePimpl::load" alt="" coords="219,1116,421,1157"/>
<area shape="rect" id="node32" href="namespacefoedus.html#a65afe94b132f62adb386eedd27a3a94a" title="foedus::operator\&lt;\&lt;" alt="" coords="255,1182,385,1208"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#aae530fb2917cf0f6329ac323f1da7c8c" title="foedus::memory::PagePool\lOffsetAndEpochChunk::push_back" alt="" coords="1001,514,1225,556"/>
<area shape="rect" id="node34" href="classfoedus_1_1log_1_1LogManagerPimpl.html#ad75bb7dd8ca8589f86502836f975b2c3" title="foedus::log::LogManagerPimpl\l::refresh_global_durable_epoch" alt="" coords="749,1257,951,1298"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a03678427b184e7ce71f9bbb164dd0bad" title="foedus::xct::XctManagerPimpl\l::set_requested_global_epoch" alt="" coords="223,444,417,485"/>
<area shape="rect" id="node43" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a4ae6b016213cb70bb6e5df636b24d129" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="758,723,942,779"/>
<area shape="rect" id="node44" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a932bf5c252e75e0a305fe524217cb46a" title="foedus::savepoint::\lSavepointManagerPimpl\l::take_savepoint" alt="" coords="239,1283,401,1339"/>
<area shape="rect" id="node46" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a48fedb8938affadcce93051ff8c2ce6f" title="foedus::savepoint::\lSavepointManagerPimpl\l::take_savepoint_after\l_snapshot" alt="" coords="239,788,401,858"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a8917edb5d2712fba660a33c6cf2fb19f" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::truncate" alt="" coords="231,1363,409,1419"/>
<area shape="rect" id="node3" href="classfoedus_1_1log_1_1LogManager.html#a970d90dc3ac74ec3e57cb4b833725290" title="Sets the new global durable epoch and also wakes up threads that were waiting for it..." alt="" coords="513,94,678,150"/>
<area shape="rect" id="node5" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#ad75cdea74e547a1f66d62b85a938a2cd" title="foedus::savepoint::\lSavepointManagerPimpl\l::initialize_once" alt="" coords="1033,62,1194,118"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ac9b9bbfc26efa2c3413a43349c8c0fa4" title="foedus::storage::sequential\l::SequentialStorage::apply\l_truncate" alt="" coords="506,174,685,230"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1sequential_1_1SequentialTruncateLogType.html#aad6838461c13796ec1011b3b150b19b0" title="foedus::storage::sequential\l::SequentialTruncateLogType\l::apply_storage" alt="" coords="755,174,945,230"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a1b3fd99bf6040a5ee42164d31135f433" title="foedus::storage::sequential\l::SequentialStorage::create" alt="" coords="505,254,685,296"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="1021,372,1205,413"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="1283,420,1475,461"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="1533,420,1725,461"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="1775,289,1948,330"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="1775,354,1948,396"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="1775,420,1948,461"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="1775,485,1948,526"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="1775,551,1948,607"/>
<area shape="rect" id="node26" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1273,838,1484,880"/>
<area shape="rect" id="node25" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1532,718,1727,760"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a2ba6c181226fb2b20ee12b012382f2fa" title="foedus::storage::sequential\l::SequentialStorage::load" alt="" coords="506,1116,685,1157"/>
<area shape="rect" id="node35" href="classfoedus_1_1log_1_1LogManager.html#aba382b725496593eb3f06b1644ef53c6" title="Called whenever there is a chance that the global durable epoch advances. " alt="" coords="1013,1257,1214,1298"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6" title="foedus::xct::XctManagerPimpl\l::advance_current_global_epoch" alt="" coords="492,372,699,413"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#af5cb0928185cf79dda519313f05fe0ee" title="foedus::xct::XctManagerPimpl\l::wait_for_current_global_epoch" alt="" coords="493,437,697,478"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a69fb51b2a05a90f46b4658cb984928a0" title="foedus::xct::XctManagerPimpl\l::wait_for_commit" alt="" coords="498,502,693,544"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1XctManager.html#aa75089821b48c98a00cd7e4ddc0615da" title="Requests to advance the current global epoch as soon as possible and blocks until it actually does..." alt="" coords="747,372,953,413"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1XctManager.html#aa3178a6ce1c815fb88b6c8d5607da5d4" title="Passively wait until the current global epoch becomes the given value. " alt="" coords="748,437,952,478"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1XctManager.html#a577f44c6f10022d645605d171ef4a781" title="Synchronously blocks until the durable global epoch reaches the given commit epoch or the given durat..." alt="" coords="769,502,931,544"/>
<area shape="rect" id="node45" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a76145762bd869ce338b3f647a7244c30" title="Atomically and durably takes a savepoint for the given epoch advancement. " alt="" coords="515,1283,676,1339"/>
<area shape="rect" id="node47" href="classfoedus_1_1savepoint_1_1SavepointManager.html#aaecb5989eaca658a8fbdc7de6c85222c" title="Takes a savepoint just to remember the newly taken snapshot. " alt="" coords="508,799,683,855"/>
<area shape="rect" id="node48" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a45097869d980cf8fe0ad3313e02c8117" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="758,803,942,859"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a4d7e58057f2fb648b7ff9ee6ab7fa0" title="Discards all records in this storage before the given epoch. " alt="" coords="500,1370,691,1412"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a2fc70c2aa337230d070e88c137c62b57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="epoch_8cpp_source.html#l00023">23</a> of file <a class="el" href="epoch_8cpp_source.html">epoch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                                                      {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <span class="keywordflow">if</span> (v.is_valid()) {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    o &lt;&lt; v.value();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;INVALID&gt;&quot;</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  }</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/<a class="el" href="epoch_8hpp_source.html">epoch.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
