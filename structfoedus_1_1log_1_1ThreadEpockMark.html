<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::log::ThreadEpockMark Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfoedus_1_1log_1_1ThreadEpockMark.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="structfoedus_1_1log_1_1ThreadEpockMark-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::log::ThreadEpockMark Struct Reference<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__LOG.html">Log Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A thread-buffer's epoch marker, which indicates where a thread switched an epoch.  
 <a href="structfoedus_1_1log_1_1ThreadEpockMark.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A thread-buffer's epoch marker, which indicates where a thread switched an epoch. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classfoedus_1_1log_1_1ThreadLogBuffer.html" title="A thread-local log buffer. ">foedus::log::ThreadLogBuffer</a> </dd>
<dd>
<a class="el" href="structfoedus_1_1log_1_1ThreadLogBufferMeta.html" title="Metadata part of ThreadLogBuffer, without the actual buffer which is way way larger. ">foedus::log::ThreadLogBufferMeta</a></dd></dl>
<p>When the thread publishes a commited log with new epoch, it adds this mark for logger. Unlike logger's epoch mark, we don't write out actual log entry for this. <a class="el" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. ">Epoch</a> mark is stored for only non-durable regions. Thus, the logger doesn't have to worry about whether the marked offset is still valid or not. </p>

<p>Definition at line <a class="el" href="thread__log__buffer_8hpp_source.html#l00045">45</a> of file <a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for foedus::log::ThreadEpockMark:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1log_1_1ThreadEpockMark__coll__graph.png" border="0" usemap="#foedus_1_1log_1_1ThreadEpockMark_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1log_1_1ThreadEpockMark_coll__map" id="foedus_1_1log_1_1ThreadEpockMark_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html" title="Represents a time epoch. " alt="" coords="52,5,157,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac6afe713dcad455d8b10983762747aa0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html#ac6afe713dcad455d8b10983762747aa0">ThreadEpockMark</a> ()</td></tr>
<tr class="separator:ac6afe713dcad455d8b10983762747aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a170d22de0892ea563617a59e141d2d4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a170d22de0892ea563617a59e141d2d4e">ThreadEpockMark</a> (<a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> old_epoch, <a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> new_epoch, uint64_t offset_begin)</td></tr>
<tr class="separator:a170d22de0892ea563617a59e141d2d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a358e4fae8b53db011d2ed0027e7f079e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a358e4fae8b53db011d2ed0027e7f079e">old_epoch_</a></td></tr>
<tr class="memdesc:a358e4fae8b53db011d2ed0027e7f079e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value of new_epoch_ of the previous mark.  <a href="#a358e4fae8b53db011d2ed0027e7f079e">More...</a><br /></td></tr>
<tr class="separator:a358e4fae8b53db011d2ed0027e7f079e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21cdea3334ed52f3341f32de3167656"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html#af21cdea3334ed52f3341f32de3167656">new_epoch_</a></td></tr>
<tr class="memdesc:af21cdea3334ed52f3341f32de3167656"><td class="mdescLeft">&#160;</td><td class="mdescRight">The epoch of log entries this mark represents.  <a href="#af21cdea3334ed52f3341f32de3167656">More...</a><br /></td></tr>
<tr class="separator:af21cdea3334ed52f3341f32de3167656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29f6321dfbd078f66718bf52fa49eda"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html#af29f6321dfbd078f66718bf52fa49eda">offset_begin_</a></td></tr>
<tr class="memdesc:af29f6321dfbd078f66718bf52fa49eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Where the new epoch starts.  <a href="#af29f6321dfbd078f66718bf52fa49eda">More...</a><br /></td></tr>
<tr class="separator:af29f6321dfbd078f66718bf52fa49eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c8ca7343466e874d116c02562291e1"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a99c8ca7343466e874d116c02562291e1">offset_end_</a></td></tr>
<tr class="memdesc:a99c8ca7343466e874d116c02562291e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Where the new epoch ends.  <a href="#a99c8ca7343466e874d116c02562291e1">More...</a><br /></td></tr>
<tr class="separator:a99c8ca7343466e874d116c02562291e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a95dafa00ea210102ac38d8b87073b428"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a95dafa00ea210102ac38d8b87073b428">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html">ThreadEpockMark</a> &amp;v)</td></tr>
<tr class="separator:a95dafa00ea210102ac38d8b87073b428"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac6afe713dcad455d8b10983762747aa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::log::ThreadEpockMark::ThreadEpockMark </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread__log__buffer_8hpp_source.html#l00076">76</a> of file <a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>.</p>

<p>References <a class="el" href="epoch_8hpp_source.html#l00095">foedus::Epoch::reset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                    {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a358e4fae8b53db011d2ed0027e7f079e">old_epoch_</a>.<a class="code" href="classfoedus_1_1Epoch.html#a3025b58495cd16f5d8969aed4566086c">reset</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#af21cdea3334ed52f3341f32de3167656">new_epoch_</a>.<a class="code" href="classfoedus_1_1Epoch.html#a3025b58495cd16f5d8969aed4566086c">reset</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#af29f6321dfbd078f66718bf52fa49eda">offset_begin_</a> = 0;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a99c8ca7343466e874d116c02562291e1">offset_end_</a> = 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1Epoch_html_a3025b58495cd16f5d8969aed4566086c"><div class="ttname"><a href="classfoedus_1_1Epoch.html#a3025b58495cd16f5d8969aed4566086c">foedus::Epoch::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Clears this epoch variable so that it points to an invalid epoch. </div><div class="ttdef"><b>Definition:</b> <a href="epoch_8hpp_source.html#l00095">epoch.hpp:95</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_a99c8ca7343466e874d116c02562291e1"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#a99c8ca7343466e874d116c02562291e1">foedus::log::ThreadEpockMark::offset_end_</a></div><div class="ttdeci">uint64_t offset_end_</div><div class="ttdoc">Where the new epoch ends. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00074">thread_log_buffer.hpp:74</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_a358e4fae8b53db011d2ed0027e7f079e"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#a358e4fae8b53db011d2ed0027e7f079e">foedus::log::ThreadEpockMark::old_epoch_</a></div><div class="ttdeci">Epoch old_epoch_</div><div class="ttdoc">The value of new_epoch_ of the previous mark. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00052">thread_log_buffer.hpp:52</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_af21cdea3334ed52f3341f32de3167656"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#af21cdea3334ed52f3341f32de3167656">foedus::log::ThreadEpockMark::new_epoch_</a></div><div class="ttdeci">Epoch new_epoch_</div><div class="ttdoc">The epoch of log entries this mark represents. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00061">thread_log_buffer.hpp:61</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_af29f6321dfbd078f66718bf52fa49eda"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#af29f6321dfbd078f66718bf52fa49eda">foedus::log::ThreadEpockMark::offset_begin_</a></div><div class="ttdeci">uint64_t offset_begin_</div><div class="ttdoc">Where the new epoch starts. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00066">thread_log_buffer.hpp:66</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1log_1_1ThreadEpockMark_ac6afe713dcad455d8b10983762747aa0_cgraph.png" border="0" usemap="#structfoedus_1_1log_1_1ThreadEpockMark_ac6afe713dcad455d8b10983762747aa0_cgraph" alt=""/></div>
<map name="structfoedus_1_1log_1_1ThreadEpockMark_ac6afe713dcad455d8b10983762747aa0_cgraph" id="structfoedus_1_1log_1_1ThreadEpockMark_ac6afe713dcad455d8b10983762747aa0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1Epoch.html#a3025b58495cd16f5d8969aed4566086c" title="Clears this epoch variable so that it points to an invalid epoch. " alt="" coords="223,13,365,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a170d22de0892ea563617a59e141d2d4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::log::ThreadEpockMark::ThreadEpockMark </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td>
          <td class="paramname"><em>old_epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a>&#160;</td>
          <td class="paramname"><em>new_epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset_begin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread__log__buffer_8hpp_source.html#l00082">82</a> of file <a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                                                           {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a358e4fae8b53db011d2ed0027e7f079e">old_epoch_</a> = old_epoch;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#af21cdea3334ed52f3341f32de3167656">new_epoch_</a> = new_epoch;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#af29f6321dfbd078f66718bf52fa49eda">offset_begin_</a> = offset_begin;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="structfoedus_1_1log_1_1ThreadEpockMark.html#a99c8ca7343466e874d116c02562291e1">offset_end_</a> = 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_a99c8ca7343466e874d116c02562291e1"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#a99c8ca7343466e874d116c02562291e1">foedus::log::ThreadEpockMark::offset_end_</a></div><div class="ttdeci">uint64_t offset_end_</div><div class="ttdoc">Where the new epoch ends. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00074">thread_log_buffer.hpp:74</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_a358e4fae8b53db011d2ed0027e7f079e"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#a358e4fae8b53db011d2ed0027e7f079e">foedus::log::ThreadEpockMark::old_epoch_</a></div><div class="ttdeci">Epoch old_epoch_</div><div class="ttdoc">The value of new_epoch_ of the previous mark. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00052">thread_log_buffer.hpp:52</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_af21cdea3334ed52f3341f32de3167656"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#af21cdea3334ed52f3341f32de3167656">foedus::log::ThreadEpockMark::new_epoch_</a></div><div class="ttdeci">Epoch new_epoch_</div><div class="ttdoc">The epoch of log entries this mark represents. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00061">thread_log_buffer.hpp:61</a></div></div>
<div class="ttc" id="structfoedus_1_1log_1_1ThreadEpockMark_html_af29f6321dfbd078f66718bf52fa49eda"><div class="ttname"><a href="structfoedus_1_1log_1_1ThreadEpockMark.html#af29f6321dfbd078f66718bf52fa49eda">foedus::log::ThreadEpockMark::offset_begin_</a></div><div class="ttdeci">uint64_t offset_begin_</div><div class="ttdoc">Where the new epoch starts. </div><div class="ttdef"><b>Definition:</b> <a href="thread__log__buffer_8hpp_source.html#l00066">thread_log_buffer.hpp:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a95dafa00ea210102ac38d8b87073b428"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html">ThreadEpockMark</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread__log__buffer_8cpp_source.html#l00363">363</a> of file <a class="el" href="thread__log__buffer_8cpp_source.html">thread_log_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                                                {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;ThreadEpockMark &quot;</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; old=\&quot;&quot;</span> &lt;&lt; v.old_epoch_ &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; new=\&quot;&quot;</span> &lt;&lt; v.new_epoch_ &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; offset_begin=\&quot;&quot;</span> &lt;&lt; assorted::Hex(v.offset_begin_) &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; offset_end=\&quot;&quot;</span> &lt;&lt; assorted::Hex(v.offset_end_) &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; /&gt;&quot;</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af21cdea3334ed52f3341f32de3167656"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::log::ThreadEpockMark::new_epoch_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The epoch of log entries this mark represents. </p>
<p>Because a thread might have no log in some epoch, this might be larger than old_epoch+1. It might be old_epoch+1000 etc. Populated as soon as this mark becomes the current and immutable since then. </p><dl class="section invariant"><dt>Invariant</dt><dd>new_epoch_.is_valid() </dd>
<dd>
old_epoch &lt; new_epoch_ </dd></dl>

<p>Definition at line <a class="el" href="thread__log__buffer_8hpp_source.html#l00061">61</a> of file <a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="thread__log__buffer_8cpp_source.html#l00059">foedus::log::ThreadLogBufferMeta::assert_consistent()</a>, <a class="el" href="thread__log__buffer_8hpp_source.html#l00361">foedus::log::ThreadLogBuffer::get_last_epoch()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00234">foedus::log::ThreadLogBuffer::get_logs_to_write()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00303">foedus::log::ThreadLogBuffer::on_log_written()</a>, and <a class="el" href="thread__log__buffer_8cpp_source.html#l00363">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="af29f6321dfbd078f66718bf52fa49eda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::log::ThreadEpockMark::offset_begin_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Where the new epoch starts. </p>
<p>Populated as soon as this mark becomes the current and immutable since then. </p>

<p>Definition at line <a class="el" href="thread__log__buffer_8hpp_source.html#l00066">66</a> of file <a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="thread__log__buffer_8cpp_source.html#l00059">foedus::log::ThreadLogBufferMeta::assert_consistent()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00234">foedus::log::ThreadLogBuffer::get_logs_to_write()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00303">foedus::log::ThreadLogBuffer::on_log_written()</a>, and <a class="el" href="thread__log__buffer_8cpp_source.html#l00363">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="a99c8ca7343466e874d116c02562291e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::log::ThreadEpockMark::offset_end_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Where the new epoch ends. </p>
<p>Populated <em>1</em>) when the thread retires the epoch ("0" while this mark is current) <b>OR</b> <em>2</em>) when the logger aggressively determines that the thread is idle and will not emit any more logs in this epoch. Thus, when the thread writes this value to move on to next entry, the old value must be 0 or the same value it were to write. </p>

<p>Definition at line <a class="el" href="thread__log__buffer_8hpp_source.html#l00074">74</a> of file <a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="thread__log__buffer_8cpp_source.html#l00059">foedus::log::ThreadLogBufferMeta::assert_consistent()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00234">foedus::log::ThreadLogBuffer::get_logs_to_write()</a>, <a class="el" href="thread__log__buffer_8cpp_source.html#l00303">foedus::log::ThreadLogBuffer::on_log_written()</a>, and <a class="el" href="thread__log__buffer_8cpp_source.html#l00363">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="a358e4fae8b53db011d2ed0027e7f079e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> foedus::log::ThreadEpockMark::old_epoch_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The value of new_epoch_ of the previous mark. </p>
<p>This is not currently used except sanity checks. Populated as soon as this mark becomes the current and immutable since then. </p><dl class="section invariant"><dt>Invariant</dt><dd>old_epoch_.is_valid() </dd></dl>

<p>Definition at line <a class="el" href="thread__log__buffer_8hpp_source.html#l00052">52</a> of file <a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="thread__log__buffer_8cpp_source.html#l00059">foedus::log::ThreadLogBufferMeta::assert_consistent()</a>, and <a class="el" href="thread__log__buffer_8cpp_source.html#l00363">foedus::log::operator&lt;&lt;()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/log/<a class="el" href="thread__log__buffer_8hpp_source.html">thread_log_buffer.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1log.html">log</a></li><li class="navelem"><a class="el" href="structfoedus_1_1log_1_1ThreadEpockMark.html">ThreadEpockMark</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
