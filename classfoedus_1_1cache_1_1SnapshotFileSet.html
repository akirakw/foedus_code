<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::cache::SnapshotFileSet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1cache_1_1SnapshotFileSet.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1cache_1_1SnapshotFileSet-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::cache::SnapshotFileSet Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__CACHE.html">Snapshot Cache Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Holds a set of read-only file objects for snapshot files.  
 <a href="classfoedus_1_1cache_1_1SnapshotFileSet.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Holds a set of read-only file objects for snapshot files. </p>
<p>In essense, this is a map&lt;snapshot_id, map&lt;node_id, DirectIoFile*&gt; &gt;. Each <b>thread</b> memory internally maintains this file set. This is because DirectIoFile (or underlying linux read()) cannot be concurrently used. Each thread thus obtains its own file descriptors using this object. As it's thread-local, no synchronization is needed in this object.</p>
<p>This design might hit the maximum number of file descriptors per process. Check cat /proc/sys/fs/file-max if that happens. Google how to change it (soft AND hard limits).</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>So far we really use std::map. But, this is not ideal in terms of performance. node-id is up to 256, snapshots are almost always very few, so we can do array-based something. </dd></dl>

<p>Definition at line <a class="el" href="snapshot__file__set_8hpp_source.html#l00052">52</a> of file <a class="el" href="snapshot__file__set_8hpp_source.html">snapshot_file_set.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="snapshot__file__set_8hpp_source.html">snapshot_file_set.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::cache::SnapshotFileSet:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet__inherit__graph.png" border="0" usemap="#foedus_1_1cache_1_1SnapshotFileSet_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1cache_1_1SnapshotFileSet_inherit__map" id="foedus_1_1cache_1_1SnapshotFileSet_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html" title="Typical implementation of Initializable as a skeleton base class. " alt="" coords="23,80,195,107"/>
<area shape="rect" id="node3" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="43,5,175,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::cache::SnapshotFileSet:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet__coll__graph.png" border="0" usemap="#foedus_1_1cache_1_1SnapshotFileSet_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1cache_1_1SnapshotFileSet_coll__map" id="foedus_1_1cache_1_1SnapshotFileSet_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html" title="Typical implementation of Initializable as a skeleton base class. " alt="" coords="23,80,195,107"/>
<area shape="rect" id="node3" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="43,5,175,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1957d56387de1b765299ed9e5c690db9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a1957d56387de1b765299ed9e5c690db9">SnapshotFileSet</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:a1957d56387de1b765299ed9e5c690db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8f85afb42c722e3700dd35f834f374"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#aac8f85afb42c722e3700dd35f834f374">initialize_once</a> () override</td></tr>
<tr class="separator:aac8f85afb42c722e3700dd35f834f374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdfe6455d49f9cfccb88729c5c771193"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#afdfe6455d49f9cfccb88729c5c771193">uninitialize_once</a> () override</td></tr>
<tr class="separator:afdfe6455d49f9cfccb88729c5c771193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87623f61df5aa626a9d8f09c309c2855"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a87623f61df5aa626a9d8f09c309c2855">close_all</a> ()</td></tr>
<tr class="separator:a87623f61df5aa626a9d8f09c309c2855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08239cb7bf52cb9539ba8ec1b159c1da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a08239cb7bf52cb9539ba8ec1b159c1da">get_engine</a> ()</td></tr>
<tr class="separator:a08239cb7bf52cb9539ba8ec1b159c1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c502b066c60e0f09506c3ebc21e9468"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a5c502b066c60e0f09506c3ebc21e9468">SnapshotFileSet</a> ()=delete</td></tr>
<tr class="separator:a5c502b066c60e0f09506c3ebc21e9468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a584c77686a584057aa1702df49d54f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a3a584c77686a584057aa1702df49d54f">SnapshotFileSet</a> (const <a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a> &amp;other)=delete</td></tr>
<tr class="separator:a3a584c77686a584057aa1702df49d54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a094ee910ffcff10b75623cc7127e64e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a094ee910ffcff10b75623cc7127e64e6">operator=</a> (const <a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a> &amp;other)=delete</td></tr>
<tr class="separator:a094ee910ffcff10b75623cc7127e64e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b153acb9f3115c44a48e10ff2262fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb">get_or_open_file</a> (<a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> page_pointer, <a class="el" href="classfoedus_1_1fs_1_1DirectIoFile.html">fs::DirectIoFile</a> **out)</td></tr>
<tr class="separator:ae5b153acb9f3115c44a48e10ff2262fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9a776fa92af14a054f1dedea7d8ae2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a4f9a776fa92af14a054f1dedea7d8ae2">get_or_open_file</a> (<a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">snapshot::SnapshotId</a> snapshot_id, <a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">thread::ThreadGroupId</a> node_id, <a class="el" href="classfoedus_1_1fs_1_1DirectIoFile.html">fs::DirectIoFile</a> **out)</td></tr>
<tr class="separator:a4f9a776fa92af14a054f1dedea7d8ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ea1e9815cd47c3175371d37974526a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a">read_page</a> (<a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> page_id, void *out)</td></tr>
<tr class="separator:ad7ea1e9815cd47c3175371d37974526a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae67209f9aa9d03e45a9934067c8245b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#aae67209f9aa9d03e45a9934067c8245b">read_pages</a> (<a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> page_id_begin, uint32_t page_count, void *out)</td></tr>
<tr class="memdesc:aae67209f9aa9d03e45a9934067c8245b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read contiguous pages in one shot.  <a href="#aae67209f9aa9d03e45a9934067c8245b">More...</a><br /></td></tr>
<tr class="separator:aae67209f9aa9d03e45a9934067c8245b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1DefaultInitializable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1DefaultInitializable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1DefaultInitializable.html">foedus::DefaultInitializable</a></td></tr>
<tr class="memitem:a5e0a2679baa030e297c1a51847352945 inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1DefaultInitializable.html#a5e0a2679baa030e297c1a51847352945">DefaultInitializable</a> ()</td></tr>
<tr class="separator:a5e0a2679baa030e297c1a51847352945 inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe7a18ec3e5edd143eb7d6a75d65ef9b inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1DefaultInitializable.html#afe7a18ec3e5edd143eb7d6a75d65ef9b">~DefaultInitializable</a> ()</td></tr>
<tr class="separator:afe7a18ec3e5edd143eb7d6a75d65ef9b inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6a8f8296ab570b545430593287d454 inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1DefaultInitializable.html#afd6a8f8296ab570b545430593287d454">DefaultInitializable</a> (const <a class="el" href="classfoedus_1_1DefaultInitializable.html">DefaultInitializable</a> &amp;)=delete</td></tr>
<tr class="separator:afd6a8f8296ab570b545430593287d454 inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31eb5acadf0544b97414efd33aed08c7 inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1DefaultInitializable.html">DefaultInitializable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1DefaultInitializable.html#a31eb5acadf0544b97414efd33aed08c7">operator=</a> (const <a class="el" href="classfoedus_1_1DefaultInitializable.html">DefaultInitializable</a> &amp;)=delete</td></tr>
<tr class="separator:a31eb5acadf0544b97414efd33aed08c7 inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a0dc3bbbca682c3bc41eace9b6d1ff inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">initialize</a> () override final</td></tr>
<tr class="memdesc:a22a0dc3bbbca682c3bc41eace9b6d1ff inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typical implementation of <a class="el" href="classfoedus_1_1Initializable.html#aa087b096d1edaeb0304c250eadb0d7e1" title="Acquires resources in this object, usually called right after constructor. ">Initializable::initialize()</a> that provides initialize-once semantics.  <a href="#a22a0dc3bbbca682c3bc41eace9b6d1ff">More...</a><br /></td></tr>
<tr class="separator:a22a0dc3bbbca682c3bc41eace9b6d1ff inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14b136a7d26f9f499ab9dc15a45a8cb inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">uninitialize</a> () override final</td></tr>
<tr class="memdesc:ab14b136a7d26f9f499ab9dc15a45a8cb inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typical implementation of <a class="el" href="classfoedus_1_1Initializable.html#afbe5738b0bc85362fba80bdf788fd3c3" title="An idempotent method to release all resources of this object, if any. ">Initializable::uninitialize()</a> that provides uninitialize-once semantics.  <a href="#ab14b136a7d26f9f499ab9dc15a45a8cb">More...</a><br /></td></tr>
<tr class="separator:ab14b136a7d26f9f499ab9dc15a45a8cb inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1abda1e84b8af8bd6916e52fd0a09f3e inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">is_initialized</a> () const  override final</td></tr>
<tr class="memdesc:a1abda1e84b8af8bd6916e52fd0a09f3e inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already initialized or not.  <a href="#a1abda1e84b8af8bd6916e52fd0a09f3e">More...</a><br /></td></tr>
<tr class="separator:a1abda1e84b8af8bd6916e52fd0a09f3e inherit pub_methods_classfoedus_1_1DefaultInitializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Initializable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Initializable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Initializable.html">foedus::Initializable</a></td></tr>
<tr class="memitem:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Initializable.html#aff308260543d18b3fd1367fd9017b176">~Initializable</a> ()</td></tr>
<tr class="separator:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:acad510fd1b3c9d4c5dddfc720002f81a"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#acad510fd1b3c9d4c5dddfc720002f81a">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a> &amp;v)</td></tr>
<tr class="separator:acad510fd1b3c9d4c5dddfc720002f81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1957d56387de1b765299ed9e5c690db9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::cache::SnapshotFileSet::SnapshotFileSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00034">34</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                               : engine_(engine) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c502b066c60e0f09506c3ebc21e9468"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::cache::SnapshotFileSet::SnapshotFileSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3a584c77686a584057aa1702df49d54f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::cache::SnapshotFileSet::SnapshotFileSet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a87623f61df5aa626a9d8f09c309c2855"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::cache::SnapshotFileSet::close_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00047">47</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>

<p>Referenced by <a class="el" href="snapshot__file__set_8cpp_source.html#l00041">uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; files_in_a_snapshot : files_) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">auto</span>&amp; values = files_in_a_snapshot.second;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; file : values) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      file.second-&gt;close();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keyword">delete</span> file.second;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    values.clear();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  files_.clear();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_a87623f61df5aa626a9d8f09c309c2855_icgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_a87623f61df5aa626a9d8f09c309c2855_icgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_a87623f61df5aa626a9d8f09c309c2855_icgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_a87623f61df5aa626a9d8f09c309c2855_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#afdfe6455d49f9cfccb88729c5c771193" title="foedus::cache::SnapshotFile\lSet::uninitialize_once" alt="" coords="240,5,427,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a08239cb7bf52cb9539ba8ec1b159c1da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Engine.html">Engine</a>* foedus::cache::SnapshotFileSet::get_engine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__file__set_8hpp_source.html#l00059">59</a> of file <a class="el" href="snapshot__file__set_8hpp_source.html">snapshot_file_set.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{ <span class="keywordflow">return</span> engine_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5b153acb9f3115c44a48e10ff2262fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::cache::SnapshotFileSet::get_or_open_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>page_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1fs_1_1DirectIoFile.html">fs::DirectIoFile</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__file__set_8hpp_source.html#l00065">65</a> of file <a class="el" href="snapshot__file__set_8hpp_source.html">snapshot_file_set.hpp</a>.</p>

<p>References <a class="el" href="storage__id_8hpp_source.html#l00095">foedus::storage::extract_numa_node_from_snapshot_pointer()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00098">foedus::storage::extract_snapshot_id_from_snapshot_pointer()</a>.</p>

<p>Referenced by <a class="el" href="snapshot__file__set_8cpp_source.html#l00095">read_page()</a>, and <a class="el" href="snapshot__file__set_8cpp_source.html#l00107">read_pages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">snapshot::SnapshotId</a> snapshot_id</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      = <a class="code" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c">storage::extract_snapshot_id_from_snapshot_pointer</a>(page_pointer);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">thread::ThreadGroupId</a> node_id = <a class="code" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1">storage::extract_numa_node_from_snapshot_pointer</a>(page_pointer);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb">get_or_open_file</a>(snapshot_id, node_id, out);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="ttc" id="namespacefoedus_1_1storage_html_a82df0b3921d7c863275baf4f9c59959c"><div class="ttname"><a href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c">foedus::storage::extract_snapshot_id_from_snapshot_pointer</a></div><div class="ttdeci">uint16_t extract_snapshot_id_from_snapshot_pointer(SnapshotPagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00098">storage_id.hpp:98</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_html_a8f6e96ac10eb804602349a54292d26a1"><div class="ttname"><a href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1">foedus::storage::extract_numa_node_from_snapshot_pointer</a></div><div class="ttdeci">uint8_t extract_numa_node_from_snapshot_pointer(SnapshotPagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00095">storage_id.hpp:95</a></div></div>
<div class="ttc" id="group__SNAPSHOT_html_gaec32eb05303ebec1048d120f73295031"><div class="ttname"><a href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">foedus::snapshot::SnapshotId</a></div><div class="ttdeci">uint16_t SnapshotId</div><div class="ttdoc">Unique ID of Snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="snapshot__id_8hpp_source.html#l00043">snapshot_id.hpp:43</a></div></div>
<div class="ttc" id="classfoedus_1_1cache_1_1SnapshotFileSet_html_ae5b153acb9f3115c44a48e10ff2262fb"><div class="ttname"><a href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb">foedus::cache::SnapshotFileSet::get_or_open_file</a></div><div class="ttdeci">ErrorCode get_or_open_file(storage::SnapshotPagePointer page_pointer, fs::DirectIoFile **out)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot__file__set_8hpp_source.html#l00065">snapshot_file_set.hpp:65</a></div></div>
<div class="ttc" id="group__THREAD_html_ga22e72bf147e8d7430e97721633adb3a7"><div class="ttname"><a href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">foedus::thread::ThreadGroupId</a></div><div class="ttdeci">uint8_t ThreadGroupId</div><div class="ttdoc">Typedef for an ID of ThreadGroup (NUMA node). </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00038">thread_id.hpp:38</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_cgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_cgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_cgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="241,5,429,61"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="240,85,431,141"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_icgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_icgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_icgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_ae5b153acb9f3115c44a48e10ff2262fb_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="240,786,427,827"/>
<area shape="rect" id="node45" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#aae67209f9aa9d03e45a9934067c8245b" title="Read contiguous pages in one shot. " alt="" coords="240,1347,427,1389"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="503,310,687,351"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="490,511,701,553"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="490,582,701,623"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#a230f7dbb47f1b22e7295fe7c00a96fa4" title="Recursively opens pages down from fixed_upto_level. " alt="" coords="494,779,697,835"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#ac5ad2e7fa792d58965a05be6bd43e43c" title="foedus::storage::hash\l::HashComposer::construct_root" alt="" coords="490,647,701,689"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="516,881,675,922"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#a1aedc45cc5621bd3889f1bf2d47ab79c" title="foedus::storage::masstree\l::MasstreePartitioner::\ldesign_partition" alt="" coords="509,976,682,1032"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adb503d118f53a417bf11f9e486bd3cf7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread_follow" alt="" coords="492,1135,699,1191"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a91db842a6ef8780d3fe4ba2f0f625da7" title="foedus::storage::sequential\l::SequentialComposer::construct_root" alt="" coords="475,713,716,754"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#ad5f949c2d00aea4cb2186c93108b7dcc" title="Special method called only from recovery manager. " alt="" coords="510,1241,681,1297"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1Thread.html#a29e87db0559d67ac9a942e345e3a2ea2" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="796,193,960,234"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1040,251,1249,293"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1053,355,1237,411"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="786,310,970,351"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1297,143,1507,185"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1310,238,1494,279"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1559,297,1743,338"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1555,5,1748,61"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="1796,111,2009,153"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1562,136,1741,192"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1561,216,1742,272"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1322,355,1482,411"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1310,435,1494,491"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="793,435,963,477"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="793,501,963,542"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="781,566,975,607"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aa0f536b8252655076528b290abb84a87" title="foedus::storage::array\l::ArrayStorage::load" alt="" coords="1071,435,1219,477"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a200dd1b1b2b5bc937cae55120e1befc9" title="foedus::storage::hash\l::HashStorage::load" alt="" coords="1071,501,1218,542"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2731aaf3a733c773a63df6d691ede3ac" title="foedus::storage::masstree\l::MasstreeStorage::load" alt="" coords="1058,566,1231,607"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="789,631,967,673"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#af617a04eb5df3795abfe4900a20a6db6" title="foedus::storage::hash\l::ComposedBinsMergedStream::init" alt="" coords="764,697,992,738"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#ad9d314f5d6c1a5f698ca623ef7d0188e" title="Moves cur_path_ to a page that cotains the specified bin. " alt="" coords="777,763,979,819"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ae68923a3afe20ce445002b85764a9f17" title="These are defined in hash_storage_debug.cpp. " alt="" coords="1303,860,1501,916"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad9f8e63fe91ea8623c537e3fffc1f3c1" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_intermediate" alt="" coords="1045,893,1244,949"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa220f1f2d268290263483476d85be47b" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_data" alt="" coords="779,944,977,1000"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a144b7a6f95482f2ab8f8564776689fb9" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="1568,860,1735,916"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="789,1025,967,1066"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a41e664c7035f1b89121ef06678a71386" title="These are defined in masstree_storage_debug.cpp. " alt="" coords="791,1091,965,1147"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6358da556d81e06726320b30c78755f7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread\l_recurse" alt="" coords="791,1171,965,1242"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a9d2f5eb65777d851bee6809acf6fe153" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="1049,1091,1240,1147"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1StorageManager.html#ad207f2d607f78db439621dd82a4b9470" title="Special method called only from recovery manager. " alt="" coords="795,1267,961,1323"/>
<area shape="rect" id="node44" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1067,1274,1222,1315"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4c828d75840906244fd52c44a793232d" title="Read contiguous pages in one shot. " alt="" coords="503,1347,687,1389"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsBuffer.html#a5fe3533ff092920e41ddc56ebcd4165c" title="Read pages to buffer_. " alt="" coords="520,1413,671,1469"/>
<area shape="rect" id="node47" href="classfoedus_1_1thread_1_1Thread.html#a1455488538dd235b4de2730693bfd718" title="Read contiguous pages in one shot. " alt="" coords="799,1347,957,1389"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsBuffer.html#a87975eab41db6a99b88424bd2d6dbb90" title="Moves on to next bin. " alt="" coords="803,1413,953,1469"/>
<area shape="rect" id="node50" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#ac3a65cebf835d18357a69bd523a3bc9d" title="Consumes inputs for the cur_path_[0] page and install snapshot pointers there. " alt="" coords="1043,1413,1246,1469"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4f9a776fa92af14a054f1dedea7d8ae2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::cache::SnapshotFileSet::get_or_open_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">snapshot::SnapshotId</a>&#160;</td>
          <td class="paramname"><em>snapshot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">thread::ThreadGroupId</a>&#160;</td>
          <td class="paramname"><em>node_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1fs_1_1DirectIoFile.html">fs::DirectIoFile</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00059">59</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="snapshot__options_8cpp_source.html#l00044">foedus::snapshot::SnapshotOptions::construct_snapshot_file_path()</a>, <a class="el" href="engine_8cpp_source.html#l00039">foedus::Engine::get_options()</a>, <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>, and <a class="el" href="engine__options_8hpp_source.html#l00143">foedus::EngineOptions::snapshot_</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                        {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  *out = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">auto</span> snapshot = files_.find(snapshot_id);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (snapshot == files_.end()) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    files_.insert(</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      std::pair&lt;<a class="code" href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">snapshot::SnapshotId</a>, std::map&lt; thread::ThreadGroupId, fs::DirectIoFile* &gt; &gt;(</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        snapshot_id, std::map&lt; thread::ThreadGroupId, fs::DirectIoFile* &gt;()));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    snapshot = files_.find(snapshot_id);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(snapshot != files_.end());</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(snapshot-&gt;first == snapshot_id);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keyword">auto</span>&amp; the_map = snapshot-&gt;second;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keyword">auto</span> node = the_map.find(node_id);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (node != the_map.end()) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    *out = node-&gt;second;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    fs::Path path(engine_-&gt;<a class="code" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1">get_options</a>().<a class="code" href="structfoedus_1_1EngineOptions.html#ac8febbe3a3d3015c9b93cc1afb8154c1">snapshot_</a>.<a class="code" href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#aea13c9b06029b240ee72b40a450cacf8">construct_snapshot_file_path</a>(</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      snapshot_id,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      node_id));</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    fs::DirectIoFile* file = <span class="keyword">new</span> fs::DirectIoFile(path);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> open_error = file-&gt;open(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (open_error != <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keyword">delete</span> file;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keywordflow">return</span> open_error;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    std::pair&lt; thread::ThreadGroupId, fs::DirectIoFile* &gt; entry(node_id, file);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    the_map.insert(entry);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    *out = file;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Engine_html_a6546930099132529543c320327367ef1"><div class="ttname"><a href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1">foedus::Engine::get_options</a></div><div class="ttdeci">const EngineOptions &amp; get_options() const </div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00039">engine.cpp:39</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="structfoedus_1_1EngineOptions_html_ac8febbe3a3d3015c9b93cc1afb8154c1"><div class="ttname"><a href="structfoedus_1_1EngineOptions.html#ac8febbe3a3d3015c9b93cc1afb8154c1">foedus::EngineOptions::snapshot_</a></div><div class="ttdeci">snapshot::SnapshotOptions snapshot_</div><div class="ttdef"><b>Definition:</b> <a href="engine__options_8hpp_source.html#l00143">engine_options.hpp:143</a></div></div>
<div class="ttc" id="group__SNAPSHOT_html_gaec32eb05303ebec1048d120f73295031"><div class="ttname"><a href="group__SNAPSHOT.html#gaec32eb05303ebec1048d120f73295031">foedus::snapshot::SnapshotId</a></div><div class="ttdeci">uint16_t SnapshotId</div><div class="ttdoc">Unique ID of Snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="snapshot__id_8hpp_source.html#l00043">snapshot_id.hpp:43</a></div></div>
<div class="ttc" id="structfoedus_1_1snapshot_1_1SnapshotOptions_html_aea13c9b06029b240ee72b40a450cacf8"><div class="ttname"><a href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#aea13c9b06029b240ee72b40a450cacf8">foedus::snapshot::SnapshotOptions::construct_snapshot_file_path</a></div><div class="ttdeci">std::string construct_snapshot_file_path(int snapshot_id, int node) const </div><div class="ttdoc">&#39;folder_path&#39;/snapshot_&#39;snapshot-id&#39;node&#39;node-id&#39;.data. </div><div class="ttdef"><b>Definition:</b> <a href="snapshot__options_8cpp_source.html#l00044">snapshot_options.cpp:44</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaae5f98d1b4caace7febc49e59ae5ac56"><div class="ttname"><a href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">foedus::ErrorCode</a></div><div class="ttdeci">ErrorCode</div><div class="ttdoc">Enum of error codes defined in error_code.xmacro. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00085">error_code.hpp:85</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_a4f9a776fa92af14a054f1dedea7d8ae2_cgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_a4f9a776fa92af14a054f1dedea7d8ae2_cgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_a4f9a776fa92af14a054f1dedea7d8ae2_cgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_a4f9a776fa92af14a054f1dedea7d8ae2_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#aea13c9b06029b240ee72b40a450cacf8" title="&#39;folder_path&#39;/snapshot_&#39;snapshot&#45;id&#39;node&#39;node&#45;id&#39;.data. " alt="" coords="240,16,429,72"/>
<area shape="rect" id="node6" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="267,97,402,138"/>
<area shape="rect" id="node3" href="structfoedus_1_1snapshot_1_1SnapshotOptions.html#aa2874f5cd398cc0907d0a5bee822d1c3" title="converts folder_path_pattern_ into a string with the given node. " alt="" coords="477,16,661,72"/>
<area shape="rect" id="node4" href="group__ASSORTED.html#gaa64b5d5356e69e9d0efa80590617c795" title="target.replaceAll(search, replacement). " alt="" coords="723,5,911,32"/>
<area shape="rect" id="node5" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="709,56,924,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac8f85afb42c722e3700dd35f834f374"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::cache::SnapshotFileSet::initialize_once </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250">foedus::DefaultInitializable</a>.</p>

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00037">37</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>

<p>References <a class="el" href="error__stack_8hpp_source.html#l00251">foedus::kRetOk</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                            {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">kRetOk</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="group__ERRORCODES_html_ga61f52cd33eb500d6997a91e704ace244"><div class="ttname"><a href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">foedus::kRetOk</a></div><div class="ttdeci">const ErrorStack kRetOk</div><div class="ttdoc">Normal return value for no-error case. </div><div class="ttdef"><b>Definition:</b> <a href="error__stack_8hpp_source.html#l00251">error_stack.hpp:251</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a094ee910ffcff10b75623cc7127e64e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a>&amp; foedus::cache::SnapshotFileSet::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad7ea1e9815cd47c3175371d37974526a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::cache::SnapshotFileSet::read_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00095">95</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="error__code_8hpp_source.html#l00155">CHECK_ERROR_CODE</a>, <a class="el" href="storage__id_8hpp_source.html#l00091">foedus::storage::extract_local_page_id_from_snapshot_pointer()</a>, <a class="el" href="snapshot__file__set_8hpp_source.html#l00065">get_or_open_file()</a>, <a class="el" href="direct__io__file_8hpp_source.html#l00061">foedus::fs::DirectIoFile::kDirectIoSeekSet</a>, <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00162">foedus::fs::DirectIoFile::read_raw()</a>, and <a class="el" href="direct__io__file_8cpp_source.html#l00326">foedus::fs::DirectIoFile::seek()</a>.</p>

<p>Referenced by <a class="el" href="array__composer__impl_8cpp_source.html#l00095">foedus::storage::array::ArrayComposer::construct_root()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l00126">foedus::storage::hash::HashComposer::construct_root()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00230">foedus::storage::sequential::SequentialComposer::construct_root()</a>, <a class="el" href="masstree__storage__debug_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::debugout_single_thread_follow()</a>, <a class="el" href="masstree__partitioner__impl_8cpp_source.html#l00064">foedus::storage::masstree::MasstreePartitioner::design_partition()</a>, <a class="el" href="hash__storage__debug_8cpp_source.html#l00037">foedus::storage::hash::TmpSnashotPage::init()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00148">foedus::memory::EngineMemory::load_one_volatile_page()</a>, <a class="el" href="hash__composed__bins__impl_8cpp_source.html#l00225">foedus::storage::hash::ComposedBinsMergedStream::open_path()</a>, <a class="el" href="thread__pimpl_8hpp_source.html#l00512">foedus::thread::ThreadPimpl::read_a_snapshot_page()</a>, and <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00157">foedus::storage::StorageManagerPimpl::reinitialize_for_recovered_snapshot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  fs::DirectIoFile* file;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(<a class="code" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb">get_or_open_file</a>(page_id, &amp;file));</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="group__STORAGE.html#ga0175df2e74855e270faffcf960b132b1">storage::SnapshotLocalPageId</a> local_page_id</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    = <a class="code" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be">storage::extract_local_page_id_from_snapshot_pointer</a>(page_id);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    file-&gt;seek(local_page_id * <span class="keyword">sizeof</span>(storage::Page), <a class="code" href="classfoedus_1_1fs_1_1DirectIoFile.html#a2f503633c8a49e8745f55ccba6002b8da9930fb0c0570c46c1456f17657df0b84">fs::DirectIoFile::kDirectIoSeekSet</a>));</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(file-&gt;read_raw(<span class="keyword">sizeof</span>(storage::Page), out));</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(reinterpret_cast&lt;storage::Page*&gt;(out)-&gt;get_header().page_id_ == page_id);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_ga0175df2e74855e270faffcf960b132b1"><div class="ttname"><a href="group__STORAGE.html#ga0175df2e74855e270faffcf960b132b1">foedus::storage::SnapshotLocalPageId</a></div><div class="ttdeci">uint64_t SnapshotLocalPageId</div><div class="ttdoc">Represents a local page ID in each one snapshot file in some NUMA node. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00089">storage_id.hpp:89</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_html_a3c3e7a984303d1ef88e001db1591b1be"><div class="ttname"><a href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be">foedus::storage::extract_local_page_id_from_snapshot_pointer</a></div><div class="ttdeci">SnapshotLocalPageId extract_local_page_id_from_snapshot_pointer(SnapshotPagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00091">storage_id.hpp:91</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaa3832e1d1faf1540161d389edf2a9c17"><div class="ttname"><a href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a></div><div class="ttdeci">#define CHECK_ERROR_CODE(x)</div><div class="ttdoc">This macro calls x and checks its returned error code. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00155">error_code.hpp:155</a></div></div>
<div class="ttc" id="classfoedus_1_1cache_1_1SnapshotFileSet_html_ae5b153acb9f3115c44a48e10ff2262fb"><div class="ttname"><a href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb">foedus::cache::SnapshotFileSet::get_or_open_file</a></div><div class="ttdeci">ErrorCode get_or_open_file(storage::SnapshotPagePointer page_pointer, fs::DirectIoFile **out)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot__file__set_8hpp_source.html#l00065">snapshot_file_set.hpp:65</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1fs_1_1DirectIoFile_html_a2f503633c8a49e8745f55ccba6002b8da9930fb0c0570c46c1456f17657df0b84"><div class="ttname"><a href="classfoedus_1_1fs_1_1DirectIoFile.html#a2f503633c8a49e8745f55ccba6002b8da9930fb0c0570c46c1456f17657df0b84">foedus::fs::DirectIoFile::kDirectIoSeekSet</a></div><div class="ttdoc">The offset is set to offset bytes. </div><div class="ttdef"><b>Definition:</b> <a href="direct__io__file_8hpp_source.html#l00061">direct_io_file.hpp:61</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_cgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_cgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_cgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="240,33,440,89"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="247,114,433,155"/>
<area shape="rect" id="node6" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="265,249,415,290"/>
<area shape="rect" id="node13" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="265,346,415,387"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="489,85,677,141"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="488,5,679,61"/>
<area shape="rect" id="node7" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="508,231,659,273"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="512,297,655,338"/>
<area shape="rect" id="node9" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="508,166,659,207"/>
<area shape="rect" id="node10" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="513,362,653,403"/>
<area shape="rect" id="node11" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="516,427,651,469"/>
<area shape="rect" id="node12" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="727,427,861,469"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_icgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_icgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_icgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_ad7ea1e9815cd47c3175371d37974526a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="255,5,466,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#ac5ad2e7fa792d58965a05be6bd43e43c" title="foedus::storage::hash\l::HashComposer::construct_root" alt="" coords="255,71,466,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a91db842a6ef8780d3fe4ba2f0f625da7" title="foedus::storage::sequential\l::SequentialComposer::construct_root" alt="" coords="240,136,481,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adb503d118f53a417bf11f9e486bd3cf7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread_follow" alt="" coords="257,202,464,258"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#a1aedc45cc5621bd3889f1bf2d47ab79c" title="foedus::storage::masstree\l::MasstreePartitioner::\ldesign_partition" alt="" coords="274,297,447,353"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="281,381,440,423"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="255,559,466,600"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#a230f7dbb47f1b22e7295fe7c00a96fa4" title="Recursively opens pages down from fixed_upto_level. " alt="" coords="259,723,462,779"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="269,921,453,963"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#ad5f949c2d00aea4cb2186c93108b7dcc" title="Special method called only from recovery manager. " alt="" coords="275,1046,446,1102"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="554,37,733,79"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a41e664c7035f1b89121ef06678a71386" title="These are defined in masstree_storage_debug.cpp. " alt="" coords="557,198,730,254"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6358da556d81e06726320b30c78755f7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread\l_recurse" alt="" coords="557,103,730,173"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a9d2f5eb65777d851bee6809acf6fe153" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="815,198,1005,254"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="554,279,733,320"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ae68923a3afe20ce445002b85764a9f17" title="These are defined in hash_storage_debug.cpp. " alt="" coords="1063,363,1261,419"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad9f8e63fe91ea8623c537e3fffc1f3c1" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_intermediate" alt="" coords="811,395,1009,451"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa220f1f2d268290263483476d85be47b" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_data" alt="" coords="544,446,743,502"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a144b7a6f95482f2ab8f8564776689fb9" title="A super&#45;expensive and single&#45;thread only debugging feature to write out gigantic human&#45;readable texts..." alt="" coords="1331,363,1497,419"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="558,527,729,568"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="558,592,729,633"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="546,657,741,699"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aa0f536b8252655076528b290abb84a87" title="foedus::storage::array\l::ArrayStorage::load" alt="" coords="836,527,984,568"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a200dd1b1b2b5bc937cae55120e1befc9" title="foedus::storage::hash\l::HashStorage::load" alt="" coords="837,592,983,633"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2731aaf3a733c773a63df6d691ede3ac" title="foedus::storage::masstree\l::MasstreeStorage::load" alt="" coords="823,657,997,699"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#af617a04eb5df3795abfe4900a20a6db6" title="foedus::storage::hash\l::ComposedBinsMergedStream::init" alt="" coords="529,804,757,845"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#ad9d314f5d6c1a5f698ca623ef7d0188e" title="Moves cur_path_ to a page that cotains the specified bin. " alt="" coords="542,723,745,779"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1Thread.html#a29e87db0559d67ac9a942e345e3a2ea2" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="561,1039,725,1080"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="805,980,1015,1021"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="818,855,1002,911"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="551,921,735,963"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1309,1000,1519,1041"/>
<area shape="rect" id="node37" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1070,937,1254,979"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1322,1065,1506,1107"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="1567,847,1760,903"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="2091,1127,2304,1168"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1836,1119,2015,1175"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1573,1058,1754,1114"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="1577,927,1750,983"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="1808,855,2043,896"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1335,935,1493,976"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="1322,854,1506,910"/>
<area shape="rect" id="node40" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1588,1189,1739,1231"/>
<area shape="rect" id="node43" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="1082,775,1242,831"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1070,855,1254,911"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="1339,774,1489,830"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1StorageManager.html#ad207f2d607f78db439621dd82a4b9470" title="Special method called only from recovery manager. " alt="" coords="561,1105,726,1161"/>
<area shape="rect" id="node49" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="833,1112,987,1153"/>
<area shape="rect" id="node50" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1065,1112,1259,1153"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae67209f9aa9d03e45a9934067c8245b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::cache::SnapshotFileSet::read_pages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id_begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>page_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read contiguous pages in one shot. </p>

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00107">107</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="error__code_8hpp_source.html#l00155">CHECK_ERROR_CODE</a>, <a class="el" href="storage__id_8hpp_source.html#l00091">foedus::storage::extract_local_page_id_from_snapshot_pointer()</a>, <a class="el" href="snapshot__file__set_8hpp_source.html#l00065">get_or_open_file()</a>, <a class="el" href="direct__io__file_8hpp_source.html#l00061">foedus::fs::DirectIoFile::kDirectIoSeekSet</a>, <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>, <a class="el" href="direct__io__file_8cpp_source.html#l00162">foedus::fs::DirectIoFile::read_raw()</a>, and <a class="el" href="direct__io__file_8cpp_source.html#l00326">foedus::fs::DirectIoFile::seek()</a>.</p>

<p>Referenced by <a class="el" href="hash__composed__bins__impl_8cpp_source.html#l00051">foedus::storage::hash::ComposedBinsBuffer::next_pages()</a>, and <a class="el" href="thread__pimpl_8hpp_source.html#l00517">foedus::thread::ThreadPimpl::read_snapshot_pages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;             {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  fs::DirectIoFile* file;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(<a class="code" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb">get_or_open_file</a>(page_id_begin, &amp;file));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="group__STORAGE.html#ga0175df2e74855e270faffcf960b132b1">storage::SnapshotLocalPageId</a> local_page_id_begin</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    = <a class="code" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be">storage::extract_local_page_id_from_snapshot_pointer</a>(page_id_begin);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    file-&gt;seek(local_page_id_begin * <span class="keyword">sizeof</span>(storage::Page), <a class="code" href="classfoedus_1_1fs_1_1DirectIoFile.html#a2f503633c8a49e8745f55ccba6002b8da9930fb0c0570c46c1456f17657df0b84">fs::DirectIoFile::kDirectIoSeekSet</a>));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(file-&gt;read_raw(<span class="keyword">sizeof</span>(storage::Page) * page_count, out));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  storage::Page* pages = <span class="keyword">reinterpret_cast&lt;</span>storage::Page*<span class="keyword">&gt;</span>(out);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; page_count; ++i) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(pages[i].get_header().page_id_ == page_id_begin + i);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#endif  // NDEBUG</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_ga0175df2e74855e270faffcf960b132b1"><div class="ttname"><a href="group__STORAGE.html#ga0175df2e74855e270faffcf960b132b1">foedus::storage::SnapshotLocalPageId</a></div><div class="ttdeci">uint64_t SnapshotLocalPageId</div><div class="ttdoc">Represents a local page ID in each one snapshot file in some NUMA node. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00089">storage_id.hpp:89</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_html_a3c3e7a984303d1ef88e001db1591b1be"><div class="ttname"><a href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be">foedus::storage::extract_local_page_id_from_snapshot_pointer</a></div><div class="ttdeci">SnapshotLocalPageId extract_local_page_id_from_snapshot_pointer(SnapshotPagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00091">storage_id.hpp:91</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaa3832e1d1faf1540161d389edf2a9c17"><div class="ttname"><a href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a></div><div class="ttdeci">#define CHECK_ERROR_CODE(x)</div><div class="ttdoc">This macro calls x and checks its returned error code. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00155">error_code.hpp:155</a></div></div>
<div class="ttc" id="classfoedus_1_1cache_1_1SnapshotFileSet_html_ae5b153acb9f3115c44a48e10ff2262fb"><div class="ttname"><a href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb">foedus::cache::SnapshotFileSet::get_or_open_file</a></div><div class="ttdeci">ErrorCode get_or_open_file(storage::SnapshotPagePointer page_pointer, fs::DirectIoFile **out)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot__file__set_8hpp_source.html#l00065">snapshot_file_set.hpp:65</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1fs_1_1DirectIoFile_html_a2f503633c8a49e8745f55ccba6002b8da9930fb0c0570c46c1456f17657df0b84"><div class="ttname"><a href="classfoedus_1_1fs_1_1DirectIoFile.html#a2f503633c8a49e8745f55ccba6002b8da9930fb0c0570c46c1456f17657df0b84">foedus::fs::DirectIoFile::kDirectIoSeekSet</a></div><div class="ttdoc">The offset is set to offset bytes. </div><div class="ttdef"><b>Definition:</b> <a href="direct__io__file_8hpp_source.html#l00061">direct_io_file.hpp:61</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_cgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_cgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_cgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_cgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="240,33,440,89"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="247,114,433,155"/>
<area shape="rect" id="node6" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="265,249,415,290"/>
<area shape="rect" id="node13" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="265,346,415,387"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="489,85,677,141"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="488,5,679,61"/>
<area shape="rect" id="node7" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="508,231,659,273"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="512,297,655,338"/>
<area shape="rect" id="node9" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="508,166,659,207"/>
<area shape="rect" id="node10" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="513,362,653,403"/>
<area shape="rect" id="node11" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="516,427,651,469"/>
<area shape="rect" id="node12" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="727,427,861,469"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_icgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_icgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_icgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_aae67209f9aa9d03e45a9934067c8245b_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsBuffer.html#a5fe3533ff092920e41ddc56ebcd4165c" title="Read pages to buffer_. " alt="" coords="257,5,407,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4c828d75840906244fd52c44a793232d" title="Read contiguous pages in one shot. " alt="" coords="240,86,424,127"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsBuffer.html#a87975eab41db6a99b88424bd2d6dbb90" title="Moves on to next bin. " alt="" coords="475,5,626,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1hash_1_1ComposedBinsMergedStream.html#ac3a65cebf835d18357a69bd523a3bc9d" title="Consumes inputs for the cur_path_[0] page and install snapshot pointers there. " alt="" coords="677,5,880,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#a1455488538dd235b4de2730693bfd718" title="Read contiguous pages in one shot. " alt="" coords="472,86,629,127"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afdfe6455d49f9cfccb88729c5c771193"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::cache::SnapshotFileSet::uninitialize_once </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b">foedus::DefaultInitializable</a>.</p>

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00041">41</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>

<p>References <a class="el" href="snapshot__file__set_8cpp_source.html#l00047">close_all()</a>, and <a class="el" href="error__stack__batch_8hpp_source.html#l00136">SUMMARIZE_ERROR_BATCH</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                              {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  ErrorStackBatch batch;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a87623f61df5aa626a9d8f09c309c2855">close_all</a>();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ERRORCODES.html#ga67390b22b0afbe5a4938df9847eafda9">SUMMARIZE_ERROR_BATCH</a>(batch);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="ttc" id="group__ERRORCODES_html_ga67390b22b0afbe5a4938df9847eafda9"><div class="ttname"><a href="group__ERRORCODES.html#ga67390b22b0afbe5a4938df9847eafda9">SUMMARIZE_ERROR_BATCH</a></div><div class="ttdeci">#define SUMMARIZE_ERROR_BATCH(x)</div><div class="ttdoc">This macro calls ErrorStackBatch::summarize() with automatically provided parameters. </div><div class="ttdef"><b>Definition:</b> <a href="error__stack__batch_8hpp_source.html#l00136">error_stack_batch.hpp:136</a></div></div>
<div class="ttc" id="classfoedus_1_1cache_1_1SnapshotFileSet_html_a87623f61df5aa626a9d8f09c309c2855"><div class="ttname"><a href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a87623f61df5aa626a9d8f09c309c2855">foedus::cache::SnapshotFileSet::close_all</a></div><div class="ttdeci">void close_all()</div><div class="ttdef"><b>Definition:</b> <a href="snapshot__file__set_8cpp_source.html#l00047">snapshot_file_set.cpp:47</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1cache_1_1SnapshotFileSet_afdfe6455d49f9cfccb88729c5c771193_cgraph.png" border="0" usemap="#classfoedus_1_1cache_1_1SnapshotFileSet_afdfe6455d49f9cfccb88729c5c771193_cgraph" alt=""/></div>
<map name="classfoedus_1_1cache_1_1SnapshotFileSet_afdfe6455d49f9cfccb88729c5c771193_cgraph" id="classfoedus_1_1cache_1_1SnapshotFileSet_afdfe6455d49f9cfccb88729c5c771193_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#a87623f61df5aa626a9d8f09c309c2855" title="foedus::cache::SnapshotFile\lSet::close_all" alt="" coords="240,5,427,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="acad510fd1b3c9d4c5dddfc720002f81a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snapshot__file__set_8cpp_source.html#l00127">127</a> of file <a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                                                {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;SnapshotFileSet&gt;&quot;</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; snapshot : v.files_) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;snapshot id=\&quot;&quot;</span> &lt;&lt; snapshot.first &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : snapshot.second) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      o &lt;&lt; <span class="stringliteral">&quot;&lt;node id=\&quot;&quot;</span> &lt;&lt; entry.first</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot; fd=\&quot;&quot;</span> &lt;&lt; entry.second-&gt;get_descriptor() &lt;&lt; <span class="stringliteral">&quot;\&quot; /&gt;&quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;/snapshot&gt;&quot;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/cache/<a class="el" href="snapshot__file__set_8hpp_source.html">snapshot_file_set.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/cache/<a class="el" href="snapshot__file__set_8cpp_source.html">snapshot_file_set.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1cache.html">cache</a></li><li class="navelem"><a class="el" href="classfoedus_1_1cache_1_1SnapshotFileSet.html">SnapshotFileSet</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
