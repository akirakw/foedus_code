<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::debugging Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacefoedus_1_1debugging.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">foedus::debugging Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Debug-Support</b> functionalities.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b>Debug-Support</b> functionalities. </p>
<p>The engine provides API to turn on/of various debug-support functionalities.</p>
<dl class="section user"><dt>Debug Logging with glog</dt><dd>We use the flexible debug-logging framework, <a href="http://google-glog.googlecode.com/svn/trunk/doc/glog.html">Google-logging</a>, or <em>glog</em> for short. Everyone who writes code in libfoedus should be familiar with glog. For example, use it as follows. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;glog/logging.h&gt;</span></div>
<div class="line"><span class="keywordtype">void</span> your_func() {</div>
<div class="line">    VLOG(1) &lt;&lt; <span class="stringliteral">&quot;Entered your_func()&quot;</span>;  <span class="comment">// verbose debug log with level 1</span></div>
<div class="line">    LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;some info. some_var=&quot;</span> &lt;&lt; some_var;  <span class="comment">// debug log in INFO level</span></div>
<div class="line">    <span class="keywordflow">if</span> (some_error_happened) {</div>
<div class="line">       LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;error!&quot;</span>;  <span class="comment">// debug log in ERROR level</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Where Debug Logs are output</dt><dd>With the default settings, all logs are written to /tmp/libfoedus.'level', such as /tmp/libfoedus.INFO. LOG(ERROR) and LOG(FATAL) are also copied to stderr. Logs of specific execution are written to another file, /tmp/libfoedus.'hostname'.'user name'.log.'severity level'.'date'.'time'.'pid', such as: /tmp/libfoedus.hkimura-z820.kimurhid.log.INFO.20140406-215444.26946</dd></dl>
<dl class="section user"><dt>DLOG and DVLOG</dt><dd>DLOG() and DVLOG() are completely disabled and wiped from our binary if our cmake build level is RELEASE or RELWITHDBGINFO. Most of our code each user transaction goes through should use only DLOG or DVLOG in its critical path.</dd></dl>
<dl class="section user"><dt>Debug Logging Configurations</dt><dd>Although we don't expose glog classes themselves in our APIs, we provide our own APIs to configure them at both start-time and run-time for easier development. The start-time configuration is <a class="el" href="structfoedus_1_1debugging_1_1DebuggingOptions.html" title="Set of options for debugging support. ">foedus::debugging::DebuggingOptions</a> (foedus::EngineOptions::debug_). The run-time configuration APIs are provided by <a class="el" href="classfoedus_1_1debugging_1_1DebuggingSupports.html" title="APIs to support debugging functionalities. ">foedus::debugging::DebuggingSupports</a>, which you can obtain via <a class="el" href="classfoedus_1_1Engine.html#a7a74b38a862f1671322e3c72169e48cc" title="See Debug-Support functionalities. ">foedus::Engine::get_debug()</a>.</dd></dl>
<dl class="section user"><dt>Debug Logging Level House-Rules</dt><dd><ul>
<li>LOG(FATAL) is used where we are not ready for graceful shutdown. Eventually there should be none except asserting code bugs. </li>
<li>LOG(ERROR) is the default level for problemetic cases. Most error logging would be this. Do not use DLOG(ERROR). Instead always use LOG(ERROR). </li>
<li>LOG(WARNING) should be used only for expected and minor user-triggered errors. If it's either unexpected or major (eg out-of-disk is a user error, but worth raising as an error), use LOG(ERROR). You can use DLOG(WARNING) to avoid affecting performance in critical places. </li>
<li>For normal events that happen only once or a few times over very <em>long</em> time (seconds or more), then use LOG(INFO). For example, module initializations logs. </li>
<li>For more frequent normal events (hundreds/thousands per second), use DLOG(INFO). </li>
<li>For debug-messages that <em>YOU</em> wouldn't want to see unless you are writing code in that module, use VLOG. VLOG level 0: ~tens per second, 1: ~hundreds per second, 2: ~thousand per second. If it's more than thousand per second, do NOT use VLOG. It means (at least) that many level checkings per second! Use DLOG/DVLOG then.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Performance Counters</dt><dd>See <a class="el" href="classfoedus_1_1debugging_1_1StopWatch.html" title="A high-resolution stop watch. ">foedus::debugging::StopWatch</a>, <a class="el" href="classfoedus_1_1debugging_1_1RdtscWatch.html" title="A RDTSC-based low-overhead stop watch. ">foedus::debugging::RdtscWatch</a>, and related methods. </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1debugging_1_1DebuggingOptions.html">DebuggingOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of options for debugging support.  <a href="structfoedus_1_1debugging_1_1DebuggingOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1debugging_1_1DebuggingSupports.html">DebuggingSupports</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIs to support debugging functionalities.  <a href="classfoedus_1_1debugging_1_1DebuggingSupports.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1debugging_1_1RdtscWatch.html">RdtscWatch</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A RDTSC-based low-overhead stop watch.  <a href="classfoedus_1_1debugging_1_1RdtscWatch.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1debugging_1_1StopWatch.html">StopWatch</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A high-resolution stop watch.  <a href="classfoedus_1_1debugging_1_1StopWatch.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga48dd46b3a1382506a34fcb4e6e0941f6"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">get_rdtsc</a> ()</td></tr>
<tr class="memdesc:ga48dd46b3a1382506a34fcb4e6e0941f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current CPU cycle via x86 RDTSC.  <a href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6">More...</a><br /></td></tr>
<tr class="separator:ga48dd46b3a1382506a34fcb4e6e0941f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7eac15b41b0fab4e689f62d147ce620"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620">wait_rdtsc_cycles</a> (uint64_t cycles)</td></tr>
<tr class="memdesc:gac7eac15b41b0fab4e689f62d147ce620"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until the given CPU cycles elapse.  <a href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620">More...</a><br /></td></tr>
<tr class="separator:gac7eac15b41b0fab4e689f62d147ce620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a786b0492e9799cb74359408079091"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1debugging.html#a35a786b0492e9799cb74359408079091">get_now_nanosec</a> ()</td></tr>
<tr class="separator:a35a786b0492e9799cb74359408079091"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a12a5a16ba7a25b3ae396d92fa8f626d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1debugging.html#a12a5a16ba7a25b3ae396d92fa8f626d7">static_glog_initialize_counter</a> = 0</td></tr>
<tr class="memdesc:a12a5a16ba7a25b3ae396d92fa8f626d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This and static_glog_initialize_lock are the <b>only</b> static variables we have in the entire code base.  <a href="#a12a5a16ba7a25b3ae396d92fa8f626d7">More...</a><br /></td></tr>
<tr class="separator:a12a5a16ba7a25b3ae396d92fa8f626d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebafcd94907eb7690714236d65ea8f97"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefoedus_1_1debugging.html#aebafcd94907eb7690714236d65ea8f97">static_glog_initialize_lock</a></td></tr>
<tr class="memdesc:aebafcd94907eb7690714236d65ea8f97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exclusive lock variable for Google-logging's initialization/uninitialization.  <a href="#aebafcd94907eb7690714236d65ea8f97">More...</a><br /></td></tr>
<tr class="separator:aebafcd94907eb7690714236d65ea8f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a35a786b0492e9799cb74359408079091"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::debugging::get_now_nanosec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stop__watch_8cpp_source.html#l00025">25</a> of file <a class="el" href="stop__watch_8cpp_source.html">stop_watch.cpp</a>.</p>

<p>Referenced by <a class="el" href="stop__watch_8cpp_source.html#l00039">foedus::debugging::StopWatch::peek_elapsed_ns()</a>, <a class="el" href="stop__watch_8cpp_source.html#l00030">foedus::debugging::StopWatch::start()</a>, and <a class="el" href="stop__watch_8cpp_source.html#l00035">foedus::debugging::StopWatch::stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                           {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  std::chrono::high_resolution_clock::time_point now = std::chrono::high_resolution_clock::now();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">return</span> std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(now.time_since_epoch()).count();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacefoedus_1_1debugging_a35a786b0492e9799cb74359408079091_icgraph.png" border="0" usemap="#namespacefoedus_1_1debugging_a35a786b0492e9799cb74359408079091_icgraph" alt=""/></div>
<map name="namespacefoedus_1_1debugging_a35a786b0492e9799cb74359408079091_icgraph" id="namespacefoedus_1_1debugging_a35a786b0492e9799cb74359408079091_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1debugging_1_1StopWatch.html#ac74ec56435f088eb50f657168e947a73" title="foedus::debugging::\lStopWatch::peek_elapsed_ns" alt="" coords="188,49,384,91"/>
<area shape="rect" id="node3" href="classfoedus_1_1debugging_1_1StopWatch.html#a9f35df8dc3c371659227375baa247074" title="Take current time tick. " alt="" coords="219,115,353,156"/>
<area shape="rect" id="node10" href="classfoedus_1_1debugging_1_1StopWatch.html#a2ee5315a0f6bf736a2a73b29b1709bd2" title="Take another current time tick. " alt="" coords="219,1117,353,1159"/>
<area shape="rect" id="node4" href="classfoedus_1_1debugging_1_1StopWatch.html#ae2f1fd4e9ffdba30bbff4669c11fb9ae" title="foedus::debugging::\lStopWatch::StopWatch" alt="" coords="473,5,633,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a4ae6b016213cb70bb6e5df636b24d129" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1004,606,1188,662"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ac3b15bb4f888327ba49050f62d020f52" title="Defined in masstree_storage_fatify.cpp. " alt="" coords="741,173,915,229"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a32332060560b864a857a839bb0adb4fd" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::fatify_first_root_double" alt="" coords="466,173,639,229"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1257,873,1468,929"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a70b1c5e023fa0aac150e7b607e37727c" title="Deliberately causes splits under the volatile root of first layer, or &quot;fatify&quot; it. " alt="" coords="1009,173,1183,229"/>
<area shape="rect" id="node11" href="classfoedus_1_1cache_1_1CacheHashtable.html#a090081806f98e5bb1184632b9fce6293" title="foedus::cache::CacheHashtable\l::evict_main_loop" alt="" coords="449,648,656,689"/>
<area shape="rect" id="node13" href="classfoedus_1_1cache_1_1CacheHashtable.html#abcd23e94ab45dd35b1ae158a498e4344" title="foedus::cache::CacheHashtable\l::evict_overflow_loop" alt="" coords="449,1020,656,1061"/>
<area shape="rect" id="node14" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#a5a0fd87ff73e0f43e5a901f1c4fa34e3" title="Main routine of cleaner_. " alt="" coords="453,1085,652,1127"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1AlignedMemory.html#a5166bae2fdad9ffa0d5c279edfd3307e" title="Allocate a memory, releasing the current memory if exists. " alt="" coords="446,1151,659,1192"/>
<area shape="rect" id="node26" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="983,1411,1209,1452"/>
<area shape="rect" id="node27" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="736,1669,920,1725"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a7e6f699df114e5e49194791ed183f52f" title="foedus::storage::Storage\lManagerPimpl::clone_all\l_storage_metadata" alt="" coords="746,1589,910,1645"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3a28e3c04c25c6d6cb2cd0628d4fe397" title="foedus::memory::PagePool\lPimpl::initialize_once" alt="" coords="463,1369,642,1411"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa079d110c76126386b0d3eefeaf1ae38" title="foedus::memory::PagePool\lPimpl::uninitialize_once" alt="" coords="463,1435,642,1476"/>
<area shape="rect" id="node34" href="classfoedus_1_1snapshot_1_1LogGleaner.html#a617c3de45c34c6533c7f3e82216557f4" title="Main routine of log gleaner. " alt="" coords="455,1500,650,1541"/>
<area shape="rect" id="node35" href="classfoedus_1_1snapshot_1_1LogMapper.html#a661014d4832400f072544ff4b7e74a45" title="Implements the specific logics in derived class. " alt="" coords="456,1565,649,1607"/>
<area shape="rect" id="node36" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a12f213f8bc7b46e75428a7624999c3fd" title="foedus::snapshot::Snapshot\lManagerPimpl::read_snapshot\l_metadata" alt="" coords="453,1631,652,1687"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#ab768c873a7e2b4a9ce2b4b1df39676ff" title="foedus::storage::array\l::ArrayComposer::compose" alt="" coords="462,1712,643,1753"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#abcc2f61287dd0e9f643cc7c7b406ed32" title="foedus::storage::array\l::ArrayPartitioner::sort_batch" alt="" coords="458,1777,647,1819"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="435,1843,670,1884"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a31399ce4cdbe6c2e84fe02ac7f4f5a5e" title="foedus::storage::hash\l::HashComposer::compose" alt="" coords="463,1908,643,1949"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a8255043c6cb91246cbff43cceb88f596" title="foedus::storage::hash\l::HashPartitioner::sort_batch" alt="" coords="459,1973,647,2015"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#a05590cc1eeeb3aedd917276d19639fd1" title="foedus::storage::masstree\l::MasstreeComposer::compose" alt="" coords="451,2039,655,2080"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#a45eb1cba6ccf8f51c973030848a47a9d" title="foedus::storage::masstree\l::MasstreeComposer::construct_root" alt="" coords="435,304,670,345"/>
<area shape="rect" id="node44" href="namespacefoedus_1_1storage_1_1masstree.html#a51b8fa58d4a0c9481b69bcfb5c5a3493" title="foedus::storage::masstree\l::design_partition_first\l_parallel" alt="" coords="466,370,639,426"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="459,450,647,506"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a3e005713f9a1c12bb2a4771a192b47a5" title="foedus::storage::sequential\l::SequentialComposer::compose" alt="" coords="447,531,658,572"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a91db842a6ef8780d3fe4ba2f0f625da7" title="foedus::storage::sequential\l::SequentialComposer::construct_root" alt="" coords="432,713,673,755"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a49864b0bae19e6c2fe61a2422d1650af" title="foedus::storage::Storage\lManagerPimpl::initialize\l_read_latest_snapshot" alt="" coords="471,779,635,835"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#ad5f949c2d00aea4cb2186c93108b7dcc" title="Special method called only from recovery manager. " alt="" coords="467,859,638,915"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a881d783a084b1225debd5408a9248a51" title="Makes sure all worker threads will commit with an epoch larger than grace_epoch. " alt="" coords="455,939,650,995"/>
<area shape="rect" id="node12" href="classfoedus_1_1cache_1_1CacheHashtable.html#a8e9c6560b489d4709183256c6e6d332a" title="Evict some entries from the hashtable. " alt="" coords="725,573,931,615"/>
<area shape="rect" id="node15" href="classfoedus_1_1cache_1_1CacheManagerPimpl.html#af04416fadb8ec5160408982fa67a08c1" title="foedus::cache::CacheManager\lPimpl::initialize_once" alt="" coords="729,639,927,680"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1AlignedMemory.html#a9261010202e2410730e252c03b792fc0" title="Short for alloc(kNumaAllocOnnode) " alt="" coords="721,997,935,1039"/>
<area shape="rect" id="node18" href="classfoedus_1_1cache_1_1CacheHashtable.html#ab50df22f687f1366d13be2f0f950177b" title="foedus::cache::CacheHashtable\l::CacheHashtable" alt="" coords="725,1063,931,1104"/>
<area shape="rect" id="node19" href="structfoedus_1_1externalize_1_1Externalizable.html#af4e4989a732573c1bbd538a3fbfad930" title="Atomically and durably writes out this object to the specified XML file. " alt="" coords="755,705,901,761"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a70fdc4e831999f941d4105de0c3ce3fd" title="foedus::memory::NumaNode\lMemory::initialize_once" alt="" coords="735,1180,921,1221"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1NumaNodeMemory.html#a197b63dfdbb7d28dab57fdfae379f28b" title="Allocate a memory of the given size on this NUMA node. " alt="" coords="735,1246,921,1302"/>
<area shape="rect" id="node22" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#ac587afcb72a4b29b67a56fb49c49b503" title="Redo metadata operation (create/drop storage) since the latest snapshot. " alt="" coords="725,1327,931,1368"/>
<area shape="rect" id="node23" href="structfoedus_1_1snapshot_1_1LogGleanerResource.html#a8327c8ba0d722a15f441abc4434bea2b" title="foedus::snapshot::LogGleaner\lResource::allocate" alt="" coords="731,1392,925,1433"/>
<area shape="rect" id="node24" href="classfoedus_1_1snapshot_1_1LogMapper.html#a58b8ae141fb701e5d30911e8057d904e" title="foedus::snapshot::LogMapper\l::initialize_once" alt="" coords="731,1457,925,1499"/>
<area shape="rect" id="node25" href="classfoedus_1_1snapshot_1_1LogReducer.html#a2f5f2664fee7cafc37ad28a657e37e9c" title="foedus::snapshot::LogReducer\l::initialize_once" alt="" coords="729,1523,927,1564"/>
<area shape="rect" id="node28" href="structfoedus_1_1snapshot_1_1SnapshotMetadata.html#ad8bed3780996c99cd78149538dca67ab" title="Reads the content of this object from the given XML element. " alt="" coords="736,785,920,827"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashComposeContext.html#ad74a8746a4e10c3931ab206db17f0667" title="HashComposeContext methods. " alt="" coords="748,851,908,907"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="749,932,907,973"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a12a5a16ba7a25b3ae396d92fa8f626d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int foedus::debugging::static_glog_initialize_counter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This and static_glog_initialize_lock are the <b>only</b> static variables we have in the entire code base. </p>
<p>Because google-logging requires initialization/uninitialization only once in a process, we need this to coordinate it between multiple engines. We increment/decrement this after taking lock on static_glog_initialize_lock. The one who observed "0" as old value on increment, will initialize glog. The one who observed "1" as old value on decrement, will uninitialize glog. </p><dl class="section invariant"><dt>Invariant</dt><dd>0 or larger. negative value is definitely a bug in synchronization code. </dd></dl>

<p>Definition at line <a class="el" href="debugging__supports_8cpp_source.html#l00054">54</a> of file <a class="el" href="debugging__supports_8cpp_source.html">debugging_supports.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aebafcd94907eb7690714236d65ea8f97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex foedus::debugging::static_glog_initialize_lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exclusive lock variable for Google-logging's initialization/uninitialization. </p>
<p>Each thread takes this mutex while init/uninit glog. </p>

<p>Definition at line <a class="el" href="debugging__supports_8cpp_source.html#l00061">61</a> of file <a class="el" href="debugging__supports_8cpp_source.html">debugging_supports.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1debugging.html">debugging</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
