<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::thread::Thread Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1thread_1_1Thread.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1thread_1_1Thread-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::thread::Thread Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__THREAD.html">Thread and Thread-Group</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents one thread running on one NUMA core.  
 <a href="classfoedus_1_1thread_1_1Thread.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents one thread running on one NUMA core. </p>
<h1><a class="anchor" id="THREAD_MCS"></a>
MCS-Locking</h1>
<p>SILO uses a simple spin lock with atomic CAS, but we observed a HUUUGE bottleneck with it on big machines (8 sockets or 16 sockets) while it was totally fine up to 4 sockets. It causes a cache invalidation storm even with exponential backoff. The best solution is MCS locking with <em>local</em> spins. We implemented it with advices from HLINUX team. </p>

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00048">48</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="thread_8hpp_source.html">thread.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::thread::Thread:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread__inherit__graph.png" border="0" usemap="#foedus_1_1thread_1_1Thread_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1thread_1_1Thread_inherit__map" id="foedus_1_1thread_1_1Thread_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="15,5,147,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::thread::Thread:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread__coll__graph.png" border="0" usemap="#foedus_1_1thread_1_1Thread_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1thread_1_1Thread_coll__map" id="foedus_1_1thread_1_1Thread_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="15,5,147,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7e94630e018900343888e94e36c6b14c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a7e94630e018900343888e94e36c6b14c">Constants</a> { <a class="el" href="classfoedus_1_1thread_1_1Thread.html#a7e94630e018900343888e94e36c6b14cabf2c9dc4a44ca83095e56776ae6817da">kMaxFindPagesBatch</a> = 32
 }<tr class="separator:a7e94630e018900343888e94e36c6b14c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af953e36ff52d5aaa59fc6984198786d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#af953e36ff52d5aaa59fc6984198786d8">Thread</a> ()=delete</td></tr>
<tr class="separator:af953e36ff52d5aaa59fc6984198786d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca5db3dcfee9af3b627c6cc5755dbb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a5ca5db3dcfee9af3b627c6cc5755dbb4">Thread</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">ThreadId</a> id, <a class="el" href="group__THREAD.html#gad998a8a9811ac9f9bd7c88bea3ce1d9b">ThreadGlobalOrdinal</a> global_ordinal)</td></tr>
<tr class="separator:a5ca5db3dcfee9af3b627c6cc5755dbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c1466c73104931f6dc0f4a25b16ab7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#aa4c1466c73104931f6dc0f4a25b16ab7">~Thread</a> ()</td></tr>
<tr class="separator:aa4c1466c73104931f6dc0f4a25b16ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc13e2a4ab1b1f5c5338f1e3ba28dc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#acbc13e2a4ab1b1f5c5338f1e3ba28dc4">initialize</a> () override</td></tr>
<tr class="memdesc:acbc13e2a4ab1b1f5c5338f1e3ba28dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires resources in this object, usually called right after constructor.  <a href="#acbc13e2a4ab1b1f5c5338f1e3ba28dc4">More...</a><br /></td></tr>
<tr class="separator:acbc13e2a4ab1b1f5c5338f1e3ba28dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79e8d79bcd1bfff571639ca189f8475"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ae79e8d79bcd1bfff571639ca189f8475">is_initialized</a> () const  override</td></tr>
<tr class="memdesc:ae79e8d79bcd1bfff571639ca189f8475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already initialized or not.  <a href="#ae79e8d79bcd1bfff571639ca189f8475">More...</a><br /></td></tr>
<tr class="separator:ae79e8d79bcd1bfff571639ca189f8475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d14adc56bcddbf243f32fd1981fae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a19d14adc56bcddbf243f32fd1981fae1">uninitialize</a> () override</td></tr>
<tr class="memdesc:a19d14adc56bcddbf243f32fd1981fae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">An <em>idempotent</em> method to release all resources of this object, if any.  <a href="#a19d14adc56bcddbf243f32fd1981fae1">More...</a><br /></td></tr>
<tr class="separator:a19d14adc56bcddbf243f32fd1981fae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64fa1150b812810a2697bd6293aaac9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a">get_engine</a> () const </td></tr>
<tr class="separator:a64fa1150b812810a2697bd6293aaac9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af98ed86adde3f5e39c9cab39440f38da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">ThreadId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da">get_thread_id</a> () const </td></tr>
<tr class="separator:af98ed86adde3f5e39c9cab39440f38da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07f33f2b78aa6e6c66a2149b1db52e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">ThreadGroupId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8">get_numa_node</a> () const </td></tr>
<tr class="separator:aa07f33f2b78aa6e6c66a2149b1db52e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6c8773a627cd1d2ebe5fb194571289"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__THREAD.html#gad998a8a9811ac9f9bd7c88bea3ce1d9b">ThreadGlobalOrdinal</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a3d6c8773a627cd1d2ebe5fb194571289">get_thread_global_ordinal</a> () const </td></tr>
<tr class="separator:a3d6c8773a627cd1d2ebe5fb194571289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48c54832becbaa9141926af14705ba3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1xct_1_1Xct.html">xct::Xct</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3">get_current_xct</a> ()</td></tr>
<tr class="memdesc:ac48c54832becbaa9141926af14705ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the transaction that is currently running on this thread.  <a href="#ac48c54832becbaa9141926af14705ba3">More...</a><br /></td></tr>
<tr class="separator:ac48c54832becbaa9141926af14705ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b69ebf736941b07378feabc8d23fd66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a0b69ebf736941b07378feabc8d23fd66">is_running_xct</a> () const </td></tr>
<tr class="memdesc:a0b69ebf736941b07378feabc8d23fd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if this thread is running an active transaction.  <a href="#a0b69ebf736941b07378feabc8d23fd66">More...</a><br /></td></tr>
<tr class="separator:a0b69ebf736941b07378feabc8d23fd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e553f5e14ec00d8ba23fbdfa26d687e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1memory_1_1NumaCoreMemory.html">memory::NumaCoreMemory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a4e553f5e14ec00d8ba23fbdfa26d687e">get_thread_memory</a> () const </td></tr>
<tr class="memdesc:a4e553f5e14ec00d8ba23fbdfa26d687e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the private memory repository of this thread.  <a href="#a4e553f5e14ec00d8ba23fbdfa26d687e">More...</a><br /></td></tr>
<tr class="separator:a4e553f5e14ec00d8ba23fbdfa26d687e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45fb679126e4fd5b02ccb7d1f257e4bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemory.html">memory::NumaNodeMemory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a45fb679126e4fd5b02ccb7d1f257e4bf">get_node_memory</a> () const </td></tr>
<tr class="memdesc:a45fb679126e4fd5b02ccb7d1f257e4bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the node-shared memory repository of the NUMA node this thread belongs to.  <a href="#a45fb679126e4fd5b02ccb7d1f257e4bf">More...</a><br /></td></tr>
<tr class="separator:a45fb679126e4fd5b02ccb7d1f257e4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5d37d6dac9966989e23381f600fcee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1log_1_1ThreadLogBuffer.html">log::ThreadLogBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee">get_thread_log_buffer</a> ()</td></tr>
<tr class="memdesc:a9a5d37d6dac9966989e23381f600fcee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the private log buffer for this thread.  <a href="#a9a5d37d6dac9966989e23381f600fcee">More...</a><br /></td></tr>
<tr class="separator:a9a5d37d6dac9966989e23381f600fcee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77cde98794b5a55e0d295284acb3e6d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d">get_global_volatile_page_resolver</a> () const </td></tr>
<tr class="memdesc:aa77cde98794b5a55e0d295284acb3e6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the page resolver to convert page ID to page pointer.  <a href="#aa77cde98794b5a55e0d295284acb3e6d">More...</a><br /></td></tr>
<tr class="separator:aa77cde98794b5a55e0d295284acb3e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8953b86c90ec5ee1730b05397a259da"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html">memory::LocalPageResolver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da">get_local_volatile_page_resolver</a> () const </td></tr>
<tr class="memdesc:ac8953b86c90ec5ee1730b05397a259da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns page resolver to convert only local page ID to page pointer.  <a href="#ac8953b86c90ec5ee1730b05397a259da">More...</a><br /></td></tr>
<tr class="separator:ac8953b86c90ec5ee1730b05397a259da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7455cb8fa3a550cd96ebbe3deb64e9a8"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a7455cb8fa3a550cd96ebbe3deb64e9a8">get_snapshot_cache_hits</a> () const </td></tr>
<tr class="memdesc:a7455cb8fa3a550cd96ebbe3deb64e9a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">[statistics] count of cache hits in snapshot caches  <a href="#a7455cb8fa3a550cd96ebbe3deb64e9a8">More...</a><br /></td></tr>
<tr class="separator:a7455cb8fa3a550cd96ebbe3deb64e9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c3ae9cb8ef7fe33b33e640b9bdc858"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ab3c3ae9cb8ef7fe33b33e640b9bdc858">get_snapshot_cache_misses</a> () const </td></tr>
<tr class="memdesc:ab3c3ae9cb8ef7fe33b33e640b9bdc858"><td class="mdescLeft">&#160;</td><td class="mdescRight">[statistics] count of cache misses in snapshot caches  <a href="#ab3c3ae9cb8ef7fe33b33e640b9bdc858">More...</a><br /></td></tr>
<tr class="separator:ab3c3ae9cb8ef7fe33b33e640b9bdc858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8947434acda8b636ea6ffc8cd1af8a60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a8947434acda8b636ea6ffc8cd1af8a60">reset_snapshot_cache_counts</a> () const </td></tr>
<tr class="memdesc:a8947434acda8b636ea6ffc8cd1af8a60"><td class="mdescLeft">&#160;</td><td class="mdescRight">[statistics] resets the above two  <a href="#a8947434acda8b636ea6ffc8cd1af8a60">More...</a><br /></td></tr>
<tr class="separator:a8947434acda8b636ea6ffc8cd1af8a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1f89cfaad84ff5dda0b6f7999a519e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e">resolve</a> (<a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a> ptr) const </td></tr>
<tr class="memdesc:ade1f89cfaad84ff5dda0b6f7999a519e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for get_global_volatile_page_resolver.resolve_offset()  <a href="#ade1f89cfaad84ff5dda0b6f7999a519e">More...</a><br /></td></tr>
<tr class="separator:ade1f89cfaad84ff5dda0b6f7999a519e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628464b9d773c8b17717719cc5af6371"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371">resolve_newpage</a> (<a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a> ptr) const </td></tr>
<tr class="memdesc:a628464b9d773c8b17717719cc5af6371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for get_global_volatile_page_resolver.resolve_offset_newpage()  <a href="#a628464b9d773c8b17717719cc5af6371">More...</a><br /></td></tr>
<tr class="separator:a628464b9d773c8b17717719cc5af6371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892665edac104de10ffb46980a9d6bbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a892665edac104de10ffb46980a9d6bbf">resolve</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a> offset) const </td></tr>
<tr class="memdesc:a892665edac104de10ffb46980a9d6bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for get_local_volatile_page_resolver.resolve_offset()  <a href="#a892665edac104de10ffb46980a9d6bbf">More...</a><br /></td></tr>
<tr class="separator:a892665edac104de10ffb46980a9d6bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbca35bd1ea6ee3cb3d94616166644e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a0bbca35bd1ea6ee3cb3d94616166644e">resolve_newpage</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a> offset) const </td></tr>
<tr class="memdesc:a0bbca35bd1ea6ee3cb3d94616166644e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for get_local_volatile_page_resolver.resolve_offset_newpage()  <a href="#a0bbca35bd1ea6ee3cb3d94616166644e">More...</a><br /></td></tr>
<tr class="separator:a0bbca35bd1ea6ee3cb3d94616166644e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f375db3d50174cf49746e04ce00118"><td class="memTemplParams" colspan="2">template&lt;typename P &gt; </td></tr>
<tr class="memitem:a17f375db3d50174cf49746e04ce00118"><td class="memTemplItemLeft" align="right" valign="top">P *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a17f375db3d50174cf49746e04ce00118">resolve_cast</a> (<a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a> ptr) const </td></tr>
<tr class="memdesc:a17f375db3d50174cf49746e04ce00118"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() ">resolve()</a> plus reinterpret_cast  <a href="#a17f375db3d50174cf49746e04ce00118">More...</a><br /></td></tr>
<tr class="separator:a17f375db3d50174cf49746e04ce00118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3d3dfea35515ae7971106bce95b242"><td class="memTemplParams" colspan="2">template&lt;typename P &gt; </td></tr>
<tr class="memitem:a5a3d3dfea35515ae7971106bce95b242"><td class="memTemplItemLeft" align="right" valign="top">P *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a5a3d3dfea35515ae7971106bce95b242">resolve_newpage_cast</a> (<a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a> ptr) const </td></tr>
<tr class="separator:a5a3d3dfea35515ae7971106bce95b242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3885da5445118f8a8ee1637cef6b2a97"><td class="memTemplParams" colspan="2">template&lt;typename P &gt; </td></tr>
<tr class="memitem:a3885da5445118f8a8ee1637cef6b2a97"><td class="memTemplItemLeft" align="right" valign="top">P *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a3885da5445118f8a8ee1637cef6b2a97">resolve_cast</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a> offset) const </td></tr>
<tr class="separator:a3885da5445118f8a8ee1637cef6b2a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef8bb89c37d6c5cbaf79c033dc11077"><td class="memTemplParams" colspan="2">template&lt;typename P &gt; </td></tr>
<tr class="memitem:a4ef8bb89c37d6c5cbaf79c033dc11077"><td class="memTemplItemLeft" align="right" valign="top">P *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a4ef8bb89c37d6c5cbaf79c033dc11077">resolve_newpage_cast</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a> offset) const </td></tr>
<tr class="separator:a4ef8bb89c37d6c5cbaf79c033dc11077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a1cd82a866fd82299acc66a59c2487"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487">find_or_read_a_snapshot_page</a> (<a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> page_id, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **out)</td></tr>
<tr class="memdesc:ad9a1cd82a866fd82299acc66a59c2487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the given page in snapshot cache, reading it if not found.  <a href="#ad9a1cd82a866fd82299acc66a59c2487">More...</a><br /></td></tr>
<tr class="separator:ad9a1cd82a866fd82299acc66a59c2487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878c3aa228a6e8925e21a3b7b0592349"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349">find_or_read_snapshot_pages_batch</a> (uint16_t batch_size, const <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> *page_ids, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **out)</td></tr>
<tr class="memdesc:a878c3aa228a6e8925e21a3b7b0592349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Batched version of <a class="el" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. ">find_or_read_a_snapshot_page()</a>.  <a href="#a878c3aa228a6e8925e21a3b7b0592349">More...</a><br /></td></tr>
<tr class="separator:a878c3aa228a6e8925e21a3b7b0592349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e87db0559d67ac9a942e345e3a2ea2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a29e87db0559d67ac9a942e345e3a2ea2">read_a_snapshot_page</a> (<a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> page_id, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *buffer)</td></tr>
<tr class="memdesc:a29e87db0559d67ac9a942e345e3a2ea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a snapshot page using the thread-local file descriptor set.  <a href="#a29e87db0559d67ac9a942e345e3a2ea2">More...</a><br /></td></tr>
<tr class="separator:a29e87db0559d67ac9a942e345e3a2ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1455488538dd235b4de2730693bfd718"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a1455488538dd235b4de2730693bfd718">read_snapshot_pages</a> (<a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> page_id_begin, uint32_t page_count, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *buffer)</td></tr>
<tr class="memdesc:a1455488538dd235b4de2730693bfd718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read contiguous pages in one shot.  <a href="#a1455488538dd235b4de2730693bfd718">More...</a><br /></td></tr>
<tr class="separator:a1455488538dd235b4de2730693bfd718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d14670c512a2f2f85ff6519a28488c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c">install_a_volatile_page</a> (<a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> *pointer, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **installed_page)</td></tr>
<tr class="memdesc:a13d14670c512a2f2f85ff6519a28488c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Installs a volatile page to the given dual pointer as a copy of the snapshot page.  <a href="#a13d14670c512a2f2f85ff6519a28488c">More...</a><br /></td></tr>
<tr class="separator:a13d14670c512a2f2f85ff6519a28488c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e03c29d8931350b4df1fd1f8b9e4b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6">follow_page_pointer</a> (<a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">storage::VolatilePageInit</a> page_initializer, bool tolerate_null_pointer, bool will_modify, bool take_ptr_set_snapshot, <a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> *pointer, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **page, const <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *parent, uint16_t index_in_parent)</td></tr>
<tr class="memdesc:a81e03c29d8931350b4df1fd1f8b9e4b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A general method to follow (read) a page pointer.  <a href="#a81e03c29d8931350b4df1fd1f8b9e4b6">More...</a><br /></td></tr>
<tr class="separator:a81e03c29d8931350b4df1fd1f8b9e4b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb36cf6186f747e38d98a13c6419e128"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#abb36cf6186f747e38d98a13c6419e128">follow_page_pointers_for_read_batch</a> (uint16_t batch_size, <a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">storage::VolatilePageInit</a> page_initializer, bool tolerate_null_pointer, bool take_ptr_set_snapshot, <a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> **pointers, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **parents, const uint16_t *index_in_parents, bool *followed_snapshots, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **out)</td></tr>
<tr class="memdesc:abb36cf6186f747e38d98a13c6419e128"><td class="mdescLeft">&#160;</td><td class="mdescRight">Batched version of follow_page_pointer with will_modify==false.  <a href="#abb36cf6186f747e38d98a13c6419e128">More...</a><br /></td></tr>
<tr class="separator:abb36cf6186f747e38d98a13c6419e128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b375e7de4d6c9c7b222c45b271126dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc">follow_page_pointers_for_write_batch</a> (uint16_t batch_size, <a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">storage::VolatilePageInit</a> page_initializer, <a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> **pointers, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **parents, const uint16_t *index_in_parents, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **out)</td></tr>
<tr class="memdesc:a2b375e7de4d6c9c7b222c45b271126dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true.  <a href="#a2b375e7de4d6c9c7b222c45b271126dc">More...</a><br /></td></tr>
<tr class="separator:a2b375e7de4d6c9c7b222c45b271126dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41d50498e6830c6aedc20c93b495037"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037">collect_retired_volatile_page</a> (<a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a> ptr)</td></tr>
<tr class="memdesc:ab41d50498e6830c6aedc20c93b495037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps the specified volatile page as retired as of the current epoch.  <a href="#ab41d50498e6830c6aedc20c93b495037">More...</a><br /></td></tr>
<tr class="separator:ab41d50498e6830c6aedc20c93b495037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1ea3713f779b1c3f6215533145ef26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1McsRwSimpleBlock.html">xct::McsRwSimpleBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a1b1ea3713f779b1c3f6215533145ef26">get_mcs_rw_simple_blocks</a> ()</td></tr>
<tr class="memdesc:a1b1ea3713f779b1c3f6215533145ef26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unconditionally takes MCS lock on the given mcs_lock.  <a href="#a1b1ea3713f779b1c3f6215533145ef26">More...</a><br /></td></tr>
<tr class="separator:a1b1ea3713f779b1c3f6215533145ef26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533a93844ae692e32571524f656870b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1McsRwExtendedBlock.html">xct::McsRwExtendedBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a533a93844ae692e32571524f656870b3">get_mcs_rw_extended_blocks</a> ()</td></tr>
<tr class="separator:a533a93844ae692e32571524f656870b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52244fbb6c13b0c0774431af72d482e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ab52244fbb6c13b0c0774431af72d482e">cll_try_or_acquire_single_lock</a> (<a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">xct::LockListPosition</a> pos)</td></tr>
<tr class="memdesc:ab52244fbb6c13b0c0774431af72d482e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods related to Current Lock List (CLL) These are the only interface in <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> to lock records.  <a href="#ab52244fbb6c13b0c0774431af72d482e">More...</a><br /></td></tr>
<tr class="separator:ab52244fbb6c13b0c0774431af72d482e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476c43885a66c28ac33e624d071a7a7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a476c43885a66c28ac33e624d071a7a7d">cll_try_or_acquire_multiple_locks</a> (<a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">xct::LockListPosition</a> upto_pos)</td></tr>
<tr class="memdesc:a476c43885a66c28ac33e624d071a7a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire multiple locks up to the given position in canonical order.  <a href="#a476c43885a66c28ac33e624d071a7a7d">More...</a><br /></td></tr>
<tr class="separator:a476c43885a66c28ac33e624d071a7a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b9b35db175ad18d7e889b3bd57ea85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a94b9b35db175ad18d7e889b3bd57ea85">cll_giveup_all_locks_after</a> (<a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a> address)</td></tr>
<tr class="memdesc:a94b9b35db175ad18d7e889b3bd57ea85"><td class="mdescLeft">&#160;</td><td class="mdescRight">This <em>gives-up</em> locks in CLL that are not yet taken.  <a href="#a94b9b35db175ad18d7e889b3bd57ea85">More...</a><br /></td></tr>
<tr class="separator:a94b9b35db175ad18d7e889b3bd57ea85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7827896a031940da7d2361dcb2d236d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a7827896a031940da7d2361dcb2d236d2">cll_giveup_all_locks_at_and_after</a> (<a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a> address)</td></tr>
<tr class="separator:a7827896a031940da7d2361dcb2d236d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff4d49ae69ae490afb0cc09c4c19507"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a4ff4d49ae69ae490afb0cc09c4c19507">cll_release_all_locks_after</a> (<a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a> address)</td></tr>
<tr class="memdesc:a4ff4d49ae69ae490afb0cc09c4c19507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all locks in CLL of this thread whose addresses are canonically ordered before the parameter.  <a href="#a4ff4d49ae69ae490afb0cc09c4c19507">More...</a><br /></td></tr>
<tr class="separator:a4ff4d49ae69ae490afb0cc09c4c19507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f4da1c6c9bf0b580ca62464b80c365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#af2f4da1c6c9bf0b580ca62464b80c365">cll_release_all_locks_at_and_after</a> (<a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a> address)</td></tr>
<tr class="memdesc:af2f4da1c6c9bf0b580ca62464b80c365"><td class="mdescLeft">&#160;</td><td class="mdescRight">same as mcs_release_all_current_locks_after(address - 1)  <a href="#af2f4da1c6c9bf0b580ca62464b80c365">More...</a><br /></td></tr>
<tr class="separator:af2f4da1c6c9bf0b580ca62464b80c365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21bff0861e0c12573bc0a6b776857b76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a21bff0861e0c12573bc0a6b776857b76">cll_release_all_locks</a> ()</td></tr>
<tr class="separator:a21bff0861e0c12573bc0a6b776857b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5e6b008138d755e7e401f25927400c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a2a5e6b008138d755e7e401f25927400c">run_nested_sysxct</a> (<a class="el" href="structfoedus_1_1xct_1_1SysxctFunctor.html">xct::SysxctFunctor</a> *functor, uint32_t max_retries=0)</td></tr>
<tr class="memdesc:a2a5e6b008138d755e7e401f25927400c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods related to System transactions (sysxct) nested under this thread.  <a href="#a2a5e6b008138d755e7e401f25927400c">More...</a><br /></td></tr>
<tr class="separator:a2a5e6b008138d755e7e401f25927400c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383dee9d2971403e9bc3bef4a2d33d44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a383dee9d2971403e9bc3bef4a2d33d44">sysxct_record_lock</a> (<a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *sysxct_workspace, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a> page_id, <a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> *lock)</td></tr>
<tr class="memdesc:a383dee9d2971403e9bc3bef4a2d33d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a lock for a sysxct running under this thread.  <a href="#a383dee9d2971403e9bc3bef4a2d33d44">More...</a><br /></td></tr>
<tr class="separator:a383dee9d2971403e9bc3bef4a2d33d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664a76eb577003d4d4c0d417ecb014cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a664a76eb577003d4d4c0d417ecb014cc">sysxct_batch_record_locks</a> (<a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *sysxct_workspace, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a> page_id, uint32_t lock_count, <a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> **locks)</td></tr>
<tr class="memdesc:a664a76eb577003d4d4c0d417ecb014cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a bunch of locks in the same page for a sysxct running under this thread.  <a href="#a664a76eb577003d4d4c0d417ecb014cc">More...</a><br /></td></tr>
<tr class="separator:a664a76eb577003d4d4c0d417ecb014cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac249b3b032751e9bf0903ad7e45255"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a7ac249b3b032751e9bf0903ad7e45255">sysxct_page_lock</a> (<a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *sysxct_workspace, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *page)</td></tr>
<tr class="memdesc:a7ac249b3b032751e9bf0903ad7e45255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a page lock in the same page for a sysxct running under this thread.  <a href="#a7ac249b3b032751e9bf0903ad7e45255">More...</a><br /></td></tr>
<tr class="separator:a7ac249b3b032751e9bf0903ad7e45255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2573902a53ca92a0cf7e19113d5b5979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a2573902a53ca92a0cf7e19113d5b5979">sysxct_batch_page_locks</a> (<a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *sysxct_workspace, uint32_t lock_count, <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **pages)</td></tr>
<tr class="memdesc:a2573902a53ca92a0cf7e19113d5b5979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a bunch of page locks for a sysxct running under this thread.  <a href="#a2573902a53ca92a0cf7e19113d5b5979">More...</a><br /></td></tr>
<tr class="separator:a2573902a53ca92a0cf7e19113d5b5979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f19e6df65000416391b796d9b2f9d66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a6f19e6df65000416391b796d9b2f9d66">get_in_commit_epoch_address</a> ()</td></tr>
<tr class="memdesc:a6f19e6df65000416391b796d9b2f9d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently we don't have sysxct_release_locks() etc.  <a href="#a6f19e6df65000416391b796d9b2f9d66">More...</a><br /></td></tr>
<tr class="separator:a6f19e6df65000416391b796d9b2f9d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0676c5bde1bc0a1923d51217311a5a0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1thread_1_1ThreadPimpl.html">ThreadPimpl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a0676c5bde1bc0a1923d51217311a5a0e">get_pimpl</a> () const </td></tr>
<tr class="memdesc:a0676c5bde1bc0a1923d51217311a5a0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pimpl of this object.  <a href="#a0676c5bde1bc0a1923d51217311a5a0e">More...</a><br /></td></tr>
<tr class="separator:a0676c5bde1bc0a1923d51217311a5a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83bb972b117e155dc7f0faa56751571b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1assorted_1_1UniformRandom.html">assorted::UniformRandom</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a83bb972b117e155dc7f0faa56751571b">get_lock_rnd</a> ()</td></tr>
<tr class="separator:a83bb972b117e155dc7f0faa56751571b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadca5ec640ccba5dbdc6860ebb15850d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2">is_hot_page</a> (const <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *page) const </td></tr>
<tr class="separator:gadca5ec640ccba5dbdc6860ebb15850d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Initializable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Initializable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Initializable.html">foedus::Initializable</a></td></tr>
<tr class="memitem:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Initializable.html#aff308260543d18b3fd1367fd9017b176">~Initializable</a> ()</td></tr>
<tr class="separator:aff308260543d18b3fd1367fd9017b176 inherit pub_methods_classfoedus_1_1Initializable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a30d7603eadd073008b215ee8f99218a6"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1thread_1_1Thread.html#a30d7603eadd073008b215ee8f99218a6">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1thread_1_1Thread.html">Thread</a> &amp;v)</td></tr>
<tr class="separator:a30d7603eadd073008b215ee8f99218a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a7e94630e018900343888e94e36c6b14c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfoedus_1_1thread_1_1Thread.html#a7e94630e018900343888e94e36c6b14c">foedus::thread::Thread::Constants</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a7e94630e018900343888e94e36c6b14cabf2c9dc4a44ca83095e56776ae6817da"></a>kMaxFindPagesBatch&#160;</td><td class="fielddoc">
<p>Max size for <a class="el" href="classfoedus_1_1thread_1_1Thread.html#a878c3aa228a6e8925e21a3b7b0592349" title="Batched version of find_or_read_a_snapshot_page(). ">find_or_read_snapshot_pages_batch()</a> etc. </p>
<p>This must be same or less than CacheHashtable::kMaxFindBatchSize. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00050">50</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                 {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classfoedus_1_1thread_1_1Thread.html#a7e94630e018900343888e94e36c6b14cabf2c9dc4a44ca83095e56776ae6817da">kMaxFindPagesBatch</a> = 32,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  };</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_a7e94630e018900343888e94e36c6b14cabf2c9dc4a44ca83095e56776ae6817da"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#a7e94630e018900343888e94e36c6b14cabf2c9dc4a44ca83095e56776ae6817da">foedus::thread::Thread::kMaxFindPagesBatch</a></div><div class="ttdoc">Max size for find_or_read_snapshot_pages_batch() etc. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8hpp_source.html#l00055">thread.hpp:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af953e36ff52d5aaa59fc6984198786d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::Thread::Thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5ca5db3dcfee9af3b627c6cc5755dbb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::Thread::Thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">ThreadId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#gad998a8a9811ac9f9bd7c88bea3ce1d9b">ThreadGlobalOrdinal</a>&#160;</td>
          <td class="paramname"><em>global_ordinal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00032">32</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="uniform__random_8hpp_source.html#l00078">foedus::assorted::UniformRandom::set_current_seed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  : pimpl_(<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  lock_rnd_.<a class="code" href="classfoedus_1_1assorted_1_1UniformRandom.html#a3340807dd12eccda4de0ebb14363c99c">set_current_seed</a>(global_ordinal);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  pimpl_ = <span class="keyword">new</span> ThreadPimpl(engine, <span class="keyword">this</span>, <span class="keywordtype">id</span>, global_ordinal);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1assorted_1_1UniformRandom_html_a3340807dd12eccda4de0ebb14363c99c"><div class="ttname"><a href="classfoedus_1_1assorted_1_1UniformRandom.html#a3340807dd12eccda4de0ebb14363c99c">foedus::assorted::UniformRandom::set_current_seed</a></div><div class="ttdeci">void set_current_seed(uint64_t seed)</div><div class="ttdef"><b>Definition:</b> <a href="uniform__random_8hpp_source.html#l00078">uniform_random.hpp:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a5ca5db3dcfee9af3b627c6cc5755dbb4_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a5ca5db3dcfee9af3b627c6cc5755dbb4_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a5ca5db3dcfee9af3b627c6cc5755dbb4_cgraph" id="classfoedus_1_1thread_1_1Thread_a5ca5db3dcfee9af3b627c6cc5755dbb4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1assorted_1_1UniformRandom.html#a3340807dd12eccda4de0ebb14363c99c" title="foedus::assorted::Uniform\lRandom::set_current_seed" alt="" coords="204,5,383,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4c1466c73104931f6dc0f4a25b16ab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::thread::Thread::~Thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00040">40</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keyword">delete</span> pimpl_;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  pimpl_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a94b9b35db175ad18d7e889b3bd57ea85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::Thread::cll_giveup_all_locks_after </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This <em>gives-up</em> locks in CLL that are not yet taken. </p>
<p>preferred mode will be set to either NoLock or same as taken_mode, and all incomplete async locks will be cancelled. </p>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00847">847</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00887">foedus::thread::ThreadPimpl::cll_giveup_all_locks_after()</a>.</p>

<p>Referenced by <a class="el" href="thread_8hpp_source.html#l00297">cll_giveup_all_locks_at_and_after()</a>, and <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                                                                  {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4197d522317d6177fd0d9a0ee811cdf5">cll_giveup_all_locks_after</a>(address);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a4197d522317d6177fd0d9a0ee811cdf5"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4197d522317d6177fd0d9a0ee811cdf5">foedus::thread::ThreadPimpl::cll_giveup_all_locks_after</a></div><div class="ttdeci">void cll_giveup_all_locks_after(xct::UniversalLockId address)</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00887">thread_pimpl.cpp:887</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_cgraph" id="classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4197d522317d6177fd0d9a0ee811cdf5" title="foedus::thread::ThreadPimpl\l::cll_giveup_all_locks_after" alt="" coords="229,71,413,113"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="484,6,623,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="461,71,645,113"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1CurrentLockList.html#a3ac4e854509ec8a1cf9a70fcba501a68" title="This gives&#45;up locks in CLL that are not yet taken. " alt="" coords="471,137,635,178"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="693,71,857,113"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1CurrentLockList.html#ae0cbd2f6b369d0340c3222f124fe122b" title="foedus::xct::CurrentLock\lList::begin" alt="" coords="693,137,857,178"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1CurrentLockList.html#ad34e69a6289f0860fe000c3bbecda1cb" title="foedus::xct::CurrentLock\lList::end" alt="" coords="693,202,857,243"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="905,71,1069,113"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="1117,26,1313,67"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="1135,117,1296,158"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1361,13,1573,54"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1630,5,1806,61"/>
<area shape="rect" id="node12" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1385,79,1550,105"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="1393,130,1542,171"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1386,195,1549,237"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1621,162,1815,203"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1637,227,1799,269"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_icgraph" id="classfoedus_1_1thread_1_1Thread_a94b9b35db175ad18d7e889b3bd57ea85_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#a7827896a031940da7d2361dcb2d236d2" title="foedus::thread::Thread\l::cll_giveup_all_locks\l_at_and_after" alt="" coords="237,311,388,367"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="229,391,396,447"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="444,399,579,440"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="661,5,796,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="646,71,811,127"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="646,151,811,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="646,231,811,287"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="646,311,811,367"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="627,391,831,447"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="646,471,811,527"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="646,551,811,607"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="646,631,811,687"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="640,711,817,767"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="640,1111,817,1167"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="883,79,1058,120"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="883,151,1058,207"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="883,231,1058,287"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="883,311,1058,367"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="885,391,1056,447"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="883,471,1058,527"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="883,551,1058,607"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="883,631,1058,687"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="880,711,1061,767"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1128,631,1309,687"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1128,711,1309,767"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1403,591,1584,647"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1411,671,1575,727"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1132,951,1305,1007"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="881,1111,1060,1167"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="884,1425,1057,1481"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="879,1563,1063,1619"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1386,799,1601,840"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1394,864,1593,905"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1407,1157,1580,1213"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1407,930,1580,986"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1375,1011,1612,1052"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1378,1257,1609,1299"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1400,1077,1587,1133"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1132,791,1305,847"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1132,871,1305,927"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1132,1031,1305,1087"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1124,1111,1313,1167"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="1121,1191,1316,1247"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="1125,1271,1312,1327"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="1124,1351,1313,1407"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1113,1432,1325,1473"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1111,1497,1327,1539"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1132,1563,1305,1619"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1132,1643,1305,1699"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7827896a031940da7d2361dcb2d236d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::Thread::cll_giveup_all_locks_at_and_after </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00297">297</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00847">cll_giveup_all_locks_after()</a>, and <a class="el" href="xct__id_8hpp_source.html#l00137">foedus::xct::kNullUniversalLockId</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                                                          {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (address == <a class="code" href="namespacefoedus_1_1xct.html#a599719d9d5b1849a94510b779c1163fe">xct::kNullUniversalLockId</a>) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="classfoedus_1_1thread_1_1Thread.html#a94b9b35db175ad18d7e889b3bd57ea85">cll_giveup_all_locks_after</a>(<a class="code" href="namespacefoedus_1_1xct.html#a599719d9d5b1849a94510b779c1163fe">xct::kNullUniversalLockId</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <a class="code" href="classfoedus_1_1thread_1_1Thread.html#a94b9b35db175ad18d7e889b3bd57ea85">cll_giveup_all_locks_after</a>(address - 1U);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_a94b9b35db175ad18d7e889b3bd57ea85"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#a94b9b35db175ad18d7e889b3bd57ea85">foedus::thread::Thread::cll_giveup_all_locks_after</a></div><div class="ttdeci">void cll_giveup_all_locks_after(xct::UniversalLockId address)</div><div class="ttdoc">This gives-up locks in CLL that are not yet taken. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00847">thread_pimpl.cpp:847</a></div></div>
<div class="ttc" id="namespacefoedus_1_1xct_html_a599719d9d5b1849a94510b779c1163fe"><div class="ttname"><a href="namespacefoedus_1_1xct.html#a599719d9d5b1849a94510b779c1163fe">foedus::xct::kNullUniversalLockId</a></div><div class="ttdeci">const UniversalLockId kNullUniversalLockId</div><div class="ttdoc">This never points to a valid lock, and also evaluates less than any vaild alocks. ...</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00137">xct_id.hpp:137</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a7827896a031940da7d2361dcb2d236d2_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a7827896a031940da7d2361dcb2d236d2_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a7827896a031940da7d2361dcb2d236d2_cgraph" id="classfoedus_1_1thread_1_1Thread_a7827896a031940da7d2361dcb2d236d2_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#a94b9b35db175ad18d7e889b3bd57ea85" title="This gives&#45;up locks in CLL that are not yet taken. " alt="" coords="204,71,380,113"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4197d522317d6177fd0d9a0ee811cdf5" title="foedus::thread::ThreadPimpl\l::cll_giveup_all_locks_after" alt="" coords="428,71,612,113"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="683,6,821,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="660,71,844,113"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#a3ac4e854509ec8a1cf9a70fcba501a68" title="This gives&#45;up locks in CLL that are not yet taken. " alt="" coords="670,137,834,178"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="892,71,1056,113"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1CurrentLockList.html#ae0cbd2f6b369d0340c3222f124fe122b" title="foedus::xct::CurrentLock\lList::begin" alt="" coords="892,137,1056,178"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1CurrentLockList.html#ad34e69a6289f0860fe000c3bbecda1cb" title="foedus::xct::CurrentLock\lList::end" alt="" coords="892,202,1056,243"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="1104,71,1268,113"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="1316,26,1512,67"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="1333,117,1495,158"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1560,13,1772,54"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1829,5,2005,61"/>
<area shape="rect" id="node13" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1583,79,1749,105"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="1591,130,1741,171"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1585,195,1747,237"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1820,162,2013,203"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1836,227,1997,269"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21bff0861e0c12573bc0a6b776857b76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::Thread::cll_release_all_locks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00841">841</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00919">foedus::thread::ThreadPimpl::cll_release_all_locks()</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00997">foedus::xct::XctManagerPimpl::release_and_clear_all_current_locks()</a>.</p>
<div class="fragment"><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                                   {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a6367855f3aa3549b2d7b74adf383c87a">cll_release_all_locks</a>();</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a6367855f3aa3549b2d7b74adf383c87a"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a6367855f3aa3549b2d7b74adf383c87a">foedus::thread::ThreadPimpl::cll_release_all_locks</a></div><div class="ttdeci">void cll_release_all_locks()</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00919">thread_pimpl.cpp:919</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_cgraph" id="classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a6367855f3aa3549b2d7b74adf383c87a" title="foedus::thread::ThreadPimpl\l::cll_release_all_locks" alt="" coords="204,169,388,211"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="459,104,597,145"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="436,169,620,211"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1CurrentLockList.html#a069941b140019c23d86092e68cd9b331" title="foedus::xct::CurrentLock\lList::release_all_locks" alt="" coords="446,235,610,276"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#ace2e6a593d7b975f1756ce9eec0fd1f2" title="Release all locks in CLL whose addresses are canonically ordered before the parameter. " alt="" coords="668,235,832,276"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="880,147,1044,188"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="1304,205,1500,247"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1CurrentLockList.html#ae0cbd2f6b369d0340c3222f124fe122b" title="foedus::xct::CurrentLock\lList::begin" alt="" coords="880,264,1044,305"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1CurrentLockList.html#ad34e69a6289f0860fe000c3bbecda1cb" title="foedus::xct::CurrentLock\lList::end" alt="" coords="880,329,1044,371"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="1092,147,1256,188"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="1321,111,1483,152"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1548,220,1760,261"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1817,213,1993,269"/>
<area shape="rect" id="node13" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1571,103,1737,130"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="1579,155,1729,196"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1573,37,1735,79"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1808,71,2001,112"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1824,5,1985,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_icgraph" id="classfoedus_1_1thread_1_1Thread_a21bff0861e0c12573bc0a6b776857b76_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a3c2ee2d08709ff62e77e0dff6eded376" title="unlocking all acquired locks, used when commit/abort. " alt="" coords="204,35,444,76"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="735,5,929,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="492,64,687,105"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="977,5,1140,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="751,71,913,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ff4d49ae69ae490afb0cc09c4c19507"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::Thread::cll_release_all_locks_after </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release all locks in CLL of this thread whose addresses are canonically ordered before the parameter. </p>
<p>This is used where we need to rule out the risk of deadlock. </p>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00844">844</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00876">foedus::thread::ThreadPimpl::cll_release_all_locks_after()</a>.</p>

<p>Referenced by <a class="el" href="thread_8hpp_source.html#l00310">cll_release_all_locks_at_and_after()</a>, and <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00539">foedus::xct::XctManagerPimpl::precommit_xct_lock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                                                   {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#af1783a8b90bfcd0fa87c4947fc406b0b">cll_release_all_locks_after</a>(address);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_af1783a8b90bfcd0fa87c4947fc406b0b"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#af1783a8b90bfcd0fa87c4947fc406b0b">foedus::thread::ThreadPimpl::cll_release_all_locks_after</a></div><div class="ttdeci">void cll_release_all_locks_after(xct::UniversalLockId address)</div><div class="ttdoc">RW-locks. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00876">thread_pimpl.cpp:876</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_cgraph" id="classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#af1783a8b90bfcd0fa87c4947fc406b0b" title="RW&#45;locks. " alt="" coords="236,169,420,211"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="491,104,629,145"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="468,169,652,211"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1CurrentLockList.html#ace2e6a593d7b975f1756ce9eec0fd1f2" title="Release all locks in CLL whose addresses are canonically ordered before the parameter. " alt="" coords="478,235,642,276"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="700,147,864,188"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="1124,205,1320,247"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1CurrentLockList.html#ae0cbd2f6b369d0340c3222f124fe122b" title="foedus::xct::CurrentLock\lList::begin" alt="" coords="700,264,864,305"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1CurrentLockList.html#ad34e69a6289f0860fe000c3bbecda1cb" title="foedus::xct::CurrentLock\lList::end" alt="" coords="700,329,864,371"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="912,147,1076,188"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="1141,111,1303,152"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1368,220,1580,261"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1637,213,1813,269"/>
<area shape="rect" id="node12" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1391,103,1557,130"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="1399,155,1549,196"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1393,37,1555,79"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1628,71,1821,112"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1644,5,1805,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_icgraph" id="classfoedus_1_1thread_1_1Thread_a4ff4d49ae69ae490afb0cc09c4c19507_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#af2f4da1c6c9bf0b580ca62464b80c365" title="same as mcs_release_all_current_locks_after(address &#45; 1) " alt="" coords="258,5,409,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2376431f079ce60800c9c25d89d74896" title="Phase 1 of precommit_xct() " alt="" coords="236,86,431,127"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="479,86,673,127"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="721,86,916,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="964,86,1127,127"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af2f4da1c6c9bf0b580ca62464b80c365"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::Thread::cll_release_all_locks_at_and_after </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#ga21ce32adf787156f3dd820273426026a">xct::UniversalLockId</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>same as mcs_release_all_current_locks_after(address - 1) </p>

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00310">310</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00844">cll_release_all_locks_after()</a>, and <a class="el" href="xct__id_8hpp_source.html#l00137">foedus::xct::kNullUniversalLockId</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                                                           {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (address == <a class="code" href="namespacefoedus_1_1xct.html#a599719d9d5b1849a94510b779c1163fe">xct::kNullUniversalLockId</a>) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="classfoedus_1_1thread_1_1Thread.html#a4ff4d49ae69ae490afb0cc09c4c19507">cll_release_all_locks_after</a>(<a class="code" href="namespacefoedus_1_1xct.html#a599719d9d5b1849a94510b779c1163fe">xct::kNullUniversalLockId</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="classfoedus_1_1thread_1_1Thread.html#a4ff4d49ae69ae490afb0cc09c4c19507">cll_release_all_locks_after</a>(address - 1U);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_a4ff4d49ae69ae490afb0cc09c4c19507"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#a4ff4d49ae69ae490afb0cc09c4c19507">foedus::thread::Thread::cll_release_all_locks_after</a></div><div class="ttdeci">void cll_release_all_locks_after(xct::UniversalLockId address)</div><div class="ttdoc">Release all locks in CLL of this thread whose addresses are canonically ordered before the parameter...</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00844">thread_pimpl.cpp:844</a></div></div>
<div class="ttc" id="namespacefoedus_1_1xct_html_a599719d9d5b1849a94510b779c1163fe"><div class="ttname"><a href="namespacefoedus_1_1xct.html#a599719d9d5b1849a94510b779c1163fe">foedus::xct::kNullUniversalLockId</a></div><div class="ttdeci">const UniversalLockId kNullUniversalLockId</div><div class="ttdoc">This never points to a valid lock, and also evaluates less than any vaild alocks. ...</div><div class="ttdef"><b>Definition:</b> <a href="xct__id_8hpp_source.html#l00137">xct_id.hpp:137</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_af2f4da1c6c9bf0b580ca62464b80c365_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_af2f4da1c6c9bf0b580ca62464b80c365_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_af2f4da1c6c9bf0b580ca62464b80c365_cgraph" id="classfoedus_1_1thread_1_1Thread_af2f4da1c6c9bf0b580ca62464b80c365_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#a4ff4d49ae69ae490afb0cc09c4c19507" title="Release all locks in CLL of this thread whose addresses are canonically ordered before the parameter..." alt="" coords="204,169,387,211"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#af1783a8b90bfcd0fa87c4947fc406b0b" title="RW&#45;locks. " alt="" coords="435,169,619,211"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="689,104,828,145"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="667,169,851,211"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#ace2e6a593d7b975f1756ce9eec0fd1f2" title="Release all locks in CLL whose addresses are canonically ordered before the parameter. " alt="" coords="677,235,841,276"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#acbed8e324b88389217b42a132e0547b8" title="foedus::xct::CurrentLock\lList::assert_sorted" alt="" coords="899,147,1063,188"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="1323,205,1519,247"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1CurrentLockList.html#ae0cbd2f6b369d0340c3222f124fe122b" title="foedus::xct::CurrentLock\lList::begin" alt="" coords="899,264,1063,305"/>
<area shape="rect" id="node19" href="classfoedus_1_1xct_1_1CurrentLockList.html#ad34e69a6289f0860fe000c3bbecda1cb" title="foedus::xct::CurrentLock\lList::end" alt="" coords="899,329,1063,371"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#a7485f0d26810767b3bef18e12233daa7" title="foedus::xct::CurrentLock\lList::assert_sorted_impl" alt="" coords="1111,147,1275,188"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1xct.html#a736225e9852f9c75b92e134dbbe40a68" title="foedus::xct::lock_assert\l_sorted" alt="" coords="1340,111,1501,152"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1567,220,1779,261"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1835,213,2011,269"/>
<area shape="rect" id="node13" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1590,103,1755,130"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1Page.html#ac2a6248866335cc84b16bb0530eb76f4" title="foedus::storage::Page\l::get_volatile_page_id" alt="" coords="1598,155,1747,196"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1591,37,1754,79"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1827,71,2020,112"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1843,5,2004,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a476c43885a66c28ac33e624d071a7a7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::cll_try_or_acquire_multiple_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">xct::LockListPosition</a>&#160;</td>
          <td class="paramname"><em>upto_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquire multiple locks up to the given position in canonical order. </p>
<p>This is invoked by the thread to keep itself in canonical mode. This method is <em>unconditional</em>, meaning waits forever until we acquire the locks. Hence, this method must be invoked when the thread is still in canonical mode. Otherwise, it risks deadlock. </p>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00853">853</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00909">foedus::thread::ThreadPimpl::cll_try_or_acquire_multiple_locks()</a>.</p>

<p>Referenced by <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                                                                                {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ae594169d3ecc7b0d4d356d1ed6dfa8b2">cll_try_or_acquire_multiple_locks</a>(upto_pos);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_ae594169d3ecc7b0d4d356d1ed6dfa8b2"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#ae594169d3ecc7b0d4d356d1ed6dfa8b2">foedus::thread::ThreadPimpl::cll_try_or_acquire_multiple_locks</a></div><div class="ttdeci">ErrorCode cll_try_or_acquire_multiple_locks(xct::LockListPosition upto_pos)</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00909">thread_pimpl.cpp:909</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_cgraph" id="classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ae594169d3ecc7b0d4d356d1ed6dfa8b2" title="foedus::thread::ThreadPimpl\l::cll_try_or_acquire_multiple_locks" alt="" coords="276,100,499,141"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="589,35,727,76"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="566,100,750,141"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1CurrentLockList.html#ad7029aa2b4a2d3ec394aa0a0b378b088" title="Acquire multiple locks up to the given position in canonical order. " alt="" coords="547,165,769,207"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#aa8023ecc3dc58816a010a3415ebfc1dd" title="Methods below take or release locks, so they receive MCS_RW_IMPL, a template param. " alt="" coords="817,165,1023,207"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="1087,5,1251,47"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="1092,71,1245,112"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1RwLockableXctId.html#afe5afad486230afbf7d1b21875a90f13" title="foedus::xct::RwLockableXct\lId::get_key_lock" alt="" coords="1077,136,1260,177"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1575,217,1751,273"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="1071,253,1267,295"/>
<area shape="rect" id="node14" href="structfoedus_1_1xct_1_1LockEntry.html#a3aa9be8584009d4fa0d1bea4ab563167" title="foedus::xct::LockEntry\l::is_locked" alt="" coords="1092,319,1245,360"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#a78b6d1612fda232b7e8c52dd3f6c2504" title="foedus::xct::CurrentLock\lList::is_valid_entry" alt="" coords="1339,5,1503,47"/>
<area shape="rect" id="node13" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1315,253,1527,295"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_icgraph" id="classfoedus_1_1thread_1_1Thread_a476c43885a66c28ac33e624d071a7a7d_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="276,391,443,447"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="491,399,625,440"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="708,5,843,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="693,71,858,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="693,151,858,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="693,231,858,287"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="693,311,858,367"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="673,391,877,447"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="693,471,858,527"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="693,551,858,607"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="693,631,858,687"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="687,711,864,767"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="687,1111,864,1167"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="930,79,1105,120"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="930,151,1105,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="930,231,1105,287"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="930,311,1105,367"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="932,391,1103,447"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="930,471,1105,527"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="930,551,1105,607"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="930,631,1105,687"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="927,711,1108,767"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1175,631,1356,687"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1175,711,1356,767"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1449,551,1631,607"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1458,631,1622,687"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1458,711,1622,767"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1179,951,1352,1007"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="928,1111,1107,1167"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="931,1425,1104,1481"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="925,1563,1109,1619"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1433,799,1647,840"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1441,864,1639,905"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1453,1157,1627,1213"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1453,930,1627,986"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1421,1011,1659,1052"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1425,1257,1655,1299"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1447,1077,1633,1133"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1179,791,1352,847"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1179,871,1352,927"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1179,1031,1352,1087"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1171,1111,1360,1167"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="1168,1191,1363,1247"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="1172,1271,1359,1327"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="1171,1351,1360,1407"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1159,1432,1371,1473"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1157,1497,1373,1539"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1179,1563,1352,1619"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1179,1643,1352,1699"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab52244fbb6c13b0c0774431af72d482e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::cll_try_or_acquire_single_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__XCT.html#gaf1e1817b6663c210b329ce1ea57e63fb">xct::LockListPosition</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Methods related to Current Lock List (CLL) These are the only interface in <a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> to lock records. </p>
<p>We previously had methods to directly lock without CLL, but we now prohibit bypassing CLL. CLL guarantees deadlock-free lock handling. CLL only handle record locks. In FOEDUS, normal transactions never take page lock. Only system transactions are allowed to take page locks.Methods below take or release locks, so they receive MCS_RW_IMPL, a template param. Inline definitions of CurrentLockList methods below.</p>
<p>To avoid vtable and allow inlining, we define them at the bottom of this file. Acquire one lock in this CLL.</p>
<p>This method automatically checks if we are following canonical mode, and acquire the lock unconditionally when in canonical mode (never returns until acquire), and try the lock instanteneously when not in canonical mode (returns RaceAbort immediately).</p>
<p>These are inlined primarily because they receive a template param, not because we want to inline for performance. We could do explicit instantiations, but not that lengthy, either. Just inlining them is easier in this case. </p>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00850">850</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00898">foedus::thread::ThreadPimpl::cll_try_or_acquire_single_lock()</a>.</p>

<p>Referenced by <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>, and <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00539">foedus::xct::XctManagerPimpl::precommit_xct_lock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                                                                        {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#afd87e3c9d855306d2c8115571eb79fa6">cll_try_or_acquire_single_lock</a>(pos);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_afd87e3c9d855306d2c8115571eb79fa6"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#afd87e3c9d855306d2c8115571eb79fa6">foedus::thread::ThreadPimpl::cll_try_or_acquire_single_lock</a></div><div class="ttdeci">ErrorCode cll_try_or_acquire_single_lock(xct::LockListPosition pos)</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00898">thread_pimpl.cpp:898</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_cgraph" id="classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#afd87e3c9d855306d2c8115571eb79fa6" title="foedus::thread::ThreadPimpl\l::cll_try_or_acquire_single_lock" alt="" coords="257,100,461,141"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="543,35,681,76"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="520,100,704,141"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1CurrentLockList.html#aa8023ecc3dc58816a010a3415ebfc1dd" title="Methods below take or release locks, so they receive MCS_RW_IMPL, a template param. " alt="" coords="509,165,715,207"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="779,5,943,47"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="784,71,937,112"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1RwLockableXctId.html#afe5afad486230afbf7d1b21875a90f13" title="foedus::xct::RwLockableXct\lId::get_key_lock" alt="" coords="769,136,952,177"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1CurrentLockList.html#a03e818494c4d716f9fc996081f6c419f" title="Only searches among entries at or before &quot;from&quot;. " alt="" coords="1267,217,1443,273"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1CurrentLockList.html#aed99dee60f9529d5cfabb5e1742038da" title="foedus::xct::CurrentLock\lList::assert_last_locked_entry" alt="" coords="763,253,959,295"/>
<area shape="rect" id="node13" href="structfoedus_1_1xct_1_1LockEntry.html#a3aa9be8584009d4fa0d1bea4ab563167" title="foedus::xct::LockEntry\l::is_locked" alt="" coords="784,319,937,360"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#a78b6d1612fda232b7e8c52dd3f6c2504" title="foedus::xct::CurrentLock\lList::is_valid_entry" alt="" coords="1031,5,1195,47"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1CurrentLockList.html#a1a668d5dd1b711abed1a9962a8cb4ec1" title="Calculate last_locked_entry_ by really checking the whole list. " alt="" coords="1007,253,1219,295"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_icgraph" id="classfoedus_1_1thread_1_1Thread_ab52244fbb6c13b0c0774431af72d482e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="271,793,438,849"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2376431f079ce60800c9c25d89d74896" title="Phase 1 of precommit_xct() " alt="" coords="257,973,452,1015"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="530,439,665,480"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="777,5,912,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="762,71,927,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="762,151,927,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="762,231,927,287"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="762,311,927,367"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="743,391,947,447"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="762,471,927,527"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="762,551,927,607"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="762,631,927,687"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="756,711,933,767"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="756,999,933,1055"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="999,79,1174,120"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="999,151,1174,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="999,231,1174,287"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="999,311,1174,367"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="1001,391,1172,447"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="999,471,1174,527"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="999,551,1174,607"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="999,631,1174,687"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="996,711,1177,767"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1244,519,1425,575"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1244,599,1425,655"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1248,839,1421,895"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="997,999,1176,1055"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="1000,1214,1173,1270"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="995,1294,1179,1350"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1502,687,1717,728"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1510,752,1709,793"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1523,1045,1696,1101"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1523,818,1696,874"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1491,899,1728,940"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1494,1145,1725,1187"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1516,965,1703,1021"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1248,679,1421,735"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1248,759,1421,815"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1248,919,1421,975"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1240,999,1429,1055"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="1237,1079,1432,1135"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="1241,1159,1428,1215"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="1240,1239,1429,1295"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1229,1320,1441,1361"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1227,1385,1443,1427"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1248,1451,1421,1507"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="500,1175,695,1216"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="747,1276,942,1317"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1005,1375,1168,1416"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab41d50498e6830c6aedc20c93b495037"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::Thread::collect_retired_volatile_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Keeps the specified volatile page as retired as of the current epoch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>the volatile page that has been retired </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>in the page ptr points to, is_retired()==true.</dd></dl>
<p>This thread buffers such pages and returns to volatile page pool when it is safe to do so. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00113">113</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00777">foedus::thread::ThreadPimpl::collect_retired_volatile_page()</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00073">foedus::storage::masstree::Adopt::adopt_case_a()</a>, <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00118">foedus::storage::masstree::Adopt::adopt_case_b()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00036">foedus::storage::masstree::grow_case_a_common()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">foedus::storage::masstree::grow_case_b_common()</a>, and <a class="el" href="masstree__split__impl_8cpp_source.html#l00476">foedus::storage::masstree::SplitIntermediate::split_impl_no_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                                                         {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc">collect_retired_volatile_page</a>(ptr);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a674a8a8e613dc4e19a626da490c883fc"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc">foedus::thread::ThreadPimpl::collect_retired_volatile_page</a></div><div class="ttdeci">void collect_retired_volatile_page(storage::VolatilePagePointer ptr)</div><div class="ttdoc">Keeps the specified volatile page as retired as of the current epoch. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00777">thread_pimpl.cpp:777</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_cgraph" id="classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="245,685,437,726"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a28d4f2f16808e20d2d174f12ff1c7317" title="Subroutine of collect_retired_volatile_page() just for assertion. " alt="" coords="505,107,689,149"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1295,371,1456,413"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="501,546,694,587"/>
<area shape="rect" id="node15" href="classfoedus_1_1Engine.html#a48d5e1f7ce2f70161c253f650c75ed95" title="See Transaction Manager. " alt="" coords="797,430,932,471"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1XctManager.html#a4578dd6dab7925b95d7810335ae5cec0" title="foedus::xct::XctManager\l::get_current_global_epoch_weak" alt="" coords="490,1202,705,1243"/>
<area shape="rect" id="node18" href="classfoedus_1_1Epoch.html#a786afd92afdc87b54dfa11ef093f06f3" title="foedus::Epoch::one_more" alt="" coords="1290,911,1461,937"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad0624fe34e52c0904ee449c97f0325c5" title="foedus::memory::NumaCore\lMemory::get_retired_volatile\l_pool_chunk" alt="" coords="505,1268,689,1324"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#acac2755ecb22d4539c3d6bb44538240d" title="foedus::memory::PagePool\lOffsetAndEpochChunk::full" alt="" coords="775,495,954,537"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="505,714,689,755"/>
<area shape="rect" id="node43" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#aae530fb2917cf0f6329ac323f1da7c8c" title="foedus::memory::PagePool\lOffsetAndEpochChunk::push_back" alt="" coords="485,1137,709,1178"/>
<area shape="rect" id="node4" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="763,166,966,207"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1301,107,1450,149"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1PageVersion.html#a61318d7aab5c4ca7334ec05f8de168ca" title="foedus::storage::PageVersion\l::is_retired" alt="" coords="769,74,961,115"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1046,313,1201,354"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1037,166,1210,207"/>
<area shape="rect" id="node11" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1022,232,1225,288"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1298,239,1453,281"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1280,306,1471,347"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ab07c3c3d030fab04f79b59dee83ecd2e" title="foedus::storage::PageVersion\lStatus::is_retired" alt="" coords="1027,49,1219,90"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#acd49fd67f3459df687ed08d5d8b54082" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch_weak" alt="" coords="757,1319,972,1361"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#ad99e5b875980b442bf5de61fb022f0ac" title="foedus::memory::PagePool\lOffsetAndEpochChunk::size" alt="" coords="772,939,957,981"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#a7d9aa924c48bd26b4dd208d4a9333127" title="Returns the number of offsets (always from index&#45;0) whose safe_epoch_ is strictly&#45;before the given ep..." alt="" coords="775,1005,954,1061"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1XctManager.html#aa75089821b48c98a00cd7e4ddc0615da" title="Requests to advance the current global epoch as soon as possible and blocks until it actually does..." alt="" coords="761,626,968,667"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1XctManager.html#a419a270d62522ede9bd871dd4adc0e2a" title="Returns the current global epoch, the epoch a newly started transaction will be in. " alt="" coords="1034,750,1213,791"/>
<area shape="rect" id="node38" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="797,561,932,602"/>
<area shape="rect" id="node39" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="759,743,970,785"/>
<area shape="rect" id="node40" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="769,809,960,850"/>
<area shape="rect" id="node41" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463" title="Returns the specified number of free pages from the chunk. " alt="" coords="775,874,954,915"/>
<area shape="rect" id="node24" href="classfoedus_1_1memory_1_1PagePoolOffsetAndEpochChunk.html#a73cff039ec719c68895a8f9826bcd429" title="foedus::memory::PagePool\lOffsetAndEpochChunk::is\l_sorted" alt="" coords="1034,947,1213,1003"/>
<area shape="rect" id="node25" href="classfoedus_1_1Epoch.html#af13cf48db2b5bd1d273f5f7350a4d8cf" title="Returns the raw integer representation. " alt="" coords="1550,1027,1693,1053"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a925da0bb4b846daa21eb947e4f67b0c6" title="foedus::xct::XctManagerPimpl\l::advance_current_global_epoch" alt="" coords="1020,655,1227,697"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a787bb892079cb32d5a2065188825a522" title="foedus::xct::XctManagerPimpl\l::get_current_global_epoch" alt="" coords="1278,779,1473,821"/>
<area shape="rect" id="node29" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a03678427b184e7ce71f9bbb164dd0bad" title="foedus::xct::XctManagerPimpl\l::set_requested_global_epoch" alt="" coords="1278,714,1473,755"/>
<area shape="rect" id="node31" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#afce787897428bd372c67224acd3e8ea7" title="foedus::xct::XctManagerPimpl\l::wakeup_epoch_chime_thread" alt="" coords="1275,531,1476,573"/>
<area shape="rect" id="node35" href="classfoedus_1_1soc_1_1SharedPolling.html#ac6ad7822e42e2e942b55708b1da8516b" title="Gives the ticket to. " alt="" coords="1533,623,1710,665"/>
<area shape="rect" id="node36" href="classfoedus_1_1soc_1_1SharedPolling.html#a9fc7bfaf57e1f2224be9869a8e9708d3" title="Unconditionally wait for signal. " alt="" coords="1287,597,1464,638"/>
<area shape="rect" id="node30" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a6071efec3ffc3876192101db2a1873b4" title="foedus::xct::XctManagerPimpl\l::get_requested_global_epoch" alt="" coords="1524,714,1719,755"/>
<area shape="rect" id="node32" href="classfoedus_1_1soc_1_1SharedPolling.html#ae523f3b3bda39c0c81bfb5cb0d5ad626" title="Signal it to let waiters exit. " alt="" coords="1533,545,1710,586"/>
<area shape="rect" id="node33" href="group__ASSORTED.html#gaff9fa4aedd631410da28740f6e1dddbf" title="Equivalent to std::atomic_thread_fence(std::memory_order_acq_rel). " alt="" coords="1775,613,1949,654"/>
<area shape="rect" id="node34" href="namespacefoedus_1_1soc.html#ad6b40c6c8e2db3fbf1bbdf6daa025275" title="foedus::soc::ugly_atomic_inc" alt="" coords="1767,552,1957,579"/>
<area shape="rect" id="node42" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="1034,874,1213,915"/>
<area shape="rect" id="node44" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="775,1137,954,1178"/>
<area shape="rect" id="node45" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="775,1202,954,1243"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_icgraph" id="classfoedus_1_1thread_1_1Thread_ab41d50498e6830c6aedc20c93b495037_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="245,71,419,112"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="245,5,419,47"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="245,201,419,243"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="245,136,419,177"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="245,267,419,323"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="477,39,651,80"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="477,136,651,177"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="467,201,661,243"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="477,275,651,316"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad9a1cd82a866fd82299acc66a59c2487"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::find_or_read_a_snapshot_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the given page in snapshot cache, reading it if not found. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00095">95</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00647">foedus::thread::ThreadPimpl::find_or_read_a_snapshot_page()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00625">foedus::storage::hash::HashStoragePimpl::follow_page()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00889">foedus::storage::hash::HashStoragePimpl::locate_record_in_snapshot()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00112">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_follow()</a>, and <a class="el" href="array__storage__prefetch_8cpp_source.html#l00053">foedus::storage::array::ArrayStoragePimpl::prefetch_pages_recurse()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                     {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681">find_or_read_a_snapshot_page</a>(page_id, out);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a16c6375f66e9f177c908dc1fbc132681"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681">foedus::thread::ThreadPimpl::find_or_read_a_snapshot_page</a></div><div class="ttdeci">ErrorCode find_or_read_a_snapshot_page(storage::SnapshotPagePointer page_id, storage::Page **out)</div><div class="ttdoc">Find the given page in snapshot cache, reading it if not found. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00647">thread_pimpl.cpp:647</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_cgraph" id="classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="263,487,472,528"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="556,188,691,229"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="520,617,727,659"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="807,259,985,300"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="549,847,698,888"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="531,356,715,397"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="804,193,988,235"/>
<area shape="rect" id="node40" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="520,781,727,823"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="542,912,705,953"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1CacheHashtable.html#a30b6a0b28cce30d50da7e0419c8cad20" title="Returns a bucket number the given page ID should belong to. " alt="" coords="793,847,999,888"/>
<area shape="rect" id="node13" href="structfoedus_1_1cache_1_1CacheBucket.html#ab91d1b89c885979b7a6a4ef70b12b54d" title="foedus::cache::CacheBucket\l::get_content_id" alt="" coords="801,716,991,757"/>
<area shape="rect" id="node14" href="classfoedus_1_1cache_1_1CacheHashtable.html#acea3236385a3b8d05ed1a60186e32ee8" title="foedus::cache::CacheHashtable\l::get_logical_buckets" alt="" coords="793,455,999,496"/>
<area shape="rect" id="node15" href="structfoedus_1_1cache_1_1HashFunc.html#a9470855bb66d98df48f82fc5ba6655c6" title="Returns another hash value used to differentiate IDs with similar hash values. " alt="" coords="811,781,981,823"/>
<area shape="rect" id="node16" href="structfoedus_1_1cache_1_1CacheBucket.html#aad7099f48418a335a80260a664bf2f02" title="foedus::cache::CacheBucket\l::get_tag" alt="" coords="801,520,991,561"/>
<area shape="rect" id="node17" href="structfoedus_1_1cache_1_1CacheRefCount.html#af555d7665e995d8e65f315c708d28daa" title="foedus::cache::CacheRefCount\l::increment" alt="" coords="795,585,997,627"/>
<area shape="rect" id="node18" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="810,651,982,692"/>
<area shape="rect" id="node6" href="structfoedus_1_1cache_1_1HashFunc.html#a19737fa3c91676f9c85536f5928b7501" title="Returns a bucket number the given snapshot page ID should belong to. " alt="" coords="1073,781,1244,823"/>
<area shape="rect" id="node7" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1305,813,1482,855"/>
<area shape="rect" id="node8" href="structfoedus_1_1cache_1_1HashFunc.html#aa9020cb1e5915b6777d089521ef618a9" title="Returns a hash value for the given snapshot page ID. " alt="" coords="1308,499,1479,540"/>
<area shape="rect" id="node12" href="structfoedus_1_1assorted_1_1ConstDiv.html#afbfa08664902f9b633edbd395706b230" title="Calculate remainder. " alt="" coords="1305,748,1482,789"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="1535,333,1735,389"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="1541,493,1729,549"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="1539,413,1730,469"/>
<area shape="rect" id="node19" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="1073,651,1245,692"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="783,389,1009,431"/>
<area shape="rect" id="node37" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="775,324,1017,365"/>
<area shape="rect" id="node24" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1304,408,1483,449"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="1069,448,1248,489"/>
<area shape="rect" id="node27" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="1065,193,1252,235"/>
<area shape="rect" id="node28" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="1300,265,1487,307"/>
<area shape="rect" id="node29" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="1318,139,1469,180"/>
<area shape="rect" id="node36" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="1318,72,1469,113"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="1563,136,1706,177"/>
<area shape="rect" id="node31" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="1559,267,1710,308"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="1565,5,1705,47"/>
<area shape="rect" id="node33" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="1559,201,1710,243"/>
<area shape="rect" id="node34" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="1567,71,1702,112"/>
<area shape="rect" id="node35" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="1783,71,1917,112"/>
<area shape="rect" id="node38" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="1304,331,1483,372"/>
<area shape="rect" id="node39" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="1069,331,1248,372"/>
<area shape="rect" id="node41" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="809,977,983,1019"/>
<area shape="rect" id="node42" href="structfoedus_1_1cache_1_1CacheBucket.html#aaa52396996e73a08cace2a2dcef82ffb" title="foedus::cache::CacheBucket\l::reset" alt="" coords="801,912,991,953"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_icgraph" id="classfoedus_1_1thread_1_1Thread_ad9a1cd82a866fd82299acc66a59c2487_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="515,269,728,310"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="270,327,449,383"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="269,407,450,463"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="273,487,446,543"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="263,567,456,623"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="787,259,992,301"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1051,325,1232,381"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1059,405,1223,461"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1059,485,1223,541"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="1040,565,1243,621"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="1052,85,1231,141"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="1043,165,1239,221"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="1050,245,1233,301"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1318,325,1466,381"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1305,409,1479,450"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1291,555,1493,597"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1310,475,1474,531"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1541,475,1716,531"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1307,621,1477,677"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1319,5,1465,61"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1311,165,1473,221"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1294,85,1490,141"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1547,85,1710,141"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1317,245,1467,301"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="531,399,712,455"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="799,405,980,461"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="799,325,980,381"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="527,479,715,550"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="795,491,983,547"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="1050,645,1233,701"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="504,574,739,615"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="788,574,991,615"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a878c3aa228a6e8925e21a3b7b0592349"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::find_or_read_snapshot_pages_batch </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a> *&#160;</td>
          <td class="paramname"><em>page_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Batched version of <a class="el" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. ">find_or_read_a_snapshot_page()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_size</td><td>Batch size. Must be kMaxFindPagesBatch or less. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">page_ids</td><td>Array of Page IDs to look for, size=batch_size </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output</td></tr>
  </table>
  </dd>
</dl>
<p>This might perform much faster because of parallel prefetching, SIMD-ized hash calculattion (planned, not implemented yet) etc. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00100">100</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00687">foedus::thread::ThreadPimpl::find_or_read_snapshot_pages_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                     {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf">find_or_read_snapshot_pages_batch</a>(batch_size, page_ids, out);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a98de2aa47bebca5add3e0550f2c602bf"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf">foedus::thread::ThreadPimpl::find_or_read_snapshot_pages_batch</a></div><div class="ttdeci">ErrorCode find_or_read_snapshot_pages_batch(uint16_t batch_size, const storage::SnapshotPagePointer *page_ids, storage::Page **out)</div><div class="ttdoc">Batched version of find_or_read_a_snapshot_page(). </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00687">thread_pimpl.cpp:687</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a878c3aa228a6e8925e21a3b7b0592349_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a878c3aa228a6e8925e21a3b7b0592349_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a878c3aa228a6e8925e21a3b7b0592349_cgraph" id="classfoedus_1_1thread_1_1Thread_a878c3aa228a6e8925e21a3b7b0592349_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="213,479,397,535"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="481,188,616,229"/>
<area shape="rect" id="node4" href="classfoedus_1_1cache_1_1CacheHashtable.html#a8e48716623ca44e83cc5ef871c10b131" title="Batched version of find(). " alt="" coords="445,617,652,659"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="732,259,911,300"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="474,847,623,888"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="457,356,641,397"/>
<area shape="rect" id="node26" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="729,193,913,235"/>
<area shape="rect" id="node40" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="445,781,652,823"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="467,912,630,953"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1CacheHashtable.html#a30b6a0b28cce30d50da7e0419c8cad20" title="Returns a bucket number the given page ID should belong to. " alt="" coords="718,847,925,888"/>
<area shape="rect" id="node13" href="structfoedus_1_1cache_1_1CacheBucket.html#ab91d1b89c885979b7a6a4ef70b12b54d" title="foedus::cache::CacheBucket\l::get_content_id" alt="" coords="727,716,916,757"/>
<area shape="rect" id="node14" href="classfoedus_1_1cache_1_1CacheHashtable.html#acea3236385a3b8d05ed1a60186e32ee8" title="foedus::cache::CacheHashtable\l::get_logical_buckets" alt="" coords="718,455,925,496"/>
<area shape="rect" id="node15" href="structfoedus_1_1cache_1_1HashFunc.html#a9470855bb66d98df48f82fc5ba6655c6" title="Returns another hash value used to differentiate IDs with similar hash values. " alt="" coords="736,781,907,823"/>
<area shape="rect" id="node16" href="structfoedus_1_1cache_1_1CacheBucket.html#aad7099f48418a335a80260a664bf2f02" title="foedus::cache::CacheBucket\l::get_tag" alt="" coords="727,520,916,561"/>
<area shape="rect" id="node17" href="structfoedus_1_1cache_1_1CacheRefCount.html#af555d7665e995d8e65f315c708d28daa" title="foedus::cache::CacheRefCount\l::increment" alt="" coords="721,585,922,627"/>
<area shape="rect" id="node18" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="735,651,907,692"/>
<area shape="rect" id="node6" href="structfoedus_1_1cache_1_1HashFunc.html#a19737fa3c91676f9c85536f5928b7501" title="Returns a bucket number the given snapshot page ID should belong to. " alt="" coords="999,781,1169,823"/>
<area shape="rect" id="node7" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1230,813,1407,855"/>
<area shape="rect" id="node8" href="structfoedus_1_1cache_1_1HashFunc.html#aa9020cb1e5915b6777d089521ef618a9" title="Returns a hash value for the given snapshot page ID. " alt="" coords="1233,499,1404,540"/>
<area shape="rect" id="node12" href="structfoedus_1_1assorted_1_1ConstDiv.html#afbfa08664902f9b633edbd395706b230" title="Calculate remainder. " alt="" coords="1230,748,1407,789"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="1460,333,1660,389"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="1466,493,1654,549"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="1465,413,1655,469"/>
<area shape="rect" id="node19" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="998,651,1170,692"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="709,389,934,431"/>
<area shape="rect" id="node37" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="700,324,943,365"/>
<area shape="rect" id="node24" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1229,408,1408,449"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="995,448,1173,489"/>
<area shape="rect" id="node27" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="991,193,1177,235"/>
<area shape="rect" id="node28" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="1225,265,1412,307"/>
<area shape="rect" id="node29" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="1243,139,1394,180"/>
<area shape="rect" id="node36" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="1243,72,1394,113"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="1489,136,1631,177"/>
<area shape="rect" id="node31" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="1485,267,1635,308"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="1490,5,1630,47"/>
<area shape="rect" id="node33" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="1485,201,1635,243"/>
<area shape="rect" id="node34" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="1493,71,1627,112"/>
<area shape="rect" id="node35" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="1708,71,1843,112"/>
<area shape="rect" id="node38" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="1229,331,1408,372"/>
<area shape="rect" id="node39" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="995,331,1173,372"/>
<area shape="rect" id="node41" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="735,977,908,1019"/>
<area shape="rect" id="node42" href="structfoedus_1_1cache_1_1CacheBucket.html#aaa52396996e73a08cace2a2dcef82ffb" title="foedus::cache::CacheBucket\l::reset" alt="" coords="727,912,916,953"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81e03c29d8931350b4df1fd1f8b9e4b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::follow_page_pointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">storage::VolatilePageInit</a>&#160;</td>
          <td class="paramname"><em>page_initializer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tolerate_null_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>will_modify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>take_ptr_set_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> *&#160;</td>
          <td class="paramname"><em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index_in_parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A general method to follow (read) a page pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">page_initializer</td><td>callback function in case we need to initialize a new volatile page. null if it never happens (eg tolerate_null_pointer is false). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tolerate_null_pointer</td><td>when true and when both the volatile and snapshot pointers seem null, we return null page rather than creating a new volatile page. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">will_modify</td><td>if true, we always return a non-null volatile page. This is true when we are to modify the page, such as insert/delete. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">take_ptr_set_snapshot</td><td>if true, we add the address of volatile page pointer to ptr set when we do not follow a volatile pointer (null or volatile). This is usually true to make sure we get aware of new page installment by concurrent threads. If the isolation level is not serializable, we don't take ptr set anyways. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pointer</td><td>the page pointer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">page</td><td>the read page. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>the parent page that contains a pointer to the page. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index_in_parent</td><td>Some index (meaning depends on page type) of pointer in parent page to the page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>!tolerate_null_pointer || !will_modify (if we are modifying the page, tolerating null pointer doesn't make sense. we should always initialize a new volatile page)</dd></dl>
<p>This is the primary way to retrieve a page pointed by a pointer in various places. Depending on the current transaction's isolation level and storage type (represented by the various arguments), this does a whole lots of things to comply with our commit protocol.</p>
<p>Remember that DualPagePointer maintains volatile and snapshot pointers. We sometimes have to install a new volatile page or add the pointer to ptr set for serializability. That logic is a bit too lengthy method to duplicate in each page type, so generalize it here. </p>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00353">353</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00411">foedus::thread::ThreadPimpl::follow_page_pointer()</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00367">foedus::storage::masstree::MasstreeStoragePimpl::follow_page()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00625">foedus::storage::hash::HashStoragePimpl::follow_page()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="array__storage__pimpl_8hpp_source.html#l00304">foedus::storage::array::ArrayStoragePimpl::follow_pointer()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00058">foedus::storage::masstree::MasstreeStoragePimpl::get_first_root()</a>, <a class="el" href="array__storage__pimpl_8hpp_source.html#l00337">foedus::storage::array::ArrayStoragePimpl::get_root_page()</a>, and <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00607">foedus::storage::hash::HashStoragePimpl::get_root_page()</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                            {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904">follow_page_pointer</a>(</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    page_initializer,</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    tolerate_null_pointer,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    will_modify,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    take_ptr_set_snapshot,</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    pointer,</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    page,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    parent,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    index_in_parent);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a9b77133f66157bca81a49caeca9a9904"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904">foedus::thread::ThreadPimpl::follow_page_pointer</a></div><div class="ttdeci">ErrorCode follow_page_pointer(storage::VolatilePageInit page_initializer, bool tolerate_null_pointer, bool will_modify, bool take_ptr_set_snapshot, storage::DualPagePointer *pointer, storage::Page **page, const storage::Page *parent, uint16_t index_in_parent)</div><div class="ttdoc">A general method to follow (read) a page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00411">thread_pimpl.cpp:411</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_cgraph" id="classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="204,493,388,534"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="950,285,1111,326"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1495,433,1645,474"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="925,699,1136,741"/>
<area shape="rect" id="node9" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="939,401,1123,457"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="950,634,1111,675"/>
<area shape="rect" id="node11" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1228,151,1383,193"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="679,493,866,534"/>
<area shape="rect" id="node18" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="929,79,1132,121"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="436,522,620,563"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="668,933,877,974"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="459,842,597,883"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="457,907,599,949"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1489,285,1651,326"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1724,834,1903,875"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="1481,834,1659,875"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1493,50,1647,91"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1475,151,1665,193"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="1191,634,1419,675"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="1724,645,1903,686"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="1481,645,1659,686"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1219,86,1392,127"/>
<area shape="rect" id="node20" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1204,5,1407,61"/>
<area shape="rect" id="node48" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="681,609,865,665"/>
<area shape="rect" id="node23" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="963,1171,1098,1213"/>
<area shape="rect" id="node24" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="927,1357,1134,1398"/>
<area shape="rect" id="node34" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="1216,867,1395,909"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="939,901,1123,942"/>
<area shape="rect" id="node37" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="1213,998,1397,1039"/>
<area shape="rect" id="node44" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="927,1106,1134,1147"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="949,966,1112,1007"/>
<area shape="rect" id="node25" href="classfoedus_1_1cache_1_1CacheHashtable.html#a30b6a0b28cce30d50da7e0419c8cad20" title="Returns a bucket number the given page ID should belong to. " alt="" coords="1202,1259,1409,1301"/>
<area shape="rect" id="node27" href="structfoedus_1_1cache_1_1CacheBucket.html#ab91d1b89c885979b7a6a4ef70b12b54d" title="foedus::cache::CacheBucket\l::get_content_id" alt="" coords="1211,1325,1400,1366"/>
<area shape="rect" id="node28" href="classfoedus_1_1cache_1_1CacheHashtable.html#acea3236385a3b8d05ed1a60186e32ee8" title="foedus::cache::CacheHashtable\l::get_logical_buckets" alt="" coords="1202,1390,1409,1431"/>
<area shape="rect" id="node29" href="structfoedus_1_1cache_1_1HashFunc.html#a9470855bb66d98df48f82fc5ba6655c6" title="Returns another hash value used to differentiate IDs with similar hash values. " alt="" coords="1220,1194,1391,1235"/>
<area shape="rect" id="node30" href="structfoedus_1_1cache_1_1CacheBucket.html#aad7099f48418a335a80260a664bf2f02" title="foedus::cache::CacheBucket\l::get_tag" alt="" coords="1211,1455,1400,1497"/>
<area shape="rect" id="node31" href="structfoedus_1_1cache_1_1CacheRefCount.html#af555d7665e995d8e65f315c708d28daa" title="foedus::cache::CacheRefCount\l::increment" alt="" coords="1205,1521,1406,1562"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="1219,1586,1391,1627"/>
<area shape="rect" id="node26" href="structfoedus_1_1cache_1_1HashFunc.html#a19737fa3c91676f9c85536f5928b7501" title="Returns a bucket number the given snapshot page ID should belong to. " alt="" coords="1485,1259,1655,1301"/>
<area shape="rect" id="node33" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="1484,1586,1656,1627"/>
<area shape="rect" id="node36" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="1193,933,1418,974"/>
<area shape="rect" id="node43" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="1184,699,1427,741"/>
<area shape="rect" id="node38" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="1477,998,1663,1039"/>
<area shape="rect" id="node39" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="1713,908,1913,964"/>
<area shape="rect" id="node40" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="1720,989,1907,1030"/>
<area shape="rect" id="node41" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="1738,1054,1889,1095"/>
<area shape="rect" id="node42" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="1738,1119,1889,1161"/>
<area shape="rect" id="node45" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1219,1129,1392,1170"/>
<area shape="rect" id="node46" href="structfoedus_1_1cache_1_1CacheBucket.html#aaa52396996e73a08cace2a2dcef82ffb" title="foedus::cache::CacheBucket\l::reset" alt="" coords="1211,1063,1400,1105"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_icgraph" id="classfoedus_1_1thread_1_1Thread_a81e03c29d8931350b4df1fd1f8b9e4b6_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff31f521523d7a7b81ff5b750e081dac" title="Thread::follow_page_pointer() for masstree. " alt="" coords="207,828,380,884"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="441,1119,655,1161"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="204,1112,383,1168"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="204,1272,383,1328"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="461,516,635,572"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="211,1425,376,1481"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="211,1192,375,1248"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a32332060560b864a857a839bb0adb4fd" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::fatify_first_root_double" alt="" coords="1015,5,1188,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="461,701,635,757"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6188e676e564b4ebecaa556178cdb81e" title="Follows to next layer&#39;s root page. " alt="" coords="461,781,635,837"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="455,875,641,931"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a351ca64071b130468a9ba9f200ccd417" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_intermediate" alt="" coords="713,952,935,1008"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ac3b15bb4f888327ba49050f62d020f52" title="Defined in masstree_storage_fatify.cpp. " alt="" coords="1289,39,1462,95"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="737,701,911,757"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="735,477,913,533"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="737,781,911,837"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="732,621,916,677"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1268,551,1483,593"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1276,217,1475,258"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1289,380,1462,436"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1015,805,1188,861"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="983,886,1220,927"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="986,558,1217,599"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1008,725,1195,781"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1015,477,1188,533"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1015,136,1188,192"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1015,347,1188,403"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1007,216,1196,272"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a09d587cc38996109b753a7704fa33736" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_layer" alt="" coords="1012,952,1191,1008"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a2a4e90569074d49ab538041caedacf6a" title="These are defined in masstree_storage_verify.cpp. " alt="" coords="1289,752,1462,808"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="721,1199,927,1241"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1011,1192,1192,1248"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1019,1272,1183,1328"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1019,1352,1183,1408"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="1000,1432,1203,1488"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="1012,1512,1191,1568"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="1003,1032,1199,1088"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="1010,1112,1193,1168"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="455,1265,641,1321"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="455,1345,641,1401"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="733,1265,915,1321"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="733,1345,915,1401"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6c9eb02ad32cc1bffe9daac3521ad24" title="Returns the count of direct children in the first&#45;root node. " alt="" coords="737,382,911,453"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="737,235,911,277"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="730,301,918,357"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="455,1425,641,1481"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="455,1505,641,1561"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="431,1586,665,1627"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac612c67d7e9e1a68dcccce98648cad0c" title="foedus::storage::array\l::ArrayStoragePimpl::verify\l_single_thread" alt="" coords="460,1652,636,1708"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abb36cf6186f747e38d98a13c6419e128"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::follow_page_pointers_for_read_batch </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">storage::VolatilePageInit</a>&#160;</td>
          <td class="paramname"><em>page_initializer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tolerate_null_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>take_ptr_set_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> **&#160;</td>
          <td class="paramname"><em>pointers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>parents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>index_in_parents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>followed_snapshots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Batched version of follow_page_pointer with will_modify==false. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_size</td><td>Batch size. Must be kMaxFindPagesBatch or less. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">page_initializer</td><td>callback function in case we need to initialize a new volatile page. null if it never happens (eg tolerate_null_pointer is false). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tolerate_null_pointer</td><td>when true and when both the volatile and snapshot pointers seem null, we return null page rather than creating a new volatile page. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">take_ptr_set_snapshot</td><td>if true, we add the address of volatile page pointer to ptr set when we do not follow a volatile pointer (null or volatile). This is usually true to make sure we get aware of new page installment by concurrent threads. If the isolation level is not serializable, we don't take ptr set anyways. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pointers</td><td>the page pointers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parents</td><td>the parent page that contains a pointer to the page. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index_in_parents</td><td>Some index (meaning depends on page type) of pointer in parent page to the page. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">followed_snapshots</td><td>As input, must be same as parents[i]==followed_snapshots[i]. As output, same as out[i]-&gt;header().snapshot_. We receive/emit this to avoid accessing page header. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>the read page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>this method is guaranteed to work even if parents==out </dd></dl>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00373">373</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00484">foedus::thread::ThreadPimpl::follow_page_pointers_for_read_batch()</a>.</p>

<p>Referenced by <a class="el" href="array__storage__pimpl_8cpp_source.html#l01010">foedus::storage::array::ArrayStoragePimpl::follow_pointers_for_read_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                     {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb">follow_page_pointers_for_read_batch</a>(</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    batch_size,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    page_initializer,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    tolerate_null_pointer,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    take_ptr_set_snapshot,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    pointers,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    parents,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    index_in_parents,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    followed_snapshots,</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    out);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a89fe2af2a31e70a89e143cbc2d687ffb"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb">foedus::thread::ThreadPimpl::follow_page_pointers_for_read_batch</a></div><div class="ttdeci">ErrorCode follow_page_pointers_for_read_batch(uint16_t batch_size, storage::VolatilePageInit page_initializer, bool tolerate_null_pointer, bool take_ptr_set_snapshot, storage::DualPagePointer **pointers, storage::Page **parents, const uint16_t *index_in_parents, bool *followed_snapshots, storage::Page **out)</div><div class="ttdoc">Batched version of follow_page_pointer with will_modify==false. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00484">thread_pimpl.cpp:484</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_cgraph" id="classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a89fe2af2a31e70a89e143cbc2d687ffb" title="Batched version of follow_page_pointer with will_modify==false. " alt="" coords="204,393,388,449"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="460,93,599,135"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="693,144,855,185"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a98de2aa47bebca5add3e0550f2c602bf" title="Batched version of find_or_read_a_snapshot_page(). " alt="" coords="437,1067,621,1123"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1237,320,1386,361"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="459,1433,600,1475"/>
<area shape="rect" id="node40" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="941,1395,1152,1436"/>
<area shape="rect" id="node41" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="682,479,866,535"/>
<area shape="rect" id="node42" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="693,560,855,601"/>
<area shape="rect" id="node43" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="969,64,1124,105"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="436,400,623,441"/>
<area shape="rect" id="node48" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="673,261,875,303"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1231,5,1392,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="707,1199,841,1240"/>
<area shape="rect" id="node8" href="classfoedus_1_1cache_1_1CacheHashtable.html#a8e48716623ca44e83cc5ef871c10b131" title="Batched version of find(). " alt="" coords="671,775,877,816"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="957,1133,1136,1175"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="682,1133,866,1175"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="955,1264,1139,1305"/>
<area shape="rect" id="node35" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="671,1003,877,1044"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="693,1316,855,1357"/>
<area shape="rect" id="node9" href="classfoedus_1_1cache_1_1CacheHashtable.html#a30b6a0b28cce30d50da7e0419c8cad20" title="Returns a bucket number the given page ID should belong to. " alt="" coords="943,937,1150,979"/>
<area shape="rect" id="node14" href="structfoedus_1_1cache_1_1CacheBucket.html#ab91d1b89c885979b7a6a4ef70b12b54d" title="foedus::cache::CacheBucket\l::get_content_id" alt="" coords="952,807,1141,848"/>
<area shape="rect" id="node15" href="classfoedus_1_1cache_1_1CacheHashtable.html#acea3236385a3b8d05ed1a60186e32ee8" title="foedus::cache::CacheHashtable\l::get_logical_buckets" alt="" coords="943,611,1150,652"/>
<area shape="rect" id="node16" href="structfoedus_1_1cache_1_1HashFunc.html#a9470855bb66d98df48f82fc5ba6655c6" title="Returns another hash value used to differentiate IDs with similar hash values. " alt="" coords="961,872,1132,913"/>
<area shape="rect" id="node17" href="structfoedus_1_1cache_1_1CacheBucket.html#aad7099f48418a335a80260a664bf2f02" title="foedus::cache::CacheBucket\l::get_tag" alt="" coords="952,676,1141,717"/>
<area shape="rect" id="node18" href="structfoedus_1_1cache_1_1CacheRefCount.html#af555d7665e995d8e65f315c708d28daa" title="foedus::cache::CacheRefCount\l::increment" alt="" coords="946,741,1147,783"/>
<area shape="rect" id="node19" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="961,545,1133,587"/>
<area shape="rect" id="node10" href="structfoedus_1_1cache_1_1HashFunc.html#a19737fa3c91676f9c85536f5928b7501" title="Returns a bucket number the given snapshot page ID should belong to. " alt="" coords="1226,960,1397,1001"/>
<area shape="rect" id="node11" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1459,1025,1637,1067"/>
<area shape="rect" id="node12" href="structfoedus_1_1cache_1_1HashFunc.html#aa9020cb1e5915b6777d089521ef618a9" title="Returns a hash value for the given snapshot page ID. " alt="" coords="1463,960,1633,1001"/>
<area shape="rect" id="node13" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="1689,1086,1889,1142"/>
<area shape="rect" id="node20" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="1225,604,1397,645"/>
<area shape="rect" id="node24" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="934,1329,1159,1371"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="925,1199,1168,1240"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1459,1361,1637,1403"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="1222,1361,1401,1403"/>
<area shape="rect" id="node28" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="1218,1225,1405,1267"/>
<area shape="rect" id="node29" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="1455,1284,1641,1325"/>
<area shape="rect" id="node30" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="1473,1101,1623,1143"/>
<area shape="rect" id="node31" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="1473,1167,1623,1208"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="1459,539,1637,580"/>
<area shape="rect" id="node34" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="1222,539,1401,580"/>
<area shape="rect" id="node36" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="960,1068,1133,1109"/>
<area shape="rect" id="node37" href="structfoedus_1_1cache_1_1CacheBucket.html#aaa52396996e73a08cace2a2dcef82ffb" title="foedus::cache::CacheBucket\l::reset" alt="" coords="952,1003,1141,1044"/>
<area shape="rect" id="node44" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1234,137,1389,179"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1216,71,1407,112"/>
<area shape="rect" id="node47" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="933,480,1161,521"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="960,211,1133,252"/>
<area shape="rect" id="node50" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="945,130,1148,186"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_icgraph" id="classfoedus_1_1thread_1_1Thread_abb36cf6186f747e38d98a13c6419e128_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="204,45,383,101"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="431,45,616,101"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="664,45,847,101"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="895,5,1060,61"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="895,85,1060,141"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="1108,5,1283,61"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="1108,85,1283,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2b375e7de4d6c9c7b222c45b271126dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::follow_page_pointers_for_write_batch </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486">storage::VolatilePageInit</a>&#160;</td>
          <td class="paramname"><em>page_initializer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> **&#160;</td>
          <td class="paramname"><em>pointers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>parents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>index_in_parents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_size</td><td>Batch size. Must be kMaxFindPagesBatch or less. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">page_initializer</td><td>callback function in case we need to initialize a new volatile page. null if it never happens (eg tolerate_null_pointer is false). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pointers</td><td>the page pointers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parents</td><td>the parent page that contains a pointer to the page. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index_in_parents</td><td>Some index (meaning depends on page type) of pointer in parent page to the page. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>the read page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>this method is guaranteed to work even if parents==out </dd></dl>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00395">395</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00595">foedus::thread::ThreadPimpl::follow_page_pointers_for_write_batch()</a>.</p>

<p>Referenced by <a class="el" href="array__storage__pimpl_8cpp_source.html#l01075">foedus::storage::array::ArrayStoragePimpl::follow_pointers_for_write_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                     {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5">follow_page_pointers_for_write_batch</a>(</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    batch_size,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    page_initializer,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    pointers,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    parents,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    index_in_parents,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    out);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_aac3821c478965e40c60c819a7e5a83e5"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5">foedus::thread::ThreadPimpl::follow_page_pointers_for_write_batch</a></div><div class="ttdeci">ErrorCode follow_page_pointers_for_write_batch(uint16_t batch_size, storage::VolatilePageInit page_initializer, storage::DualPagePointer **pointers, storage::Page **parents, const uint16_t *index_in_parents, storage::Page **out)</div><div class="ttdoc">Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00595">thread_pimpl.cpp:595</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_cgraph" id="classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aac3821c478965e40c60c819a7e5a83e5" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="204,795,388,851"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="950,211,1111,252"/>
<area shape="rect" id="node5" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="929,337,1132,379"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1228,92,1383,133"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1495,373,1645,415"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="436,803,620,844"/>
<area shape="rect" id="node46" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="925,1336,1136,1377"/>
<area shape="rect" id="node47" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="950,1271,1111,1312"/>
<area shape="rect" id="node48" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="939,1190,1123,1246"/>
<area shape="rect" id="node49" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="679,887,866,928"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1489,31,1651,72"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1219,289,1392,331"/>
<area shape="rect" id="node11" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1204,209,1407,265"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1493,189,1647,231"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1475,96,1665,137"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="668,803,877,844"/>
<area shape="rect" id="node45" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="681,1263,865,1319"/>
<area shape="rect" id="node14" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="963,769,1098,811"/>
<area shape="rect" id="node15" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="927,835,1134,876"/>
<area shape="rect" id="node28" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="1216,1096,1395,1137"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="939,972,1123,1013"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="1213,1227,1397,1268"/>
<area shape="rect" id="node41" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="927,672,1134,713"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="949,607,1112,648"/>
<area shape="rect" id="node16" href="classfoedus_1_1cache_1_1CacheHashtable.html#a30b6a0b28cce30d50da7e0419c8cad20" title="Returns a bucket number the given page ID should belong to. " alt="" coords="1202,639,1409,680"/>
<area shape="rect" id="node21" href="structfoedus_1_1cache_1_1CacheBucket.html#ab91d1b89c885979b7a6a4ef70b12b54d" title="foedus::cache::CacheBucket\l::get_content_id" alt="" coords="1211,769,1400,811"/>
<area shape="rect" id="node22" href="classfoedus_1_1cache_1_1CacheHashtable.html#acea3236385a3b8d05ed1a60186e32ee8" title="foedus::cache::CacheHashtable\l::get_logical_buckets" alt="" coords="1202,835,1409,876"/>
<area shape="rect" id="node23" href="structfoedus_1_1cache_1_1HashFunc.html#a9470855bb66d98df48f82fc5ba6655c6" title="Returns another hash value used to differentiate IDs with similar hash values. " alt="" coords="1220,704,1391,745"/>
<area shape="rect" id="node24" href="structfoedus_1_1cache_1_1CacheBucket.html#aad7099f48418a335a80260a664bf2f02" title="foedus::cache::CacheBucket\l::get_tag" alt="" coords="1211,900,1400,941"/>
<area shape="rect" id="node25" href="structfoedus_1_1cache_1_1CacheRefCount.html#af555d7665e995d8e65f315c708d28daa" title="foedus::cache::CacheRefCount\l::increment" alt="" coords="1205,965,1406,1007"/>
<area shape="rect" id="node26" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="1219,1031,1391,1072"/>
<area shape="rect" id="node17" href="structfoedus_1_1cache_1_1HashFunc.html#a19737fa3c91676f9c85536f5928b7501" title="Returns a bucket number the given snapshot page ID should belong to. " alt="" coords="1485,803,1655,844"/>
<area shape="rect" id="node18" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1718,803,1895,844"/>
<area shape="rect" id="node19" href="structfoedus_1_1cache_1_1HashFunc.html#aa9020cb1e5915b6777d089521ef618a9" title="Returns a hash value for the given snapshot page ID. " alt="" coords="1721,1007,1892,1048"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="1948,1134,2148,1190"/>
<area shape="rect" id="node27" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="1484,1031,1656,1072"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="1193,1161,1418,1203"/>
<area shape="rect" id="node38" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="1184,1453,1427,1495"/>
<area shape="rect" id="node31" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1717,1215,1896,1256"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="1481,1220,1659,1261"/>
<area shape="rect" id="node34" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="1477,1397,1663,1439"/>
<area shape="rect" id="node35" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="1713,1332,1900,1373"/>
<area shape="rect" id="node36" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="1731,1397,1882,1439"/>
<area shape="rect" id="node37" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="1731,1463,1882,1504"/>
<area shape="rect" id="node39" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="1717,1528,1896,1569"/>
<area shape="rect" id="node40" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="1481,1515,1659,1556"/>
<area shape="rect" id="node42" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1219,508,1392,549"/>
<area shape="rect" id="node43" href="structfoedus_1_1cache_1_1CacheBucket.html#aaa52396996e73a08cace2a2dcef82ffb" title="foedus::cache::CacheBucket\l::reset" alt="" coords="1211,573,1400,615"/>
<area shape="rect" id="node50" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="1191,1519,1419,1560"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_icgraph" id="classfoedus_1_1thread_1_1Thread_a2b375e7de4d6c9c7b222c45b271126dc_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="204,5,383,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="431,5,616,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="664,5,829,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="877,5,1052,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac48c54832becbaa9141926af14705ba3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1xct_1_1Xct.html">xct::Xct</a> &amp; foedus::thread::Thread::get_current_xct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the transaction that is currently running on this thread. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00075">75</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00375">foedus::thread::ThreadPimpl::current_xct_</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00954">foedus::xct::XctManagerPimpl::abort_xct()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00056">foedus::storage::sequential::SequentialStorage::append_record()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00307">foedus::xct::XctManagerPimpl::begin_xct()</a>, <a class="el" href="retrospective__lock__list_8cpp_source.html#l00252">foedus::xct::RetrospectiveLockList::construct()</a>, <a class="el" href="page_8cpp_source.html#l00081">foedus::storage::PageHeader::contains_hot_records()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00372">foedus::storage::array::ArrayStoragePimpl::get_record()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00419">foedus::storage::array::ArrayStoragePimpl::get_record_for_write()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00746">foedus::storage::array::ArrayStoragePimpl::get_record_for_write_batch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00403">foedus::storage::array::ArrayStoragePimpl::get_record_payload()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00717">foedus::storage::array::ArrayStoragePimpl::get_record_payload_batch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00388">foedus::storage::array::ArrayStoragePimpl::get_record_primitive()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00678">foedus::storage::array::ArrayStoragePimpl::get_record_primitive_batch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00486">foedus::storage::array::ArrayStoragePimpl::increment_record()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00512">foedus::storage::array::ArrayStoragePimpl::increment_record_oneshot()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00842">foedus::storage::hash::HashStoragePimpl::locate_bin()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00283">foedus::storage::masstree::MasstreeStoragePimpl::locate_record()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00936">foedus::storage::hash::HashStoragePimpl::locate_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00336">foedus::storage::masstree::MasstreeStoragePimpl::locate_record_normalized()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00213">foedus::storage::sequential::SequentialStorageControlBlock::optimistic_read_truncate_epoch()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00449">foedus::storage::array::ArrayStoragePimpl::overwrite_record()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00468">foedus::storage::array::ArrayStoragePimpl::overwrite_record_primitive()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00343">foedus::xct::XctManagerPimpl::precommit_xct()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00868">foedus::xct::XctManagerPimpl::precommit_xct_apply()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00539">foedus::xct::XctManagerPimpl::precommit_xct_lock()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00514">foedus::xct::XctManagerPimpl::precommit_xct_lock_batch_track_moved()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00384">foedus::xct::XctManagerPimpl::precommit_xct_readwrite()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00478">foedus::xct::XctManagerPimpl::precommit_xct_sort_access()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00847">foedus::xct::XctManagerPimpl::precommit_xct_verify_page_version_set()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00828">foedus::xct::XctManagerPimpl::precommit_xct_verify_pointer_set()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00648">foedus::xct::XctManagerPimpl::precommit_xct_verify_readonly()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00731">foedus::xct::XctManagerPimpl::precommit_xct_verify_readwrite()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00645">foedus::storage::masstree::MasstreeStoragePimpl::register_record_write_log()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00260">foedus::storage::hash::HashStoragePimpl::register_record_write_log()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00997">foedus::xct::XctManagerPimpl::release_and_clear_all_current_locks()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record()</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00515">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record_normalized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a26c718d661316827c8efd219b743e227">current_xct_</a>; }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a26c718d661316827c8efd219b743e227"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a26c718d661316827c8efd219b743e227">foedus::thread::ThreadPimpl::current_xct_</a></div><div class="ttdeci">xct::Xct current_xct_</div><div class="ttdoc">Current transaction this thread is conveying. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00375">thread_pimpl.hpp:375</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ac48c54832becbaa9141926af14705ba3_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ac48c54832becbaa9141926af14705ba3_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ac48c54832becbaa9141926af14705ba3_icgraph" id="classfoedus_1_1thread_1_1Thread_ac48c54832becbaa9141926af14705ba3_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="501,64,696,105"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="1007,156,1201,197"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ab8696b7ccf07c7b8e1efb038d8cd83c2" title="Append one record to this sequential storage. " alt="" coords="209,787,439,828"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="227,852,421,893"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a38d217000e4df1d2d8e829c37218f93e" title="Fill out this retrospetive lock list for the next run of the given transaction. " alt="" coords="238,5,410,47"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a9d43e66022a4171e578fcd79ba10a948" title="foedus::storage::PageHeader\l::contains_hot_records" alt="" coords="229,917,419,959"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="235,1034,413,1090"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="753,1007,959,1048"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="241,1114,407,1170"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="241,1194,407,1250"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="241,1274,407,1330"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="241,1354,407,1410"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="241,1434,407,1490"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="241,1514,407,1570"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="241,1594,407,1650"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="222,1674,426,1730"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="222,1754,426,1810"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="237,1834,411,1890"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="233,1914,415,1970"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="235,1994,413,2050"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1sequential_1_1SequentialStorageControlBlock.html#a8b82d79a7b8aab753945617abbc40b7f" title="foedus::storage::sequential\l::SequentialStorageControlBlock\l::optimistic_read_truncate_epoch" alt="" coords="217,2074,431,2130"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7dde5581eee977242b5373e30365183f" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="225,2154,423,2210"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d324da4dcd35490820cb97e7124001b" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="225,2234,423,2290"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad91daff37c2b78b8c6620d67869e9d7f" title="Phase 3 of precommit_xct() " alt="" coords="501,707,696,748"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="759,429,953,471"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2376431f079ce60800c9c25d89d74896" title="Phase 1 of precommit_xct() " alt="" coords="501,333,696,375"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ada7782b43556708daa3bb94f7662409a" title="Subroutine of precommit_xct_lock to track most of moved records in write&#45;set. " alt="" coords="227,290,421,346"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a09e66e6f76cf08131e11a18a44b5d0a4" title="foedus::xct::XctManagerPimpl\l::precommit_xct_sort_access" alt="" coords="227,371,421,412"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ab21414e107b53d6276e1d20bc12dce9d" title="Returns false if there is any page version conflict. " alt="" coords="227,538,421,594"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="495,619,703,660"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="493,516,704,557"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a011f72c9cc830a943b9dccd62d323209" title="Returns false if there is any pointer set conflict. " alt="" coords="213,619,435,660"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a3036d6662c0bd89e330ca19cbca1f549" title="Used in the following methods. " alt="" coords="237,2314,411,2370"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="229,2394,419,2450"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a3c2ee2d08709ff62e77e0dff6eded376" title="unlocking all acquired locks, used when commit/abort. " alt="" coords="204,123,444,164"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="237,2474,411,2530"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="232,2554,416,2610"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="775,72,937,113"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. " alt="" coords="517,852,680,893"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a5901bd2379f57ce799dcd58efd342790" title="foedus::xct::RwLockableXct\lId::is_hot" alt="" coords="507,917,690,959"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="492,1037,705,1079"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="511,1121,686,1163"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="511,1194,686,1250"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="511,1274,686,1330"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="511,1354,686,1410"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="511,1434,686,1490"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="511,1514,686,1570"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="511,1594,686,1650"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="513,1674,684,1730"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a64fa1150b812810a2697bd6293aaac9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> * foedus::thread::Thread::get_engine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00052">52</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00320">foedus::thread::ThreadPimpl::engine_</a>.</p>

<p>Referenced by <a class="el" href="common__log__types_8cpp_source.html#l00056">foedus::log::EpochMarkerLogType::apply_engine()</a>, <a class="el" href="array__page__impl_8cpp_source.html#l00078">foedus::storage::array::array_volatile_page_init()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00232">foedus::storage::hash::hash_data_volatile_page_init()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00539">foedus::xct::XctManagerPimpl::precommit_xct_lock()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00119">foedus::storage::masstree::GrowFirstLayerRoot::run()</a>, and <a class="el" href="hash__storage__verify_8cpp_source.html#l00039">foedus::storage::hash::HashStoragePimpl::verify_single_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ae1bfd239ac92cface8460b6e1ffa1813">engine_</a>; }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_ae1bfd239ac92cface8460b6e1ffa1813"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#ae1bfd239ac92cface8460b6e1ffa1813">foedus::thread::ThreadPimpl::engine_</a></div><div class="ttdeci">Engine *const engine_</div><div class="ttdoc">MCS locks methods. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00320">thread_pimpl.hpp:320</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a64fa1150b812810a2697bd6293aaac9a_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a64fa1150b812810a2697bd6293aaac9a_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a64fa1150b812810a2697bd6293aaac9a_icgraph" id="classfoedus_1_1thread_1_1Thread_a64fa1150b812810a2697bd6293aaac9a_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1log_1_1EpochMarkerLogType.html#afa47a6367fb4dfa7988f783932ec278b" title="foedus::log::EpochMarker\lLogType::apply_engine" alt="" coords="216,747,387,789"/>
<area shape="rect" id="node3" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="219,813,383,854"/>
<area shape="rect" id="node34" href="group__ARRAY.html#ga8423aae479f4b36ddc54127b07268c8c" title="volatile page initialize callback for HashDataPage. " alt="" coords="228,891,375,947"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2376431f079ce60800c9c25d89d74896" title="Phase 1 of precommit_xct() " alt="" coords="204,971,399,1013"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="215,1037,388,1078"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3e66818c84450f40fdb3d84a945cc36c" title="foedus::storage::hash\l::HashStoragePimpl::verify\l_single_thread" alt="" coords="214,1103,389,1159"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="455,405,633,461"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="455,725,633,781"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="455,805,633,861"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="703,205,889,261"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="703,405,889,461"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="962,125,1145,181"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="1223,5,1389,61"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="1223,85,1389,141"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="1223,165,1389,221"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="1456,13,1631,54"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="1456,85,1631,141"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="1456,165,1631,221"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="962,405,1145,461"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="1223,245,1389,301"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="1204,325,1408,381"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="1204,405,1408,461"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d21cd23923f93d072a1a182cae6f412" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="1207,485,1405,541"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a3ee9fdf4da9f172082841c1774a761da" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="1207,565,1405,621"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="1456,245,1631,301"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="1458,325,1629,381"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5093ba18b241e5179a363476bdd20066" title="This is a faster increment that does not return the value after increment. " alt="" coords="1458,405,1629,461"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5fe59a512f951b17e2524fd153a9d991" title="Overwrites a part of one record of the given offset in this array storage. " alt="" coords="1461,485,1625,541"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaa646f67578c221ef982e28fffdd76e4" title="Overwrites a part of record of the given offset as a primitive type in this array storage..." alt="" coords="1461,565,1625,621"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="703,725,889,781"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="962,725,1145,781"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="1223,645,1389,701"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="1223,725,1389,781"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="703,805,889,861"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="971,805,1136,861"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="1219,805,1393,861"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="455,904,633,960"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="689,915,903,957"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="951,1053,1156,1094"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1215,885,1397,941"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1224,965,1388,1021"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1224,1045,1388,1101"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="1205,1125,1407,1181"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="1217,1205,1395,1261"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="1208,1285,1404,1341"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="1215,1365,1397,1421"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="447,1022,641,1063"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="699,1098,893,1139"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="972,1118,1135,1159"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa77cde98794b5a55e0d295284acb3e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp; foedus::thread::Thread::get_global_volatile_page_resolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the page resolver to convert page ID to page pointer. </p>
<p>Just a shorthand for <a class="el" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a">get_engine()</a>-&gt;get_memory_manager()-&gt;<a class="el" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. ">get_global_volatile_page_resolver()</a>. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00125">125</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00354">foedus::thread::ThreadPimpl::global_volatile_page_resolver_</a>.</p>

<p>Referenced by <a class="el" href="masstree__grow__impl_8cpp_source.html#l00036">foedus::storage::masstree::grow_case_a_common()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">foedus::storage::masstree::grow_case_b_common()</a>, <a class="el" href="xct_8cpp_source.html#l00258">foedus::xct::Xct::on_record_read()</a>, <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00432">foedus::xct::XctManagerPimpl::precommit_xct_lock_track_write()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00458">foedus::xct::XctManagerPimpl::precommit_xct_verify_track_read()</a>, <a class="el" href="thread_8cpp_source.html#l00129">resolve()</a>, <a class="el" href="thread_8cpp_source.html#l00132">resolve_newpage()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00119">foedus::storage::masstree::GrowFirstLayerRoot::run()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00167">foedus::storage::masstree::GrowNonFirstLayerRoot::run()</a>, and <a class="el" href="array__storage__pimpl_8cpp_source.html#l00937">foedus::storage::array::ArrayStoragePimpl::verify_single_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                                                                        {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a44232f657701896a24ec4a238d0ab226">global_volatile_page_resolver_</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a44232f657701896a24ec4a238d0ab226"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a44232f657701896a24ec4a238d0ab226">foedus::thread::ThreadPimpl::global_volatile_page_resolver_</a></div><div class="ttdeci">memory::GlobalVolatilePageResolver global_volatile_page_resolver_</div><div class="ttdoc">Page resolver to convert all page ID to page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00354">thread_pimpl.hpp:354</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_aa77cde98794b5a55e0d295284acb3e6d_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_aa77cde98794b5a55e0d295284acb3e6d_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_aa77cde98794b5a55e0d295284acb3e6d_icgraph" id="classfoedus_1_1thread_1_1Thread_aa77cde98794b5a55e0d295284acb3e6d_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a554f6fb34b45687df09df15076aac190" title="foedus::storage::masstree\l::grow_case_a_common" alt="" coords="227,593,401,634"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="491,469,664,510"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="480,534,675,575"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="227,527,401,569"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="510,599,645,641"/>
<area shape="rect" id="node31" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="231,760,397,816"/>
<area shape="rect" id="node32" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ab5ef5b885ba49a42c2f47b694dc2a63d" title="used from precommit_xct_lock() to track moved record " alt="" coords="205,993,423,1034"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="204,1082,424,1123"/>
<area shape="rect" id="node40" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="502,949,653,990"/>
<area shape="rect" id="node48" href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371" title="Shorthand for get_global_volatile_page_resolver.resolve_offset_newpage() " alt="" coords="239,1147,389,1189"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2b04cc1cb6c96c53d454d03836b85b70" title="foedus::storage::array\l::ArrayStoragePimpl::verify\l_single_thread" alt="" coords="226,1213,402,1269"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="765,246,900,287"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="750,85,915,141"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="750,165,915,221"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="750,312,915,368"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="750,392,915,448"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="731,472,935,528"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="750,552,915,608"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="750,632,915,688"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="750,5,915,61"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="744,877,921,933"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="744,715,921,771"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="993,89,1167,130"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="993,155,1167,211"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="993,235,1167,291"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="993,315,1167,371"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="995,395,1165,451"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="993,475,1167,531"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="993,555,1167,611"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="993,5,1167,61"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="989,955,1171,1011"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="993,715,1167,771"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="991,635,1169,691"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="993,795,1167,851"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="988,875,1172,931"/>
<area shape="rect" id="node33" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ada7782b43556708daa3bb94f7662409a" title="Subroutine of precommit_xct_lock to track most of moved records in write&#45;set. " alt="" coords="480,1015,675,1071"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2376431f079ce60800c9c25d89d74896" title="Phase 1 of precommit_xct() " alt="" coords="735,1143,930,1185"/>
<area shape="rect" id="node35" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="983,1355,1177,1397"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="473,1161,681,1202"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="472,1095,683,1137"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="735,1261,930,1302"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#a17f375db3d50174cf49746e04ce00118" title="resolve() plus reinterpret_cast " alt="" coords="757,961,908,1002"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="991,1275,1169,1331"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="746,795,919,851"/>
<area shape="rect" id="node47" href="namespacefoedus_1_1storage_1_1masstree.html#acea98e6f343df2d62a9a8f9ddd127234" title="foedus::storage::masstree\l::verify_page_basic" alt="" coords="746,1078,919,1119"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="983,1195,1177,1251"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="1004,1035,1156,1091"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="998,1115,1162,1171"/>
<area shape="rect" id="node49" href="classfoedus_1_1thread_1_1Thread.html#a5a3d3dfea35515ae7971106bce95b242" title="foedus::thread::Thread\l::resolve_newpage_cast" alt="" coords="497,1226,657,1267"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f19e6df65000416391b796d9b2f9d66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Epoch.html">Epoch</a> * foedus::thread::Thread::get_in_commit_epoch_address </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Currently we don't have sysxct_release_locks() etc. </p>
<p>All locks will be automatically released when the sysxct ends. Probably this is enough as sysxct should be short-living. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="structfoedus_1_1xct_1_1InCommitEpochGuard.html" title="Automatically sets in-commit-epoch with appropriate fence during pre-commit protocol. ">foedus::xct::InCommitEpochGuard</a> </dd></dl>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00055">55</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00382">foedus::thread::ThreadPimpl::control_block_</a>, and <a class="el" href="thread__pimpl_8hpp_source.html#l00140">foedus::thread::ThreadControlBlock::in_commit_epoch_</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00384">foedus::xct::XctManagerPimpl::precommit_xct_readwrite()</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{ <span class="keywordflow">return</span> &amp;pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">control_block_</a>-&gt;<a class="code" href="structfoedus_1_1thread_1_1ThreadControlBlock.html#a84214d8fad43fcaa6ad9e11763a76594">in_commit_epoch_</a>; }</div>
<div class="ttc" id="structfoedus_1_1thread_1_1ThreadControlBlock_html_a84214d8fad43fcaa6ad9e11763a76594"><div class="ttname"><a href="structfoedus_1_1thread_1_1ThreadControlBlock.html#a84214d8fad43fcaa6ad9e11763a76594">foedus::thread::ThreadControlBlock::in_commit_epoch_</a></div><div class="ttdeci">Epoch in_commit_epoch_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00140">thread_pimpl.hpp:140</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a1dafa88a0e8db9faa2deffb4d893b69f"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">foedus::thread::ThreadPimpl::control_block_</a></div><div class="ttdeci">ThreadControlBlock * control_block_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00382">thread_pimpl.hpp:382</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a6f19e6df65000416391b796d9b2f9d66_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a6f19e6df65000416391b796d9b2f9d66_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a6f19e6df65000416391b796d9b2f9d66_icgraph" id="classfoedus_1_1thread_1_1Thread_a6f19e6df65000416391b796d9b2f9d66_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="211,13,405,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="453,13,648,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="696,13,859,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac8953b86c90ec5ee1730b05397a259da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1memory_1_1LocalPageResolver.html">memory::LocalPageResolver</a> &amp; foedus::thread::Thread::get_local_volatile_page_resolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns page resolver to convert only local page ID to page pointer. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00080">80</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00356">foedus::thread::ThreadPimpl::local_volatile_page_resolver_</a>.</p>

<p>Referenced by <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00039">foedus::storage::masstree::allocate_new_border_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00323">foedus::storage::sequential::SequentialStoragePimpl::append_record()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="thread_8cpp_source.html#l00135">resolve()</a>, <a class="el" href="thread_8cpp_source.html#l00138">resolve_newpage()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00039">foedus::storage::masstree::SplitBorder::run()</a>, <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>, and <a class="el" href="masstree__split__impl_8cpp_source.html#l00476">foedus::storage::masstree::SplitIntermediate::split_impl_no_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                                                              {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a0b56e96991f936feba47c29f61c0fbcb">local_volatile_page_resolver_</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a0b56e96991f936feba47c29f61c0fbcb"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a0b56e96991f936feba47c29f61c0fbcb">foedus::thread::ThreadPimpl::local_volatile_page_resolver_</a></div><div class="ttdeci">memory::LocalPageResolver local_volatile_page_resolver_</div><div class="ttdoc">Page resolver to convert only local page ID to page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00356">thread_pimpl.hpp:356</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ac8953b86c90ec5ee1730b05397a259da_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ac8953b86c90ec5ee1730b05397a259da_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ac8953b86c90ec5ee1730b05397a259da_icgraph" id="classfoedus_1_1thread_1_1Thread_ac8953b86c90ec5ee1730b05397a259da_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da" title="foedus::storage::masstree\l::allocate_new_border_page" alt="" coords="216,101,399,142"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="467,126,640,167"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="218,217,397,273"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="218,297,397,353"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1Thread.html#a892665edac104de10ffb46980a9d6bbf" title="Shorthand for get_local_volatile_page_resolver.resolve_offset() " alt="" coords="232,378,383,419"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1Thread.html#a0bbca35bd1ea6ee3cb3d94616166644e" title="Shorthand for get_local_volatile_page_resolver.resolve_offset_newpage() " alt="" coords="232,443,383,485"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="221,509,394,550"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="221,575,394,631"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="464,217,643,273"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="719,217,902,273"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="447,305,660,346"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="708,305,913,346"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="972,19,1153,75"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="981,112,1145,168"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="981,217,1145,273"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="961,297,1164,353"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="973,377,1152,433"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="965,457,1161,513"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="971,577,1154,633"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1239,5,1387,61"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1226,86,1401,127"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1212,151,1415,193"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1231,217,1395,273"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1463,217,1637,273"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1228,297,1399,353"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1240,377,1387,433"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1232,457,1395,513"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1215,537,1411,593"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1469,537,1631,593"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1239,617,1388,673"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="467,582,640,623"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a83bb972b117e155dc7f0faa56751571b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1assorted_1_1UniformRandom.html">assorted::UniformRandom</a>&amp; foedus::thread::Thread::get_lock_rnd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00368">368</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>Referenced by <a class="el" href="xct__id_8cpp_source.html#l00074">foedus::xct::RwLockableXctId::hotter()</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{ <span class="keywordflow">return</span> lock_rnd_; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a83bb972b117e155dc7f0faa56751571b_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a83bb972b117e155dc7f0faa56751571b_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a83bb972b117e155dc7f0faa56751571b_icgraph" id="classfoedus_1_1thread_1_1Thread_a83bb972b117e155dc7f0faa56751571b_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1xct_1_1RwLockableXctId.html#aba859c4eb829f83fa767720d5b745646" title="foedus::xct::RwLockableXct\lId::hotter" alt="" coords="204,39,387,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="435,39,629,80"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="693,5,856,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="677,71,872,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="920,71,1083,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a533a93844ae692e32571524f656870b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1xct_1_1McsRwExtendedBlock.html">xct::McsRwExtendedBlock</a> * foedus::thread::Thread::get_mcs_rw_extended_blocks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00836">836</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00389">foedus::thread::ThreadPimpl::mcs_rw_extended_blocks_</a>.</p>
<div class="fragment"><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                                          {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a0f8e120dfd26566418bbb9057f8c5b20">mcs_rw_extended_blocks_</a>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a0f8e120dfd26566418bbb9057f8c5b20"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a0f8e120dfd26566418bbb9057f8c5b20">foedus::thread::ThreadPimpl::mcs_rw_extended_blocks_</a></div><div class="ttdeci">xct::McsRwExtendedBlock * mcs_rw_extended_blocks_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00389">thread_pimpl.hpp:389</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b1ea3713f779b1c3f6215533145ef26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1xct_1_1McsRwSimpleBlock.html">xct::McsRwSimpleBlock</a> * foedus::thread::Thread::get_mcs_rw_simple_blocks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unconditionally takes MCS lock on the given mcs_lock. </p>
<p>MCS Locking methods We previously had the locking algorithm implemented here, but we separated it to <a class="el" href="xct__mcs__impl_8cpp.html">xct_mcs_impl.cpp</a>/hpp.</p>
<p>We now have only delegation here.Thread -&gt; <a class="el" href="classfoedus_1_1thread_1_1ThreadPimpl.html" title="Pimpl object of Thread. ">ThreadPimpl</a> forwardings </p>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00833">833</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00388">foedus::thread::ThreadPimpl::mcs_rw_simple_blocks_</a>.</p>
<div class="fragment"><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                                                      {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dd7f177602e25a5cd1318723825c861">mcs_rw_simple_blocks_</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a1dd7f177602e25a5cd1318723825c861"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dd7f177602e25a5cd1318723825c861">foedus::thread::ThreadPimpl::mcs_rw_simple_blocks_</a></div><div class="ttdeci">xct::McsRwSimpleBlock * mcs_rw_simple_blocks_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00388">thread_pimpl.hpp:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a45fb679126e4fd5b02ccb7d1f257e4bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemory.html">memory::NumaNodeMemory</a> * foedus::thread::Thread::get_node_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the node-shared memory repository of the NUMA node this thread belongs to. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00058">58</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00345">foedus::thread::ThreadPimpl::core_memory_</a>, and <a class="el" href="numa__core__memory_8hpp_source.html#l00067">foedus::memory::NumaCoreMemory::get_node_memory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                                    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4ef6a79e56890341d855cfca877bf934">core_memory_</a>-&gt;<a class="code" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a694668bb2a5894b720406d5ed40f5bc0">get_node_memory</a>();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1NumaCoreMemory_html_a694668bb2a5894b720406d5ed40f5bc0"><div class="ttname"><a href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a694668bb2a5894b720406d5ed40f5bc0">foedus::memory::NumaCoreMemory::get_node_memory</a></div><div class="ttdeci">NumaNodeMemory * get_node_memory() const </div><div class="ttdoc">Returns the parent memory repository. </div><div class="ttdef"><b>Definition:</b> <a href="numa__core__memory_8hpp_source.html#l00067">numa_core_memory.hpp:67</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a4ef6a79e56890341d855cfca877bf934"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4ef6a79e56890341d855cfca877bf934">foedus::thread::ThreadPimpl::core_memory_</a></div><div class="ttdeci">memory::NumaCoreMemory * core_memory_</div><div class="ttdoc">Private memory repository of this thread. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00345">thread_pimpl.hpp:345</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a45fb679126e4fd5b02ccb7d1f257e4bf_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a45fb679126e4fd5b02ccb7d1f257e4bf_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a45fb679126e4fd5b02ccb7d1f257e4bf_cgraph" id="classfoedus_1_1thread_1_1Thread_a45fb679126e4fd5b02ccb7d1f257e4bf_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a694668bb2a5894b720406d5ed40f5bc0" title="Returns the parent memory repository. " alt="" coords="204,5,388,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa07f33f2b78aa6e6c66a2149b1db52e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">ThreadGroupId</a> foedus::thread::Thread::get_numa_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00066">66</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>References <a class="el" href="thread__id_8hpp_source.html#l00131">foedus::thread::decompose_numa_node()</a>, and <a class="el" href="thread_8cpp_source.html#l00053">get_thread_id()</a>.</p>

<p>Referenced by <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00039">foedus::storage::masstree::allocate_new_border_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00323">foedus::storage::sequential::SequentialStoragePimpl::append_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00691">foedus::storage::masstree::MasstreeStoragePimpl::delete_general()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00806">foedus::storage::masstree::MasstreeStoragePimpl::increment_general()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00661">foedus::storage::masstree::MasstreeStoragePimpl::insert_general()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00936">foedus::storage::hash::HashStoragePimpl::locate_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00772">foedus::storage::masstree::MasstreeStoragePimpl::overwrite_general()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00039">foedus::storage::masstree::SplitBorder::run()</a>, <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00476">foedus::storage::masstree::SplitIntermediate::split_impl_no_error()</a>, and <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00711">foedus::storage::masstree::MasstreeStoragePimpl::upsert_general()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa">decompose_numa_node</a>(<a class="code" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da">get_thread_id</a>()); }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_af98ed86adde3f5e39c9cab39440f38da"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da">foedus::thread::Thread::get_thread_id</a></div><div class="ttdeci">ThreadId get_thread_id() const </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00053">thread.cpp:53</a></div></div>
<div class="ttc" id="group__THREAD_html_ga1622c6d8c64ca80f51c1bef5190ec4fa"><div class="ttname"><a href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa">foedus::thread::decompose_numa_node</a></div><div class="ttdeci">ThreadGroupId decompose_numa_node(ThreadId global_id)</div><div class="ttdoc">Extracts NUMA node ID from the given globally unique ID of Thread (core). </div><div class="ttdef"><b>Definition:</b> <a href="thread__id_8hpp_source.html#l00131">thread_id.hpp:131</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_cgraph" id="classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_cgraph">
<area shape="rect" id="node2" href="group__THREAD.html#ga1622c6d8c64ca80f51c1bef5190ec4fa" title="Extracts NUMA node ID from the given globally unique ID of Thread (core). " alt="" coords="204,5,383,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="218,71,369,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_icgraph" id="classfoedus_1_1thread_1_1Thread_aa07f33f2b78aa6e6c66a2149b1db52e8_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da" title="foedus::storage::masstree\l::allocate_new_border_page" alt="" coords="204,79,387,120"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="467,5,640,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="206,163,385,219"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a45396b70b246f330355397b447af55f3" title="implementation of delete_record family. " alt="" coords="209,279,382,335"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="206,374,385,430"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="209,545,382,601"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="209,707,382,763"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="463,415,644,471"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="209,974,382,1030"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="209,1055,382,1096"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="209,1219,382,1275"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="209,1358,382,1414"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="464,71,643,127"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="744,71,927,127"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="449,152,657,193"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="728,255,943,296"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="467,218,640,274"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="447,349,660,391"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="733,349,938,391"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1009,138,1191,194"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1018,218,1182,274"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1018,298,1182,354"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="999,378,1201,434"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="1011,458,1189,514"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="1002,618,1198,674"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="1009,538,1191,594"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1277,111,1425,167"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1263,192,1438,233"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1249,339,1452,380"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1269,258,1433,314"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1265,405,1436,461"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1277,485,1424,541"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1269,618,1432,674"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="438,496,669,537"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="435,561,672,603"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="456,627,651,683"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="447,788,659,829"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="467,707,640,763"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="745,415,926,471"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="745,495,926,551"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="442,1095,665,1136"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="720,1200,951,1241"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="460,1161,647,1217"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="463,854,643,910"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="460,934,647,990"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="459,1014,648,1070"/>
<area shape="rect" id="node47" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="467,1292,640,1333"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="445,1439,661,1480"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="467,1358,640,1414"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0676c5bde1bc0a1923d51217311a5a0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1thread_1_1ThreadPimpl.html">ThreadPimpl</a>* foedus::thread::Thread::get_pimpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the pimpl of this object. </p>
<p>Use it only when you know what you are doing. </p>

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00366">366</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{ <span class="keywordflow">return</span> pimpl_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7455cb8fa3a550cd96ebbe3deb64e9a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::thread::Thread::get_snapshot_cache_hits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[statistics] count of cache hits in snapshot caches </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00062">62</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00382">foedus::thread::ThreadPimpl::control_block_</a>, and <a class="el" href="thread__pimpl_8hpp_source.html#l00145">foedus::thread::ThreadControlBlock::stat_snapshot_cache_hits_</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                               {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">control_block_</a>-&gt;<a class="code" href="structfoedus_1_1thread_1_1ThreadControlBlock.html#aea90422952de0f11fcb10568cc6ada62">stat_snapshot_cache_hits_</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="ttc" id="structfoedus_1_1thread_1_1ThreadControlBlock_html_aea90422952de0f11fcb10568cc6ada62"><div class="ttname"><a href="structfoedus_1_1thread_1_1ThreadControlBlock.html#aea90422952de0f11fcb10568cc6ada62">foedus::thread::ThreadControlBlock::stat_snapshot_cache_hits_</a></div><div class="ttdeci">uint64_t stat_snapshot_cache_hits_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00145">thread_pimpl.hpp:145</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a1dafa88a0e8db9faa2deffb4d893b69f"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">foedus::thread::ThreadPimpl::control_block_</a></div><div class="ttdeci">ThreadControlBlock * control_block_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00382">thread_pimpl.hpp:382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3c3ae9cb8ef7fe33b33e640b9bdc858"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t foedus::thread::Thread::get_snapshot_cache_misses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[statistics] count of cache misses in snapshot caches </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00066">66</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00382">foedus::thread::ThreadPimpl::control_block_</a>, and <a class="el" href="thread__pimpl_8hpp_source.html#l00146">foedus::thread::ThreadControlBlock::stat_snapshot_cache_misses_</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                 {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">control_block_</a>-&gt;<a class="code" href="structfoedus_1_1thread_1_1ThreadControlBlock.html#ada5ae07c10b92acbab636eb0d221557b">stat_snapshot_cache_misses_</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="structfoedus_1_1thread_1_1ThreadControlBlock_html_ada5ae07c10b92acbab636eb0d221557b"><div class="ttname"><a href="structfoedus_1_1thread_1_1ThreadControlBlock.html#ada5ae07c10b92acbab636eb0d221557b">foedus::thread::ThreadControlBlock::stat_snapshot_cache_misses_</a></div><div class="ttdeci">uint64_t stat_snapshot_cache_misses_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00146">thread_pimpl.hpp:146</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a1dafa88a0e8db9faa2deffb4d893b69f"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">foedus::thread::ThreadPimpl::control_block_</a></div><div class="ttdeci">ThreadControlBlock * control_block_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00382">thread_pimpl.hpp:382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d6c8773a627cd1d2ebe5fb194571289"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#gad998a8a9811ac9f9bd7c88bea3ce1d9b">ThreadGlobalOrdinal</a> foedus::thread::Thread::get_thread_global_ordinal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00054">54</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00336">foedus::thread::ThreadPimpl::global_ordinal_</a>.</p>

<p>Referenced by <a class="el" href="thread_8cpp_source.html#l00118">foedus::thread::operator&lt;&lt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#af8414c95aafa7c1780772651ff1e35b1">global_ordinal_</a>; }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_af8414c95aafa7c1780772651ff1e35b1"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#af8414c95aafa7c1780772651ff1e35b1">foedus::thread::ThreadPimpl::global_ordinal_</a></div><div class="ttdeci">const ThreadGlobalOrdinal global_ordinal_</div><div class="ttdoc">globally and contiguously numbered ID of thread </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00336">thread_pimpl.hpp:336</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a3d6c8773a627cd1d2ebe5fb194571289_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a3d6c8773a627cd1d2ebe5fb194571289_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a3d6c8773a627cd1d2ebe5fb194571289_icgraph" id="classfoedus_1_1thread_1_1Thread_a3d6c8773a627cd1d2ebe5fb194571289_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1thread.html#a529e7795457db4b13d8fbde00e88426d" title="foedus::thread::operator\&lt;\&lt;" alt="" coords="231,13,405,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af98ed86adde3f5e39c9cab39440f38da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#ga709a79fc1ed05a3543d8309ba391da93">ThreadId</a> foedus::thread::Thread::get_thread_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00053">53</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00330">foedus::thread::ThreadPimpl::id_</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00954">foedus::xct::XctManagerPimpl::abort_xct()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00323">foedus::storage::sequential::SequentialStoragePimpl::append_record()</a>, <a class="el" href="thread_8hpp_source.html#l00066">get_numa_node()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00304">foedus::storage::masstree::SplitBorder::lock_existing_records()</a>, <a class="el" href="thread_8cpp_source.html#l00118">foedus::thread::operator&lt;&lt;()</a>, <a class="el" href="array__storage__prefetch_8cpp_source.html#l00031">foedus::storage::array::ArrayStoragePimpl::prefetch_pages()</a>, and <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00030">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_normalized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ac881d08d38d5332ddababbef597e67a9">id_</a>; }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_ac881d08d38d5332ddababbef597e67a9"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#ac881d08d38d5332ddababbef597e67a9">foedus::thread::ThreadPimpl::id_</a></div><div class="ttdeci">const ThreadId id_</div><div class="ttdoc">Unique ID of this thread. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00330">thread_pimpl.hpp:330</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_af98ed86adde3f5e39c9cab39440f38da_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_af98ed86adde3f5e39c9cab39440f38da_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_af98ed86adde3f5e39c9cab39440f38da_icgraph" id="classfoedus_1_1thread_1_1Thread_af98ed86adde3f5e39c9cab39440f38da_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="224,71,419,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="499,195,677,251"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="246,947,397,988"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ae4789d8489571fa435c97a03b4f93619" title="Subroutine to lock existing records in target_. " alt="" coords="232,1039,411,1095"/>
<area shape="rect" id="node46" href="namespacefoedus_1_1thread.html#a529e7795457db4b13d8fbde00e88426d" title="foedus::thread::operator\&lt;\&lt;" alt="" coords="234,1119,409,1146"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="204,1225,439,1267"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="227,1399,415,1455"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="507,5,669,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="491,71,685,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="775,12,937,53"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="767,78,945,134"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="1047,78,1229,134"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da" title="foedus::storage::masstree\l::allocate_new_border_page" alt="" coords="497,1231,679,1272"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="769,1509,943,1551"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a45396b70b246f330355397b447af55f3" title="implementation of delete_record family. " alt="" coords="501,275,675,331"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="499,394,677,450"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="501,609,675,665"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="501,779,675,835"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="765,422,947,478"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="501,939,675,995"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="501,1296,675,1337"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="501,1019,675,1075"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="501,1099,675,1155"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="752,159,960,200"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1031,251,1245,292"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="769,275,943,331"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="749,356,963,397"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="1035,356,1241,397"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1301,305,1483,361"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1310,385,1474,441"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1310,465,1474,521"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="741,583,971,624"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="737,648,975,689"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="759,502,953,558"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="750,713,962,755"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="769,779,943,835"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1047,422,1229,478"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1047,502,1229,558"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="745,1180,967,1221"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1023,1052,1253,1093"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="763,859,949,915"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="766,939,946,995"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="763,1019,949,1075"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="761,1099,951,1155"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="769,1297,943,1339"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="748,1363,964,1404"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="769,1429,943,1485"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="487,1361,689,1403"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="497,1427,679,1483"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a5d37d6dac9966989e23381f600fcee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1log_1_1ThreadLogBuffer.html">log::ThreadLogBuffer</a> &amp; foedus::thread::Thread::get_thread_log_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the private log buffer for this thread. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00078">78</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00361">foedus::thread::ThreadPimpl::log_buffer_</a>.</p>

<p>Referenced by <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00954">foedus::xct::XctManagerPimpl::abort_xct()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00056">foedus::storage::sequential::SequentialStorage::append_record()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00307">foedus::xct::XctManagerPimpl::begin_xct()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00691">foedus::storage::masstree::MasstreeStoragePimpl::delete_general()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00356">foedus::storage::hash::HashStoragePimpl::delete_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00806">foedus::storage::masstree::MasstreeStoragePimpl::increment_general()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00486">foedus::storage::array::ArrayStoragePimpl::increment_record()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00554">foedus::storage::hash::HashStoragePimpl::increment_record()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00512">foedus::storage::array::ArrayStoragePimpl::increment_record_oneshot()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00661">foedus::storage::masstree::MasstreeStoragePimpl::insert_general()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00277">foedus::storage::hash::HashStoragePimpl::insert_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00772">foedus::storage::masstree::MasstreeStoragePimpl::overwrite_general()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00449">foedus::storage::array::ArrayStoragePimpl::overwrite_record()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00502">foedus::storage::hash::HashStoragePimpl::overwrite_record()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00468">foedus::storage::array::ArrayStoragePimpl::overwrite_record_primitive()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00371">foedus::xct::XctManagerPimpl::precommit_xct_readonly()</a>, <a class="el" href="xct__manager__pimpl_8cpp_source.html#l00384">foedus::xct::XctManagerPimpl::precommit_xct_readwrite()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00711">foedus::storage::masstree::MasstreeStoragePimpl::upsert_general()</a>, and <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00390">foedus::storage::hash::HashStoragePimpl::upsert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ad101b64b189a656c13f92b7fb7bb62d7">log_buffer_</a>; }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_ad101b64b189a656c13f92b7fb7bb62d7"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#ad101b64b189a656c13f92b7fb7bb62d7">foedus::thread::ThreadPimpl::log_buffer_</a></div><div class="ttdeci">log::ThreadLogBuffer log_buffer_</div><div class="ttdoc">Thread-private log buffer. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00361">thread_pimpl.hpp:361</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a9a5d37d6dac9966989e23381f600fcee_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a9a5d37d6dac9966989e23381f600fcee_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a9a5d37d6dac9966989e23381f600fcee_icgraph" id="classfoedus_1_1thread_1_1Thread_a9a5d37d6dac9966989e23381f600fcee_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a71f565f69929d90febd7beb6b1dca696" title="foedus::xct::XctManagerPimpl\l::abort_xct" alt="" coords="224,41,419,83"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#ab8696b7ccf07c7b8e1efb038d8cd83c2" title="Append one record to this sequential storage. " alt="" coords="207,237,436,279"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#ad01b60a93f2e107d9c63e7c28799ac1a" title="User transactions related methods. " alt="" coords="224,303,419,344"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a45396b70b246f330355397b447af55f3" title="implementation of delete_record family. " alt="" coords="235,369,408,425"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="231,462,412,518"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aa71566d3a4d56ded35df567784b13525" title="implementation of increment_record family. " alt="" coords="235,567,408,623"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="219,690,423,746"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="220,770,423,826"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="219,850,423,906"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#af0b96482a874777c4871a152ad733da3" title="implementation of insert_record family. " alt="" coords="235,930,408,986"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="232,1043,411,1099"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ab9cc59cbbef3fd23a62cbd25cbd00abb" title="implementation of overwrite_record family. " alt="" coords="235,1241,408,1297"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7dde5581eee977242b5373e30365183f" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="223,1321,420,1377"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="223,1510,419,1566"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d324da4dcd35490820cb97e7124001b" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="223,1590,420,1646"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="224,107,419,148"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="224,172,419,213"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aeeccc272d2f9a4d895f4d117f6b96b27" title="implementation of upsert_record family. " alt="" coords="235,1747,408,1803"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="230,1863,413,1919"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1XctManager.html#aa176159e8ab007d35ea467226f5d2475" title="Aborts the currently running transaction on the thread. " alt="" coords="521,5,684,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="505,71,700,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="803,71,966,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1XctManager.html#a0cd2ffb750756de7132eabf6d6a284ce" title="Begins a new transaction on the thread. " alt="" coords="521,136,684,177"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="499,201,707,243"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="777,293,992,335"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="516,318,689,374"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="529,398,677,454"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="487,479,718,520"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="484,544,721,585"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="505,610,700,666"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="517,690,688,746"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="517,770,688,826"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5093ba18b241e5179a363476bdd20066" title="This is a faster increment that does not return the value after increment. " alt="" coords="517,850,688,906"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="497,931,709,972"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="516,997,689,1053"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="529,1077,676,1133"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="491,1157,714,1199"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="769,1249,1000,1291"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="509,1274,696,1330"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="513,1354,693,1410"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="509,1434,696,1490"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="508,1514,697,1570"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="521,1594,684,1650"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="505,1674,701,1730"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="803,1674,966,1730"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="495,1755,711,1796"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="516,1821,689,1877"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="528,1901,677,1957"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4e553f5e14ec00d8ba23fbdfa26d687e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1memory_1_1NumaCoreMemory.html">memory::NumaCoreMemory</a> * foedus::thread::Thread::get_thread_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the private memory repository of this thread. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00057">57</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00345">foedus::thread::ThreadPimpl::core_memory_</a>.</p>

<p>Referenced by <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00039">foedus::storage::masstree::allocate_new_border_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00323">foedus::storage::sequential::SequentialStoragePimpl::append_record()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00187">foedus::storage::hash::ReserveRecords::create_new_tail_page()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="thread_8cpp_source.html#l00147">foedus::thread::GrabFreeVolatilePagesScope::grab()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">foedus::storage::masstree::grow_case_b_common()</a>, <a class="el" href="thread_8cpp_source.html#l00165">foedus::thread::GrabFreeVolatilePagesScope::release()</a>, and <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4ef6a79e56890341d855cfca877bf934">core_memory_</a>; }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a4ef6a79e56890341d855cfca877bf934"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4ef6a79e56890341d855cfca877bf934">foedus::thread::ThreadPimpl::core_memory_</a></div><div class="ttdeci">memory::NumaCoreMemory * core_memory_</div><div class="ttdoc">Private memory repository of this thread. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00345">thread_pimpl.hpp:345</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a4e553f5e14ec00d8ba23fbdfa26d687e_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a4e553f5e14ec00d8ba23fbdfa26d687e_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a4e553f5e14ec00d8ba23fbdfa26d687e_icgraph" id="classfoedus_1_1thread_1_1Thread_a4e553f5e14ec00d8ba23fbdfa26d687e_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a10e6fe81e5956cfe47566b40794580da" title="foedus::storage::masstree\l::allocate_new_border_page" alt="" coords="207,75,389,116"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="460,75,633,116"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#a65a45c9727f65048b1b55b7b69dfdce1" title="Appends an already&#45;commited record to this volatile list. " alt="" coords="209,191,387,247"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a22cd4e9f8619968685921c525d6fa4b8" title="foedus::storage::hash\l::ReserveRecords::create\l_new_tail_page" alt="" coords="214,271,382,327"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="209,351,387,407"/>
<area shape="rect" id="node34" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#a51fde507b10c15c4c39e6de2de3c6deb" title="If this thread doesn&#39;t have enough free pages, no page is obtained, returning kErrorCodeMemoryNoFreeP..." alt="" coords="461,424,632,465"/>
<area shape="rect" id="node39" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="211,571,385,612"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#acbf8a6e96a43f097a20b2d3bcb460d26" title="Idempotent. " alt="" coords="204,483,392,524"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a4179bc96227e441860739b66e5b676cb" title="Used to apply the effect of appending to volatile list. " alt="" coords="457,141,636,197"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#a18cd427115cf86d01382cd0c7e4df417" title="foedus::storage::sequential\l::SequentialAppendLogType\l::apply_record" alt="" coords="713,111,895,167"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#acc93c206465207018eb9e29a5fa5342b" title="Installs it as a fresh&#45;new physical record, assuming the given page is the tail and already locked..." alt="" coords="719,191,889,247"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="465,271,629,327"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="980,71,1132,127"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="1231,5,1382,47"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="717,271,891,327"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="440,359,653,400"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="701,359,907,400"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="965,311,1147,367"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="974,391,1138,447"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="974,471,1138,527"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="955,551,1157,607"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="967,631,1145,687"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="958,151,1154,207"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="965,231,1147,287"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1233,311,1381,367"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1219,392,1394,433"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1205,539,1408,580"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1225,458,1389,514"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1456,458,1631,514"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1221,605,1392,661"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1233,685,1380,741"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1225,71,1388,127"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1209,151,1405,207"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1462,151,1625,207"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1232,231,1381,287"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="717,489,891,531"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="717,555,891,596"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="717,424,891,465"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="969,712,1143,753"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="460,571,633,612"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="449,636,644,677"/>
<area shape="rect" id="node43" href="classfoedus_1_1thread_1_1GrabFreeVolatilePagesScope.html#af1155881509611bbf7bb52fb54c58ba2" title="foedus::thread::GrabFree\lVolatilePagesScope::~GrabFree\lVolatilePagesScope" alt="" coords="443,490,651,546"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acbc13e2a4ab1b1f5c5338f1e3ba28dc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::thread::Thread::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires resources in this object, usually called right after constructor. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ae79e8d79bcd1bfff571639ca189f8475" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> == FALSE</dd></dl>
<p>If and only if the return value was not an error, <a class="el" href="classfoedus_1_1thread_1_1Thread.html#ae79e8d79bcd1bfff571639ca189f8475" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return TRUE. This method is usually not idempotent, but some implementation can choose to be. In that case, the implementation class should clarify that it's idempotent. This method is responsible for releasing all acquired resources when initialization fails. This method itself is NOT thread-safe. Do not call this in a racy situation. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#aa087b096d1edaeb0304c250eadb0d7e1">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00045">45</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="error__stack_8hpp_source.html#l00517">CHECK_ERROR</a>, <a class="el" href="initializable_8hpp_source.html#l00169">foedus::DefaultInitializable::initialize()</a>, and <a class="el" href="error__stack_8hpp_source.html#l00251">foedus::kRetOk</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                              {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="group__ERRORCODES.html#ga72a80915c3588aea09c053ab567e19c4">CHECK_ERROR</a>(pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">initialize</a>());</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">kRetOk</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a22a0dc3bbbca682c3bc41eace9b6d1ff"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff">foedus::DefaultInitializable::initialize</a></div><div class="ttdeci">ErrorStack initialize() override final</div><div class="ttdoc">Typical implementation of Initializable::initialize() that provides initialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00169">initializable.hpp:169</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_ga72a80915c3588aea09c053ab567e19c4"><div class="ttname"><a href="group__ERRORCODES.html#ga72a80915c3588aea09c053ab567e19c4">CHECK_ERROR</a></div><div class="ttdeci">#define CHECK_ERROR(x)</div><div class="ttdoc">This macro calls x and checks its returned value. </div><div class="ttdef"><b>Definition:</b> <a href="error__stack_8hpp_source.html#l00517">error_stack.hpp:517</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_ga61f52cd33eb500d6997a91e704ace244"><div class="ttname"><a href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">foedus::kRetOk</a></div><div class="ttdeci">const ErrorStack kRetOk</div><div class="ttdoc">Normal return value for no-error case. </div><div class="ttdef"><b>Definition:</b> <a href="error__stack_8hpp_source.html#l00251">error_stack.hpp:251</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_acbc13e2a4ab1b1f5c5338f1e3ba28dc4_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_acbc13e2a4ab1b1f5c5338f1e3ba28dc4_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_acbc13e2a4ab1b1f5c5338f1e3ba28dc4_cgraph" id="classfoedus_1_1thread_1_1Thread_acbc13e2a4ab1b1f5c5338f1e3ba28dc4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="204,104,376,145"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="424,5,596,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="445,71,575,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="424,136,596,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="424,201,596,243"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13d14670c512a2f2f85ff6519a28488c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::install_a_volatile_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">storage::DualPagePointer</a> *&#160;</td>
          <td class="paramname"><em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>installed_page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Installs a volatile page to the given dual pointer as a copy of the snapshot page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pointer</td><td>dual pointer. volatile pointer will be modified. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">installed_page</td><td>physical pointer to the installed volatile page. This might point to a page installed by a concurrent thread. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>pointer-&gt;snapshot_pointer_ != 0 (this method is for a page that already has snapshot) </dd>
<dd>
pointer-&gt;volatile_pointer.components.offset == 0 (but not mandatory because concurrent threads might have installed it right now)</dd></dl>
<p>This is called when a dual pointer has only a snapshot pointer, in other words it is "clean", to create a volatile version for modification. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00107">107</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00292">foedus::thread::ThreadPimpl::install_a_volatile_page()</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00112">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_follow()</a>, and <a class="el" href="array__storage__prefetch_8cpp_source.html#l00053">foedus::storage::array::ArrayStoragePimpl::prefetch_pages_recurse()</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04">install_a_volatile_page</a>(pointer, installed_page);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a4a95ef1bd710a66e0c24df998f881d04"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04">foedus::thread::ThreadPimpl::install_a_volatile_page</a></div><div class="ttdeci">ErrorCode install_a_volatile_page(storage::DualPagePointer *pointer, storage::Page **installed_page)</div><div class="ttdoc">Installs a volatile page to the given dual pointer as a copy of the snapshot page. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00292">thread_pimpl.cpp:292</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_cgraph" id="classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="212,1301,396,1343"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="444,385,653,427"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1267,1196,1417,1237"/>
<area shape="rect" id="node37" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="457,1162,641,1218"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1261,1509,1423,1551"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="724,1396,885,1437"/>
<area shape="rect" id="node42" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="713,1462,897,1518"/>
<area shape="rect" id="node43" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="455,1301,642,1343"/>
<area shape="rect" id="node4" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="737,268,872,309"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="701,569,908,611"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="988,145,1167,187"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="713,385,897,427"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="985,80,1169,121"/>
<area shape="rect" id="node33" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="701,799,908,840"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="723,203,886,244"/>
<area shape="rect" id="node6" href="classfoedus_1_1cache_1_1CacheHashtable.html#a30b6a0b28cce30d50da7e0419c8cad20" title="Returns a bucket number the given page ID should belong to. " alt="" coords="974,799,1181,840"/>
<area shape="rect" id="node12" href="structfoedus_1_1cache_1_1CacheBucket.html#ab91d1b89c885979b7a6a4ef70b12b54d" title="foedus::cache::CacheBucket\l::get_content_id" alt="" coords="983,537,1172,579"/>
<area shape="rect" id="node13" href="classfoedus_1_1cache_1_1CacheHashtable.html#acea3236385a3b8d05ed1a60186e32ee8" title="foedus::cache::CacheHashtable\l::get_logical_buckets" alt="" coords="974,603,1181,644"/>
<area shape="rect" id="node14" href="structfoedus_1_1cache_1_1HashFunc.html#a9470855bb66d98df48f82fc5ba6655c6" title="Returns another hash value used to differentiate IDs with similar hash values. " alt="" coords="992,733,1163,775"/>
<area shape="rect" id="node15" href="structfoedus_1_1cache_1_1CacheBucket.html#aad7099f48418a335a80260a664bf2f02" title="foedus::cache::CacheBucket\l::get_tag" alt="" coords="983,668,1172,709"/>
<area shape="rect" id="node16" href="structfoedus_1_1cache_1_1CacheRefCount.html#af555d7665e995d8e65f315c708d28daa" title="foedus::cache::CacheRefCount\l::increment" alt="" coords="977,472,1178,513"/>
<area shape="rect" id="node17" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="991,341,1163,383"/>
<area shape="rect" id="node7" href="structfoedus_1_1cache_1_1HashFunc.html#a19737fa3c91676f9c85536f5928b7501" title="Returns a bucket number the given snapshot page ID should belong to. " alt="" coords="1257,784,1427,825"/>
<area shape="rect" id="node8" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1490,804,1667,845"/>
<area shape="rect" id="node9" href="structfoedus_1_1cache_1_1HashFunc.html#aa9020cb1e5915b6777d089521ef618a9" title="Returns a hash value for the given snapshot page ID. " alt="" coords="1493,647,1664,688"/>
<area shape="rect" id="node11" href="structfoedus_1_1assorted_1_1ConstDiv.html#afbfa08664902f9b633edbd395706b230" title="Calculate remainder. " alt="" coords="1490,739,1667,780"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="1720,414,1920,470"/>
<area shape="rect" id="node18" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="1256,360,1428,401"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="965,211,1190,252"/>
<area shape="rect" id="node30" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="956,407,1199,448"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="1489,253,1668,295"/>
<area shape="rect" id="node24" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="1253,243,1431,284"/>
<area shape="rect" id="node26" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="1249,80,1435,121"/>
<area shape="rect" id="node27" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="1485,71,1672,112"/>
<area shape="rect" id="node28" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="1503,136,1654,177"/>
<area shape="rect" id="node29" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="1503,5,1654,47"/>
<area shape="rect" id="node31" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="1489,568,1668,609"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="1253,568,1431,609"/>
<area shape="rect" id="node34" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="991,929,1164,971"/>
<area shape="rect" id="node35" href="structfoedus_1_1cache_1_1CacheBucket.html#aaa52396996e73a08cace2a2dcef82ffb" title="foedus::cache::CacheBucket\l::reset" alt="" coords="983,864,1172,905"/>
<area shape="rect" id="node38" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="972,276,1183,317"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="724,1163,885,1204"/>
<area shape="rect" id="node44" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="963,995,1191,1036"/>
<area shape="rect" id="node45" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="703,1331,906,1372"/>
<area shape="rect" id="node46" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1000,1371,1155,1412"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="991,1305,1164,1347"/>
<area shape="rect" id="node50" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="976,1437,1179,1493"/>
<area shape="rect" id="node47" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1265,1440,1419,1481"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1247,1371,1437,1412"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_icgraph" id="classfoedus_1_1thread_1_1Thread_a13d14670c512a2f2f85ff6519a28488c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="222,13,395,69"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="212,93,405,149"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="477,5,665,76"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="743,13,931,69"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="987,13,1169,69"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="453,100,688,141"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="736,100,939,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae79e8d79bcd1bfff571639ca189f8475"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::thread::Thread::is_initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the object has been already initialized or not. </p>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#a3c3a54a44a7a86bd99f800dbebae90eb">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00049">49</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00196">foedus::DefaultInitializable::is_initialized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">is_initialized</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_a1abda1e84b8af8bd6916e52fd0a09f3e"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e">foedus::DefaultInitializable::is_initialized</a></div><div class="ttdeci">bool is_initialized() const  override final</div><div class="ttdoc">Returns whether the object has been already initialized or not. </div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00196">initializable.hpp:196</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ae79e8d79bcd1bfff571639ca189f8475_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ae79e8d79bcd1bfff571639ca189f8475_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ae79e8d79bcd1bfff571639ca189f8475_cgraph" id="classfoedus_1_1thread_1_1Thread_ae79e8d79bcd1bfff571639ca189f8475_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="204,5,376,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0b69ebf736941b07378feabc8d23fd66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::thread::Thread::is_running_xct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns if this thread is running an active transaction. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00076">76</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00375">foedus::thread::ThreadPimpl::current_xct_</a>, and <a class="el" href="xct_8hpp_source.html#l00121">foedus::xct::Xct::is_active()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a26c718d661316827c8efd219b743e227">current_xct_</a>.<a class="code" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199">is_active</a>(); }</div>
<div class="ttc" id="classfoedus_1_1xct_1_1Xct_html_a9a76be25f22fd49683d2a4138ab7b199"><div class="ttname"><a href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199">foedus::xct::Xct::is_active</a></div><div class="ttdeci">bool is_active() const </div><div class="ttdoc">Returns whether the object is an active transaction. </div><div class="ttdef"><b>Definition:</b> <a href="xct_8hpp_source.html#l00121">xct.hpp:121</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a26c718d661316827c8efd219b743e227"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a26c718d661316827c8efd219b743e227">foedus::thread::ThreadPimpl::current_xct_</a></div><div class="ttdeci">xct::Xct current_xct_</div><div class="ttdoc">Current transaction this thread is conveying. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00375">thread_pimpl.hpp:375</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a0b69ebf736941b07378feabc8d23fd66_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a0b69ebf736941b07378feabc8d23fd66_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a0b69ebf736941b07378feabc8d23fd66_cgraph" id="classfoedus_1_1thread_1_1Thread_a0b69ebf736941b07378feabc8d23fd66_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#a9a76be25f22fd49683d2a4138ab7b199" title="Returns whether the object is an active transaction. " alt="" coords="204,5,335,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29e87db0559d67ac9a942e345e3a2ea2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::read_a_snapshot_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a snapshot page using the thread-local file descriptor set. </p>
<dl class="section attention"><dt>Attention</dt><dd>this method always READs, so no caching done. Actually, this method is used from caching module when cache miss happens. To utilize cache, use <a class="el" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. ">find_or_read_a_snapshot_page()</a>. </dd></dl>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00084">84</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00512">foedus::thread::ThreadPimpl::read_a_snapshot_page()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                       {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca">read_a_snapshot_page</a>(page_id, buffer);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a3d583a33e85e1a33568fa04b409ae2ca"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca">foedus::thread::ThreadPimpl::read_a_snapshot_page</a></div><div class="ttdeci">ErrorCode read_a_snapshot_page(storage::SnapshotPagePointer page_id, storage::Page *buffer) __attribute__((always_inline))</div><div class="ttdoc">Read a snapshot page using the thread-local file descriptor set. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00512">thread_pimpl.hpp:512</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a29e87db0559d67ac9a942e345e3a2ea2_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a29e87db0559d67ac9a942e345e3a2ea2_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a29e87db0559d67ac9a942e345e3a2ea2_cgraph" id="classfoedus_1_1thread_1_1Thread_a29e87db0559d67ac9a942e345e3a2ea2_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="217,146,401,187"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="449,146,636,187"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="684,23,884,79"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="691,103,877,145"/>
<area shape="rect" id="node8" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="709,286,859,327"/>
<area shape="rect" id="node15" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="709,189,859,230"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="933,85,1121,141"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="932,5,1123,61"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="956,166,1099,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="952,427,1103,469"/>
<area shape="rect" id="node11" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="957,231,1097,273"/>
<area shape="rect" id="node12" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="952,362,1103,403"/>
<area shape="rect" id="node13" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="960,297,1095,338"/>
<area shape="rect" id="node14" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="1171,297,1305,338"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1455488538dd235b4de2730693bfd718"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::read_snapshot_pages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">storage::SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id_begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>page_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read contiguous pages in one shot. </p>
<p>Other than that same as <a class="el" href="classfoedus_1_1thread_1_1Thread.html#a29e87db0559d67ac9a942e345e3a2ea2" title="Read a snapshot page using the thread-local file descriptor set. ">read_a_snapshot_page()</a>. </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00089">89</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00517">foedus::thread::ThreadPimpl::read_snapshot_pages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                       {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4c828d75840906244fd52c44a793232d">read_snapshot_pages</a>(page_id_begin, page_count, buffer);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a4c828d75840906244fd52c44a793232d"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4c828d75840906244fd52c44a793232d">foedus::thread::ThreadPimpl::read_snapshot_pages</a></div><div class="ttdeci">ErrorCode read_snapshot_pages(storage::SnapshotPagePointer page_id_begin, uint32_t page_count, storage::Page *buffer) __attribute__((always_inline))</div><div class="ttdoc">Read contiguous pages in one shot. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00517">thread_pimpl.hpp:517</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a1455488538dd235b4de2730693bfd718_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a1455488538dd235b4de2730693bfd718_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a1455488538dd235b4de2730693bfd718_cgraph" id="classfoedus_1_1thread_1_1Thread_a1455488538dd235b4de2730693bfd718_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4c828d75840906244fd52c44a793232d" title="Read contiguous pages in one shot. " alt="" coords="211,146,395,187"/>
<area shape="rect" id="node3" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#aae67209f9aa9d03e45a9934067c8245b" title="Read contiguous pages in one shot. " alt="" coords="443,146,629,187"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="677,23,877,79"/>
<area shape="rect" id="node5" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="684,103,871,145"/>
<area shape="rect" id="node8" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="702,286,853,327"/>
<area shape="rect" id="node15" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="702,189,853,230"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="927,85,1115,141"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="925,5,1116,61"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="949,166,1092,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="945,427,1096,469"/>
<area shape="rect" id="node11" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="951,231,1091,273"/>
<area shape="rect" id="node12" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="945,362,1096,403"/>
<area shape="rect" id="node13" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="953,297,1088,338"/>
<area shape="rect" id="node14" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="1164,297,1299,338"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8947434acda8b636ea6ffc8cd1af8a60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::thread::Thread::reset_snapshot_cache_counts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[statistics] resets the above two </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00070">70</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00382">foedus::thread::ThreadPimpl::control_block_</a>, <a class="el" href="thread__pimpl_8hpp_source.html#l00145">foedus::thread::ThreadControlBlock::stat_snapshot_cache_hits_</a>, and <a class="el" href="thread__pimpl_8hpp_source.html#l00146">foedus::thread::ThreadControlBlock::stat_snapshot_cache_misses_</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                               {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">control_block_</a>-&gt;<a class="code" href="structfoedus_1_1thread_1_1ThreadControlBlock.html#aea90422952de0f11fcb10568cc6ada62">stat_snapshot_cache_hits_</a> = 0;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">control_block_</a>-&gt;<a class="code" href="structfoedus_1_1thread_1_1ThreadControlBlock.html#ada5ae07c10b92acbab636eb0d221557b">stat_snapshot_cache_misses_</a> = 0;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="ttc" id="structfoedus_1_1thread_1_1ThreadControlBlock_html_aea90422952de0f11fcb10568cc6ada62"><div class="ttname"><a href="structfoedus_1_1thread_1_1ThreadControlBlock.html#aea90422952de0f11fcb10568cc6ada62">foedus::thread::ThreadControlBlock::stat_snapshot_cache_hits_</a></div><div class="ttdeci">uint64_t stat_snapshot_cache_hits_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00145">thread_pimpl.hpp:145</a></div></div>
<div class="ttc" id="structfoedus_1_1thread_1_1ThreadControlBlock_html_ada5ae07c10b92acbab636eb0d221557b"><div class="ttname"><a href="structfoedus_1_1thread_1_1ThreadControlBlock.html#ada5ae07c10b92acbab636eb0d221557b">foedus::thread::ThreadControlBlock::stat_snapshot_cache_misses_</a></div><div class="ttdeci">uint64_t stat_snapshot_cache_misses_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00146">thread_pimpl.hpp:146</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a1dafa88a0e8db9faa2deffb4d893b69f"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a1dafa88a0e8db9faa2deffb4d893b69f">foedus::thread::ThreadPimpl::control_block_</a></div><div class="ttdeci">ThreadControlBlock * control_block_</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00382">thread_pimpl.hpp:382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade1f89cfaad84ff5dda0b6f7999a519e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> * foedus::thread::Thread::resolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shorthand for get_global_volatile_page_resolver.resolve_offset() </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00129">129</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00125">get_global_volatile_page_resolver()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00120">foedus::memory::GlobalVolatilePageResolver::resolve_offset()</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00213">foedus::storage::masstree::MasstreeStoragePimpl::find_border_physical()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="thread_8hpp_source.html#l00110">resolve_cast()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00069">foedus::storage::masstree::verify_page_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                                                 {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d">get_global_volatile_page_resolver</a>().<a class="code" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f">resolve_offset</a>(ptr);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_aa77cde98794b5a55e0d295284acb3e6d"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d">foedus::thread::Thread::get_global_volatile_page_resolver</a></div><div class="ttdeci">const memory::GlobalVolatilePageResolver &amp; get_global_volatile_page_resolver() const </div><div class="ttdoc">Returns the page resolver to convert page ID to page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00125">thread.cpp:125</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1GlobalVolatilePageResolver_html_a56250946b7719a7bd15532d211eac88f"><div class="ttname"><a href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f">foedus::memory::GlobalVolatilePageResolver::resolve_offset</a></div><div class="ttdeci">storage::Page * resolve_offset(uint8_t numa_node, PagePoolOffset offset) const __attribute__((always_inline))</div><div class="ttdoc">Resolves offset plus NUMA node ID to storage::Page*. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00120">page_resolver.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_cgraph" id="classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="230,21,381,77"/>
<area shape="rect" id="node3" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="204,101,407,143"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="479,68,633,109"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="726,5,875,47"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="469,133,643,175"/>
<area shape="rect" id="node10" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="455,199,657,255"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="723,205,878,247"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="720,71,881,112"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="705,136,896,177"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_icgraph" id="classfoedus_1_1thread_1_1Thread_ade1f89cfaad84ff5dda0b6f7999a519e_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="204,704,377,760"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="447,940,625,996"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#a17f375db3d50174cf49746e04ce00118" title="resolve() plus reinterpret_cast " alt="" coords="215,1143,366,1185"/>
<area shape="rect" id="node50" href="namespacefoedus_1_1storage_1_1masstree.html#acea98e6f343df2d62a9a8f9ddd127234" title="foedus::storage::masstree\l::verify_page_basic" alt="" coords="204,1566,377,1607"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="725,165,899,221"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="447,365,625,421"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="449,704,623,760"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="444,821,628,877"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="989,13,1203,54"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="997,78,1195,119"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1009,371,1183,427"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1009,144,1183,200"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="977,225,1215,266"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="981,471,1211,513"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1003,291,1189,347"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="725,5,899,61"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="725,85,899,141"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="725,245,899,301"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="717,325,907,381"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="715,405,909,461"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="719,485,905,541"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="717,565,907,621"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="706,646,918,687"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="704,711,920,753"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="725,777,899,833"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="725,857,899,913"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="705,938,919,979"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="993,938,1199,979"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1273,848,1455,904"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1282,928,1446,984"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1282,1008,1446,1064"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="1263,1088,1465,1144"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="439,1071,633,1127"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="1020,1183,1172,1239"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="454,1201,618,1257"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="721,1004,903,1060"/>
<area shape="rect" id="node42" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="449,1282,623,1323"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="442,1399,630,1470"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="725,1348,899,1404"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a351ca64071b130468a9ba9f200ccd417" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_intermediate" alt="" coords="425,1559,647,1615"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="1003,1559,1189,1615"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="695,1085,929,1126"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="1289,1190,1439,1231"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="725,1201,899,1257"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1005,1004,1187,1060"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1005,1084,1187,1140"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="725,1282,899,1323"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="718,1428,906,1484"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a09d587cc38996109b753a7704fa33736" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_layer" alt="" coords="723,1559,901,1615"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a892665edac104de10ffb46980a9d6bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> * foedus::thread::Thread::resolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shorthand for get_local_volatile_page_resolver.resolve_offset() </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00135">135</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00080">get_local_volatile_page_resolver()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00057">foedus::memory::LocalPageResolver::resolve_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                                              {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da">get_local_volatile_page_resolver</a>().<a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#a389ef2027f0d0dc27d35856733e2f9be">resolve_offset</a>(offset);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_ac8953b86c90ec5ee1730b05397a259da"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da">foedus::thread::Thread::get_local_volatile_page_resolver</a></div><div class="ttdeci">const memory::LocalPageResolver &amp; get_local_volatile_page_resolver() const </div><div class="ttdoc">Returns page resolver to convert only local page ID to page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00080">thread.cpp:80</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_a389ef2027f0d0dc27d35856733e2f9be"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#a389ef2027f0d0dc27d35856733e2f9be">foedus::memory::LocalPageResolver::resolve_offset</a></div><div class="ttdeci">storage::Page * resolve_offset(PagePoolOffset offset) const __attribute__((always_inline))</div><div class="ttdoc">Resolves offset in this pool to storage::Page*. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00057">page_resolver.hpp:57</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a892665edac104de10ffb46980a9d6bbf_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a892665edac104de10ffb46980a9d6bbf_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a892665edac104de10ffb46980a9d6bbf_cgraph" id="classfoedus_1_1thread_1_1Thread_a892665edac104de10ffb46980a9d6bbf_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da" title="Returns page resolver to convert only local page ID to page pointer. " alt="" coords="215,59,377,115"/>
<area shape="rect" id="node3" href="structfoedus_1_1memory_1_1LocalPageResolver.html#a389ef2027f0d0dc27d35856733e2f9be" title="Resolves offset in this pool to storage::Page*. " alt="" coords="204,140,388,181"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="451,103,605,144"/>
<area shape="rect" id="node9" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="436,169,620,225"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="686,5,841,47"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="689,71,838,112"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="683,136,844,177"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="668,201,859,243"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a17f375db3d50174cf49746e04ce00118"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">P* foedus::thread::Thread::resolve_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() ">resolve()</a> plus reinterpret_cast </p>

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00110">110</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00129">resolve()</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00073">foedus::storage::masstree::Adopt::adopt_case_a()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00139">foedus::storage::hash::ReserveRecords::find_and_lock_spacious_tail()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00036">foedus::storage::hash::ReserveRecords::find_or_create_or_expand()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00936">foedus::storage::hash::HashStoragePimpl::locate_record()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00112">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_follow()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00051">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_normalized_recurse()</a>, <a class="el" href="array__storage__prefetch_8cpp_source.html#l00053">foedus::storage::array::ArrayStoragePimpl::prefetch_pages_recurse()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00515">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record_normalized()</a>, <a class="el" href="masstree__storage__verify_8cpp_source.html#l00201">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_border()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00103">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_intermediate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                                                              {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>P*<span class="keyword">&gt;</span>(<a class="code" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e">resolve</a>(ptr));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_ade1f89cfaad84ff5dda0b6f7999a519e"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e">foedus::thread::Thread::resolve</a></div><div class="ttdeci">storage::Page * resolve(storage::VolatilePagePointer ptr) const </div><div class="ttdoc">Shorthand for get_global_volatile_page_resolver.resolve_offset() </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00129">thread.cpp:129</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_cgraph" id="classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="204,65,355,107"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="429,21,579,77"/>
<area shape="rect" id="node4" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="403,101,605,143"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="677,68,832,109"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="925,5,1074,47"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="668,133,841,175"/>
<area shape="rect" id="node11" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="653,199,856,255"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="922,205,1077,247"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="919,71,1080,112"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="904,136,1095,177"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_icgraph" id="classfoedus_1_1thread_1_1Thread_a17f375db3d50174cf49746e04ce00118_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="214,111,387,153"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="219,177,383,233"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="755,168,907,224"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="211,367,390,423"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="472,308,653,364"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="214,497,387,553"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="469,471,657,542"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="204,577,397,633"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="214,657,387,713"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="209,763,393,819"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="207,961,394,1017"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a351ca64071b130468a9ba9f200ccd417" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_intermediate" alt="" coords="452,923,673,979"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="476,111,649,153"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="475,177,650,233"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="1007,19,1158,61"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="456,397,669,438"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="728,409,933,450"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="992,245,1173,301"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1001,325,1165,381"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1001,405,1165,461"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="981,485,1184,541"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="993,565,1172,621"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="985,85,1181,141"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="991,165,1174,221"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1259,245,1407,301"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1246,326,1421,367"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1232,391,1435,433"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1251,457,1415,513"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1483,457,1657,513"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1248,537,1419,593"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1260,617,1407,673"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1252,5,1415,61"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1235,85,1431,141"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1489,85,1651,141"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1259,165,1408,221"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="740,248,921,304"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="740,328,921,384"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="737,483,925,539"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="991,645,1174,701"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="445,566,680,607"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="729,566,932,607"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="457,697,669,738"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="455,631,671,673"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="476,843,649,899"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="476,763,649,819"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a09d587cc38996109b753a7704fa33736" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_layer" alt="" coords="741,1000,920,1056"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a2a4e90569074d49ab538041caedacf6a" title="These are defined in masstree_storage_verify.cpp. " alt="" coords="996,1000,1169,1056"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aedee683fbced316953d1cbc622f22c87" title="foedus::storage::masstree\l::MasstreeStorage::verify\l_single_thread" alt="" coords="1247,1000,1420,1056"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3885da5445118f8a8ee1637cef6b2a97"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">P* foedus::thread::Thread::resolve_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00116">116</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00129">resolve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                                                           {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>P*<span class="keyword">&gt;</span>(<a class="code" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e">resolve</a>(offset));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_ade1f89cfaad84ff5dda0b6f7999a519e"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e">foedus::thread::Thread::resolve</a></div><div class="ttdeci">storage::Page * resolve(storage::VolatilePagePointer ptr) const </div><div class="ttdoc">Shorthand for get_global_volatile_page_resolver.resolve_offset() </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00129">thread.cpp:129</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a3885da5445118f8a8ee1637cef6b2a97_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a3885da5445118f8a8ee1637cef6b2a97_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a3885da5445118f8a8ee1637cef6b2a97_cgraph" id="classfoedus_1_1thread_1_1Thread_a3885da5445118f8a8ee1637cef6b2a97_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="204,65,355,107"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="429,21,579,77"/>
<area shape="rect" id="node4" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="403,101,605,143"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="677,68,832,109"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="925,5,1074,47"/>
<area shape="rect" id="node10" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="668,133,841,175"/>
<area shape="rect" id="node11" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="653,199,856,255"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="922,205,1077,247"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="919,71,1080,112"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="904,136,1095,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a628464b9d773c8b17717719cc5af6371"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> * foedus::thread::Thread::resolve_newpage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shorthand for get_global_volatile_page_resolver.resolve_offset_newpage() </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00132">132</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00125">get_global_volatile_page_resolver()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00134">foedus::memory::GlobalVolatilePageResolver::resolve_offset_newpage()</a>.</p>

<p>Referenced by <a class="el" href="thread_8hpp_source.html#l00113">resolve_newpage_cast()</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                                                         {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d">get_global_volatile_page_resolver</a>().<a class="code" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35">resolve_offset_newpage</a>(ptr);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_aa77cde98794b5a55e0d295284acb3e6d"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d">foedus::thread::Thread::get_global_volatile_page_resolver</a></div><div class="ttdeci">const memory::GlobalVolatilePageResolver &amp; get_global_volatile_page_resolver() const </div><div class="ttdoc">Returns the page resolver to convert page ID to page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00125">thread.cpp:125</a></div></div>
<div class="ttc" id="structfoedus_1_1memory_1_1GlobalVolatilePageResolver_html_a63ab3e809b38145565cef7791f211a35"><div class="ttname"><a href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35">foedus::memory::GlobalVolatilePageResolver::resolve_offset_newpage</a></div><div class="ttdeci">storage::Page * resolve_offset_newpage(uint8_t numa_node, PagePoolOffset offset) const __attribute__((always_inline))</div><div class="ttdoc">As the name suggests, this version is for new pages, which don&#39;t have sanity checks. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00134">page_resolver.hpp:134</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_cgraph" id="classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="230,5,381,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="204,85,407,141"/>
<area shape="rect" id="node4" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="455,93,609,134"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_icgraph" id="classfoedus_1_1thread_1_1Thread_a628464b9d773c8b17717719cc5af6371_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#a5a3d3dfea35515ae7971106bce95b242" title="foedus::thread::Thread\l::resolve_newpage_cast" alt="" coords="204,51,364,93"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a22cd4e9f8619968685921c525d6fa4b8" title="foedus::storage::hash\l::ReserveRecords::create\l_new_tail_page" alt="" coords="412,44,580,100"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#acc93c206465207018eb9e29a5fa5342b" title="Installs it as a fresh&#45;new physical record, assuming the given page is the tail and already locked..." alt="" coords="842,5,1013,61"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="628,79,792,135"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="1063,45,1215,101"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="1263,53,1413,94"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="840,85,1015,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0bbca35bd1ea6ee3cb3d94616166644e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> * foedus::thread::Thread::resolve_newpage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shorthand for get_local_volatile_page_resolver.resolve_offset_newpage() </p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00138">138</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00080">get_local_volatile_page_resolver()</a>, and <a class="el" href="page__resolver_8hpp_source.html#l00064">foedus::memory::LocalPageResolver::resolve_offset_newpage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                                                      {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da">get_local_volatile_page_resolver</a>().<a class="code" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f">resolve_offset_newpage</a>(offset);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="ttc" id="structfoedus_1_1memory_1_1LocalPageResolver_html_aa9d2266686c3a66678b37241a3ac434f"><div class="ttname"><a href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f">foedus::memory::LocalPageResolver::resolve_offset_newpage</a></div><div class="ttdeci">storage::Page * resolve_offset_newpage(PagePoolOffset offset) const __attribute__((always_inline))</div><div class="ttdoc">As the name suggests, this version is for new pages, which don&#39;t have sanity checks. </div><div class="ttdef"><b>Definition:</b> <a href="page__resolver_8hpp_source.html#l00064">page_resolver.hpp:64</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_ac8953b86c90ec5ee1730b05397a259da"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da">foedus::thread::Thread::get_local_volatile_page_resolver</a></div><div class="ttdeci">const memory::LocalPageResolver &amp; get_local_volatile_page_resolver() const </div><div class="ttdoc">Returns page resolver to convert only local page ID to page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00080">thread.cpp:80</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a0bbca35bd1ea6ee3cb3d94616166644e_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a0bbca35bd1ea6ee3cb3d94616166644e_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a0bbca35bd1ea6ee3cb3d94616166644e_cgraph" id="classfoedus_1_1thread_1_1Thread_a0bbca35bd1ea6ee3cb3d94616166644e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#ac8953b86c90ec5ee1730b05397a259da" title="Returns page resolver to convert only local page ID to page pointer. " alt="" coords="215,5,377,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="204,85,388,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5a3d3dfea35515ae7971106bce95b242"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">P* foedus::thread::Thread::resolve_newpage_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00113">113</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00132">resolve_newpage()</a>.</p>

<p>Referenced by <a class="el" href="hash__reserve__impl_8cpp_source.html#l00187">foedus::storage::hash::ReserveRecords::create_new_tail_page()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                                                                      {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>P*<span class="keyword">&gt;</span>(<a class="code" href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371">resolve_newpage</a>(ptr));</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_a628464b9d773c8b17717719cc5af6371"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371">foedus::thread::Thread::resolve_newpage</a></div><div class="ttdeci">storage::Page * resolve_newpage(storage::VolatilePagePointer ptr) const </div><div class="ttdoc">Shorthand for get_global_volatile_page_resolver.resolve_offset_newpage() </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00132">thread.cpp:132</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_cgraph" id="classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371" title="Shorthand for get_global_volatile_page_resolver.resolve_offset_newpage() " alt="" coords="213,53,364,94"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="438,5,589,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="412,85,615,141"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="663,93,817,134"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_icgraph" id="classfoedus_1_1thread_1_1Thread_a5a3d3dfea35515ae7971106bce95b242_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a22cd4e9f8619968685921c525d6fa4b8" title="foedus::storage::hash\l::ReserveRecords::create\l_new_tail_page" alt="" coords="213,44,381,100"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#acc93c206465207018eb9e29a5fa5342b" title="Installs it as a fresh&#45;new physical record, assuming the given page is the tail and already locked..." alt="" coords="643,5,814,61"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="429,79,593,135"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="864,45,1016,101"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="1064,53,1215,94"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="641,85,816,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ef8bb89c37d6c5cbaf79c033dc11077"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">P* foedus::thread::Thread::resolve_newpage_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8hpp_source.html#l00119">119</a> of file <a class="el" href="thread_8hpp_source.html">thread.hpp</a>.</p>

<p>References <a class="el" href="thread_8cpp_source.html#l00132">resolve_newpage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                                                                   {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>P*<span class="keyword">&gt;</span>(<a class="code" href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371">resolve_newpage</a>(offset));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1thread_1_1Thread_html_a628464b9d773c8b17717719cc5af6371"><div class="ttname"><a href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371">foedus::thread::Thread::resolve_newpage</a></div><div class="ttdeci">storage::Page * resolve_newpage(storage::VolatilePagePointer ptr) const </div><div class="ttdoc">Shorthand for get_global_volatile_page_resolver.resolve_offset_newpage() </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00132">thread.cpp:132</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a4ef8bb89c37d6c5cbaf79c033dc11077_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a4ef8bb89c37d6c5cbaf79c033dc11077_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a4ef8bb89c37d6c5cbaf79c033dc11077_cgraph" id="classfoedus_1_1thread_1_1Thread_a4ef8bb89c37d6c5cbaf79c033dc11077_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1Thread.html#a628464b9d773c8b17717719cc5af6371" title="Shorthand for get_global_volatile_page_resolver.resolve_offset_newpage() " alt="" coords="213,53,364,94"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="438,5,589,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="412,85,615,141"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="663,93,817,134"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2a5e6b008138d755e7e401f25927400c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::run_nested_sysxct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1SysxctFunctor.html">xct::SysxctFunctor</a> *&#160;</td>
          <td class="paramname"><em>functor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_retries</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Methods related to System transactions (sysxct) nested under this thread. </p>
<p>Sysxct methods.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__SYSXCT.html#gaf49955c6d4efe3d92e6e09b4ff890618" title="Runs a system transaction nested in a user transaction. ">foedus::xct::run_nested_sysxct_impl()</a></dd></dl>
<p><a class="el" href="classfoedus_1_1thread_1_1Thread.html" title="Represents one thread running on one NUMA core. ">Thread</a> -&gt; <a class="el" href="classfoedus_1_1thread_1_1ThreadPimpl.html" title="Pimpl object of Thread. ">ThreadPimpl</a> forwardings </p>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00952">952</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l00980">foedus::thread::ThreadPimpl::run_nested_sysxct()</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00094">foedus::storage::masstree::MasstreeStoragePimpl::fatify_first_root_double()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00213">foedus::storage::masstree::MasstreeStoragePimpl::find_border_physical()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00384">foedus::storage::masstree::MasstreeStoragePimpl::follow_layer()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00058">foedus::storage::masstree::MasstreeStoragePimpl::get_first_root()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00277">foedus::storage::hash::HashStoragePimpl::insert_record()</a>, <a class="el" href="hash__storage__pimpl_8cpp_source.html#l01074">foedus::storage::hash::HashStoragePimpl::locate_record_reserve_physical()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00412">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00515">foedus::storage::masstree::MasstreeStoragePimpl::reserve_record_normalized()</a>, and <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00390">foedus::storage::hash::HashStoragePimpl::upsert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                                                                   {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a498a6a07313bf9fbb2c0e3d02f075221">run_nested_sysxct</a>(functor, max_retries);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a498a6a07313bf9fbb2c0e3d02f075221"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a498a6a07313bf9fbb2c0e3d02f075221">foedus::thread::ThreadPimpl::run_nested_sysxct</a></div><div class="ttdeci">ErrorCode run_nested_sysxct(xct::SysxctFunctor *functor, uint32_t max_retries)</div><div class="ttdoc">Sysxct-related. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l00980">thread_pimpl.cpp:980</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_cgraph" id="classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a498a6a07313bf9fbb2c0e3d02f075221" title="Sysxct&#45;related. " alt="" coords="204,104,388,145"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#aca66ae9959651b7c6fa86a75db287f54" title="foedus::xct::Xct::get\l_sysxct_workspace" alt="" coords="459,5,597,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a6ff575610172c3b1ed337665a277f761" title="foedus::thread::ThreadPimpl\l::cll_get_max_locked_id" alt="" coords="436,71,620,112"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="436,136,620,177"/>
<area shape="rect" id="node10" href="group__SYSXCT.html#gaf49955c6d4efe3d92e6e09b4ff890618" title="Runs a system transaction nested in a user transaction. " alt="" coords="449,201,607,243"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1Xct.html#afc0b909c82e905105f4f9701082a16b8" title="foedus::xct::Xct::get\l_current_lock_list" alt="" coords="701,39,840,80"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1CurrentLockList.html#a398ec264786992d102b8edd74d5767b3" title="foedus::xct::CurrentLock\lList::get_max_locked_id" alt="" coords="689,104,853,145"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="921,104,1085,145"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1CurrentLockList.html#a78b6d1612fda232b7e8c52dd3f6c2504" title="foedus::xct::CurrentLock\lList::is_valid_entry" alt="" coords="1133,104,1297,145"/>
<area shape="rect" id="node11" href="structfoedus_1_1xct_1_1SysxctFunctor.html#a383a9cfd5d8fa5caf45c7ffb6dc05535" title="Execute the system transaction. " alt="" coords="668,209,873,235"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_icgraph" id="classfoedus_1_1thread_1_1Thread_a2a5e6b008138d755e7e401f25927400c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a32332060560b864a857a839bb0adb4fd" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::fatify_first_root_double" alt="" coords="691,1243,864,1299"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="208,552,381,608"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="441,320,614,376"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="435,819,619,875"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6188e676e564b4ebecaa556178cdb81e" title="Follows to next layer&#39;s root page. " alt="" coords="208,385,381,441"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#adc32aaf6f4537fcc1ada207e1d6902ec" title="Root&#45;node related, such as a method to retrieve 1st&#45;root, to grow, etc. " alt="" coords="208,892,381,948"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="963,1257,1141,1313"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afa2342b5f0a374e38f0ec00242494a34" title="Subroutine of locate_record() to create/migrate a physical record of the given key in the page or its..." alt="" coords="204,1395,385,1451"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="961,1737,1143,1793"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ac3b15bb4f888327ba49050f62d020f52" title="Defined in masstree_storage_fatify.cpp. " alt="" coords="965,1177,1139,1233"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a70b1c5e023fa0aac150e7b607e37727c" title="Deliberately causes splits under the volatile root of first layer, or &quot;fatify&quot; it. " alt="" coords="1219,1177,1392,1233"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="691,152,864,208"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="438,552,617,608"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="945,511,1159,553"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="953,609,1151,650"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="965,232,1139,288"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="965,5,1139,61"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="933,86,1171,127"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="937,397,1167,438"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="959,152,1145,208"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="691,552,864,608"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="691,632,864,688"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="691,232,864,288"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="683,312,872,368"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="680,392,875,448"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="684,472,871,528"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="683,712,872,768"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="671,86,883,127"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="669,21,885,62"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="691,872,864,928"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="691,792,864,848"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6c9eb02ad32cc1bffe9daac3521ad24" title="Returns the count of direct children in the first&#45;root node. " alt="" coords="441,1126,614,1197"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="441,899,614,941"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="433,965,621,1021"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a2a4e90569074d49ab538041caedacf6a" title="These are defined in masstree_storage_verify.cpp. " alt="" coords="441,1045,614,1101"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="691,952,864,1008"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="686,1032,869,1088"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aedee683fbced316953d1cbc622f22c87" title="foedus::storage::masstree\l::MasstreeStorage::verify\l_single_thread" alt="" coords="691,1112,864,1168"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1232,1257,1379,1313"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="437,1401,618,1457"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="687,1492,868,1548"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="687,1401,868,1457"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="961,1337,1143,1393"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="970,1417,1134,1473"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="970,1497,1134,1553"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="951,1577,1153,1633"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="954,1657,1150,1713"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1231,1337,1379,1393"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1231,1737,1380,1793"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2573902a53ca92a0cf7e19113d5b5979"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::sysxct_batch_page_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *&#160;</td>
          <td class="paramname"><em>sysxct_workspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lock_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> **&#160;</td>
          <td class="paramname"><em>pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes a bunch of page locks for a sysxct running under this thread. </p>
<dl class="section pre"><dt>Precondition</dt><dd>sysxct_workspace-&gt;running_sysxct_ </dd></dl>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00971">971</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l01049">foedus::thread::ThreadPimpl::sysxct_batch_page_locks()</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00032">foedus::storage::masstree::Adopt::run()</a>, and <a class="el" href="masstree__split__impl_8cpp_source.html#l00443">foedus::storage::masstree::SplitIntermediate::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                       {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ac779ce5587967f00b09325337578dd24">sysxct_batch_page_locks</a>(sysxct_workspace, lock_count, pages);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_ac779ce5587967f00b09325337578dd24"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#ac779ce5587967f00b09325337578dd24">foedus::thread::ThreadPimpl::sysxct_batch_page_locks</a></div><div class="ttdeci">ErrorCode sysxct_batch_page_locks(xct::SysxctWorkspace *sysxct_workspace, uint32_t lock_count, storage::Page **pages)</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l01049">thread_pimpl.cpp:1049</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_cgraph" id="classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ac779ce5587967f00b09325337578dd24" title="foedus::thread::ThreadPimpl\l::sysxct_batch_page_locks" alt="" coords="235,5,419,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="467,5,651,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_icgraph" id="classfoedus_1_1thread_1_1Thread_a2573902a53ca92a0cf7e19113d5b5979_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="235,5,408,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="235,71,408,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a664a76eb577003d4d4c0d417ecb014cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::sysxct_batch_record_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *&#160;</td>
          <td class="paramname"><em>sysxct_workspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lock_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> **&#160;</td>
          <td class="paramname"><em>locks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes a bunch of locks in the same page for a sysxct running under this thread. </p>
<dl class="section pre"><dt>Precondition</dt><dd>sysxct_workspace-&gt;running_sysxct_ </dd>
<dd>
the record locks must be within the page of the given ID </dd></dl>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00961">961</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l01021">foedus::thread::ThreadPimpl::sysxct_batch_record_locks()</a>.</p>

<p>Referenced by <a class="el" href="masstree__split__impl_8cpp_source.html#l00304">foedus::storage::masstree::SplitBorder::lock_existing_records()</a>.</p>
<div class="fragment"><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                              {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aa7234ffc46e46d480cedc556f0800da6">sysxct_batch_record_locks</a>(sysxct_workspace, page_id, lock_count, locks);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_aa7234ffc46e46d480cedc556f0800da6"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#aa7234ffc46e46d480cedc556f0800da6">foedus::thread::ThreadPimpl::sysxct_batch_record_locks</a></div><div class="ttdeci">ErrorCode sysxct_batch_record_locks(xct::SysxctWorkspace *sysxct_workspace, storage::VolatilePagePointer page_id, uint32_t lock_count, xct::RwLockableXctId **locks)</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l01021">thread_pimpl.cpp:1021</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_cgraph" id="classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aa7234ffc46e46d480cedc556f0800da6" title="foedus::thread::ThreadPimpl\l::sysxct_batch_record_locks" alt="" coords="243,5,432,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="480,5,664,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_icgraph" id="classfoedus_1_1thread_1_1Thread_a664a76eb577003d4d4c0d417ecb014cc_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ae4789d8489571fa435c97a03b4f93619" title="Subroutine to lock existing records in target_. " alt="" coords="243,5,421,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="469,13,643,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ac249b3b032751e9bf0903ad7e45255"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::sysxct_page_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *&#160;</td>
          <td class="paramname"><em>sysxct_workspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes a page lock in the same page for a sysxct running under this thread. </p>
<dl class="section pre"><dt>Precondition</dt><dd>sysxct_workspace-&gt;running_sysxct_ </dd></dl>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00968">968</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l01036">foedus::thread::ThreadPimpl::sysxct_page_lock()</a>.</p>

<p>Referenced by <a class="el" href="hash__reserve__impl_8cpp_source.html#l00139">foedus::storage::hash::ReserveRecords::find_and_lock_spacious_tail()</a>, <a class="el" href="hash__reserve__impl_8cpp_source.html#l00036">foedus::storage::hash::ReserveRecords::find_or_create_or_expand()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00119">foedus::storage::masstree::GrowFirstLayerRoot::run()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00167">foedus::storage::masstree::GrowNonFirstLayerRoot::run()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00039">foedus::storage::masstree::SplitBorder::run()</a>, <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>, and <a class="el" href="masstree__split__impl_8cpp_source.html#l00443">foedus::storage::masstree::SplitIntermediate::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                                                                                          {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a2cd3cb727c6e211c8e6a72ccb00f3854">sysxct_page_lock</a>(sysxct_workspace, page);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a2cd3cb727c6e211c8e6a72ccb00f3854"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a2cd3cb727c6e211c8e6a72ccb00f3854">foedus::thread::ThreadPimpl::sysxct_page_lock</a></div><div class="ttdeci">ErrorCode sysxct_page_lock(xct::SysxctWorkspace *sysxct_workspace, storage::Page *page)</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l01036">thread_pimpl.cpp:1036</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_cgraph" id="classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a2cd3cb727c6e211c8e6a72ccb00f3854" title="foedus::thread::ThreadPimpl\l::sysxct_page_lock" alt="" coords="204,5,388,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="436,5,620,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_icgraph" id="classfoedus_1_1thread_1_1Thread_a7ac249b3b032751e9bf0903ad7e45255_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ab6a68802f41a8b163aae60825c4ebd38" title="foedus::storage::hash\l::ReserveRecords::find\l_and_lock_spacious_tail" alt="" coords="219,5,383,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="669,39,821,95"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="215,137,388,178"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="204,202,399,243"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1masstree_1_1SplitBorder.html#ab940fc48706197ec728542a3b4438fc7" title="Border node&#39;s Split. " alt="" coords="215,267,388,309"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="215,333,388,374"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="215,398,388,439"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="447,5,621,61"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="869,46,1020,87"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a383dee9d2971403e9bc3bef4a2d33d44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::thread::Thread::sysxct_record_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1SysxctWorkspace.html">xct::SysxctWorkspace</a> *&#160;</td>
          <td class="paramname"><em>sysxct_workspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">storage::VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes a lock for a sysxct running under this thread. </p>
<dl class="section pre"><dt>Precondition</dt><dd>sysxct_workspace-&gt;running_sysxct_ </dd>
<dd>
the record lock must be within the page of the given ID </dd></dl>

<p>Definition at line <a class="el" href="thread__pimpl_8cpp_source.html#l00955">955</a> of file <a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8cpp_source.html#l01007">foedus::thread::ThreadPimpl::sysxct_record_lock()</a>.</p>

<p>Referenced by <a class="el" href="hash__reserve__impl_8cpp_source.html#l00101">foedus::storage::hash::ReserveRecords::expand_record()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00167">foedus::storage::masstree::GrowNonFirstLayerRoot::run()</a>, and <a class="el" href="masstree__reserve__impl_8cpp_source.html#l00055">foedus::storage::masstree::ReserveRecords::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                            {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a056563bc302fb45ad684a7fa28d00161">sysxct_record_lock</a>(sysxct_workspace, page_id, lock);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a056563bc302fb45ad684a7fa28d00161"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a056563bc302fb45ad684a7fa28d00161">foedus::thread::ThreadPimpl::sysxct_record_lock</a></div><div class="ttdeci">ErrorCode sysxct_record_lock(xct::SysxctWorkspace *sysxct_workspace, storage::VolatilePagePointer page_id, xct::RwLockableXctId *lock)</div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8cpp_source.html#l01007">thread_pimpl.cpp:1007</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_cgraph" id="classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a056563bc302fb45ad684a7fa28d00161" title="foedus::thread::ThreadPimpl\l::sysxct_record_lock" alt="" coords="204,5,388,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a33a1b8b428cd84029b8b377867197ea4" title="foedus::thread::ThreadPimpl\l::is_simple_mcs_rw" alt="" coords="436,5,620,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_icgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_icgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_icgraph" id="classfoedus_1_1thread_1_1Thread_a383dee9d2971403e9bc3bef4a2d33d44_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a846dcb3f3938a2b266756e2d95c0df76" title="foedus::storage::hash\l::ReserveRecords::expand\l_record" alt="" coords="214,5,389,61"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="204,86,399,127"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1masstree_1_1ReserveRecords.html#aae952c17c2f2b1c760f899da5c368054" title="Execute the system transaction. " alt="" coords="215,151,388,193"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#ad189e0523907caacae334102d9383b15" title="The main loop (well, recursion actually). " alt="" coords="447,5,599,61"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1hash_1_1ReserveRecords.html#a7e1a17602380cbf9c736d93591a84f5e" title="Execute the system transaction. " alt="" coords="647,13,797,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19d14adc56bcddbf243f32fd1981fae1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::thread::Thread::uninitialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An <em>idempotent</em> method to release all resources of this object, if any. </p>
<p>After this method, <a class="el" href="classfoedus_1_1thread_1_1Thread.html#ae79e8d79bcd1bfff571639ca189f8475" title="Returns whether the object has been already initialized or not. ">is_initialized()</a> will return FALSE. <b>Whether</b> this method encounters an error or not, the implementation should make the best effort to release as many resources as possible. In other words, Do not leak <b>all</b> resources because of <b>one</b> issue. This method itself is NOT thread-safe. Do not call this in a racy situation. </p><dl class="section attention"><dt>Attention</dt><dd>This method is NOT automatically called from the destructor. This is due to the fundamental limitation in C++. Explicitly call this method as soon as you are done, checking the returned value. You can also use <a class="el" href="classfoedus_1_1UninitializeGuard.html" title="Calls Initializable::uninitialize() automatically when it gets out of scope. ">UninitializeGuard</a> to ameliorate the issue, but it's not perfect. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The error this method encounters, if any. In case there are multiple errors while uninitialization, the implementation should use <a class="el" href="classfoedus_1_1ErrorStackBatch.html" title="Batches zero or more ErrorStack objects to represent in one ErrorStack. ">ErrorStackBatch</a> to produce a batched <a class="el" href="classfoedus_1_1ErrorStack.html" title="Brings error stacktrace information as return value of functions. ">ErrorStack</a> object. </dd></dl>

<p>Implements <a class="el" href="classfoedus_1_1Initializable.html#afbe5738b0bc85362fba80bdf788fd3c3">foedus::Initializable</a>.</p>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00050">50</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="initializable_8hpp_source.html#l00187">foedus::DefaultInitializable::uninitialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{ <span class="keywordflow">return</span> pimpl_-&gt;<a class="code" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">uninitialize</a>(); }</div>
<div class="ttc" id="classfoedus_1_1DefaultInitializable_html_ab14b136a7d26f9f499ab9dc15a45a8cb"><div class="ttname"><a href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb">foedus::DefaultInitializable::uninitialize</a></div><div class="ttdeci">ErrorStack uninitialize() override final</div><div class="ttdoc">Typical implementation of Initializable::uninitialize() that provides uninitialize-once semantics...</div><div class="ttdef"><b>Definition:</b> <a href="initializable_8hpp_source.html#l00187">initializable.hpp:187</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1thread_1_1Thread_a19d14adc56bcddbf243f32fd1981fae1_cgraph.png" border="0" usemap="#classfoedus_1_1thread_1_1Thread_a19d14adc56bcddbf243f32fd1981fae1_cgraph" alt=""/></div>
<map name="classfoedus_1_1thread_1_1Thread_a19d14adc56bcddbf243f32fd1981fae1_cgraph" id="classfoedus_1_1thread_1_1Thread_a19d14adc56bcddbf243f32fd1981fae1_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="204,39,376,80"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="424,5,596,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="424,71,596,112"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a30d7603eadd073008b215ee8f99218a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1thread_1_1Thread.html">Thread</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00118">118</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                                       {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;Thread-&quot;</span> &lt;&lt; v.get_thread_global_ordinal() &lt;&lt; <span class="stringliteral">&quot;(id=&quot;</span> &lt;&lt; v.get_thread_id() &lt;&lt; <span class="stringliteral">&quot;) [&quot;</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;status=&quot;</span> &lt;&lt; (v.pimpl_-&gt;control_block_-&gt;status_);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/thread/<a class="el" href="thread_8hpp_source.html">thread.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/thread/<a class="el" href="thread_8cpp_source.html">thread.cpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/thread/<a class="el" href="thread__pimpl_8cpp_source.html">thread_pimpl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1thread.html">thread</a></li><li class="navelem"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">Thread</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
