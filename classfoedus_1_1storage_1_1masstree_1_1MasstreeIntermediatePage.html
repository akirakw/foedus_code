<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::masstree::MasstreeIntermediatePage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::masstree::MasstreeIntermediatePage Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a> &raquo; <a class="el" href="group__MASSTREE.html">Masstree Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents one intermediate page in <a class="el" href="group__MASSTREE.html">Masstree Storage</a>.  
 <a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents one intermediate page in <a class="el" href="group__MASSTREE.html">Masstree Storage</a>. </p>
<p>An intermediate page consists of bunch of separator keys and pointers to children nodes, which might be another intermediate pages or border nodes. </p><dl class="section attention"><dt>Attention</dt><dd>Do NOT instantiate this object or derive from this class. A page is always reinterpret-ed from a pooled memory region. No meaningful RTTI. </dd></dl>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00262">262</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::storage::masstree::MasstreeIntermediatePage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage__inherit__graph.png" border="0" usemap="#foedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_inherit__map" id="foedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html" title="Common base of MasstreeIntermediatePage and MasstreeBorderPage. " alt="" coords="11,5,185,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::storage::masstree::MasstreeIntermediatePage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_coll__map" id="foedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html" title="Common base of MasstreeIntermediatePage and MasstreeBorderPage. " alt="" coords="211,392,385,433"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1PageHeader.html" title="Just a marker to denote that a memory region represents a data page. " alt="" coords="53,295,244,322"/>
<area shape="rect" id="node4" href="structfoedus_1_1assorted_1_1ProbCounter.html" title="Implements a probabilistic counter [Morris 1978]. " alt="" coords="5,199,204,225"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1PageVersion.html" title="Just a synonym of XctId to be used as a page lock mechanism. " alt="" coords="229,199,421,225"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1PageVersionStatus.html" title="foedus::storage::PageVersion\lStatus" alt="" coords="190,95,382,136"/>
<area shape="rect" id="node7" href="structfoedus_1_1xct_1_1McsWwLock.html" title="An exclusive&#45;only (WW) MCS lock data structure. " alt="" coords="407,102,576,129"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1McsWwBlockData.html" title="Exclusive&#45;only (WW) MCS lock classes. " alt="" coords="391,5,592,32"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="268,288,429,329"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html">MiniPage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa83c386108c95db96c325ce7061dd618"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa83c386108c95db96c325ce7061dd618">MasstreeIntermediatePage</a> ()=delete</td></tr>
<tr class="separator:aa83c386108c95db96c325ce7061dd618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa971f60f87f235b94e7e81f83674241"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#afa971f60f87f235b94e7e81f83674241">MasstreeIntermediatePage</a> (const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;other)=delete</td></tr>
<tr class="separator:afa971f60f87f235b94e7e81f83674241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e673300211d10b2fe8df02108073ad2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a2e673300211d10b2fe8df02108073ad2">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;other)=delete</td></tr>
<tr class="separator:a2e673300211d10b2fe8df02108073ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f9dfce1b1a92ad89e7163459025b64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa7f9dfce1b1a92ad89e7163459025b64">prefetch</a> () const </td></tr>
<tr class="memdesc:aa7f9dfce1b1a92ad89e7163459025b64"><td class="mdescLeft">&#160;</td><td class="mdescRight">prefetch upto separators.  <a href="#aa7f9dfce1b1a92ad89e7163459025b64">More...</a><br /></td></tr>
<tr class="separator:aa7f9dfce1b1a92ad89e7163459025b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ffa0667ef80499cbffb041dbb57b5f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#ad5ffa0667ef80499cbffb041dbb57b5f">find_minipage</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> slice) const __attribute__((always_inline))</td></tr>
<tr class="memdesc:ad5ffa0667ef80499cbffb041dbb57b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Navigates a searching key-slice to one of the mini pages in this page.  <a href="#ad5ffa0667ef80499cbffb041dbb57b5f">More...</a><br /></td></tr>
<tr class="separator:ad5ffa0667ef80499cbffb041dbb57b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb83de15afc0a903046937276b0ed31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html">MiniPage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a> (uint8_t index) __attribute__((always_inline))</td></tr>
<tr class="separator:a1cb83de15afc0a903046937276b0ed31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7743b78e92bef0f6930df669ca93727a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html">MiniPage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7743b78e92bef0f6930df669ca93727a">get_minipage</a> (uint8_t index) const __attribute__((always_inline))</td></tr>
<tr class="separator:a7743b78e92bef0f6930df669ca93727a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf1febd2954da507ffd8daa2757c890"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890">get_separator</a> (uint8_t index) const __attribute__((always_inline))</td></tr>
<tr class="separator:adaf1febd2954da507ffd8daa2757c890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854ff4750eb7aad99b3cff474882ec5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a854ff4750eb7aad99b3cff474882ec5c">release_pages_recursive_parallel</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="memdesc:a854ff4750eb7aad99b3cff474882ec5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used when we release a large number of volatile pages, most likely when we drop a storage.  <a href="#a854ff4750eb7aad99b3cff474882ec5c">More...</a><br /></td></tr>
<tr class="separator:a854ff4750eb7aad99b3cff474882ec5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09552cf1a9e8f061f9bd6cbdb9268688"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a09552cf1a9e8f061f9bd6cbdb9268688">release_pages_recursive</a> (const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;page_resolver, <a class="el" href="classfoedus_1_1memory_1_1PageReleaseBatch.html">memory::PageReleaseBatch</a> *batch)</td></tr>
<tr class="separator:a09552cf1a9e8f061f9bd6cbdb9268688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab25cb34a8304c744bf309cc02b515e72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#ab25cb34a8304c744bf309cc02b515e72">initialize_volatile_page</a> (<a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> page_id, uint8_t layer, uint8_t level, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low_fence, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> high_fence)</td></tr>
<tr class="separator:ab25cb34a8304c744bf309cc02b515e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558cb535a501ee9d8ed391a45c04c705"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a558cb535a501ee9d8ed391a45c04c705">initialize_snapshot_page</a> (<a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id, <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> page_id, uint8_t layer, uint8_t level, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low_fence, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> high_fence)</td></tr>
<tr class="separator:a558cb535a501ee9d8ed391a45c04c705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0f9a395fbf20a9a70a026d611e2af3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a2d0f9a395fbf20a9a70a026d611e2af3">append_pointer_snapshot</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low_fence, <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> pointer)</td></tr>
<tr class="memdesc:a2d0f9a395fbf20a9a70a026d611e2af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a new poiner and separator in an existing mini page, used only by snapshot composer.  <a href="#a2d0f9a395fbf20a9a70a026d611e2af3">More...</a><br /></td></tr>
<tr class="separator:a2d0f9a395fbf20a9a70a026d611e2af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46dc7e7ac5fab5c66bf0b519e2cebc70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a46dc7e7ac5fab5c66bf0b519e2cebc70">append_minipage_snapshot</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low_fence, <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> pointer)</td></tr>
<tr class="memdesc:a46dc7e7ac5fab5c66bf0b519e2cebc70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a new separator and the initial pointer in new mini page, used only by snapshot composer.  <a href="#a46dc7e7ac5fab5c66bf0b519e2cebc70">More...</a><br /></td></tr>
<tr class="separator:a46dc7e7ac5fab5c66bf0b519e2cebc70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8960e682ff51f3ca77aeee1e4bfee9d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a8960e682ff51f3ca77aeee1e4bfee9d7">is_full_snapshot</a> () const </td></tr>
<tr class="memdesc:a8960e682ff51f3ca77aeee1e4bfee9d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this page is full of poiters, used only by snapshot composer (or when no race)  <a href="#a8960e682ff51f3ca77aeee1e4bfee9d7">More...</a><br /></td></tr>
<tr class="separator:a8960e682ff51f3ca77aeee1e4bfee9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64c68858f06b2665809772e26e385c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa64c68858f06b2665809772e26e385c1">extract_separators_snapshot</a> (uint8_t index, uint8_t index_mini, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *separator_low, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *separator_high) const </td></tr>
<tr class="memdesc:aa64c68858f06b2665809772e26e385c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves separators defining the index, used only by snapshot composer, thus no race.  <a href="#aa64c68858f06b2665809772e26e385c1">More...</a><br /></td></tr>
<tr class="separator:aa64c68858f06b2665809772e26e385c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf33025a5de02efa6fc49d868ca5c43f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adf33025a5de02efa6fc49d868ca5c43f">extract_separators_volatile</a> (uint8_t index, uint8_t index_mini, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *separator_low, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *separator_high) const </td></tr>
<tr class="memdesc:adf33025a5de02efa6fc49d868ca5c43f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves separators defining the index, used for volatile page, which requires appropriate locks or retries by the caller.  <a href="#adf33025a5de02efa6fc49d868ca5c43f">More...</a><br /></td></tr>
<tr class="separator:adf33025a5de02efa6fc49d868ca5c43f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5848c6b2be269bf90d1d5e41e66a33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33">extract_separators_common</a> (uint8_t index, uint8_t index_mini, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *separator_low, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *separator_high) const </td></tr>
<tr class="memdesc:a7b5848c6b2be269bf90d1d5e41e66a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves separators defining the index, used only by snapshot composer (or when no race)  <a href="#a7b5848c6b2be269bf90d1d5e41e66a33">More...</a><br /></td></tr>
<tr class="separator:a7b5848c6b2be269bf90d1d5e41e66a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7216fe075ea3db89bbba06f5a156ce81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7216fe075ea3db89bbba06f5a156ce81">verify_separators</a> () const </td></tr>
<tr class="separator:a7216fe075ea3db89bbba06f5a156ce81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeeaee9ae59e1abddc18c8d78dbfc068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aeeeaee9ae59e1abddc18c8d78dbfc068">set_separator</a> (uint8_t minipage_index, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> new_separator)</td></tr>
<tr class="memdesc:aeeeaee9ae59e1abddc18c8d78dbfc068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Place a new separator for a new minipage.  <a href="#aeeeaee9ae59e1abddc18c8d78dbfc068">More...</a><br /></td></tr>
<tr class="separator:aeeeaee9ae59e1abddc18c8d78dbfc068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">foedus::storage::masstree::MasstreePage</a></td></tr>
<tr class="memitem:a2b0cd6e79e07f9b2241d0123ffe00ad2 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a2b0cd6e79e07f9b2241d0123ffe00ad2">MasstreePage</a> ()=delete</td></tr>
<tr class="separator:a2b0cd6e79e07f9b2241d0123ffe00ad2 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc0b1666fb47bd7a328eba9ef7b653d inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aadc0b1666fb47bd7a328eba9ef7b653d">MasstreePage</a> (const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> &amp;other)=delete</td></tr>
<tr class="separator:aadc0b1666fb47bd7a328eba9ef7b653d inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac970fa7e96f6ea827ce28fdc1ac0d2c3 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ac970fa7e96f6ea827ce28fdc1ac0d2c3">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> &amp;other)=delete</td></tr>
<tr class="separator:ac970fa7e96f6ea827ce28fdc1ac0d2c3 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ab7bbce35893143d2aac437e526d0e inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1PageHeader.html">PageHeader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e">header</a> ()</td></tr>
<tr class="separator:ab5ab7bbce35893143d2aac437e526d0e inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1166bec8146a171da2457ef10bbffed inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1PageHeader.html">PageHeader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#af1166bec8146a171da2457ef10bbffed">header</a> () const </td></tr>
<tr class="separator:af1166bec8146a171da2457ef10bbffed inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8883172f7ee3c48a1609df044c3964 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a8f8883172f7ee3c48a1609df044c3964">get_volatile_page_id</a> () const </td></tr>
<tr class="separator:a8f8883172f7ee3c48a1609df044c3964 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d297bf42db27de5e38943e057e97b9 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a39d297bf42db27de5e38943e057e97b9">get_snapshot_page_id</a> () const </td></tr>
<tr class="separator:a39d297bf42db27de5e38943e057e97b9 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6f55a5a59bcab9631bbb879da689ec inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec">is_border</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a1a6f55a5a59bcab9631bbb879da689ec inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cdcef87b3c0a6ef431df9d06a1a663 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663">is_empty_range</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a14cdcef87b3c0a6ef431df9d06a1a663 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">An empty-range page, either intermediate or border, never has any entries.  <a href="#a14cdcef87b3c0a6ef431df9d06a1a663">More...</a><br /></td></tr>
<tr class="separator:a14cdcef87b3c0a6ef431df9d06a1a663 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30f922c414bf3a2faaf7e879b2277f0b inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b">get_low_fence</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a30f922c414bf3a2faaf7e879b2277f0b inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6557473edd899373ed9399b455be20 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20">get_high_fence</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:abb6557473edd899373ed9399b455be20 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e32e13485c83c100d1153e23e96f88 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa0e32e13485c83c100d1153e23e96f88">is_high_fence_supremum</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:aa0e32e13485c83c100d1153e23e96f88 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabaf06ccbf57e3c511b1c34f07efd780 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aabaf06ccbf57e3c511b1c34f07efd780">is_low_fence_infimum</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:aabaf06ccbf57e3c511b1c34f07efd780 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb63e0ba2340f1b7e21bae579e0cf1b4 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#afb63e0ba2340f1b7e21bae579e0cf1b4">is_layer_root</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:afb63e0ba2340f1b7e21bae579e0cf1b4 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44cc8d18dc9077ae2310667e88ed5b7c inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a44cc8d18dc9077ae2310667e88ed5b7c">get_foster_fence</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a44cc8d18dc9077ae2310667e88ed5b7c inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698b417f5e89daf68ebd78044222bb23 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a698b417f5e89daf68ebd78044222bb23">is_foster_minor_null</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a698b417f5e89daf68ebd78044222bb23 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9d09469e106d14513932f3aebeef97 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a7a9d09469e106d14513932f3aebeef97">is_foster_major_null</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a7a9d09469e106d14513932f3aebeef97 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32653a16ddca213c94560652e9388dd5 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a32653a16ddca213c94560652e9388dd5">get_foster_minor</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a32653a16ddca213c94560652e9388dd5 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d301fad7d4d340cd2d6255dc330607 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a27d301fad7d4d340cd2d6255dc330607">get_foster_major</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a27d301fad7d4d340cd2d6255dc330607 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e3cb12f6db6351ac0fc89369868fb9 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a38e3cb12f6db6351ac0fc89369868fb9">set_foster_twin</a> (<a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> minor, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> major)</td></tr>
<tr class="separator:a38e3cb12f6db6351ac0fc89369868fb9 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c32af21fe03698567d80feab20a353b inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a9c32af21fe03698567d80feab20a353b">install_foster_twin</a> (<a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> minor, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> major, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foster_fence)</td></tr>
<tr class="separator:a9c32af21fe03698567d80feab20a353b inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8830e2b301b1bdd3f2e16d9b047d79 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0f8830e2b301b1bdd3f2e16d9b047d79">within_fences</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> slice) const __attribute__((always_inline))</td></tr>
<tr class="separator:a0f8830e2b301b1bdd3f2e16d9b047d79 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f1aa3c62852944d653777574af1602 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a73f1aa3c62852944d653777574af1602">within_foster_minor</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> slice) const __attribute__((always_inline))</td></tr>
<tr class="separator:a73f1aa3c62852944d653777574af1602 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea09e3e65a44845fb3ab5be08e84553 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a6ea09e3e65a44845fb3ab5be08e84553">within_foster_major</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> slice) const __attribute__((always_inline))</td></tr>
<tr class="separator:a6ea09e3e65a44845fb3ab5be08e84553 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe53cdc69964e52901556b1e8d9de9e inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abfe53cdc69964e52901556b1e8d9de9e">has_foster_child</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:abfe53cdc69964e52901556b1e8d9de9e inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b54c43dec6f8ba15472a25760a3ed07 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0b54c43dec6f8ba15472a25760a3ed07">get_layer</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a0b54c43dec6f8ba15472a25760a3ed07 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Layer-0 stores the first 8 byte slice, Layer-1 next 8 byte...  <a href="#a0b54c43dec6f8ba15472a25760a3ed07">More...</a><br /></td></tr>
<tr class="separator:a0b54c43dec6f8ba15472a25760a3ed07 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55e48873dcf5700871a035c65bfa588 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab55e48873dcf5700871a035c65bfa588">get_btree_level</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:ab55e48873dcf5700871a035c65bfa588 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">used only in masstree.  <a href="#ab55e48873dcf5700871a035c65bfa588">More...</a><br /></td></tr>
<tr class="separator:ab55e48873dcf5700871a035c65bfa588 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab3ec4aa9b6e43a606e1555c5c74cec inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a3ab3ec4aa9b6e43a606e1555c5c74cec inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>physical</em> key count (those keys might be deleted) in this page.  <a href="#a3ab3ec4aa9b6e43a606e1555c5c74cec">More...</a><br /></td></tr>
<tr class="separator:a3ab3ec4aa9b6e43a606e1555c5c74cec inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb331a72c86d72deb59c415e6b9b79c inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3fb331a72c86d72deb59c415e6b9b79c">set_key_count</a> (<a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> count) __attribute__((always_inline))</td></tr>
<tr class="separator:a3fb331a72c86d72deb59c415e6b9b79c inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36324bf7f670205988934070f3f162c8 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a36324bf7f670205988934070f3f162c8">increment_key_count</a> () __attribute__((always_inline))</td></tr>
<tr class="separator:a36324bf7f670205988934070f3f162c8 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3260be02451d5017a2301854454dd203 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3260be02451d5017a2301854454dd203">prefetch_general</a> () const __attribute__((always_inline))</td></tr>
<tr class="memdesc:a3260be02451d5017a2301854454dd203 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">prefetch upto keys/separators, whether this page is border or interior.  <a href="#a3260be02451d5017a2301854454dd203">More...</a><br /></td></tr>
<tr class="separator:a3260be02451d5017a2301854454dd203 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b27750b62fcc70c1677b0fceac983cf inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1PageVersion.html">PageVersion</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3b27750b62fcc70c1677b0fceac983cf">get_version</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a3b27750b62fcc70c1677b0fceac983cf inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1f3c36f9a67c0489831a05aa48cad6 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1PageVersion.html">PageVersion</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a2d1f3c36f9a67c0489831a05aa48cad6">get_version</a> () __attribute__((always_inline))</td></tr>
<tr class="separator:a2d1f3c36f9a67c0489831a05aa48cad6 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc553596fb9e1dc115e3aaccf3352f9 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1PageVersion.html">PageVersion</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abbc553596fb9e1dc115e3aaccf3352f9">get_version_address</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:abbc553596fb9e1dc115e3aaccf3352f9 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4edd339dc36c265a4c78e58235314f57 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1PageVersion.html">PageVersion</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a4edd339dc36c265a4c78e58235314f57">get_version_address</a> () __attribute__((always_inline))</td></tr>
<tr class="separator:a4edd339dc36c265a4c78e58235314f57 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2084911eccaf9e483ce8875f8cccd98c inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1McsWwLock.html">xct::McsWwLock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a2084911eccaf9e483ce8875f8cccd98c">get_lock_address</a> () __attribute__((always_inline))</td></tr>
<tr class="separator:a2084911eccaf9e483ce8875f8cccd98c inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a2c06a304514be7b99fb6c884e7e9b inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a16a2c06a304514be7b99fb6c884e7e9b">is_locked</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a16a2c06a304514be7b99fb6c884e7e9b inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc22d21883e15b87cd5ff6b6ec513c35 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35">is_moved</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:adc22d21883e15b87cd5ff6b6ec513c35 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec1302bec7fe39ef71cf9ac0ab6b364a inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aec1302bec7fe39ef71cf9ac0ab6b364a">is_retired</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:aec1302bec7fe39ef71cf9ac0ab6b364a inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3171dd821766bcffba70946a4e44856 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ad3171dd821766bcffba70946a4e44856">set_moved</a> () __attribute__((always_inline))</td></tr>
<tr class="separator:ad3171dd821766bcffba70946a4e44856 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5263d631cad896c0494597018d72a8f inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ad5263d631cad896c0494597018d72a8f">set_retired</a> () __attribute__((always_inline))</td></tr>
<tr class="separator:ad5263d631cad896c0494597018d72a8f inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d24e70c0a141db733ff45411b5a161e inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0d24e70c0a141db733ff45411b5a161e">release_pages_recursive_common</a> (const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;page_resolver, <a class="el" href="classfoedus_1_1memory_1_1PageReleaseBatch.html">memory::PageReleaseBatch</a> *batch)</td></tr>
<tr class="separator:a0d24e70c0a141db733ff45411b5a161e inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab889473973eae831407d49b9fb40fee2 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab889473973eae831407d49b9fb40fee2">set_foster_major_offset_unsafe</a> (<a class="el" href="group__MEMORY.html#gaf7ed7c23d184b14ce978b1775a86dfae">memory::PagePoolOffset</a> offset) __attribute__((always_inline))</td></tr>
<tr class="memdesc:ab889473973eae831407d49b9fb40fee2 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">As the name suggests, this should be used only by composer.  <a href="#ab889473973eae831407d49b9fb40fee2">More...</a><br /></td></tr>
<tr class="separator:ab889473973eae831407d49b9fb40fee2 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a4e2ea33eef842e4013c91392e6838 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ae5a4e2ea33eef842e4013c91392e6838">set_high_fence_unsafe</a> (<a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> high_fence) __attribute__((always_inline))</td></tr>
<tr class="memdesc:ae5a4e2ea33eef842e4013c91392e6838 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">As the name suggests, this should be used only by composer.  <a href="#ae5a4e2ea33eef842e4013c91392e6838">More...</a><br /></td></tr>
<tr class="separator:ae5a4e2ea33eef842e4013c91392e6838 inherit pub_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0cbc8e79016f276a123274a231a0500e"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a0cbc8e79016f276a123274a231a0500e">SplitIntermediate</a></td></tr>
<tr class="separator:a0cbc8e79016f276a123274a231a0500e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17611d6ca15dd8fadd33bd1c6a7101eb"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a17611d6ca15dd8fadd33bd1c6a7101eb">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;v)</td></tr>
<tr class="memdesc:a17611d6ca15dd8fadd33bd1c6a7101eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">defined in <a class="el" href="masstree__page__debug_8cpp.html">masstree_page_debug.cpp</a>.  <a href="#a17611d6ca15dd8fadd33bd1c6a7101eb">More...</a><br /></td></tr>
<tr class="separator:a17611d6ca15dd8fadd33bd1c6a7101eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">foedus::storage::masstree::MasstreePage</a></td></tr>
<tr class="memitem:aa95b56b38e523e345e5fb0283e43d65e inherit pro_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa95b56b38e523e345e5fb0283e43d65e">initialize_volatile_common</a> (<a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id, <a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a> page_id, <a class="el" href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">PageType</a> page_type, uint8_t layer, uint8_t level, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low_fence, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> high_fence)</td></tr>
<tr class="separator:aa95b56b38e523e345e5fb0283e43d65e inherit pro_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41ee4ce455995cd703dac3990442081 inherit pro_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab41ee4ce455995cd703dac3990442081">initialize_snapshot_common</a> (<a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id, <a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a> page_id, <a class="el" href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">PageType</a> page_type, uint8_t layer, uint8_t level, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low_fence, <a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> high_fence)</td></tr>
<tr class="separator:ab41ee4ce455995cd703dac3990442081 inherit pro_methods_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">foedus::storage::masstree::MasstreePage</a></td></tr>
<tr class="memitem:a168db13e03be3f699e4e409ceea88d76 inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1PageHeader.html">PageHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">header_</a></td></tr>
<tr class="separator:a168db13e03be3f699e4e409ceea88d76 inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409bd08120ef1f54839bbdefd521dd8a inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a409bd08120ef1f54839bbdefd521dd8a">low_fence_</a></td></tr>
<tr class="memdesc:a409bd08120ef1f54839bbdefd521dd8a inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inclusive low fence of this page.  <a href="#a409bd08120ef1f54839bbdefd521dd8a">More...</a><br /></td></tr>
<tr class="separator:a409bd08120ef1f54839bbdefd521dd8a inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa50900a4544302f5056f62360f8d861e inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa50900a4544302f5056f62360f8d861e">high_fence_</a></td></tr>
<tr class="memdesc:aa50900a4544302f5056f62360f8d861e inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inclusive high fence of this page.  <a href="#aa50900a4544302f5056f62360f8d861e">More...</a><br /></td></tr>
<tr class="separator:aa50900a4544302f5056f62360f8d861e inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6112ec9230a2769039e8cfe21f3faf inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a8a6112ec9230a2769039e8cfe21f3faf">foster_fence_</a></td></tr>
<tr class="memdesc:a8a6112ec9230a2769039e8cfe21f3faf inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inclusive low_fence of foster child.  <a href="#a8a6112ec9230a2769039e8cfe21f3faf">More...</a><br /></td></tr>
<tr class="separator:a8a6112ec9230a2769039e8cfe21f3faf inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827faad5f063cf4bf9188f17bbf582b9 inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foster_twin_</a> [2]</td></tr>
<tr class="memdesc:a827faad5f063cf4bf9188f17bbf582b9 inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Points to foster children, or tentative child pages.  <a href="#a827faad5f063cf4bf9188f17bbf582b9">More...</a><br /></td></tr>
<tr class="separator:a827faad5f063cf4bf9188f17bbf582b9 inherit pro_attribs_classfoedus_1_1storage_1_1masstree_1_1MasstreePage"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa83c386108c95db96c325ce7061dd618"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::masstree::MasstreeIntermediatePage::MasstreeIntermediatePage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afa971f60f87f235b94e7e81f83674241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::masstree::MasstreeIntermediatePage::MasstreeIntermediatePage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a46dc7e7ac5fab5c66bf0b519e2cebc70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::append_minipage_snapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>low_fence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a new separator and the initial pointer in new mini page, used only by snapshot composer. </p>
<dl class="section pre"><dt>Precondition</dt><dd>header_.snapshot </dd>
<dd>
!is_full_snapshot() </dd></dl>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l01522">1522</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage__id_8hpp_source.html#l00211">foedus::storage::VolatilePagePointer::clear()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">get_minipage()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00194">foedus::storage::masstree::MasstreePage::header_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01487">is_full_snapshot()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00278">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::pointers_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00149">foedus::storage::masstree::MasstreePage::set_key_count()</a>, <a class="el" href="page_8hpp_source.html#l00211">foedus::storage::PageHeader::snapshot_</a>, <a class="el" href="storage__id_8hpp_source.html#l00307">foedus::storage::DualPagePointer::snapshot_pointer_</a>, and <a class="el" href="storage__id_8hpp_source.html#l00308">foedus::storage::DualPagePointer::volatile_pointer_</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l01496">append_pointer_snapshot()</a>.</p>
<div class="fragment"><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                               {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">header_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">snapshot_</a>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a8960e682ff51f3ca77aeee1e4bfee9d7">is_full_snapshot</a>());</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  uint16_t key_count = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(key_count &lt; <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a>);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(mini_pages_[key_count].key_count_ == <a class="code" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a>);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(low_fence &gt; <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a>(key_count).separators_[<a class="code" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a> - 1]);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  separators_[key_count] = low_fence;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  MiniPage&amp; new_minipage = mini_pages_[key_count + 1];</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  new_minipage.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">key_count_</a> = 0;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  new_minipage.pointers_[0].volatile_pointer_.clear();</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  new_minipage.pointers_[0].snapshot_pointer_ = pointer;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3fb331a72c86d72deb59c415e6b9b79c">set_key_count</a>(key_count + 1);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a1cb83de15afc0a903046937276b0ed31"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage</a></div><div class="ttdeci">MiniPage &amp; get_minipage(uint8_t index) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00322">masstree_page_impl.hpp:322</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaaa62799e432e5c5b145851eed621d33d"><div class="ttname"><a href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateMiniSeparators</div><div class="ttdoc">Max number of separators stored in the second level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00244">masstree_page_impl.hpp:244</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage_html_a7a1d64c4c68bb144cc3d7c11966498f9"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a></div><div class="ttdeci">uint8_t key_count_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00271">masstree_page_impl.hpp:271</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga2ce564bb661a338ce070653e1ca48efa"><div class="ttname"><a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateSeparators</div><div class="ttdoc">Max number of separators stored in the first level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00237">masstree_page_impl.hpp:237</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_ac0baf9ee636d13c02d334ce779cc6a8f"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">foedus::storage::PageHeader::snapshot_</a></div><div class="ttdeci">bool snapshot_</div><div class="ttdoc">Whether this page image is of a snapshot page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00211">page.hpp:211</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a8960e682ff51f3ca77aeee1e4bfee9d7"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a8960e682ff51f3ca77aeee1e4bfee9d7">foedus::storage::masstree::MasstreeIntermediatePage::is_full_snapshot</a></div><div class="ttdeci">bool is_full_snapshot() const </div><div class="ttdoc">Whether this page is full of poiters, used only by snapshot composer (or when no race) ...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01487">masstree_page_impl.hpp:1487</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a168db13e03be3f699e4e409ceea88d76"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">foedus::storage::masstree::MasstreePage::header_</a></div><div class="ttdeci">PageHeader header_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00194">masstree_page_impl.hpp:194</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3fb331a72c86d72deb59c415e6b9b79c"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3fb331a72c86d72deb59c415e6b9b79c">foedus::storage::masstree::MasstreePage::set_key_count</a></div><div class="ttdeci">void set_key_count(SlotIndex count) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00149">masstree_page_impl.hpp:149</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="267,5,428,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="499,137,705,179"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="255,122,440,178"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a8960e682ff51f3ca77aeee1e4bfee9d7" title="Whether this page is full of poiters, used only by snapshot composer (or when no race) ..." alt="" coords="255,202,440,258"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3fb331a72c86d72deb59c415e6b9b79c" title="foedus::storage::masstree\l::MasstreePage::set_key_count" alt="" coords="244,283,451,324"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1PageHeader.html#a407bbd604662534963c7fc8f08acc898" title="foedus::storage::PageHeader\l::set_key_count" alt="" coords="507,283,697,324"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a46dc7e7ac5fab5c66bf0b519e2cebc70_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a2d0f9a395fbf20a9a70a026d611e2af3" title="Appends a new poiner and separator in an existing mini page, used only by snapshot composer..." alt="" coords="244,5,429,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d0f9a395fbf20a9a70a026d611e2af3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::append_pointer_snapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>low_fence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a new poiner and separator in an existing mini page, used only by snapshot composer. </p>
<dl class="section pre"><dt>Precondition</dt><dd>header_.snapshot </dd>
<dd>
!is_full_snapshot() </dd></dl>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l01496">1496</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="masstree__page__impl_8hpp_source.html#l01522">append_minipage_snapshot()</a>, <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage__id_8hpp_source.html#l00211">foedus::storage::VolatilePagePointer::clear()</a>, <a class="el" href="storage__id_8hpp_source.html#l00098">foedus::storage::extract_snapshot_id_from_snapshot_pointer()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00099">foedus::storage::masstree::MasstreePage::get_high_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00098">foedus::storage::masstree::MasstreePage::get_low_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00194">foedus::storage::masstree::MasstreePage::header_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01487">is_full_snapshot()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00100">foedus::storage::masstree::MasstreePage::is_high_fence_supremum()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00278">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::pointers_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00276">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::separators_</a>, <a class="el" href="page_8hpp_source.html#l00211">foedus::storage::PageHeader::snapshot_</a>, <a class="el" href="storage__id_8hpp_source.html#l00307">foedus::storage::DualPagePointer::snapshot_pointer_</a>, and <a class="el" href="storage__id_8hpp_source.html#l00308">foedus::storage::DualPagePointer::volatile_pointer_</a>.</p>
<div class="fragment"><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                               {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">header_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">snapshot_</a>);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a8960e682ff51f3ca77aeee1e4bfee9d7">is_full_snapshot</a>());</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  uint16_t index = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  MiniPage&amp; mini = mini_pages_[index];</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  uint16_t index_mini = mini.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">key_count_</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(low_fence &gt; <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b">get_low_fence</a>());</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa0e32e13485c83c100d1153e23e96f88">is_high_fence_supremum</a>() || low_fence &lt; <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20">get_high_fence</a>());</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(pointer == 0 || <a class="code" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c">extract_snapshot_id_from_snapshot_pointer</a>(pointer) != 0);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span> (index_mini &lt; <a class="code" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a>) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="comment">// p0 s0 p1  + &quot;s p&quot; -&gt; p0 s0 p1 s1 p2</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(pointer == 0  <span class="comment">// composer init_root uses this method to set null pointers..</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      || mini.pointers_[index_mini].snapshot_pointer_ != pointer);  <span class="comment">// otherwise dup.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(index_mini == 0 || low_fence &gt; mini.separators_[index_mini - 1]);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(index == 0 || low_fence &gt; separators_[index - 1]);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    mini.separators_[index_mini] = low_fence;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    mini.pointers_[index_mini + 1].volatile_pointer_.clear();</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    mini.pointers_[index_mini + 1].snapshot_pointer_ = pointer;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    ++mini.key_count_;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a46dc7e7ac5fab5c66bf0b519e2cebc70">append_minipage_snapshot</a>(low_fence, pointer);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaaa62799e432e5c5b145851eed621d33d"><div class="ttname"><a href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateMiniSeparators</div><div class="ttdoc">Max number of separators stored in the second level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00244">masstree_page_impl.hpp:244</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage_html_a7a1d64c4c68bb144cc3d7c11966498f9"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a></div><div class="ttdeci">uint8_t key_count_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00271">masstree_page_impl.hpp:271</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_html_a82df0b3921d7c863275baf4f9c59959c"><div class="ttname"><a href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c">foedus::storage::extract_snapshot_id_from_snapshot_pointer</a></div><div class="ttdeci">uint16_t extract_snapshot_id_from_snapshot_pointer(SnapshotPagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00098">storage_id.hpp:98</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_abb6557473edd899373ed9399b455be20"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20">foedus::storage::masstree::MasstreePage::get_high_fence</a></div><div class="ttdeci">KeySlice get_high_fence() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00099">masstree_page_impl.hpp:99</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a30f922c414bf3a2faaf7e879b2277f0b"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b">foedus::storage::masstree::MasstreePage::get_low_fence</a></div><div class="ttdeci">KeySlice get_low_fence() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00098">masstree_page_impl.hpp:98</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_aa0e32e13485c83c100d1153e23e96f88"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa0e32e13485c83c100d1153e23e96f88">foedus::storage::masstree::MasstreePage::is_high_fence_supremum</a></div><div class="ttdeci">bool is_high_fence_supremum() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00100">masstree_page_impl.hpp:100</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a46dc7e7ac5fab5c66bf0b519e2cebc70"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a46dc7e7ac5fab5c66bf0b519e2cebc70">foedus::storage::masstree::MasstreeIntermediatePage::append_minipage_snapshot</a></div><div class="ttdeci">void append_minipage_snapshot(KeySlice low_fence, SnapshotPagePointer pointer)</div><div class="ttdoc">Appends a new separator and the initial pointer in new mini page, used only by snapshot composer...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01522">masstree_page_impl.hpp:1522</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_ac0baf9ee636d13c02d334ce779cc6a8f"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">foedus::storage::PageHeader::snapshot_</a></div><div class="ttdeci">bool snapshot_</div><div class="ttdoc">Whether this page image is of a snapshot page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00211">page.hpp:211</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a8960e682ff51f3ca77aeee1e4bfee9d7"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a8960e682ff51f3ca77aeee1e4bfee9d7">foedus::storage::masstree::MasstreeIntermediatePage::is_full_snapshot</a></div><div class="ttdeci">bool is_full_snapshot() const </div><div class="ttdoc">Whether this page is full of poiters, used only by snapshot composer (or when no race) ...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01487">masstree_page_impl.hpp:1487</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a168db13e03be3f699e4e409ceea88d76"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">foedus::storage::masstree::MasstreePage::header_</a></div><div class="ttdeci">PageHeader header_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00194">masstree_page_impl.hpp:194</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a2d0f9a395fbf20a9a70a026d611e2af3_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a2d0f9a395fbf20a9a70a026d611e2af3_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a2d0f9a395fbf20a9a70a026d611e2af3_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a2d0f9a395fbf20a9a70a026d611e2af3_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a46dc7e7ac5fab5c66bf0b519e2cebc70" title="Appends a new separator and the initial pointer in new mini page, used only by snapshot composer..." alt="" coords="248,169,439,225"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="519,5,680,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="751,275,957,316"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a8960e682ff51f3ca77aeee1e4bfee9d7" title="Whether this page is full of poiters, used only by snapshot composer (or when no race) ..." alt="" coords="507,267,692,323"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="248,398,439,454"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="239,479,448,520"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="241,544,445,585"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa0e32e13485c83c100d1153e23e96f88" title="foedus::storage::masstree\l::MasstreePage::is_high\l_fence_supremum" alt="" coords="257,610,430,666"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="507,137,692,193"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3fb331a72c86d72deb59c415e6b9b79c" title="foedus::storage::masstree\l::MasstreePage::set_key_count" alt="" coords="496,71,703,112"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#a407bbd604662534963c7fc8f08acc898" title="foedus::storage::PageHeader\l::set_key_count" alt="" coords="759,71,949,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b5848c6b2be269bf90d1d5e41e66a33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::extract_separators_common </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index_mini</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td>
          <td class="paramname"><em>separator_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td>
          <td class="paramname"><em>separator_high</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves separators defining the index, used only by snapshot composer (or when no race) </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l01539">1539</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00099">foedus::storage::masstree::MasstreePage::get_high_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00098">foedus::storage::masstree::MasstreePage::get_low_fence()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">get_minipage()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00324">get_separator()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00084">foedus::storage::masstree::MasstreePage::is_border()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00276">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::separators_</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l00367">extract_separators_snapshot()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00379">extract_separators_volatile()</a>.</p>
<div class="fragment"><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                                  {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec">is_border</a>());</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  uint8_t key_count = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>();</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(index &lt;= key_count);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keyword">const</span> MasstreeIntermediatePage::MiniPage&amp; minipage = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a>(index);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(index_mini &lt;= minipage.key_count_);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">if</span> (index_mini == 0) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">if</span> (index == 0) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      *separator_low = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b">get_low_fence</a>();</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      *separator_low = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890">get_separator</a>(index - 1U);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    *separator_low = minipage.separators_[index_mini - 1U];</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keywordflow">if</span> (index_mini == minipage.key_count_) {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="keywordflow">if</span> (index == key_count) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      *separator_high = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20">get_high_fence</a>();</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      *separator_high = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890">get_separator</a>(index);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    *separator_high = minipage.separators_[index_mini];</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a1a6f55a5a59bcab9631bbb879da689ec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec">foedus::storage::masstree::MasstreePage::is_border</a></div><div class="ttdeci">bool is_border() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00084">masstree_page_impl.hpp:84</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a1cb83de15afc0a903046937276b0ed31"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage</a></div><div class="ttdeci">MiniPage &amp; get_minipage(uint8_t index) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00322">masstree_page_impl.hpp:322</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_adaf1febd2954da507ffd8daa2757c890"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890">foedus::storage::masstree::MasstreeIntermediatePage::get_separator</a></div><div class="ttdeci">KeySlice get_separator(uint8_t index) const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00324">masstree_page_impl.hpp:324</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_abb6557473edd899373ed9399b455be20"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20">foedus::storage::masstree::MasstreePage::get_high_fence</a></div><div class="ttdeci">KeySlice get_high_fence() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00099">masstree_page_impl.hpp:99</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a30f922c414bf3a2faaf7e879b2277f0b"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b">foedus::storage::masstree::MasstreePage::get_low_fence</a></div><div class="ttdeci">KeySlice get_low_fence() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00098">masstree_page_impl.hpp:98</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="248,5,457,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="249,71,456,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="251,136,455,177"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="260,202,445,258"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_separator" alt="" coords="260,282,445,338"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="265,363,440,404"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="505,363,696,404"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7b5848c6b2be269bf90d1d5e41e66a33_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa64c68858f06b2665809772e26e385c1" title="Retrieves separators defining the index, used only by snapshot composer, thus no race. " alt="" coords="248,5,447,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adf33025a5de02efa6fc49d868ca5c43f" title="Retrieves separators defining the index, used for volatile page, which requires appropriate locks or ..." alt="" coords="255,85,440,141"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#a45eb1cba6ccf8f51c973030848a47a9d" title="foedus::storage::masstree\l::MasstreeComposer::construct_root" alt="" coords="495,13,729,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="777,13,956,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa64c68858f06b2665809772e26e385c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::extract_separators_snapshot </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index_mini</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td>
          <td class="paramname"><em>separator_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td>
          <td class="paramname"><em>separator_high</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves separators defining the index, used only by snapshot composer, thus no race. </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00367">367</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01539">extract_separators_common()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00194">foedus::storage::masstree::MasstreePage::header_</a>, and <a class="el" href="page_8hpp_source.html#l00211">foedus::storage::PageHeader::snapshot_</a>.</p>

<p>Referenced by <a class="el" href="masstree__composer__impl_8cpp_source.html#l00111">foedus::storage::masstree::MasstreeComposer::construct_root()</a>.</p>
<div class="fragment"><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                    {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">header_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">snapshot_</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33">extract_separators_common</a>(index, index_mini, separator_low, separator_high);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a7b5848c6b2be269bf90d1d5e41e66a33"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33">foedus::storage::masstree::MasstreeIntermediatePage::extract_separators_common</a></div><div class="ttdeci">void extract_separators_common(uint8_t index, uint8_t index_mini, KeySlice *separator_low, KeySlice *separator_high) const </div><div class="ttdoc">Retrieves separators defining the index, used only by snapshot composer (or when no race) ...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01539">masstree_page_impl.hpp:1539</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_ac0baf9ee636d13c02d334ce779cc6a8f"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">foedus::storage::PageHeader::snapshot_</a></div><div class="ttdeci">bool snapshot_</div><div class="ttdoc">Whether this page image is of a snapshot page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00211">page.hpp:211</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a168db13e03be3f699e4e409ceea88d76"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">foedus::storage::masstree::MasstreePage::header_</a></div><div class="ttdeci">PageHeader header_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00194">masstree_page_impl.hpp:194</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33" title="Retrieves separators defining the index, used only by snapshot composer (or when no race) ..." alt="" coords="252,166,447,222"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="495,5,704,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="496,71,703,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="497,136,701,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="507,202,692,258"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_separator" alt="" coords="507,282,692,338"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="512,363,687,404"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="752,363,943,404"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa64c68858f06b2665809772e26e385c1_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#a45eb1cba6ccf8f51c973030848a47a9d" title="foedus::storage::masstree\l::MasstreeComposer::construct_root" alt="" coords="252,13,487,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="535,13,713,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adf33025a5de02efa6fc49d868ca5c43f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::extract_separators_volatile </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index_mini</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td>
          <td class="paramname"><em>separator_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> *&#160;</td>
          <td class="paramname"><em>separator_high</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves separators defining the index, used for volatile page, which requires appropriate locks or retries by the caller. </p>
<p>The caller must be careful! </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00379">379</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01539">extract_separators_common()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00194">foedus::storage::masstree::MasstreePage::header_</a>, and <a class="el" href="page_8hpp_source.html#l00211">foedus::storage::PageHeader::snapshot_</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                    {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">header_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">snapshot_</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33">extract_separators_common</a>(index, index_mini, separator_low, separator_high);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a7b5848c6b2be269bf90d1d5e41e66a33"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33">foedus::storage::masstree::MasstreeIntermediatePage::extract_separators_common</a></div><div class="ttdeci">void extract_separators_common(uint8_t index, uint8_t index_mini, KeySlice *separator_low, KeySlice *separator_high) const </div><div class="ttdoc">Retrieves separators defining the index, used only by snapshot composer (or when no race) ...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l01539">masstree_page_impl.hpp:1539</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_ac0baf9ee636d13c02d334ce779cc6a8f"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#ac0baf9ee636d13c02d334ce779cc6a8f">foedus::storage::PageHeader::snapshot_</a></div><div class="ttdeci">bool snapshot_</div><div class="ttdoc">Whether this page image is of a snapshot page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00211">page.hpp:211</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a168db13e03be3f699e4e409ceea88d76"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">foedus::storage::masstree::MasstreePage::header_</a></div><div class="ttdeci">PageHeader header_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00194">masstree_page_impl.hpp:194</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adf33025a5de02efa6fc49d868ca5c43f_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adf33025a5de02efa6fc49d868ca5c43f_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adf33025a5de02efa6fc49d868ca5c43f_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adf33025a5de02efa6fc49d868ca5c43f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33" title="Retrieves separators defining the index, used only by snapshot composer (or when no race) ..." alt="" coords="239,166,433,222"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#abb6557473edd899373ed9399b455be20" title="foedus::storage::masstree\l::MasstreePage::get_high_fence" alt="" coords="481,5,691,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="483,71,689,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a30f922c414bf3a2faaf7e879b2277f0b" title="foedus::storage::masstree\l::MasstreePage::get_low_fence" alt="" coords="484,136,688,177"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="493,202,679,258"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adaf1febd2954da507ffd8daa2757c890" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_separator" alt="" coords="493,282,679,338"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="499,363,673,404"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="739,363,929,404"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad5ffa0667ef80499cbffb041dbb57b5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t foedus::storage::masstree::MasstreeIntermediatePage::find_minipage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>slice</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Navigates a searching key-slice to one of the mini pages in this page. </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00312">312</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00094">foedus::storage::masstree::MasstreeStoragePimpl::fatify_first_root_double()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00213">foedus::storage::masstree::MasstreeStoragePimpl::find_border_physical()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00061">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_next_layer()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00161">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_this_layer_recurse()</a>, <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00032">foedus::storage::masstree::Adopt::run()</a>, and <a class="el" href="masstree__page__impl_8cpp_source.html#l00609">foedus::storage::masstree::MasstreeBorderPage::track_moved_record_next_layer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                            {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    uint8_t key_count = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(key_count &lt;= <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; key_count; ++i) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (slice &lt; separators_[i]) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> key_count;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga2ce564bb661a338ce070653e1ca48efa"><div class="ttname"><a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateSeparators</div><div class="ttdoc">Max number of separators stored in the first level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00237">masstree_page_impl.hpp:237</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="239,13,445,54"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ad5ffa0667ef80499cbffb041dbb57b5f_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a32332060560b864a857a839bb0adb4fd" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::fatify_first_root_double" alt="" coords="257,383,430,439"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="257,748,430,804"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a14fb0ae2a643a45c3f32ab6395285d8d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_next_layer" alt="" coords="757,1018,966,1089"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a139bb707048331de71c3abe8c0282d7d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer_recurse" alt="" coords="239,1003,448,1074"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="257,1098,430,1139"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="249,1188,438,1244"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ac3b15bb4f888327ba49050f62d020f52" title="Defined in masstree_storage_fatify.cpp. " alt="" coords="514,97,687,153"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a70b1c5e023fa0aac150e7b607e37727c" title="Deliberately causes splits under the volatile root of first layer, or &quot;fatify&quot; it. " alt="" coords="775,5,948,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="775,245,948,301"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="511,445,690,501"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="514,748,687,804"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="509,857,693,913"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1037,55,1235,97"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1049,121,1223,177"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1049,201,1223,257"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1029,427,1243,469"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1021,493,1251,534"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1043,281,1229,337"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1017,362,1255,403"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="775,85,948,141"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="775,165,948,221"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="767,325,956,381"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="775,405,948,461"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="768,485,955,541"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="767,565,956,621"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="764,645,959,701"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="755,726,967,767"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="753,791,969,833"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="775,857,948,913"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="775,937,948,993"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67482433dfc680921b443bdb8a1ea78e" title="Defined in masstree_storage_peek.cpp. " alt="" coords="1031,1075,1241,1131"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#abf137494ad55ab4d60cec25c7c654e99" title="Checks the volatile pages of this storage to give hints to decide page boundary keys. " alt="" coords="1309,1075,1483,1131"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a96688f523312e356ea1a03adfbfba7b2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer" alt="" coords="496,1018,705,1089"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#ab905ff02e9f747f00d44e72ffc16f546" title="foedus::storage::masstree\l::MasstreeBorderPage::track\l_moved_record" alt="" coords="506,1188,695,1244"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#aff57df4d2b237e63e459d5fefe9d4cfb" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::track_moved_record" alt="" coords="775,1188,948,1244"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2370f71beab1eb4b8b02e3ac9e4f29bd" title="Resolves a &quot;moved&quot; record. " alt="" coords="1049,1188,1223,1244"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a3248d8440d805f772ad7b6122a4d309b" title="foedus::storage::Storage\lManagerPimpl::track_moved\l_record" alt="" coords="1303,1188,1489,1244"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1StorageManager.html#a02513539acf9d7cd9805d34154281076" title="Resolves a &quot;moved&quot; record. " alt="" coords="1537,1195,1733,1237"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="1781,1195,2001,1237"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="2051,1162,2259,1203"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="2049,1227,2260,1269"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="2308,1162,2503,1203"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="2551,1195,2745,1237"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="2793,1195,2956,1237"/>
<area shape="rect" id="node46" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="2308,1227,2503,1269"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1cb83de15afc0a903046937276b0ed31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html">MiniPage</a>&amp; foedus::storage::masstree::MasstreeIntermediatePage::get_minipage </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">322</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00073">foedus::storage::masstree::Adopt::adopt_case_a()</a>, <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00118">foedus::storage::masstree::Adopt::adopt_case_b()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01522">append_minipage_snapshot()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l00111">foedus::storage::masstree::MasstreeComposer::construct_root()</a>, <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00032">foedus::storage::masstree::count_children_approximate()</a>, <a class="el" href="masstree__composer__impl_8cpp_source.html#l02558">foedus::storage::masstree::MasstreeComposer::drop_volatiles()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01539">extract_separators_common()</a>, <a class="el" href="masstree__storage__fatify_8cpp_source.html#l00094">foedus::storage::masstree::MasstreeStoragePimpl::fatify_first_root_double()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00213">foedus::storage::masstree::MasstreeStoragePimpl::find_border_physical()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01082">foedus::storage::masstree::MasstreeIntermediatePointerIterator::get_high_key()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01071">foedus::storage::masstree::MasstreeIntermediatePointerIterator::get_low_key()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01093">foedus::storage::masstree::MasstreeIntermediatePointerIterator::get_pointer()</a>, <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">foedus::storage::masstree::grow_case_b_common()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00108">initialize_snapshot_page()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00088">initialize_volatile_page()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01067">foedus::storage::masstree::MasstreeIntermediatePointerIterator::is_valid()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>, <a class="el" href="masstree__split__impl_8cpp_source.html#l00624">foedus::storage::masstree::SplitIntermediate::migrate_pointers()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01057">foedus::storage::masstree::MasstreeIntermediatePointerIterator::next()</a>, <a class="el" href="masstree__page__debug_8cpp_source.html#l00054">foedus::storage::masstree::operator&lt;&lt;()</a>, <a class="el" href="masstree__storage__peek_8cpp_source.html#l00161">foedus::storage::masstree::MasstreeStoragePimpl::peek_volatile_page_boundaries_this_layer_recurse()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00051">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_normalized_recurse()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00226">release_pages_recursive()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00188">release_pages_recursive_parallel()</a>, <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00032">foedus::storage::masstree::Adopt::run()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00609">foedus::storage::masstree::MasstreeBorderPage::track_moved_record_next_layer()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00475">verify_separators()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00103">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_intermediate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{ <span class="keywordflow">return</span> mini_pages_[index]; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a1cb83de15afc0a903046937276b0ed31_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a1cb83de15afc0a903046937276b0ed31_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a1cb83de15afc0a903046937276b0ed31_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a1cb83de15afc0a903046937276b0ed31_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="270,123,443,164"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="571,63,744,104"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="270,5,443,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a46dc7e7ac5fab5c66bf0b519e2cebc70" title="Appends a new separator and the initial pointer in new mini page, used only by snapshot composer..." alt="" coords="261,1558,452,1614"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#a45eb1cba6ccf8f51c973030848a47a9d" title="foedus::storage::masstree\l::MasstreeComposer::construct_root" alt="" coords="840,689,1075,731"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage_1_1masstree.html#aa275c1ef79668cf8c173ee51f0753dc3" title="foedus::storage::masstree\l::count_children_approximate" alt="" coords="261,1645,453,1687"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a32332060560b864a857a839bb0adb4fd" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::fatify_first_root_double" alt="" coords="871,1717,1044,1773"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#ad25781d742feeced13ed8b047b485a3e" title="drop_volatiles and related methods " alt="" coords="569,798,745,854"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33" title="Retrieves separators defining the index, used only by snapshot composer (or when no race) ..." alt="" coords="259,537,454,593"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a738313356f0e54e8e2d732c2017797c0" title="Find a border node in the layer that corresponds to the given key slice. " alt="" coords="270,1762,443,1818"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#aceace47cb99cf71122b066ba5c7b9e06" title="foedus::storage::masstree\l::MasstreeIntermediatePointerIterator\l::get_high_key" alt="" coords="539,1427,775,1483"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#aefcac4f0e94dee19b7b26ff392ba4c54" title="foedus::storage::masstree\l::MasstreeIntermediatePointerIterator\l::get_low_key" alt="" coords="539,1201,775,1257"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a139bb707048331de71c3abe8c0282d7d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer_recurse" alt="" coords="853,1273,1062,1344"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#a8988fe635186bff06191f3eb87447bc8" title="foedus::storage::masstree\l::MasstreeIntermediatePointerIterator\l::get_pointer" alt="" coords="539,1281,775,1337"/>
<area shape="rect" id="node28" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="571,311,744,352"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a558cb535a501ee9d8ed391a45c04c705" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::initialize_snapshot_page" alt="" coords="264,1842,449,1898"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#ab25cb34a8304c744bf309cc02b515e72" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::initialize_volatile_page" alt="" coords="264,347,449,403"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a9c2b2febfce356451e8183f66f71dcc3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::load_empty" alt="" coords="571,377,744,433"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#acd0b166a127ed5fbadecd838f8e32be5" title="foedus::storage::masstree\l::MasstreeIntermediatePointerIterator\l::is_valid" alt="" coords="239,1098,475,1154"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#a50f249d95bb8fceda793e40a76b4e386" title="foedus::storage::masstree\l::MasstreeIntermediatePointerIterator::next" alt="" coords="523,1361,792,1403"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aac45b3f7f6e3c14faa8a9662396d44e1" title="Subroutine to construct a new page. " alt="" coords="568,179,747,235"/>
<area shape="rect" id="node44" href="namespacefoedus_1_1storage_1_1masstree.html#acb6f7508993143f1f48a064ff4b79fda" title="foedus::storage::masstree\l::operator\&lt;\&lt;" alt="" coords="270,1923,443,1964"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="263,1988,451,2059"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a09552cf1a9e8f061f9bd6cbdb9268688" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::release_pages_recursive" alt="" coords="264,2107,449,2163"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a854ff4750eb7aad99b3cff474882ec5c" title="This method is used when we release a large number of volatile pages, most likely when we drop a stor..." alt="" coords="264,2188,449,2259"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a1429b13cd5efb94c7b4735bf84087818" title="This one further tracks it to next layer. " alt="" coords="262,2307,451,2363"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7216fe075ea3db89bbba06f5a156ce81" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::verify_separators" alt="" coords="264,189,449,245"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a351ca64071b130468a9ba9f200ccd417" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_intermediate" alt="" coords="246,2387,467,2443"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a2d0f9a395fbf20a9a70a026d611e2af3" title="Appends a new poiner and separator in an existing mini page, used only by snapshot composer..." alt="" coords="565,1558,750,1614"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="1138,689,1317,731"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ad6c9eb02ad32cc1bffe9daac3521ad24" title="Returns the count of direct children in the first&#45;root node. " alt="" coords="571,1639,744,1709"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#ac3b15bb4f888327ba49050f62d020f52" title="Defined in masstree_storage_fatify.cpp. " alt="" coords="1141,1682,1314,1738"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="868,805,1047,847"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa64c68858f06b2665809772e26e385c1" title="Retrieves separators defining the index, used only by snapshot composer, thus no race. " alt="" coords="558,537,757,593"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adf33025a5de02efa6fc49d868ca5c43f" title="Retrieves separators defining the index, used for volatile page, which requires appropriate locks or ..." alt="" coords="565,457,750,513"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="571,1835,744,1891"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="568,1915,747,1971"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="571,1995,744,2051"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="565,2075,749,2131"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a96688f523312e356ea1a03adfbfba7b2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer" alt="" coords="1123,1273,1332,1344"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="871,253,1044,295"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="860,319,1055,360"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="871,173,1044,229"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a192a4976aa71f457b356bf536d9f5fc2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::create" alt="" coords="871,385,1044,441"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="860,465,1055,507"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePartitioner.html#a1aedc45cc5621bd3889f1bf2d47ab79c" title="foedus::storage::masstree\l::MasstreePartitioner::\ldesign_partition" alt="" coords="571,974,744,1030"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aca3a58f3f123782aa1b769447d93fb44" title="Subroutine to decide how we will split this page. " alt="" coords="571,617,744,673"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a6358da556d81e06726320b30c78755f7" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::debugout_single_thread\l_recurse" alt="" coords="571,1055,744,1125"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a7e4b647b3c95a74b4de7fd18931cafb3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::hcc_reset_all_temperature\l_stat_recurse" alt="" coords="566,879,749,949"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7743b78e92bef0f6930df669ca93727a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html">MiniPage</a>&amp; foedus::storage::masstree::MasstreeIntermediatePage::get_minipage </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00323">323</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{ <span class="keywordflow">return</span> mini_pages_[index]; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adaf1febd2954da507ffd8daa2757c890"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foedus::storage::masstree::MasstreeIntermediatePage::get_separator </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00324">324</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l01539">extract_separators_common()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01082">foedus::storage::masstree::MasstreeIntermediatePointerIterator::get_high_key()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l01071">foedus::storage::masstree::MasstreeIntermediatePointerIterator::get_low_key()</a>, <a class="el" href="masstree__page__debug_8cpp_source.html#l00054">foedus::storage::masstree::operator&lt;&lt;()</a>, <a class="el" href="masstree__storage__prefetch_8cpp_source.html#l00051">foedus::storage::masstree::MasstreeStoragePimpl::prefetch_pages_normalized_recurse()</a>, and <a class="el" href="masstree__storage__verify_8cpp_source.html#l00103">foedus::storage::masstree::MasstreeStoragePimpl::verify_single_thread_intermediate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{ <span class="keywordflow">return</span> separators_[index]; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adaf1febd2954da507ffd8daa2757c890_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adaf1febd2954da507ffd8daa2757c890_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adaf1febd2954da507ffd8daa2757c890_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_adaf1febd2954da507ffd8daa2757c890_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a7b5848c6b2be269bf90d1d5e41e66a33" title="Retrieves separators defining the index, used only by snapshot composer (or when no race) ..." alt="" coords="259,55,454,111"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#aceace47cb99cf71122b066ba5c7b9e06" title="foedus::storage::masstree\l::MasstreeIntermediatePointerIterator\l::get_high_key" alt="" coords="239,135,475,191"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePointerIterator.html#aefcac4f0e94dee19b7b26ff392ba4c54" title="foedus::storage::masstree\l::MasstreeIntermediatePointerIterator\l::get_low_key" alt="" coords="239,215,475,271"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage_1_1masstree.html#acb6f7508993143f1f48a064ff4b79fda" title="foedus::storage::masstree\l::operator\&lt;\&lt;" alt="" coords="270,295,443,337"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a4c4630d85af99ceafad404bc5c5c7eef" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_normalized\l_recurse" alt="" coords="263,361,451,431"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a351ca64071b130468a9ba9f200ccd417" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_intermediate" alt="" coords="246,456,467,512"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa64c68858f06b2665809772e26e385c1" title="Retrieves separators defining the index, used only by snapshot composer, thus no race. " alt="" coords="528,5,727,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#adf33025a5de02efa6fc49d868ca5c43f" title="Retrieves separators defining the index, used for volatile page, which requires appropriate locks or ..." alt="" coords="535,85,720,141"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeComposer.html#a45eb1cba6ccf8f51c973030848a47a9d" title="foedus::storage::masstree\l::MasstreeComposer::construct_root" alt="" coords="780,13,1015,54"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="1078,13,1257,54"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a139bb707048331de71c3abe8c0282d7d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer_recurse" alt="" coords="523,194,732,265"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a96688f523312e356ea1a03adfbfba7b2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_this_layer" alt="" coords="793,194,1002,265"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67482433dfc680921b443bdb8a1ea78e" title="Defined in masstree_storage_peek.cpp. " alt="" coords="1320,203,1529,259"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a14fb0ae2a643a45c3f32ab6395285d8d" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::peek_volatile_page_boundaries\l_next_layer" alt="" coords="1063,231,1272,302"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#abf137494ad55ab4d60cec25c7c654e99" title="Checks the volatile pages of this storage to give hints to decide page boundary keys. " alt="" coords="1577,203,1751,259"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a99bb085d9e427fc36182b13bb20371e9" title="defined in masstree_storage_prefetch.cpp " alt="" coords="533,289,721,345"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#abe8cbf3d8edfb47a32d460029707aace" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::prefetch_pages_follow" alt="" coords="541,369,714,425"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a10db264b9d354e1813bd20ef8fdb72bb" title="Prefetch data pages in this storage. " alt="" coords="806,289,989,345"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a09d587cc38996109b753a7704fa33736" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_layer" alt="" coords="538,453,717,509"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a2a4e90569074d49ab538041caedacf6a" title="These are defined in masstree_storage_verify.cpp. " alt="" coords="811,405,984,461"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a688e9af62605f137637cc239f161c84f" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::verify_single_thread_border" alt="" coords="804,485,991,541"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aedee683fbced316953d1cbc622f22c87" title="foedus::storage::masstree\l::MasstreeStorage::verify\l_single_thread" alt="" coords="1081,405,1254,461"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a558cb535a501ee9d8ed391a45c04c705"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::initialize_snapshot_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>storage_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga629d4b8103bfb83ef9c11b842a4fd398">SnapshotPagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>low_fence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>high_fence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8cpp_source.html#l00108">108</a> of file <a class="el" href="masstree__page__impl_8cpp_source.html">masstree_page_impl.cpp</a>.</p>

<p>References <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">get_minipage()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00068">foedus::storage::masstree::MasstreePage::initialize_snapshot_common()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="page_8hpp_source.html#l00049">foedus::storage::kMasstreeIntermediatePageType</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00237">foedus::storage::masstree::kMaxIntermediateSeparators</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                  {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab41ee4ce455995cd703dac3990442081">initialize_snapshot_common</a>(</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    storage_id,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    page_id,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b">kMasstreeIntermediatePageType</a>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    layer,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    level,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    low_fence,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    high_fence);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">for</span> (uint16_t i = 0; i &lt;= <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a>; ++i) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a>(i).<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">key_count_</a> = 0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a1cb83de15afc0a903046937276b0ed31"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage</a></div><div class="ttdeci">MiniPage &amp; get_minipage(uint8_t index) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00322">masstree_page_impl.hpp:322</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage_html_a7a1d64c4c68bb144cc3d7c11966498f9"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a></div><div class="ttdeci">uint8_t key_count_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00271">masstree_page_impl.hpp:271</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga2ce564bb661a338ce070653e1ca48efa"><div class="ttname"><a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateSeparators</div><div class="ttdoc">Max number of separators stored in the first level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00237">masstree_page_impl.hpp:237</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_ab41ee4ce455995cd703dac3990442081"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab41ee4ce455995cd703dac3990442081">foedus::storage::masstree::MasstreePage::initialize_snapshot_common</a></div><div class="ttdeci">void initialize_snapshot_common(StorageId storage_id, SnapshotPagePointer page_id, PageType page_type, uint8_t layer, uint8_t level, KeySlice low_fence, KeySlice high_fence)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8cpp_source.html#l00068">masstree_page_impl.cpp:68</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b">foedus::storage::kMasstreeIntermediatePageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00049">page.hpp:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a558cb535a501ee9d8ed391a45c04c705_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a558cb535a501ee9d8ed391a45c04c705_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a558cb535a501ee9d8ed391a45c04c705_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a558cb535a501ee9d8ed391a45c04c705_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="239,32,424,88"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab41ee4ce455995cd703dac3990442081" title="foedus::storage::masstree\l::MasstreePage::initialize\l_snapshot_common" alt="" coords="245,112,418,168"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1PageHeader.html#a65c4acd213d2f482eb29c6dee0818915" title="foedus::storage::PageHeader\l::init_snapshot" alt="" coords="480,86,671,127"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="472,151,679,193"/>
<area shape="rect" id="node5" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="732,5,920,61"/>
<area shape="rect" id="node6" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="727,86,925,127"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="730,151,922,193"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="973,118,1165,159"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="985,183,1154,225"/>
<area shape="rect" id="node10" href="structfoedus_1_1xct_1_1McsWwBlockData.html#a3161e47c41388e9c1b50929f585e366b" title="foedus::xct::McsWwBlockData\l::clear" alt="" coords="1213,183,1415,225"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab25cb34a8304c744bf309cc02b515e72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::initialize_volatile_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>storage_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1VolatilePagePointer.html">VolatilePagePointer</a>&#160;</td>
          <td class="paramname"><em>page_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>low_fence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>high_fence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8cpp_source.html#l00088">88</a> of file <a class="el" href="masstree__page__impl_8cpp_source.html">masstree_page_impl.cpp</a>.</p>

<p>References <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">get_minipage()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00047">foedus::storage::masstree::MasstreePage::initialize_volatile_common()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="page_8hpp_source.html#l00049">foedus::storage::kMasstreeIntermediatePageType</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00237">foedus::storage::masstree::kMaxIntermediateSeparators</a>.</p>

<p>Referenced by <a class="el" href="masstree__grow__impl_8cpp_source.html#l00076">foedus::storage::masstree::grow_case_b_common()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>, and <a class="el" href="masstree__split__impl_8cpp_source.html#l00476">foedus::storage::masstree::SplitIntermediate::split_impl_no_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                  {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa95b56b38e523e345e5fb0283e43d65e">initialize_volatile_common</a>(</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    storage_id,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    page_id,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b">kMasstreeIntermediatePageType</a>,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    layer,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    level,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    low_fence,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    high_fence);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">for</span> (uint16_t i = 0; i &lt;= <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a>; ++i) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a>(i).<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">key_count_</a> = 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a1cb83de15afc0a903046937276b0ed31"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage</a></div><div class="ttdeci">MiniPage &amp; get_minipage(uint8_t index) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00322">masstree_page_impl.hpp:322</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage_html_a7a1d64c4c68bb144cc3d7c11966498f9"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a></div><div class="ttdeci">uint8_t key_count_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00271">masstree_page_impl.hpp:271</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_aa95b56b38e523e345e5fb0283e43d65e"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa95b56b38e523e345e5fb0283e43d65e">foedus::storage::masstree::MasstreePage::initialize_volatile_common</a></div><div class="ttdeci">void initialize_volatile_common(StorageId storage_id, VolatilePagePointer page_id, PageType page_type, uint8_t layer, uint8_t level, KeySlice low_fence, KeySlice high_fence)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8cpp_source.html#l00047">masstree_page_impl.cpp:47</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga2ce564bb661a338ce070653e1ca48efa"><div class="ttname"><a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateSeparators</div><div class="ttdoc">Max number of separators stored in the first level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00237">masstree_page_impl.hpp:237</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba23ef27cc0a436fe010a22a7374e8737b">foedus::storage::kMasstreeIntermediatePageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00049">page.hpp:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="239,5,424,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa95b56b38e523e345e5fb0283e43d65e" title="foedus::storage::masstree\l::MasstreePage::initialize\l_volatile_common" alt="" coords="245,85,418,141"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="480,59,671,101"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="472,125,679,166"/>
<area shape="rect" id="node5" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="727,27,925,69"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="730,93,922,134"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="973,59,1165,101"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="985,125,1154,166"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1McsWwBlockData.html#a3161e47c41388e9c1b50929f585e366b" title="foedus::xct::McsWwBlockData\l::clear" alt="" coords="1213,125,1415,166"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_ab25cb34a8304c744bf309cc02b515e72_icgraph">
<area shape="rect" id="node2" href="namespacefoedus_1_1storage_1_1masstree.html#a9747d159e12f82f5fefcaed735947480" title="foedus::storage::masstree\l::grow_case_b_common" alt="" coords="239,71,412,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a9c2b2febfce356451e8183f66f71dcc3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::load_empty" alt="" coords="239,151,412,207"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="239,261,412,317"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1GrowFirstLayerRoot.html#a2c3c6cc4a2d74c498cee8f9051d09909" title="Execute the system transaction. " alt="" coords="471,5,644,47"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1GrowNonFirstLayerRoot.html#a9c47822a3dd14ff40020c13d277820ea" title="Execute the system transaction. " alt="" coords="460,71,655,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a192a4976aa71f457b356bf536d9f5fc2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::create" alt="" coords="471,137,644,193"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="460,217,655,259"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a92ad35031262ae95e767c53746de2e29" title="foedus::storage::masstree\l::MasstreeStorage::create" alt="" coords="703,144,876,185"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2731aaf3a733c773a63df6d691ede3ac" title="foedus::storage::masstree\l::MasstreeStorage::load" alt="" coords="703,217,876,259"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="471,283,644,324"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8960e682ff51f3ca77aeee1e4bfee9d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeIntermediatePage::is_full_snapshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether this page is full of poiters, used only by snapshot composer (or when no race) </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l01487">1487</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00244">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8hpp_source.html#l01522">append_minipage_snapshot()</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l01496">append_pointer_snapshot()</a>.</p>
<div class="fragment"><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                                             {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  uint16_t keys = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(keys &lt;= <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keyword">const</span> MiniPage&amp; minipage = mini_pages_[keys];</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  uint16_t keys_mini = minipage.<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">key_count_</a>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(keys_mini &lt;= <a class="code" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">return</span> keys == <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a> &amp;&amp; keys_mini == <a class="code" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaaa62799e432e5c5b145851eed621d33d"><div class="ttname"><a href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateMiniSeparators</div><div class="ttdoc">Max number of separators stored in the second level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00244">masstree_page_impl.hpp:244</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage_html_a7a1d64c4c68bb144cc3d7c11966498f9"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_1_1MiniPage.html#a7a1d64c4c68bb144cc3d7c11966498f9">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a></div><div class="ttdeci">uint8_t key_count_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00271">masstree_page_impl.hpp:271</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga2ce564bb661a338ce070653e1ca48efa"><div class="ttname"><a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateSeparators</div><div class="ttdoc">Max number of separators stored in the first level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00237">masstree_page_impl.hpp:237</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="239,13,445,54"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a8960e682ff51f3ca77aeee1e4bfee9d7_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a46dc7e7ac5fab5c66bf0b519e2cebc70" title="Appends a new separator and the initial pointer in new mini page, used only by snapshot composer..." alt="" coords="239,5,429,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a2d0f9a395fbf20a9a70a026d611e2af3" title="Appends a new poiner and separator in an existing mini page, used only by snapshot composer..." alt="" coords="477,39,663,95"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2e673300211d10b2fe8df02108073ad2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a>&amp; foedus::storage::masstree::MasstreeIntermediatePage::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa7f9dfce1b1a92ad89e7163459025b64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::prefetch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>prefetch upto separators. </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00305">305</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>References <a class="el" href="cacheline_8hpp_source.html#l00066">foedus::assorted::prefetch_cachelines()</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83">assorted::prefetch_cachelines</a>(<span class="keyword">this</span>, 3);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div>
<div class="ttc" id="group__ASSORTED_html_ga14adcd2a780f37023df88933f17a5a83"><div class="ttname"><a href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83">foedus::assorted::prefetch_cachelines</a></div><div class="ttdeci">void prefetch_cachelines(const void *address, int cacheline_count)</div><div class="ttdoc">Prefetch multiple contiguous cachelines to L1 cache. </div><div class="ttdef"><b>Definition:</b> <a href="cacheline_8hpp_source.html#l00066">cacheline.hpp:66</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa7f9dfce1b1a92ad89e7163459025b64_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa7f9dfce1b1a92ad89e7163459025b64_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa7f9dfce1b1a92ad89e7163459025b64_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aa7f9dfce1b1a92ad89e7163459025b64_cgraph">
<area shape="rect" id="node2" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="239,13,411,54"/>
<area shape="rect" id="node3" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="459,13,631,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09552cf1a9e8f061f9bd6cbdb9268688"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html">memory::GlobalVolatilePageResolver</a> &amp;&#160;</td>
          <td class="paramname"><em>page_resolver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1memory_1_1PageReleaseBatch.html">memory::PageReleaseBatch</a> *&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8cpp_source.html#l00226">226</a> of file <a class="el" href="masstree__page__impl_8cpp_source.html">masstree_page_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00211">foedus::storage::masstree::MasstreePage::foster_twin_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">get_minipage()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00194">foedus::storage::masstree::MasstreePage::header_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00097">foedus::storage::masstree::MasstreePage::is_empty_range()</a>, <a class="el" href="page_8hpp_source.html#l00139">foedus::storage::PageVersion::is_moved()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00169">foedus::storage::masstree::MasstreePage::is_moved()</a>, <a class="el" href="storage__id_8hpp_source.html#l00210">foedus::storage::VolatilePagePointer::is_null()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00244">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00237">foedus::storage::masstree::kMaxIntermediateSeparators</a>, <a class="el" href="page_8hpp_source.html#l00191">foedus::storage::PageHeader::page_id_</a>, <a class="el" href="page_8hpp_source.html#l00272">foedus::storage::PageHeader::page_version_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00278">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::pointers_</a>, <a class="el" href="page__pool_8hpp_source.html#l00292">foedus::memory::PageReleaseBatch::release()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00226">release_pages_recursive()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00164">foedus::storage::masstree::MasstreePage::release_pages_recursive_common()</a>, <a class="el" href="page__resolver_8hpp_source.html#l00120">foedus::memory::GlobalVolatilePageResolver::resolve_offset()</a>, <a class="el" href="storage__id_8hpp_source.html#l00308">foedus::storage::DualPagePointer::volatile_pointer_</a>, and <a class="el" href="storage__id_8hpp_source.html#l00195">foedus::storage::VolatilePagePointer::word</a>.</p>

<p>Referenced by <a class="el" href="masstree__page__impl_8cpp_source.html#l00226">release_pages_recursive()</a>, and <a class="el" href="masstree__page__impl_8cpp_source.html#l00164">foedus::storage::masstree::MasstreePage::release_pages_recursive_common()</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                 {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663">is_empty_range</a>()) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">header_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#a44c12d47d4b478bac2076df4760fc990">page_version_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78">is_moved</a>()) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; ++i) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foster_twin_</a>[i].is_null());</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa83c386108c95db96c325ce7061dd618">MasstreeIntermediatePage</a>* p =</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa83c386108c95db96c325ce7061dd618">MasstreeIntermediatePage</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            page_resolver.resolve_offset(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foster_twin_</a>[i]));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        p-&gt;release_pages_recursive(page_resolver, batch);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foster_twin_</a>[i].<a class="code" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a8bb6c37c44056c5f986f6dd164b5b23a">word</a> = 0;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      uint16_t key_count = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(key_count &lt;= <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; key_count + 1; ++i) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        MiniPage&amp; minipage = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a>(i);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        uint16_t mini_count = minipage.key_count_;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(mini_count &lt;= <a class="code" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">for</span> (uint8_t j = 0; j &lt; mini_count + 1; ++j) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          VolatilePagePointer pointer = minipage.pointers_[j].volatile_pointer_;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          <span class="keywordflow">if</span> (!pointer.is_null()) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a2b0cd6e79e07f9b2241d0123ffe00ad2">MasstreePage</a>* child = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a2b0cd6e79e07f9b2241d0123ffe00ad2">MasstreePage</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;              page_resolver.resolve_offset(pointer));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            child-&gt;release_pages_recursive_common(page_resolver, batch);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35">is_moved</a>());</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>() == 0);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  VolatilePagePointer volatile_id;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  volatile_id.word = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e">header</a>().<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#a59128590fdc568e894a8973a319a0154">page_id_</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  batch-&gt;release(volatile_id);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a14cdcef87b3c0a6ef431df9d06a1a663"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663">foedus::storage::masstree::MasstreePage::is_empty_range</a></div><div class="ttdeci">bool is_empty_range() const __attribute__((always_inline))</div><div class="ttdoc">An empty-range page, either intermediate or border, never has any entries. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00097">masstree_page_impl.hpp:97</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1VolatilePagePointer_html_a8bb6c37c44056c5f986f6dd164b5b23a"><div class="ttname"><a href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a8bb6c37c44056c5f986f6dd164b5b23a">foedus::storage::VolatilePagePointer::word</a></div><div class="ttdeci">uint64_t word</div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00195">storage_id.hpp:195</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_adc22d21883e15b87cd5ff6b6ec513c35"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35">foedus::storage::masstree::MasstreePage::is_moved</a></div><div class="ttdeci">bool is_moved() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00169">masstree_page_impl.hpp:169</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a1cb83de15afc0a903046937276b0ed31"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage</a></div><div class="ttdeci">MiniPage &amp; get_minipage(uint8_t index) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00322">masstree_page_impl.hpp:322</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaaa62799e432e5c5b145851eed621d33d"><div class="ttname"><a href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateMiniSeparators</div><div class="ttdoc">Max number of separators stored in the second level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00244">masstree_page_impl.hpp:244</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a827faad5f063cf4bf9188f17bbf582b9"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foedus::storage::masstree::MasstreePage::foster_twin_</a></div><div class="ttdeci">VolatilePagePointer foster_twin_[2]</div><div class="ttdoc">Points to foster children, or tentative child pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00211">masstree_page_impl.hpp:211</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageVersion_html_a2b63daa9a7f39c8c85bf2d43f4c18d78"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78">foedus::storage::PageVersion::is_moved</a></div><div class="ttdeci">bool is_moved() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00139">page.hpp:139</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga2ce564bb661a338ce070653e1ca48efa"><div class="ttname"><a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateSeparators</div><div class="ttdoc">Max number of separators stored in the first level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00237">masstree_page_impl.hpp:237</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_a44c12d47d4b478bac2076df4760fc990"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#a44c12d47d4b478bac2076df4760fc990">foedus::storage::PageHeader::page_version_</a></div><div class="ttdeci">PageVersion page_version_</div><div class="ttdoc">Used in several storage types as concurrency control mechanism for the page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00272">page.hpp:272</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_ab5ab7bbce35893143d2aac437e526d0e"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e">foedus::storage::masstree::MasstreePage::header</a></div><div class="ttdeci">PageHeader &amp; header()</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00073">masstree_page_impl.hpp:73</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a2b0cd6e79e07f9b2241d0123ffe00ad2"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a2b0cd6e79e07f9b2241d0123ffe00ad2">foedus::storage::masstree::MasstreePage::MasstreePage</a></div><div class="ttdeci">MasstreePage()=delete</div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a168db13e03be3f699e4e409ceea88d76"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">foedus::storage::masstree::MasstreePage::header_</a></div><div class="ttdeci">PageHeader header_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00194">masstree_page_impl.hpp:194</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_aa83c386108c95db96c325ce7061dd618"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#aa83c386108c95db96c325ce7061dd618">foedus::storage::masstree::MasstreeIntermediatePage::MasstreeIntermediatePage</a></div><div class="ttdeci">MasstreeIntermediatePage()=delete</div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_a59128590fdc568e894a8973a319a0154"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#a59128590fdc568e894a8973a319a0154">foedus::storage::PageHeader::page_id_</a></div><div class="ttdeci">uint64_t page_id_</div><div class="ttdoc">Page ID of this page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00191">page.hpp:191</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="2004,457,2211,499"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="253,187,439,243"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="767,239,940,280"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663" title="An empty&#45;range page, either intermediate or border, never has any entries. " alt="" coords="239,319,453,360"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="757,173,949,215"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35" title="foedus::storage::masstree\l::MasstreePage::is_moved" alt="" coords="515,152,691,193"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="773,632,934,673"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#afe13efbf3cc2111936b08e31bd18e179" title="Returns the given in&#45;memory volatile page to appropriate NUMA node. " alt="" coords="753,567,953,608"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0d24e70c0a141db733ff45411b5a161e" title="foedus::storage::masstree\l::MasstreePage::release\l_pages_recursive_common" alt="" coords="257,435,435,491"/>
<area shape="rect" id="node28" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="752,697,955,739"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="1008,173,1200,215"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1283,592,1445,633"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1269,523,1459,564"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#abdd08567e3f74c11a90c599cbac45a24" title="foedus::storage::masstree\l::MasstreeBorderPage::release\l_pages_recursive" alt="" coords="501,435,704,491"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a04113a783c1b0022d35e7e8d7eae02a8" title="foedus::storage::masstree\l::MasstreeBorderPage::does\l_point_to_layer" alt="" coords="759,385,947,441"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a14c7383d33c5b6ddfcbab6b58ae80121" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer" alt="" coords="764,305,943,361"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="1749,267,1956,308"/>
<area shape="rect" id="node17" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="1043,399,1165,440"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a357f4256ff48e1c5cefbee98d0a2dd2d" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload" alt="" coords="1015,253,1193,309"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="1253,260,1475,301"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a475fb985aa078dff7c627ce18538b52e" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length_aligned" alt="" coords="1275,107,1453,163"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="1523,187,1701,243"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="1523,267,1701,323"/>
<area shape="rect" id="node24" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c" title="foedus::storage::masstree\l::calculate_suffix_length\l_aligned" alt="" coords="1525,27,1699,83"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a4dc67e57eb2c90ffced75953dcef70fa" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_remainder_length" alt="" coords="1523,107,1701,163"/>
<area shape="rect" id="node25" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1773,71,1933,98"/>
<area shape="rect" id="node26" href="namespacefoedus_1_1storage_1_1masstree.html#a575ba44804b98a334fc66eedf4b18d70" title="foedus::storage::masstree\l::calculate_suffix_length" alt="" coords="1766,5,1939,47"/>
<area shape="rect" id="node29" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1027,617,1181,659"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1289,672,1439,713"/>
<area shape="rect" id="node32" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1017,735,1191,776"/>
<area shape="rect" id="node33" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1003,801,1205,857"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1287,771,1441,812"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a09552cf1a9e8f061f9bd6cbdb9268688_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0d24e70c0a141db733ff45411b5a161e" title="foedus::storage::masstree\l::MasstreePage::release\l_pages_recursive_common" alt="" coords="239,110,417,166"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3" title="foedus::storage::masstree\l::release_parallel" alt="" coords="480,20,653,61"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#abdd08567e3f74c11a90c599cbac45a24" title="foedus::storage::masstree\l::MasstreeBorderPage::release\l_pages_recursive" alt="" coords="465,110,668,166"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a854ff4750eb7aad99b3cff474882ec5c" title="This method is used when we release a large number of volatile pages, most likely when we drop a stor..." alt="" coords="716,5,901,76"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67ab7c42dbfd788773d6293ffdb64d52" title="Storage&#45;wide operations, such as drop, create, etc. " alt="" coords="949,20,1144,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a40e22349aa6902839d3b80ac35e84790" title="foedus::storage::masstree\l::MasstreeStorage::drop" alt="" coords="1192,20,1365,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a854ff4750eb7aad99b3cff474882ec5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::release_pages_recursive_parallel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is used when we release a large number of volatile pages, most likely when we drop a storage. </p>
<p>In that case, we don't need to stick to the current thread. rather, this thread spawns lots of threads to parallelize the work. </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8cpp_source.html#l00188">188</a> of file <a class="el" href="masstree__page__impl_8cpp_source.html">masstree_page_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00211">foedus::storage::masstree::MasstreePage::foster_twin_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="engine_8cpp_source.html#l00050">foedus::Engine::get_memory_manager()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">get_minipage()</a>, <a class="el" href="engine__memory_8hpp_source.html#l00076">foedus::memory::EngineMemory::get_node_memory()</a>, <a class="el" href="storage__id_8hpp_source.html#l00201">foedus::storage::VolatilePagePointer::get_numa_node()</a>, <a class="el" href="storage__id_8hpp_source.html#l00202">foedus::storage::VolatilePagePointer::get_offset()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00073">foedus::storage::masstree::MasstreePage::header()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00194">foedus::storage::masstree::MasstreePage::header_</a>, <a class="el" href="page_8hpp_source.html#l00139">foedus::storage::PageVersion::is_moved()</a>, <a class="el" href="storage__id_8hpp_source.html#l00210">foedus::storage::VolatilePagePointer::is_null()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00244">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00237">foedus::storage::masstree::kMaxIntermediateSeparators</a>, <a class="el" href="page_8hpp_source.html#l00191">foedus::storage::PageHeader::page_id_</a>, <a class="el" href="page_8hpp_source.html#l00272">foedus::storage::PageHeader::page_version_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00278">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::pointers_</a>, <a class="el" href="page__pool_8cpp_source.html#l00144">foedus::memory::PagePool::release_one()</a>, <a class="el" href="masstree__page__impl_8cpp_source.html#l00178">foedus::storage::masstree::release_parallel()</a>, <a class="el" href="storage__id_8hpp_source.html#l00308">foedus::storage::DualPagePointer::volatile_pointer_</a>, and <a class="el" href="storage__id_8hpp_source.html#l00195">foedus::storage::VolatilePagePointer::word</a>.</p>

<p>Referenced by <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00105">foedus::storage::masstree::MasstreeStoragePimpl::drop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                                                              {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// so far, we spawn a thread for every single pointer.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// it might be an oversubscription, but not a big issue.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">header_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#a44c12d47d4b478bac2076df4760fc990">page_version_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78">is_moved</a>()) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; ++i) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foster_twin_</a>[i].is_null());</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      threads.emplace_back(<a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3">release_parallel</a>, engine, <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foster_twin_</a>[i]);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// if this page is moved, following pointers in this page results in double-release.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// we just follow pointers in non-moved page.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    uint16_t key_count = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(key_count &lt;= <a class="code" href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">kMaxIntermediateSeparators</a>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; key_count + 1; ++i) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      MiniPage&amp; minipage = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a>(i);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      uint16_t mini_count = minipage.key_count_;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(mini_count &lt;= <a class="code" href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">kMaxIntermediateMiniSeparators</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">for</span> (uint8_t j = 0; j &lt; mini_count + 1; ++j) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        VolatilePagePointer pointer = minipage.pointers_[j].volatile_pointer_;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span> (!pointer.is_null()) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          threads.emplace_back(<a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3">release_parallel</a>, engine, pointer);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; t : threads) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    t.join();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  VolatilePagePointer volatile_id;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  volatile_id.word = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e">header</a>().<a class="code" href="structfoedus_1_1storage_1_1PageHeader.html#a59128590fdc568e894a8973a319a0154">page_id_</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  memory::PagePool* pool = engine-&gt;get_memory_manager()-&gt;get_node_memory(</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    volatile_id.get_numa_node())-&gt;get_volatile_pool();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  pool-&gt;release_one(volatile_id.get_offset());</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a1cb83de15afc0a903046937276b0ed31"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage</a></div><div class="ttdeci">MiniPage &amp; get_minipage(uint8_t index) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00322">masstree_page_impl.hpp:322</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaaa62799e432e5c5b145851eed621d33d"><div class="ttname"><a href="group__MASSTREE.html#gaaa62799e432e5c5b145851eed621d33d">foedus::storage::masstree::kMaxIntermediateMiniSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateMiniSeparators</div><div class="ttdoc">Max number of separators stored in the second level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00244">masstree_page_impl.hpp:244</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a827faad5f063cf4bf9188f17bbf582b9"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a827faad5f063cf4bf9188f17bbf582b9">foedus::storage::masstree::MasstreePage::foster_twin_</a></div><div class="ttdeci">VolatilePagePointer foster_twin_[2]</div><div class="ttdoc">Points to foster children, or tentative child pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00211">masstree_page_impl.hpp:211</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageVersion_html_a2b63daa9a7f39c8c85bf2d43f4c18d78"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78">foedus::storage::PageVersion::is_moved</a></div><div class="ttdeci">bool is_moved() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00139">page.hpp:139</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga2ce564bb661a338ce070653e1ca48efa"><div class="ttname"><a href="group__MASSTREE.html#ga2ce564bb661a338ce070653e1ca48efa">foedus::storage::masstree::kMaxIntermediateSeparators</a></div><div class="ttdeci">const uint16_t kMaxIntermediateSeparators</div><div class="ttdoc">Max number of separators stored in the first level of intermediate pages. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00237">masstree_page_impl.hpp:237</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_a44c12d47d4b478bac2076df4760fc990"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#a44c12d47d4b478bac2076df4760fc990">foedus::storage::PageHeader::page_version_</a></div><div class="ttdeci">PageVersion page_version_</div><div class="ttdoc">Used in several storage types as concurrency control mechanism for the page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00272">page.hpp:272</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a744edfba3574c4c7dd041519321ed5b3"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3">foedus::storage::masstree::release_parallel</a></div><div class="ttdeci">void release_parallel(Engine *engine, VolatilePagePointer pointer)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8cpp_source.html#l00178">masstree_page_impl.cpp:178</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_ab5ab7bbce35893143d2aac437e526d0e"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e">foedus::storage::masstree::MasstreePage::header</a></div><div class="ttdeci">PageHeader &amp; header()</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00073">masstree_page_impl.hpp:73</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a168db13e03be3f699e4e409ceea88d76"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a168db13e03be3f699e4e409ceea88d76">foedus::storage::masstree::MasstreePage::header_</a></div><div class="ttdeci">PageHeader header_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00194">masstree_page_impl.hpp:194</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageHeader_html_a59128590fdc568e894a8973a319a0154"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageHeader.html#a59128590fdc568e894a8973a319a0154">foedus::storage::PageHeader::page_id_</a></div><div class="ttdeci">uint64_t page_id_</div><div class="ttdoc">Page ID of this page. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00191">page.hpp:191</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="2261,517,2468,558"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="1037,1034,1172,1075"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="1012,144,1197,200"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="999,1230,1210,1271"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="239,1183,432,1225"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1541,225,1702,266"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#ab5ab7bbce35893143d2aac437e526d0e" title="foedus::storage::masstree\l::MasstreePage::header" alt="" coords="1018,589,1191,630"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="1265,393,1457,434"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1024,225,1185,266"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1PagePool.html#aa7220391af1f368d1fd36b48cc1e2995" title="Returns only one page. " alt="" coords="246,1333,425,1374"/>
<area shape="rect" id="node21" href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3" title="foedus::storage::masstree\l::release_parallel" alt="" coords="249,789,422,830"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="1525,393,1717,434"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a741d98bc9dd15581c1316ae5eaf492d5" title="foedus::memory::PagePool\lPimpl::release_one" alt="" coords="496,1386,675,1427"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="755,1550,933,1591"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="747,1289,941,1330"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="755,1354,933,1395"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3b5b895c26ed502d93e753389ce0a21b" title="foedus::memory::PagePool\lPimpl::increase_free_pool_count" alt="" coords="739,1419,949,1461"/>
<area shape="rect" id="node20" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="758,1485,930,1526"/>
<area shape="rect" id="node16" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1009,1347,1201,1389"/>
<area shape="rect" id="node17" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="997,1296,1212,1323"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="480,815,691,871"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aacfb0dd808ba1a987cea4d957e8e511b" title="Called at the end to return all batched pages to their pools. " alt="" coords="485,1062,685,1103"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a0d24e70c0a141db733ff45411b5a161e" title="foedus::storage::masstree\l::MasstreePage::release\l_pages_recursive_common" alt="" coords="496,625,675,681"/>
<area shape="rect" id="node42" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1003,757,1206,798"/>
<area shape="rect" id="node24" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#af16728969f6c3544544000355b6d4f30" title="Return all batched pages in the given chunk to its pool. " alt="" coords="744,1066,944,1107"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="1009,1165,1200,1206"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463" title="Returns the specified number of free pages from the chunk. " alt="" coords="1015,1099,1194,1141"/>
<area shape="rect" id="node27" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="1272,1099,1451,1141"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1526,531,1717,573"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#abdd08567e3f74c11a90c599cbac45a24" title="foedus::storage::masstree\l::MasstreeBorderPage::release\l_pages_recursive" alt="" coords="743,625,945,681"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a09552cf1a9e8f061f9bd6cbdb9268688" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::release_pages_recursive" alt="" coords="751,451,937,507"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a04113a783c1b0022d35e7e8d7eae02a8" title="foedus::storage::masstree\l::MasstreeBorderPage::does\l_point_to_layer" alt="" coords="1011,953,1199,1009"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a14c7383d33c5b6ddfcbab6b58ae80121" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_next_layer" alt="" coords="1015,873,1194,929"/>
<area shape="rect" id="node41" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#afe13efbf3cc2111936b08e31bd18e179" title="Returns the given in&#45;memory volatile page to appropriate NUMA node. " alt="" coords="1005,523,1205,565"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a8b7973f3eb0f4f3c6894c278c18d7145" title="foedus::storage::masstree\l::MasstreeBorderPage::get_slot" alt="" coords="2007,809,2213,850"/>
<area shape="rect" id="node33" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="1300,961,1423,1002"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a357f4256ff48e1c5cefbee98d0a2dd2d" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_record_payload" alt="" coords="1272,876,1451,932"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a2c1e8415916dbf458aee87572741890f" title="foedus::storage::masstree\l::MasstreeBorderPage::get_record" alt="" coords="1511,883,1732,925"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a475fb985aa078dff7c627ce18538b52e" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_suffix_length_aligned" alt="" coords="1532,959,1711,1015"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#a9527f3829e488359a2d7d80318729bee" title="foedus::storage::masstree\l::MasstreeBorderPage::get\l_offset_in_bytes" alt="" coords="1780,801,1959,857"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeBorderPage.html#acad0cd3a9c7bffd3ea0a478a21e5db1b" title="Offset versions. " alt="" coords="1780,881,1959,937"/>
<area shape="rect" id="node40" href="namespacefoedus_1_1storage_1_1masstree.html#a907f46e4f7d427806529dd8e2e03dd9c" title="foedus::storage::masstree\l::calculate_suffix_length\l_aligned" alt="" coords="1783,961,1956,1017"/>
<area shape="rect" id="node43" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1284,561,1439,602"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1547,611,1696,653"/>
<area shape="rect" id="node46" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1275,626,1448,667"/>
<area shape="rect" id="node47" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1260,743,1463,799"/>
<area shape="rect" id="node44" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1544,706,1699,747"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663" title="An empty&#45;range page, either intermediate or border, never has any entries. " alt="" coords="997,393,1212,434"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35" title="foedus::storage::masstree\l::MasstreePage::is_moved" alt="" coords="1017,458,1193,499"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a854ff4750eb7aad99b3cff474882ec5c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a67ab7c42dbfd788773d6293ffdb64d52" title="Storage&#45;wide operations, such as drop, create, etc. " alt="" coords="239,20,433,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a40e22349aa6902839d3b80ac35e84790" title="foedus::storage::masstree\l::MasstreeStorage::drop" alt="" coords="481,20,655,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeeeaee9ae59e1abddc18c8d78dbfc068"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::set_separator </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>minipage_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td>
          <td class="paramname"><em>new_separator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Place a new separator for a new minipage. </p>

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00397">397</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00118">foedus::storage::masstree::Adopt::adopt_case_b()</a>.</p>
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                                                     {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    separators_[minipage_index] = new_separator;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aeeeaee9ae59e1abddc18c8d78dbfc068_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aeeeaee9ae59e1abddc18c8d78dbfc068_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aeeeaee9ae59e1abddc18c8d78dbfc068_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_aeeeaee9ae59e1abddc18c8d78dbfc068_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a8febde13f90f2b61abf29bf1f4a89e3d" title="foedus::storage::masstree\l::Adopt::adopt_case_b" alt="" coords="239,13,412,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="460,13,633,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7216fe075ea3db89bbba06f5a156ce81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeIntermediatePage::verify_separators </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8cpp_source.html#l00475">475</a> of file <a class="el" href="masstree__page__impl_8cpp_source.html">masstree_page_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00148">foedus::storage::masstree::MasstreePage::get_key_count()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00322">get_minipage()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00199">foedus::storage::masstree::MasstreePage::high_fence_</a>, <a class="el" href="storage__id_8hpp_source.html#l00303">foedus::storage::DualPagePointer::is_both_null()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00097">foedus::storage::masstree::MasstreePage::is_empty_range()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00169">foedus::storage::masstree::MasstreePage::is_moved()</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00271">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::key_count_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00197">foedus::storage::masstree::MasstreePage::low_fence_</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00278">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::pointers_</a>, and <a class="el" href="masstree__page__impl_8hpp_source.html#l00276">foedus::storage::masstree::MasstreeIntermediatePage::MiniPage::separators_</a>.</p>

<p>Referenced by <a class="el" href="masstree__split__impl_8cpp_source.html#l00624">foedus::storage::masstree::SplitIntermediate::migrate_pointers()</a>, <a class="el" href="masstree__adopt__impl_8cpp_source.html#l00032">foedus::storage::masstree::Adopt::run()</a>, and <a class="el" href="masstree__split__impl_8cpp_source.html#l00476">foedus::storage::masstree::SplitIntermediate::split_impl_no_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                                       {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663">is_empty_range</a>()) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>() == 0);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35">is_moved</a>());</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">for</span> (uint8_t i = 0; i &lt;= <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>(); ++i) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> low, high;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (i &lt; <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>()) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">if</span> (i &gt; 0) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        low = separators_[i - 1];</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        low = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a409bd08120ef1f54839bbdefd521dd8a">low_fence_</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      high = separators_[i];</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(separators_[i] &gt; low);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(i == <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">get_key_count</a>());</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        low = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a409bd08120ef1f54839bbdefd521dd8a">low_fence_</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        low = separators_[i - 1];</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      high = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa50900a4544302f5056f62360f8d861e">high_fence_</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keyword">const</span> MiniPage&amp; minipage = <a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">get_minipage</a>(i);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">for</span> (uint8_t j = 0; j &lt;= minipage.key_count_; ++j) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(!minipage.pointers_[j].is_both_null());</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">if</span> (j &lt; minipage.key_count_) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(minipage.separators_[j] &gt; low);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(minipage.separators_[j] &lt; high);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="preprocessor">#endif  // NDEBUG</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_aa50900a4544302f5056f62360f8d861e"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#aa50900a4544302f5056f62360f8d861e">foedus::storage::masstree::MasstreePage::high_fence_</a></div><div class="ttdeci">KeySlice high_fence_</div><div class="ttdoc">Inclusive high fence of this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00199">masstree_page_impl.hpp:199</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a3ab3ec4aa9b6e43a606e1555c5c74cec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec">foedus::storage::masstree::MasstreePage::get_key_count</a></div><div class="ttdeci">SlotIndex get_key_count() const __attribute__((always_inline))</div><div class="ttdoc">physical key count (those keys might be deleted) in this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00148">masstree_page_impl.hpp:148</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a14cdcef87b3c0a6ef431df9d06a1a663"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663">foedus::storage::masstree::MasstreePage::is_empty_range</a></div><div class="ttdeci">bool is_empty_range() const __attribute__((always_inline))</div><div class="ttdoc">An empty-range page, either intermediate or border, never has any entries. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00097">masstree_page_impl.hpp:97</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_adc22d21883e15b87cd5ff6b6ec513c35"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35">foedus::storage::masstree::MasstreePage::is_moved</a></div><div class="ttdeci">bool is_moved() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00169">masstree_page_impl.hpp:169</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a409bd08120ef1f54839bbdefd521dd8a"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a409bd08120ef1f54839bbdefd521dd8a">foedus::storage::masstree::MasstreePage::low_fence_</a></div><div class="ttdeci">KeySlice low_fence_</div><div class="ttdoc">Inclusive low fence of this page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00197">masstree_page_impl.hpp:197</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_html_a1cb83de15afc0a903046937276b0ed31"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31">foedus::storage::masstree::MasstreeIntermediatePage::get_minipage</a></div><div class="ttdeci">MiniPage &amp; get_minipage(uint8_t index) __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00322">masstree_page_impl.hpp:322</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_cgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a3ab3ec4aa9b6e43a606e1555c5c74cec" title="physical key count (those keys might be deleted) in this page. " alt="" coords="243,5,449,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html#a1cb83de15afc0a903046937276b0ed31" title="foedus::storage::masstree\l::MasstreeIntermediatePage\l::get_minipage" alt="" coords="253,71,439,127"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1DualPagePointer.html#aedde91e76a6e345f6d19539942f13a43" title="foedus::storage::DualPage\lPointer::is_both_null" alt="" coords="259,152,433,193"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a14cdcef87b3c0a6ef431df9d06a1a663" title="An empty&#45;range page, either intermediate or border, never has any entries. " alt="" coords="239,217,453,259"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#adc22d21883e15b87cd5ff6b6ec513c35" title="foedus::storage::masstree\l::MasstreePage::is_moved" alt="" coords="258,283,434,324"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="517,152,678,193"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="757,152,918,193"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="501,283,693,324"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="741,283,933,324"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_icgraph" id="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage_a7216fe075ea3db89bbba06f5a156ce81_icgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aac45b3f7f6e3c14faa8a9662396d44e1" title="Subroutine to construct a new page. " alt="" coords="239,5,417,61"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#a96de88f03cf5683529e00d2c209a07e9" title="The core implementation after locking relevant pages and acquiring free page resource. " alt="" coords="465,39,639,95"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a16f4727fa2ce3b72468618be684af41d" title="Execute the system transaction. " alt="" coords="241,137,415,178"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html#aa656a627e949f49b8903908d2ea1204f" title="Interior node&#39;s Split. " alt="" coords="687,46,860,87"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a17611d6ca15dd8fadd33bd1c6a7101eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>defined in <a class="el" href="masstree__page__debug_8cpp.html">masstree_page_debug.cpp</a>. </p>

<p>Definition at line <a class="el" href="masstree__page__debug_8cpp_source.html#l00054">54</a> of file <a class="el" href="masstree__page__debug_8cpp_source.html">masstree_page_debug.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                                                         {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;MasstreeIntermediatePage&gt;&quot;</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475">describe_masstree_page_common</a>(&amp;o, v);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span> (v.is_empty_range()) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    o &lt;&lt; <span class="stringliteral">&quot;&lt;EmptyRangePage /&gt;&quot;</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt;= v.get_key_count(); ++i) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keyword">const</span> MasstreeIntermediatePage::MiniPage&amp; minipage = v.get_minipage(i);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> minipage_low = i == 0 ? v.get_low_fence() : v.get_separator(i - 1);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;  &lt;Minipage index=\&quot;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot; low=\&quot;&quot;</span> &lt;&lt; assorted::Hex(minipage_low, 16)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot; count=\&quot;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(minipage.key_count_)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">for</span> (uint16_t j = 0; j &lt;= minipage.key_count_; ++j) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;    &lt;Pointer index=\&quot;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(j)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot; low=\&quot;&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            &lt;&lt; assorted::Hex(j == 0 ? minipage_low : minipage.separators_[j - 1], 16)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot;&gt;&quot;</span> &lt;&lt; minipage.pointers_[j] &lt;&lt; <span class="stringliteral">&quot;&lt;/Pointer&gt;&quot;</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      o &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;  &lt;/Minipage&gt;&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;/MasstreeIntermediatePage&gt;&quot;</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a76d989a7033cb8a6e331aea7e8a77475"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a76d989a7033cb8a6e331aea7e8a77475">foedus::storage::masstree::describe_masstree_page_common</a></div><div class="ttdeci">void describe_masstree_page_common(std::ostream *o_ptr, const MasstreePage &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__debug_8cpp_source.html#l00039">masstree_page_debug.cpp:39</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0cbc8e79016f276a123274a231a0500e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1SplitIntermediate.html">SplitIntermediate</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__page__impl_8hpp_source.html#l00264">264</a> of file <a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/masstree/<a class="el" href="masstree__page__impl_8hpp_source.html">masstree_page_impl.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/masstree/<a class="el" href="masstree__page__impl_8cpp_source.html">masstree_page_impl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html">masstree</a></li><li class="navelem"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeIntermediatePage.html">MasstreeIntermediatePage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
