<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: Retrospective Lock List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__RLL.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Retrospective Lock List<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__XCT.html">Transaction Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Retrospective</b> <b>Lock</b> <b>List</b> (<b>RLL</b>) to avoid deadlocks.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><b>Retrospective</b> <b>Lock</b> <b>List</b> (<b>RLL</b>) to avoid deadlocks. </p>
<dl class="section user"><dt>What it is</dt><dd>Retrospective Lock List (<b>RLL</b>) is a thread-private list of locks the thread took or tried to take in a previous transaction on the same thread. It's used when the previous transaction aborted due to a read-conflict (OCC verification failure) or a lock-conflict (giving up acquiring a write-lock for possible deadlocks). The thread uses the list to pro-actively take locks in a <b>canonical-mode</b> during the next transaction, expecting that the next transaction will need almost the same accesses. This protocol rules out deadlocks, thus dramatically improves concurrency for highly contended workload. It's also very simple and scalable on many-cores.</dd></dl>
<dl class="section user"><dt>Canonical Mode</dt><dd>When a thread is trying to acquire a lock, the thread is said to be in a <b>Canonical</b> <b>Mode</b> if and only if all locks the thread has already taken, either read-lock or write-lock, are <b>universally-ordered</b> before the lock the thread is trying to take.</dd></dl>
<dl class="section user"><dt>Universal Order of locks</dt><dd>We can use arbitrary ordering scheme as far as it's universally consistent. For example, we can just order by the address of locks (except, we need to be a bit careful on shared memory and virtual addresses). In the example, a lock X is said to be ordered before another lock Y if and only if addr(X) &lt; addr(Y).</dd></dl>
<dl class="section user"><dt>Benefits of Canonical Mode</dt><dd>When one is taking a lock in canonical mode, the lock-acquire is guaranteed to be <b>deadlock-free</b>, thus the thread can simply wait for the lock unconditionally.</dd></dl>
<dl class="section user"><dt>How we keep Canonical Mode as much as possible</dt><dd>We do a couple of things to keep the transaction in canonical mode as much as possible: <ul>
<li>Following to the SILO protocol, we always acquire write-locks during pre-commit in a universal order. As far as we don't take read-locks (pure OCC), then we are always in canonical mode. </li>
<li>When we want to take a read-lock in a retry of a transaction, we use the retrospective list to take locks who are ordered before the lock the thread is taking. We keep doing this until the end of transaction. </li>
<li>When we find ourselves risking deadlocks during pre-commit, we <em>might</em> release some of the locks we have taken so that we go back to canonical mode. This is done in best-effort.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>When Canonical Mode is violated</dt><dd>Initially, every thread is trivially in canonical mode because it has taken zero locks. The thread goes out of canonical mode over time for various reasons. <ul>
<li>The thread has no retrospective lock list, probably because it's the first trial of the xct. </li>
<li>The thread has used the retrospective lock list, but the thread for some reason accessed different physical pages/records due to page splits, concurrent updates, and many other reasons. </li>
<li>The thread needs to take a page-lock for page-split etc. In this case, to avoid deadlock, we might have to discard retrospective locks. </li>
<li>Despite the best-effort retry to keep the canonical mode, there always is a chance that we better give up. This case most likely resulting in aborts and just leaving retrospective list for next trial.</li>
</ul>
When this happens, still fine, it's not a correctness issue. It just goes back to conditional locking mode with potential timeout, then even in the worst case aborts and leaves the RLL for next run.</dd></dl>
<p>What if the thread keeps issuing locks in very different orders and it needs to take read-locks for avoiding verification failure? Umm, then this scheme might keep aborting, but I can't think of any existing scheme that works well for such a case either... except being VERY pessimisitic (take table lock!).</p>
<dl class="section user"><dt>Ohter uses of RLL</dt><dd>We can also use RLL to guide our decision to take read-locks or not. If we got an OCC verification failure, we leave an entry in RLL and take a read-lock in the next run. Or, potentially, we can leave an opposite note saying we probably don't need a read-lock on the record. In many cases the per-page stat is enough to guide us, but this is one option. </dd></dl>
<div class="dynheader">
Collaboration diagram for Retrospective Lock List:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__RLL.png" border="0" alt="" usemap="#group____RLL"/>
<map name="group____RLL" id="group____RLL">
<area shape="rect" id="node2" href="group__XCT.html" title="Transaction Manager, which provides APIs to begin/commit/abort transactions. " alt="" coords="5,5,148,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1xct_1_1LockEntry_1_1LessThan.html">foedus::xct::LockEntry::LessThan</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">for std::binary_search() etc without creating the object  <a href="structfoedus_1_1xct_1_1LockEntry_1_1LessThan.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1xct_1_1LockEntry.html">foedus::xct::LockEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry in CLL and RLL, representing a lock that is taken or will be taken.  <a href="structfoedus_1_1xct_1_1LockEntry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html">foedus::xct::RetrospectiveLockList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrospective lock list.  <a href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1xct_1_1CurrentLockList.html">foedus::xct::CurrentLockList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sorted list of all locks, either read-lock or write-lock, taken in the current run.  <a href="classfoedus_1_1xct_1_1CurrentLockList.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1xct_1_1CurrentLockListIteratorForWriteSet.html">foedus::xct::CurrentLockListIteratorForWriteSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator over <a class="el" href="classfoedus_1_1xct_1_1CurrentLockList.html" title="Sorted list of all locks, either read-lock or write-lock, taken in the current run. ">CurrentLockList</a> to find entries along with sorted write-set.  <a href="structfoedus_1_1xct_1_1CurrentLockListIteratorForWriteSet.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadca5ec640ccba5dbdc6860ebb15850d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2">foedus::thread::Thread::is_hot_page</a> (const storage::Page *page) const </td></tr>
<tr class="separator:gadca5ec640ccba5dbdc6860ebb15850d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadca5ec640ccba5dbdc6860ebb15850d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::thread::Thread::is_hot_page </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1Page.html">storage::Page</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>whether the given page had enough aborts to justify pessimisitic locking. </dd></dl>

<p>Definition at line <a class="el" href="thread_8cpp_source.html#l00142">142</a> of file <a class="el" href="thread_8cpp_source.html">thread.cpp</a>.</p>

<p>References <a class="el" href="thread__pimpl_8hpp_source.html#l00375">foedus::thread::ThreadPimpl::current_xct_</a>, <a class="el" href="page_8hpp_source.html#l00336">foedus::storage::Page::get_header()</a>, <a class="el" href="xct_8hpp_source.html#l00128">foedus::xct::Xct::get_hot_threshold_for_this_xct()</a>, <a class="el" href="page_8hpp_source.html#l00268">foedus::storage::PageHeader::hotness_</a>, and <a class="el" href="prob__counter_8hpp_source.html#l00043">foedus::assorted::ProbCounter::value_</a>.</p>

<p>Referenced by <a class="el" href="xct_8cpp_source.html#l00334">foedus::xct::Xct::on_record_read_take_locks_if_needed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                                      {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keyword">const</span> uint16_t threshold = pimpl_-&gt;<a class="code" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a26c718d661316827c8efd219b743e227">current_xct_</a>.<a class="code" href="classfoedus_1_1xct_1_1Xct.html#ae84fb0f1c8c5c81bac74e79e62da49a6">get_hot_threshold_for_this_xct</a>();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">return</span> page-&gt;get_header().hotness_.value_ &gt;= threshold;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1xct_1_1Xct_html_ae84fb0f1c8c5c81bac74e79e62da49a6"><div class="ttname"><a href="classfoedus_1_1xct_1_1Xct.html#ae84fb0f1c8c5c81bac74e79e62da49a6">foedus::xct::Xct::get_hot_threshold_for_this_xct</a></div><div class="ttdeci">uint16_t get_hot_threshold_for_this_xct() const </div><div class="ttdef"><b>Definition:</b> <a href="xct_8hpp_source.html#l00128">xct.hpp:128</a></div></div>
<div class="ttc" id="classfoedus_1_1thread_1_1ThreadPimpl_html_a26c718d661316827c8efd219b743e227"><div class="ttname"><a href="classfoedus_1_1thread_1_1ThreadPimpl.html#a26c718d661316827c8efd219b743e227">foedus::thread::ThreadPimpl::current_xct_</a></div><div class="ttdeci">xct::Xct current_xct_</div><div class="ttdoc">Current transaction this thread is conveying. </div><div class="ttdef"><b>Definition:</b> <a href="thread__pimpl_8hpp_source.html#l00375">thread_pimpl.hpp:375</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_cgraph.png" border="0" usemap="#group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_cgraph" alt=""/></div>
<map name="group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_cgraph" id="group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="220,5,369,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#ae84fb0f1c8c5c81bac74e79e62da49a6" title="foedus::xct::Xct::get\l_hot_threshold_for_this_xct" alt="" coords="204,71,385,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_icgraph.png" border="0" usemap="#group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_icgraph" alt=""/></div>
<map name="group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_icgraph" id="group__RLL_gadca5ec640ccba5dbdc6860ebb15850d2_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="204,391,371,447"/>
<area shape="rect" id="node3" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="419,399,553,440"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1Xct.html#a4e7e1454bc26ac3f32116125879d13ed" title="Shortcut for a case when you don&#39;t need observed_xid/read_set_address back. " alt="" coords="636,5,771,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="621,71,786,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="621,151,786,207"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="621,231,786,287"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="621,311,786,367"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="601,391,805,447"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="621,471,786,527"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="621,551,786,607"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="621,631,786,687"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="615,711,792,767"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1masstree_1_1RecordLocation.html#aee3fe977e78528510c5ac422cc31f534" title="Populates the result with XID and possibly readset. " alt="" coords="615,1138,792,1194"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="858,79,1033,120"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="858,151,1033,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="858,231,1033,287"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="858,311,1033,367"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="860,391,1031,447"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="858,471,1033,527"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="858,551,1033,607"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="858,631,1033,687"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="855,711,1036,767"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa8d098fb8e3b997b1dc52ede62b8acb6" title="locate_record()&#39;s physical_only version. " alt="" coords="1103,631,1284,687"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="1103,711,1284,767"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1386,557,1550,613"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1386,637,1550,693"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="1379,717,1557,773"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a91dac48625f8f7d2906fcfba5908cbc1" title="Identifies page and record for the key. " alt="" coords="1107,978,1280,1034"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a0ce23624d660da08cb1ee04ac2297171" title="Identifies page and record for the normalized key. " alt="" coords="856,1138,1035,1194"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a52a1bce48d9230ad2ce3f52c4da51b8e" title="Like locate_record(), this is also a logical operation. " alt="" coords="859,1451,1032,1507"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#acac5f9308b4aed46777d34f6fa171c8e" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::reserve_record_normalized" alt="" coords="853,1590,1037,1646"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#acdf38eea62d1432e3715a661d0790caf" title="Retrieves an entire record of the given key in this Masstree. " alt="" coords="1369,797,1567,839"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a01a2996a1ee370611b72c88f33fe2753" title="Retrieves a part of the given key in this Masstree. " alt="" coords="1381,863,1555,919"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a3be736c76c38dd23444cbd78947a63fd" title="Retrieves a part of the given key in this Masstree as a primitive value. " alt="" coords="1381,943,1555,999"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ac6b8b9c2d3b756b4559e43fbe93950a5" title="Deletes a record of the given key from this Masstree. " alt="" coords="1361,1169,1575,1211"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae7221368afad2669e36cdf1bfe8dcb5f" title="Overwrites a part of one record of the given key in this Masstree. " alt="" coords="1353,1235,1583,1276"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a384c8fadf63901aa055285c7f680570f" title="Overwrites a part of one record of the given key in this Masstree as a primitive value. " alt="" coords="1375,1023,1561,1079"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0fc21940320e38fa61ebfc88af210fde" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="1349,1104,1587,1145"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a4f2492b6a04c2db18cdf2a4a2d7fecc0" title="Retrieves an entire record of the given primitive key in this Masstree. " alt="" coords="1107,795,1280,851"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adda60c43db1237644270e90f2a255d35" title="Retrieves a part of the given primitive key in this Masstree. " alt="" coords="1107,883,1280,939"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ae4bf2da94babc15bf43bd50b17ffb562" title="Retrieves a part of the given primitive key in this Masstree as a primitive value. " alt="" coords="1099,1058,1288,1114"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0051986148bca838483cf3a81d3f5236" title="Deletes a record of the given primitive key from this Masstree. " alt="" coords="1107,1138,1280,1194"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#ad27ac2a920f1f63adc768f7c95ea5c6f" title="Overwrites a part of one record of the given primitive key in this Masstree. " alt="" coords="1100,1218,1287,1274"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#aadbf62a4594062706294a2402777e223" title="Overwrites a part of one record of the given primitive key in this Masstree as a primitive value..." alt="" coords="1099,1298,1288,1354"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#adba3fe323a9ea3e8f8e006459ef7e442" title="For primitive key. " alt="" coords="1096,1378,1291,1434"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a86b4db183c677a364c7ddf71100699b9" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1087,1459,1299,1500"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a0f917244d33e9cdb2fa6ffd686a2a701" title="With this method, you can also specify physical_payload_hint, the physical size of the record&#39;s paylo..." alt="" coords="1085,1524,1301,1565"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a6d7f9dea9af7356face9815ac10c37b4" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1107,1590,1280,1646"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a152a0ecbad9b56385ec7f13e8a1fce19" title="With this method, you can also specify physical_payload_hint. " alt="" coords="1107,1670,1280,1726"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
