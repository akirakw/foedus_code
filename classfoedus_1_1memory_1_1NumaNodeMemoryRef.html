<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::memory::NumaNodeMemoryRef Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1memory_1_1NumaNodeMemoryRef.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfoedus_1_1memory_1_1NumaNodeMemoryRef-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::memory::NumaNodeMemoryRef Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__MEMORY.html">Memory Manager</a> &raquo; <a class="el" href="group__MEMHIERARCHY.html">Memory Hierarchy</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A view of <a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemory.html" title="Repository of memories dynamically acquired and shared within one NUMA node (socket). ">NumaNodeMemory</a> for other SOCs and master engine.  
 <a href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A view of <a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemory.html" title="Repository of memories dynamically acquired and shared within one NUMA node (socket). ">NumaNodeMemory</a> for other SOCs and master engine. </p>

<p>Definition at line <a class="el" href="numa__node__memory_8hpp_source.html#l00167">167</a> of file <a class="el" href="numa__node__memory_8hpp_source.html">numa_node_memory.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="numa__node__memory_8hpp_source.html">numa_node_memory.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aedfad27e24e213add07b5c13d0840b43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#aedfad27e24e213add07b5c13d0840b43">NumaNodeMemoryRef</a> ()=delete</td></tr>
<tr class="separator:aedfad27e24e213add07b5c13d0840b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e735f7411d3a28d4ddf0c25f3eced4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a8e735f7411d3a28d4ddf0c25f3eced4e">NumaNodeMemoryRef</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">foedus::thread::ThreadGroupId</a> numa_node)</td></tr>
<tr class="separator:a8e735f7411d3a28d4ddf0c25f3eced4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc81ad0d38a41085eb5b0b76aaad782"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#affc81ad0d38a41085eb5b0b76aaad782">get_engine</a> ()</td></tr>
<tr class="separator:affc81ad0d38a41085eb5b0b76aaad782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4c1d9100b6abe1e3a511fda263da78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">foedus::thread::ThreadGroupId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a3c4c1d9100b6abe1e3a511fda263da78">get_numa_node</a> () const </td></tr>
<tr class="separator:a3c4c1d9100b6abe1e3a511fda263da78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b68580143ce771f5b5b1f9a209f774"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774">get_volatile_pool</a> ()</td></tr>
<tr class="separator:a70b68580143ce771f5b5b1f9a209f774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269381dd81631fda44b63559d0a9fbd0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a269381dd81631fda44b63559d0a9fbd0">dump_free_memory_stat</a> () const </td></tr>
<tr class="memdesc:a269381dd81631fda44b63559d0a9fbd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report rough statistics of free memory.  <a href="#a269381dd81631fda44b63559d0a9fbd0">More...</a><br /></td></tr>
<tr class="separator:a269381dd81631fda44b63559d0a9fbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aedfad27e24e213add07b5c13d0840b43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::NumaNodeMemoryRef::NumaNodeMemoryRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8e735f7411d3a28d4ddf0c25f3eced4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::memory::NumaNodeMemoryRef::NumaNodeMemoryRef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">foedus::thread::ThreadGroupId</a>&#160;</td>
          <td class="paramname"><em>numa_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="numa__node__memory_8cpp_source.html#l00235">235</a> of file <a class="el" href="numa__node__memory_8cpp_source.html">numa_node_memory.cpp</a>.</p>

<p>References <a class="el" href="page__pool_8cpp_source.html#l00101">foedus::memory::PagePool::attach()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00521">foedus::soc::SharedMemoryRepo::get_node_memory_anchors()</a>, <a class="el" href="engine_8cpp_source.html#l00039">foedus::Engine::get_options()</a>, <a class="el" href="soc__manager_8cpp_source.html#l00038">foedus::soc::SocManager::get_shared_memory_repo()</a>, <a class="el" href="engine_8cpp_source.html#l00059">foedus::Engine::get_soc_manager()</a>, <a class="el" href="shared__memory__repo_8hpp_source.html#l00532">foedus::soc::SharedMemoryRepo::get_volatile_pool()</a>, <a class="el" href="engine__options_8hpp_source.html#l00139">foedus::EngineOptions::memory_</a>, <a class="el" href="memory__options_8hpp_source.html#l00122">foedus::memory::MemoryOptions::page_pool_size_mb_per_node_</a>, and <a class="el" href="shared__memory__repo_8hpp_source.html#l00344">foedus::soc::NodeMemoryAnchors::volatile_pool_status_</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  : engine_(engine), numa_node_(numa_node) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  soc::SharedMemoryRepo* memory_repo = engine-&gt;get_soc_manager()-&gt;get_shared_memory_repo();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  volatile_pool_.<a class="code" href="classfoedus_1_1memory_1_1PagePool.html#a6522fe3b6b37b4e87c0e4170e573b8d2">attach</a>(</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    memory_repo-&gt;get_node_memory_anchors(numa_node)-&gt;volatile_pool_status_,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    memory_repo-&gt;get_volatile_pool(numa_node),</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(engine-&gt;get_options().memory_.page_pool_size_mb_per_node_) &lt;&lt; 20,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keyword">false</span>,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">false</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePool_html_a6522fe3b6b37b4e87c0e4170e573b8d2"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePool.html#a6522fe3b6b37b4e87c0e4170e573b8d2">foedus::memory::PagePool::attach</a></div><div class="ttdeci">void attach(PagePoolControlBlock *control_block, void *memory, uint64_t memory_size, bool owns, bool rigorous_page_boundary_check)</div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8cpp_source.html#l00101">page_pool.cpp:101</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a8e735f7411d3a28d4ddf0c25f3eced4e_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1NumaNodeMemoryRef_a8e735f7411d3a28d4ddf0c25f3eced4e_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a8e735f7411d3a28d4ddf0c25f3eced4e_cgraph" id="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a8e735f7411d3a28d4ddf0c25f3eced4e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePool.html#a6522fe3b6b37b4e87c0e4170e573b8d2" title="foedus::memory::PagePool\l::attach" alt="" coords="301,39,479,80"/>
<area shape="rect" id="node6" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a2e5d1a0a78c66ac6e1c8ef166d2965c3" title="foedus::soc::SharedMemory\lRepo::get_node_memory_anchors" alt="" coords="280,104,500,145"/>
<area shape="rect" id="node7" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="323,169,457,211"/>
<area shape="rect" id="node8" href="classfoedus_1_1soc_1_1SocManager.html#a627cf434892c441c90c2de7c20637e9c" title="Returns the shared memories maintained across SOCs. " alt="" coords="300,235,480,276"/>
<area shape="rect" id="node9" href="classfoedus_1_1Engine.html#ae9ad7ab6a3df52b0e9f0e50ede6faa2e" title="See SOC and IPC. " alt="" coords="323,300,457,341"/>
<area shape="rect" id="node10" href="classfoedus_1_1soc_1_1SharedMemoryRepo.html#a7e03c4b7d87150fb9175a239ca657f71" title="foedus::soc::SharedMemory\lRepo::get_volatile_pool" alt="" coords="297,365,483,407"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a655d84c0582b445cbbdb5560e5fe4e07" title="foedus::memory::PagePool\lPimpl::attach" alt="" coords="548,39,727,80"/>
<area shape="rect" id="node4" href="classfoedus_1_1assorted_1_1FixedString.html#ad175b4520982eaf19692255255125b06" title="Clear string. " alt="" coords="775,5,967,47"/>
<area shape="rect" id="node5" href="group__ASSORTED.html#gae2beea4717aef7ca9d43b91e48cf5824" title="Efficient ceil(dividee/dividor) for integer. " alt="" coords="801,71,941,112"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a269381dd81631fda44b63559d0a9fbd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string foedus::memory::NumaNodeMemoryRef::dump_free_memory_stat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Report rough statistics of free memory. </p>

<p>Definition at line <a class="el" href="numa__node__memory_8cpp_source.html#l00246">246</a> of file <a class="el" href="numa__node__memory_8cpp_source.html">numa_node_memory.cpp</a>.</p>

<p>References <a class="el" href="page__pool_8hpp_source.html#l00177">foedus::memory::PagePool::Stat::allocated_pages_</a>, <a class="el" href="page__pool_8cpp_source.html#l00118">foedus::memory::PagePool::get_stat()</a>, and <a class="el" href="page__pool_8hpp_source.html#l00176">foedus::memory::PagePool::Stat::total_pages_</a>.</p>

<p>Referenced by <a class="el" href="engine__memory_8cpp_source.html#l00121">foedus::memory::EngineMemory::dump_free_memory_stat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                                         {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  std::stringstream ret;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  PagePool::Stat volatile_stat = volatile_pool_.<a class="code" href="classfoedus_1_1memory_1_1PagePool.html#aae17b661b01fd08a3019128c82227e7c">get_stat</a>();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  ret &lt;&lt; <span class="stringliteral">&quot;    Volatile-Pool: &quot;</span> &lt;&lt; volatile_stat.<a class="code" href="group__MEMORY.html#a4ba86092787e1f959dfffca693a92fbd">allocated_pages_</a> &lt;&lt; <span class="stringliteral">&quot; allocated pages, &quot;</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    &lt;&lt; volatile_stat.total_pages_ &lt;&lt; <span class="stringliteral">&quot; total pages, &quot;</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    &lt;&lt; (volatile_stat.total_pages_ - volatile_stat.allocated_pages_) &lt;&lt; <span class="stringliteral">&quot; free pages&quot;</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    &lt;&lt; std::endl;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">return</span> ret.str();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="ttc" id="group__MEMORY_html_a4ba86092787e1f959dfffca693a92fbd"><div class="ttname"><a href="group__MEMORY.html#a4ba86092787e1f959dfffca693a92fbd">foedus::memory::PagePool::Stat::allocated_pages_</a></div><div class="ttdeci">uint64_t allocated_pages_</div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8hpp_source.html#l00177">page_pool.hpp:177</a></div></div>
<div class="ttc" id="classfoedus_1_1memory_1_1PagePool_html_aae17b661b01fd08a3019128c82227e7c"><div class="ttname"><a href="classfoedus_1_1memory_1_1PagePool.html#aae17b661b01fd08a3019128c82227e7c">foedus::memory::PagePool::get_stat</a></div><div class="ttdeci">Stat get_stat() const </div><div class="ttdef"><b>Definition:</b> <a href="page__pool_8cpp_source.html#l00118">page_pool.cpp:118</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_cgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_cgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_cgraph" id="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1PagePool.html#aae17b661b01fd08a3019128c82227e7c" title="foedus::memory::PagePool\l::get_stat" alt="" coords="292,5,471,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a55ba648cb98718804a890ea3b4965e39" title="foedus::memory::PagePool\lPimpl::get_stat" alt="" coords="519,5,697,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="745,5,924,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_icgraph" id="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a269381dd81631fda44b63559d0a9fbd0_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1EngineMemory.html#a7d348c5c4edbe01bbe7d72676880d2a2" title="Report rough statistics of free memory. " alt="" coords="292,5,503,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="affc81ad0d38a41085eb5b0b76aaad782"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1Engine.html">Engine</a>* foedus::memory::NumaNodeMemoryRef::get_engine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="numa__node__memory_8hpp_source.html#l00172">172</a> of file <a class="el" href="numa__node__memory_8hpp_source.html">numa_node_memory.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{ <span class="keywordflow">return</span> engine_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c4c1d9100b6abe1e3a511fda263da78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__THREAD.html#ga22e72bf147e8d7430e97721633adb3a7">foedus::thread::ThreadGroupId</a> foedus::memory::NumaNodeMemoryRef::get_numa_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="numa__node__memory_8hpp_source.html#l00173">173</a> of file <a class="el" href="numa__node__memory_8hpp_source.html">numa_node_memory.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{ <span class="keywordflow">return</span> numa_node_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a70b68580143ce771f5b5b1f9a209f774"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1memory_1_1PagePool.html">PagePool</a>* foedus::memory::NumaNodeMemoryRef::get_volatile_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="numa__node__memory_8hpp_source.html#l00175">175</a> of file <a class="el" href="numa__node__memory_8hpp_source.html">numa_node_memory.hpp</a>.</p>

<p>Referenced by <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00076">foedus::storage::hash::HashStoragePimpl::create()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00086">foedus::storage::sequential::SequentialStoragePimpl::drop()</a>, <a class="el" href="composer_8cpp_source.html#l00114">foedus::storage::Composer::DropVolatilesArguments::drop()</a>, <a class="el" href="snapshot__manager__pimpl_8cpp_source.html#l00595">foedus::snapshot::SnapshotManagerPimpl::drop_volatile_pages_parallel()</a>, <a class="el" href="sequential__composer__impl_8cpp_source.html#l00309">foedus::storage::sequential::SequentialComposer::drop_volatiles()</a>, <a class="el" href="thread__pimpl_8cpp_source.html#l00789">foedus::thread::ThreadPimpl::flush_retired_volatile_page()</a>, <a class="el" href="sequential__storage__pimpl_8hpp_source.html#l00196">foedus::storage::sequential::SequentialStoragePimpl::for_every_page()</a>, <a class="el" href="page__pool_8cpp_source.html#l00267">foedus::memory::DivvyupPageGrabBatch::grab()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00136">foedus::memory::EngineMemory::grab_one_volatile_page()</a>, <a class="el" href="sequential__storage__pimpl_8cpp_source.html#l00188">foedus::storage::sequential::SequentialStoragePimpl::initialize_head_tail_pages()</a>, <a class="el" href="engine__memory_8cpp_source.html#l00043">foedus::memory::EngineMemory::initialize_once()</a>, <a class="el" href="masstree__storage__pimpl_8cpp_source.html#l00122">foedus::storage::masstree::MasstreeStoragePimpl::load_empty()</a>, <a class="el" href="page__pool_8cpp_source.html#l00241">foedus::memory::RoundRobinPageGrabBatch::release_all()</a>, <a class="el" href="page__pool_8cpp_source.html#l00298">foedus::memory::DivvyupPageGrabBatch::release_all()</a>, <a class="el" href="page__pool_8cpp_source.html#l00178">foedus::memory::PageReleaseBatch::release_chunk()</a>, and <a class="el" href="thread__pimpl_8cpp_source.html#l00122">foedus::thread::ThreadPimpl::uninitialize_once()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{ <span class="keywordflow">return</span> &amp;volatile_pool_; }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a70b68580143ce771f5b5b1f9a209f774_icgraph.png" border="0" usemap="#classfoedus_1_1memory_1_1NumaNodeMemoryRef_a70b68580143ce771f5b5b1f9a209f774_icgraph" alt=""/></div>
<map name="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a70b68580143ce771f5b5b1f9a209f774_icgraph" id="classfoedus_1_1memory_1_1NumaNodeMemoryRef_a70b68580143ce771f5b5b1f9a209f774_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a2823bcc0a488ad58faee46d876db8abe" title="foedus::storage::hash\l::HashStoragePimpl::create" alt="" coords="258,5,441,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ad4ea4254f3eefd06d1c62ca8fdbe217c" title="foedus::storage::sequential\l::SequentialStoragePimpl::drop" alt="" coords="248,71,451,112"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1Composer_1_1DropVolatilesArguments.html#aa29872b9c654848dde2e5c0ca1409da0" title="Returns (might cache) the given pointer to volatile pool. " alt="" coords="248,245,451,287"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1sequential_1_1SequentialComposer.html#a93883e6731ee4a8f2efc4cf7cec2560f" title="foedus::storage::sequential\l::SequentialComposer::drop\l_volatiles" alt="" coords="529,187,711,243"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="1033,185,1217,241"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a694a2aaa7515ab45a8c9fa12b709defb" title="Subroutine of collect_retired_volatile_page() in case the chunk becomes full. " alt="" coords="257,311,441,352"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab8595b7fa861e2f16b04f6758a7508a5" title="Traverse all pages and call back the handler for every page. " alt="" coords="260,377,439,433"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#a3fcf76c5c95efed24463c7c9eb5e8dc0" title="Grabs an in&#45;memory page in specified NUMA node. " alt="" coords="251,457,447,499"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1EngineMemory.html#ae35d16d716451eaa878ec2888960127d" title="A convenience function to grab one free volatile page from the given node. " alt="" coords="244,523,455,564"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#acc045528304f2d22f64b3f1c76b99fa5" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::initialize_head_tail_pages" alt="" coords="260,673,439,729"/>
<area shape="rect" id="node35" href="classfoedus_1_1memory_1_1EngineMemory.html#a56f86610c89fff23bf3f834a6fcbf7a5" title="foedus::memory::EngineMemory\l::initialize_once" alt="" coords="244,753,455,795"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a9c2b2febfce356451e8183f66f71dcc3" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::load_empty" alt="" coords="263,589,436,645"/>
<area shape="rect" id="node39" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a256ca43b80dc2eb1dfdf5fd630fe3dd4" title="Called at the end to return all remaining pages to their pools. " alt="" coords="253,827,446,868"/>
<area shape="rect" id="node41" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ab199aa6af43bf8493868d70a5e1732fe" title="Called at the end to return all remaining pages to their pools. " alt="" coords="251,908,447,949"/>
<area shape="rect" id="node43" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#af16728969f6c3544544000355b6d4f30" title="Return all batched pages in the given chunk to its pool. " alt="" coords="249,1007,449,1048"/>
<area shape="rect" id="node50" href="classfoedus_1_1thread_1_1ThreadPimpl.html#aba7104a56eaff1c1f8c87f5bb03f4045" title="foedus::thread::ThreadPimpl\l::uninitialize_once" alt="" coords="257,1072,441,1113"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac77a3ace0e46fc133fa68affc8901409" title="foedus::storage::hash\l::HashStorage::create" alt="" coords="545,5,695,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a9a658c8c3bb3c87df9176797587728f1" title="foedus::storage::sequential\l::SequentialStorage::drop" alt="" coords="531,71,709,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="796,193,975,235"/>
<area shape="rect" id="node10" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="1265,192,1492,233"/>
<area shape="rect" id="node11" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1540,185,1751,241"/>
<area shape="rect" id="node12" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1827,159,1981,200"/>
<area shape="rect" id="node13" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1799,224,2009,265"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a674a8a8e613dc4e19a626da490c883fc" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="524,268,716,309"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1Thread.html#ab41d50498e6830c6aedc20c93b495037" title="Keeps the specified volatile page as retired as of the current epoch. " alt="" coords="789,268,981,309"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1masstree_1_1Adopt.html#a31564163126364e4810f2f00398afd15" title="foedus::storage::masstree\l::Adopt::adopt_case_a" alt="" coords="1039,268,1212,309"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage_1_1sequential.html#aab3041ddf08dbde93ee896a1efff26d1" title="foedus::storage::sequential\l::operator\&lt;\&lt;" alt="" coords="531,333,709,375"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad1cb17d3564061683f038da9e30ba305" title="Grabs an in&#45;memory page evenly and contiguously from each NUMA node. " alt="" coords="522,399,718,440"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2bf1f0e04d213efe49f4e250968a60b9" title="foedus::storage::array\l::ArrayStoragePimpl::load_empty" alt="" coords="513,464,727,505"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="515,529,725,571"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af6387df1cf86cecbbaba2c41635bbe7a" title="foedus::storage::array\l::ArrayStoragePimpl::create" alt="" coords="794,399,977,440"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="800,464,971,505"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a8d4ac5a88e7ce112f83b67597719fa82" title="foedus::storage::masstree\l::MasstreeStoragePimpl::load" alt="" coords="788,595,983,636"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="800,529,971,571"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a2731aaf3a733c773a63df6d691ede3ac" title="foedus::storage::masstree\l::MasstreeStorage::load" alt="" coords="1039,595,1212,636"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#ab9ccf59655effed1a259100c4d46b06b" title="foedus::storage::sequential\l::SequentialStoragePimpl\l::create" alt="" coords="531,726,709,782"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStoragePimpl.html#aaf7d413df08f874c5d7caf175260c02f" title="foedus::storage::sequential\l::SequentialStoragePimpl::load" alt="" coords="519,807,721,848"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a1b3fd99bf6040a5ee42164d31135f433" title="foedus::storage::sequential\l::SequentialStorage::create" alt="" coords="795,733,975,775"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1sequential_1_1SequentialStorage.html#a2ba6c181226fb2b20ee12b012382f2fa" title="foedus::storage::sequential\l::SequentialStorage::load" alt="" coords="796,807,975,848"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStoragePimpl.html#a192a4976aa71f457b356bf536d9f5fc2" title="foedus::storage::masstree\l::MasstreeStoragePimpl\l::create" alt="" coords="533,646,707,702"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeStorage.html#a92ad35031262ae95e767c53746de2e29" title="foedus::storage::masstree\l::MasstreeStorage::create" alt="" coords="799,660,972,701"/>
<area shape="rect" id="node40" href="classfoedus_1_1memory_1_1RoundRobinPageGrabBatch.html#a9e55ed7e111f63dc91c5fbb610baf30e" title="foedus::memory::RoundRobin\lPageGrabBatch::~RoundRobinPage\lGrabBatch" alt="" coords="505,873,735,929"/>
<area shape="rect" id="node42" href="classfoedus_1_1memory_1_1DivvyupPageGrabBatch.html#ad3b2fa88186f79546ae747162510af76" title="foedus::memory::DivvyupPage\lGrabBatch::~DivvyupPageGrabBatch" alt="" coords="503,953,737,995"/>
<area shape="rect" id="node44" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aedda2314df207e1d39509858cbee6bbd" title="Returns the given in&#45;memory page to the specified NUMA node. " alt="" coords="520,1019,720,1060"/>
<area shape="rect" id="node45" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aacfb0dd808ba1a987cea4d957e8e511b" title="Called at the end to return all batched pages to their pools. " alt="" coords="520,1084,720,1125"/>
<area shape="rect" id="node46" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#ac93d73bec0e959851e5a29482e83c5a9" title="foedus::memory::PageRelease\lBatch::~PageReleaseBatch" alt="" coords="785,979,985,1020"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ab725dd6fcc1f7345bb27123575555f6a" title="foedus::storage::array\l::ArrayStorage::drop" alt="" coords="811,1044,959,1085"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a72474ba11f14c8e37ab6b9b3bd92d64b" title="foedus::storage::hash\l::HashIntermediatePage\l::release_pages_recursive\l_parallel" alt="" coords="799,1109,971,1180"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1storage_1_1masstree.html#a744edfba3574c4c7dd041519321ed5b3" title="foedus::storage::masstree\l::release_parallel" alt="" coords="799,1204,972,1245"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/memory/<a class="el" href="numa__node__memory_8hpp_source.html">numa_node_memory.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/memory/<a class="el" href="numa__node__memory_8cpp_source.html">numa_node_memory.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1memory.html">memory</a></li><li class="navelem"><a class="el" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html">NumaNodeMemoryRef</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
