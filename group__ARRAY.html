<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: Array Storage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ARRAY.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Array Storage<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Array</b> Storage, a dense and regular array.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><b>Array</b> Storage, a dense and regular array. </p>
<h1><a class="anchor" id="ARRAY_BASICS"></a>
Basic Structure</h1>
<p>Our array-storage is an extremely simple data structure at the cost of limited applicability (fix-sized, regular, dense arrays). The page layout has little per-page information that is dynamic, meaning that most data never changes after the array storage is created. Further, as everything is pre-allocated, no phantoms, no insertion/splits, nor anything complex. Thus, little synchronization hassles.</p>
<h1><a class="anchor" id="ARRAY_OPS"></a>
Supported Operations</h1>
<p>Array storage allows very few data operations. </p><ul>
<li><b>Reads</b> a record or a range of records. </li>
<li><b>Overwrites</b> a record. </li>
<li>Reads a <b>range</b> of records in batched fashion. (Not implemented so far, just loop over it. This might be useful for a big array of really small records to avoid function call overheads.)</li>
</ul>
<p>In other words, the following operations are <b>NOT</b> supported. </p><ul>
<li><b>Inserts</b> or <b>Deletes</b> a record because all records always exist in an array storage (dense array). Client programs can achieve the same thing by storing one-bit in payload as a deletion-flag and overwrites it. </li>
<li><b>Resize</b> individual records or the entire array. All records are fix-sized and pre-allocated when the array storage is initialized.</li>
</ul>
<p>If these limitations do not cause an issue, array storage is a best choice as it's extremely efficient and scalable thanks to the simplicity.</p>
<h1><a class="anchor" id="ARRAY_HIE"></a>
Page Hierarchy</h1>
<p>Despite the name of this storage type, we do have a page hierarchy, which is required to handle switches between volatile/snapshot pages. Hence, a more precise description of this storage type is a fix-sized pre-allocated <em>tree</em> that has only integer-keys from 0 to array_size-1.</p>
<p>All data (payload) are stored in leaf pages and interior pages contain only pointers to its children. There is only one root page per array, which may or may not be a leaf page. Just like B-trees in many sense.</p>
<h1><a class="anchor" id="ARRAY_LAYOUT"></a>
Page Layout</h1>
<dl class="section user"><dt>Header and Data</dt><dd><table class="doxtable">
<tr>
<th>Fix-Sized HEADER (kHeaderSize bytes)</th><td>DATA </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>Interior Node Data</dt><dd><table class="doxtable">
<tr>
<th>InteriorRecord</th><td>InteriorRecord</td><th>... </th></tr>
</table>
See foedus::storage::array::ArrayPage::InteriorRecord.</dd></dl>
<dl class="section user"><dt>Leaf Node Data</dt><dd><table class="doxtable">
<tr>
<th>Record</th><td>Padding</td><th>Record</th><td>Padding</td><th>... </th></tr>
</table>
We simply puts <a class="el" href="structfoedus_1_1storage_1_1Record.html" title="Represents one record in our key-value store. ">foedus::storage::Record</a> contiguously, but with a padding (0-7 bytes). to make sure Record are 8-byte aligned because we do atomic operations on Record's owner_id_.</dd></dl>
<h1><a class="anchor" id="ARRAY_VER"></a>
Concurrency Control</h1>
<p>We do a bit special concurrency control for this storage type. Because everything is pre-allocated and no split/physical-delete/merge whatsoever, we can do the ModCount concurrency control <b>per</b> <b>Record</b>, not per page. We store ModCount for each record, instead stores no ModCount in page header. Thus, individual transactions that update records in same page have no contention except they update the exact same record. We even don't track node-set; only record-set is checked at commit.</p>
<p>This simplifies and increases concurrency for most data accesses, but we have to be careful when the page eviction thread drops the volatile page. We need to know the <b>largest</b> Epoch of records in the page at the point, but concurrent transactions might be modifying records at the same time. Thus, we do two-path optimistic concurrency control similar to our commit protocol for <a class="el" href="group__MASSTREE.html">Masstree Storage</a>. </p><ul>
<li>The eviction thread takes a look at all Epoch in the page, remembering the largest one. </li>
<li>Fence </li>
<li>Then, it puts a mark on the pointer from the parent page to the evicted page to announce that the volatile page is about to be evicted. </li>
<li>Fence </li>
<li>Finally, it takes a look at all Epoch in the page again and completes the eviction only if it sees the same largest Epoch. If not, gives up (because the volatile page is now newer, no chance to drop it with the latest snapshot version).</li>
</ul>
<h1><a class="anchor" id="ARRAY_REF"></a>
References</h1>
<ul>
<li>[SCIDB] Cudre-Mauroux, P. and Kimura, H. and Lim, K.-T. and Rogers, J. and Simakov, R. and Soroush, E. and Velikhov, P. and Wang, D. L. and Balazinska, M. and Becla, J. and DeWitt, D. and Heath, B. and Maier, D. and Madden, S. and Patel, J. and Stonebraker, M. and Zdonik, S. "A demonstration of SciDB: a science-oriented DBMS.", VLDB, 2009. </li>
</ul>
<div class="dynheader">
Collaboration diagram for Array Storage:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__ARRAY.png" border="0" alt="" usemap="#group____ARRAY"/>
<map name="group____ARRAY" id="group____ARRAY">
<area shape="rect" id="node1" href="group__STORAGE.html" title="Storage Manager, which implements a couple of key/value stores. " alt="" coords="5,139,127,165"/>
<area shape="rect" id="node3" href="group__LOGTYPE.html" title="Defines the content and apply logic of transactional operatrions. " alt="" coords="508,139,589,165"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:array__id_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="array__id_8hpp.html">array_id.hpp</a></td></tr>
<tr class="memdesc:array__id_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions of IDs in this package and a few related constant values. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:array__log__types_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="array__log__types_8hpp.html">array_log_types.hpp</a></td></tr>
<tr class="memdesc:array__log__types_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares all log types used in this storage type. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:storage_2array_2fwd_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="storage_2array_2fwd_8hpp.html">fwd.hpp</a></td></tr>
<tr class="memdesc:storage_2array_2fwd_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declarations of classes in array storage package. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html">foedus::storage::array::ArrayComposer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1Composer.html" title="Represents a logic to compose a new version of data pages for one storage. ">Composer</a> for an array storage.  <a href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html">foedus::storage::array::ArrayRange</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an offset range in an array storage.  <a href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayCreateLogType.html">foedus::storage::array::ArrayCreateLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of CREATE ARRAY STORAGE operation.  <a href="structfoedus_1_1storage_1_1array_1_1ArrayCreateLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayCommonUpdateLogType.html">foedus::storage::array::ArrayCommonUpdateLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class for ArrayOverwriteLogType/ArrayIncrementLogType.  <a href="structfoedus_1_1storage_1_1array_1_1ArrayCommonUpdateLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayOverwriteLogType.html">foedus::storage::array::ArrayOverwriteLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of array-storage's overwrite operation.  <a href="structfoedus_1_1storage_1_1array_1_1ArrayOverwriteLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayIncrementLogType.html">foedus::storage::array::ArrayIncrementLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of array-storage's increment operation.  <a href="structfoedus_1_1storage_1_1array_1_1ArrayIncrementLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html">foedus::storage::array::ArrayMetadata</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. ">Metadata</a> of an array storage.  <a href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data">foedus::storage::array::ArrayPage::Data</a></td></tr>
<tr class="memdesc:unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__ARRAY.html#unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data" title="Data union for either leaf (dynamic size) or interior (fixed size). ">Data</a> union for either leaf (dynamic size) or interior (fixed size).  <a href="group__ARRAY.html#unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data">More...</a><br /></td></tr>
<tr class="separator:unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html">foedus::storage::array::ArrayPage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents one data page in <a class="el" href="group__ARRAY.html">Array Storage</a>.  <a href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html">foedus::storage::array::ArrayPartitioner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfoedus_1_1storage_1_1Partitioner.html" title="Partitioning and sorting logic for one storage. ">Partitioner</a> for an array storage.  <a href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionfoedus_1_1storage_1_1array_1_1LookupRoute.html">foedus::storage::array::LookupRoute</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compactly represents the route to reach the given offset.  <a href="unionfoedus_1_1storage_1_1array_1_1LookupRoute.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html">foedus::storage::array::LookupRouteFinder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packages logic and required properties to calculate <a class="el" href="unionfoedus_1_1storage_1_1array_1_1LookupRoute.html" title="Compactly represents the route to reach the given offset. ">LookupRoute</a> in array storage from offset.  <a href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">foedus::storage::array::ArrayStorage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a key-value store based on a dense and regular array.  <a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html">foedus::storage::array::ArrayStoragePimpl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pimpl object of <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html" title="Represents a key-value store based on a dense and regular array. ">ArrayStorage</a>.  <a href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html">foedus::storage::sequential::SequentialAppendLogType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log type of sequential-storage's append operation.  <a href="structfoedus_1_1storage_1_1sequential_1_1SequentialAppendLogType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga032dbb5dc93f7b51ac0ab5200ae013ab"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">foedus::storage::array::ArrayOffset</a></td></tr>
<tr class="memdesc:ga032dbb5dc93f7b51ac0ab5200ae013ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">The only key type in array storage.  <a href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">More...</a><br /></td></tr>
<tr class="separator:ga032dbb5dc93f7b51ac0ab5200ae013ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3b7fb001a1608242302069b8aa85eb91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91">foedus::storage::array::array_volatile_page_init</a> (const VolatilePageInitArguments &amp;args)</td></tr>
<tr class="memdesc:ga3b7fb001a1608242302069b8aa85eb91"><td class="mdescLeft">&#160;</td><td class="mdescRight">volatile page initialize callback for <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html" title="Represents one data page in Array Storage. ">ArrayPage</a>.  <a href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91">More...</a><br /></td></tr>
<tr class="separator:ga3b7fb001a1608242302069b8aa85eb91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2823bcd484e4e7cb47ceca880584000a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a">foedus::storage::hash::hash_intermediate_volatile_page_init</a> (const VolatilePageInitArguments &amp;args)</td></tr>
<tr class="memdesc:ga2823bcd484e4e7cb47ceca880584000a"><td class="mdescLeft">&#160;</td><td class="mdescRight">volatile page initialize callback for <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html" title="Represents an intermediate page in Hashtable Storage. ">HashIntermediatePage</a>.  <a href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a">More...</a><br /></td></tr>
<tr class="separator:ga2823bcd484e4e7cb47ceca880584000a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8423aae479f4b36ddc54127b07268c8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga8423aae479f4b36ddc54127b07268c8c">foedus::storage::hash::hash_data_volatile_page_init</a> (const VolatilePageInitArguments &amp;args)</td></tr>
<tr class="memdesc:ga8423aae479f4b36ddc54127b07268c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">volatile page initialize callback for <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html" title="Represents an individual data page in Hashtable Storage. ">HashDataPage</a>.  <a href="group__ARRAY.html#ga8423aae479f4b36ddc54127b07268c8c">More...</a><br /></td></tr>
<tr class="separator:ga8423aae479f4b36ddc54127b07268c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga93fb6161090a026d619f6fc141e9b4fe"><td class="memItemLeft" align="right" valign="top">const ArrayOffset&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga93fb6161090a026d619f6fc141e9b4fe">foedus::storage::array::kMaxArrayOffset</a> = (1ULL &lt;&lt; 48) - 1ULL</td></tr>
<tr class="memdesc:ga93fb6161090a026d619f6fc141e9b4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum value allowed for ArrayOffset.  <a href="group__ARRAY.html#ga93fb6161090a026d619f6fc141e9b4fe">More...</a><br /></td></tr>
<tr class="separator:ga93fb6161090a026d619f6fc141e9b4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11444999ac8b4e470e10e68c8777e6de"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga11444999ac8b4e470e10e68c8777e6de">foedus::storage::array::kHeaderSize</a> = 64</td></tr>
<tr class="memdesc:ga11444999ac8b4e470e10e68c8777e6de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of header in each page of array storage.  <a href="group__ARRAY.html#ga11444999ac8b4e470e10e68c8777e6de">More...</a><br /></td></tr>
<tr class="separator:ga11444999ac8b4e470e10e68c8777e6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebdb3ffd25e0a56b4e04fc0f9c112409"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#gaebdb3ffd25e0a56b4e04fc0f9c112409">foedus::storage::array::kDataSize</a> = <a class="el" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a> - kHeaderSize</td></tr>
<tr class="memdesc:gaebdb3ffd25e0a56b4e04fc0f9c112409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of data region in each page of array storage.  <a href="group__ARRAY.html#gaebdb3ffd25e0a56b4e04fc0f9c112409">More...</a><br /></td></tr>
<tr class="separator:gaebdb3ffd25e0a56b4e04fc0f9c112409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18173d237784ccc7fc6f67262527476c"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga18173d237784ccc7fc6f67262527476c">foedus::storage::array::kInteriorSize</a> = 16</td></tr>
<tr class="memdesc:ga18173d237784ccc7fc6f67262527476c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of an entry in interior page of array storage.  <a href="group__ARRAY.html#ga18173d237784ccc7fc6f67262527476c">More...</a><br /></td></tr>
<tr class="separator:ga18173d237784ccc7fc6f67262527476c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa3b4fa18b93d578250c8c8a5b613423"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#gaaa3b4fa18b93d578250c8c8a5b613423">foedus::storage::array::kInteriorFanout</a> = (<a class="el" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a> - kHeaderSize) / kInteriorSize</td></tr>
<tr class="memdesc:gaaa3b4fa18b93d578250c8c8a5b613423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of entries in an interior page of array storage.  <a href="group__ARRAY.html#gaaa3b4fa18b93d578250c8c8a5b613423">More...</a><br /></td></tr>
<tr class="separator:gaaa3b4fa18b93d578250c8c8a5b613423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga982ebbd7c4c135d66a950653a1c7eeb1"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga982ebbd7c4c135d66a950653a1c7eeb1">foedus::storage::array::kMaxLevels</a> = 8</td></tr>
<tr class="memdesc:ga982ebbd7c4c135d66a950653a1c7eeb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Code in array storage assumes this number as the maximum number of levels.  <a href="group__ARRAY.html#ga982ebbd7c4c135d66a950653a1c7eeb1">More...</a><br /></td></tr>
<tr class="separator:ga982ebbd7c4c135d66a950653a1c7eeb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1fa71cb1954565848dbbb95d7027ece0"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ARRAY.html#ga1fa71cb1954565848dbbb95d7027ece0">foedus::storage::kRecordOverhead</a> = sizeof(xct::RwLockableXctId)</td></tr>
<tr class="memdesc:ga1fa71cb1954565848dbbb95d7027ece0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte size of system-managed region per each record.  <a href="group__ARRAY.html#ga1fa71cb1954565848dbbb95d7027ece0">More...</a><br /></td></tr>
<tr class="separator:ga1fa71cb1954565848dbbb95d7027ece0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data" id="unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union foedus::storage::array::ArrayPage::Data</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p><a class="el" href="group__ARRAY.html#unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data" title="Data union for either leaf (dynamic size) or interior (fixed size). ">Data</a> union for either leaf (dynamic size) or interior (fixed size). </p>

<p>Definition at line <a class="el" href="array__page__impl_8hpp_source.html#l00051">51</a> of file <a class="el" href="array__page__impl_8hpp_source.html">array_page_impl.hpp</a>.</p>
</div><div class="dynheader">
Collaboration diagram for foedus::storage::array::ArrayPage::Data:</div>
<div class="dyncontent">
<div class="center"><img src="unionfoedus_1_1storage_1_1array_1_1ArrayPage_1_1Data__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1array_1_1ArrayPage_1_1Data_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1array_1_1ArrayPage_1_1Data_coll__map" id="foedus_1_1storage_1_1array_1_1ArrayPage_1_1Data_coll__map">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1DualPagePointer.html" title="Represents a pointer to another page (usually a child page). " alt="" coords="5,109,180,151"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="12,5,173,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a269fe33468eb4c6d97bd11905d4f456a"></a><a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">DualPagePointer</a></td>
<td class="fieldname">
interior_data[<a class="el" href="group__ARRAY.html#gaaa3b4fa18b93d578250c8c8a5b613423">kInteriorFanout</a>]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a939f86a468147e181044248bca008860"></a>char</td>
<td class="fieldname">
leaf_data[<a class="el" href="group__ARRAY.html#gaaa3b4fa18b93d578250c8c8a5b613423">kInteriorFanout</a> *sizeof(<a class="el" href="structfoedus_1_1storage_1_1DualPagePointer.html">DualPagePointer</a>)]</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga032dbb5dc93f7b51ac0ab5200ae013ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">foedus::storage::array::ArrayOffset</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The only key type in array storage. </p>
<p>The key in array storage is <em>offset</em>, or an integer starting from zero. This means we don't support multi-dimensional, dynamic, sparse, nor any other fancy arrays. However, those arrays can be provided by the relational layer based on this array storage. The offset-conversion is fairly straightforward. </p><dl class="section note"><dt>Note</dt><dd>Although it is an 8-byte integer, The valid value range of ArrayOffset is 0 to 2^48 - 1. Creating an array of size 2^48 or more will fail. This won't cause any issue in reality yet allows the implementation to pack more information. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ARRAY.html#ga93fb6161090a026d619f6fc141e9b4fe" title="The maximum value allowed for ArrayOffset. ">kMaxArrayOffset</a> </dd></dl>

<p>Definition at line <a class="el" href="array__id_8hpp_source.html#l00048">48</a> of file <a class="el" href="array__id_8hpp_source.html">array_id.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3b7fb001a1608242302069b8aa85eb91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::array::array_volatile_page_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1VolatilePageInitArguments">VolatilePageInitArguments</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>volatile page initialize callback for <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html" title="Represents one data page in Array Storage. ">ArrayPage</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486" title="A function pointer to initialize a volatile page. ">foedus::storage::VolatilePageInit</a> </dd></dl>

<p>Definition at line <a class="el" href="array__page__impl_8cpp_source.html#l00078">78</a> of file <a class="el" href="array__page__impl_8cpp_source.html">array_page_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="array__id_8hpp_source.html#l00086">foedus::storage::array::ArrayRange::begin_</a>, <a class="el" href="page_8hpp_source.html#l00367">foedus::storage::VolatilePageInitArguments::context_</a>, <a class="el" href="array__id_8hpp_source.html#l00088">foedus::storage::array::ArrayRange::end_</a>, <a class="el" href="storage_8hpp_source.html#l00169">foedus::storage::Storage&lt; CONTROL_BLOCK &gt;::exists()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00072">foedus::storage::array::ArrayPage::get_array_range()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00057">foedus::storage::array::ArrayStorage::get_array_size()</a>, <a class="el" href="attachable_8hpp_source.html#l00097">foedus::Attachable&lt; CONTROL_BLOCK &gt;::get_control_block()</a>, <a class="el" href="thread_8cpp_source.html#l00052">foedus::thread::Thread::get_engine()</a>, <a class="el" href="savepoint__manager_8cpp_source.html#l00036">foedus::savepoint::SavepointManager::get_initial_current_epoch()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00071">foedus::storage::array::ArrayPage::get_level()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00056">foedus::storage::array::ArrayStorage::get_payload_size()</a>, <a class="el" href="engine_8cpp_source.html#l00053">foedus::Engine::get_savepoint_manager()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00065">foedus::storage::array::ArrayPage::get_storage_id()</a>, <a class="el" href="page_8hpp_source.html#l00375">foedus::storage::VolatilePageInitArguments::index_in_parent_</a>, <a class="el" href="array__page__impl_8cpp_source.html#l00055">foedus::storage::array::ArrayPage::initialize_volatile_page()</a>, <a class="el" href="array__id_8hpp_source.html#l00110">foedus::storage::array::kInteriorFanout</a>, <a class="el" href="page_8hpp_source.html#l00371">foedus::storage::VolatilePageInitArguments::page_</a>, <a class="el" href="page_8hpp_source.html#l00369">foedus::storage::VolatilePageInitArguments::page_id</a>, and <a class="el" href="page_8hpp_source.html#l00373">foedus::storage::VolatilePageInitArguments::parent_</a>.</p>

<p>Referenced by <a class="el" href="array__storage__pimpl_8hpp_source.html#l00304">foedus::storage::array::ArrayStoragePimpl::follow_pointer()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l01010">foedus::storage::array::ArrayStoragePimpl::follow_pointers_for_read_batch()</a>, and <a class="el" href="array__storage__pimpl_8cpp_source.html#l01075">foedus::storage::array::ArrayStoragePimpl::follow_pointers_for_write_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                                     {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.parent_);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.page_);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.index_in_parent_ &lt; <a class="code" href="group__ARRAY.html#gaaa3b4fa18b93d578250c8c8a5b613423">kInteriorFanout</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keyword">const</span> ArrayPage* parent = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>ArrayPage*<span class="keyword">&gt;</span>(args.parent_);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  ArrayPage* page = <span class="keyword">reinterpret_cast&lt;</span>ArrayPage*<span class="keyword">&gt;</span>(args.page_);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  Engine* engine = args.context_-&gt;get_engine();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id = parent-&gt;get_storage_id();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  ArrayStorage storage(engine, storage_id);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(storage.exists());</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keyword">const</span> ArrayStorageControlBlock* cb = storage.get_control_block();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  ArrayRange parent_range = parent-&gt;get_array_range();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  uint8_t parent_level = parent-&gt;get_level();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(parent_level &gt; 0);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(parent_range.end_ - parent_range.begin_ == cb-&gt;intervals_[parent_level]</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    || parent_range.end_ == storage.get_array_size());</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  uint8_t child_level = parent_level - 1U;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  uint64_t interval = cb-&gt;intervals_[child_level];</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(interval &gt; 0);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  ArrayRange child_range;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  child_range.begin_ = parent_range.begin_ + args.index_in_parent_ * interval;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  child_range.end_ = child_range.begin_ + interval;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (child_range.end_ &gt; storage.get_array_size()) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    child_range.end_ = storage.get_array_size();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(child_range.end_ &gt; 0);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// Because this is a new page, records in it are in the earliest epoch of the system</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  Epoch initial_epoch = engine-&gt;get_savepoint_manager()-&gt;get_initial_current_epoch();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  page-&gt;initialize_volatile_page(</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    initial_epoch,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    storage_id,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    args.page_id,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    storage.get_payload_size(),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    child_level,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    child_range);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_ga595ca7fc4a3011a9704a883a25141e5f"><div class="ttname"><a href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">foedus::storage::StorageId</a></div><div class="ttdeci">uint32_t StorageId</div><div class="ttdoc">Unique ID for storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00055">storage_id.hpp:55</a></div></div>
<div class="ttc" id="group__ARRAY_html_gaaa3b4fa18b93d578250c8c8a5b613423"><div class="ttname"><a href="group__ARRAY.html#gaaa3b4fa18b93d578250c8c8a5b613423">foedus::storage::array::kInteriorFanout</a></div><div class="ttdeci">const uint16_t kInteriorFanout</div><div class="ttdoc">Max number of entries in an interior page of array storage. </div><div class="ttdef"><b>Definition:</b> <a href="array__id_8hpp_source.html#l00110">array_id.hpp:110</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_cgraph.png" border="0" usemap="#group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_cgraph" alt=""/></div>
<map name="group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_cgraph" id="group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="243,5,407,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="229,71,421,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. " alt="" coords="225,136,424,177"/>
<area shape="rect" id="node5" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad" title="foedus::Attachable\l::get_control_block" alt="" coords="259,201,391,243"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a" title="foedus::thread::Thread\l::get_engine" alt="" coords="249,267,400,308"/>
<area shape="rect" id="node7" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a82624b3d7edff1d02e29c1b8863dd4ee" title="foedus::savepoint::\lSavepointManager::get\l_initial_current_epoch" alt="" coords="247,333,402,389"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="250,413,399,455"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ..." alt="" coords="217,479,432,520"/>
<area shape="rect" id="node11" href="classfoedus_1_1Engine.html#a4f168d41ea00249fefe905def87e80c8" title="See Savepoint Manager. " alt="" coords="255,544,395,585"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a6ca84715dc16f27640c7fbaaa2e22541" title="foedus::storage::array\l::ArrayPage::get_storage_id" alt="" coords="233,609,417,651"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="251,675,399,731"/>
<area shape="rect" id="node8" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a69656b017856d4e6b2bcda9085c0d316" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_initial_current_epoch" alt="" coords="488,333,663,389"/>
<area shape="rect" id="node14" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="498,573,653,599"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="480,624,671,665"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="744,733,892,775"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a038d272bb21378544e6d6cd1c8b468b3" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record_count" alt="" coords="501,821,649,877"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="501,741,649,797"/>
<area shape="rect" id="node16" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="719,573,917,615"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="722,639,914,680"/>
<area shape="rect" id="node18" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="977,605,1146,647"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="965,671,1157,712"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1McsWwBlockData.html#a3161e47c41388e9c1b50929f585e366b" title="foedus::xct::McsWwBlockData\l::clear" alt="" coords="1205,605,1407,647"/>
<area shape="rect" id="node23" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="738,810,898,837"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_icgraph.png" border="0" usemap="#group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_icgraph" alt=""/></div>
<map name="group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_icgraph" id="group__ARRAY_ga3b7fb001a1608242302069b8aa85eb91_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="217,405,396,461"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="217,685,396,741"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="217,769,396,825"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="444,245,629,301"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="444,405,629,461"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="677,125,860,181"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="927,5,1093,61"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="927,85,1093,141"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="927,165,1093,221"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="1160,13,1335,54"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="1160,85,1335,141"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="1160,165,1335,221"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="677,405,860,461"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="927,245,1093,301"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d21cd23923f93d072a1a182cae6f412" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="911,325,1109,381"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a3ee9fdf4da9f172082841c1774a761da" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="911,405,1109,461"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="908,485,1112,541"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="908,565,1112,621"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="1160,245,1335,301"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5fe59a512f951b17e2524fd153a9d991" title="Overwrites a part of one record of the given offset in this array storage. " alt="" coords="1165,325,1329,381"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaa646f67578c221ef982e28fffdd76e4" title="Overwrites a part of record of the given offset as a primitive type in this array storage..." alt="" coords="1165,405,1329,461"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="1162,485,1333,541"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5093ba18b241e5179a363476bdd20066" title="This is a faster increment that does not return the value after increment. " alt="" coords="1162,565,1333,621"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="444,685,629,741"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="677,685,860,741"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="927,645,1093,701"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="927,725,1093,781"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="1160,645,1335,701"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="1160,725,1335,781"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="444,775,629,831"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="686,785,851,841"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="923,805,1097,861"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8423aae479f4b36ddc54127b07268c8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::hash::hash_data_volatile_page_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1VolatilePageInitArguments">VolatilePageInitArguments</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>volatile page initialize callback for <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html" title="Represents an individual data page in Hashtable Storage. ">HashDataPage</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486" title="A function pointer to initialize a volatile page. ">foedus::storage::VolatilePageInit</a> </dd></dl>

<p>Definition at line <a class="el" href="hash__page__impl_8cpp_source.html#l00232">232</a> of file <a class="el" href="hash__page__impl_8cpp_source.html">hash_page_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="hash__id_8hpp_source.html#l00191">foedus::storage::hash::HashBinRange::begin_</a>, <a class="el" href="page_8hpp_source.html#l00367">foedus::storage::VolatilePageInitArguments::context_</a>, <a class="el" href="hash__page__impl_8hpp_source.html#l00412">foedus::storage::hash::HashDataPage::get_bin()</a>, <a class="el" href="hash__page__impl_8hpp_source.html#l00104">foedus::storage::hash::HashIntermediatePage::get_bin_range()</a>, <a class="el" href="hash__storage_8cpp_source.html#l00062">foedus::storage::hash::HashStorage::get_bin_shifts()</a>, <a class="el" href="thread_8cpp_source.html#l00052">foedus::thread::Thread::get_engine()</a>, <a class="el" href="page_8hpp_source.html#l00336">foedus::storage::Page::get_header()</a>, <a class="el" href="hash__page__impl_8hpp_source.html#l00105">foedus::storage::hash::HashIntermediatePage::get_level()</a>, <a class="el" href="page_8hpp_source.html#l00280">foedus::storage::PageHeader::get_page_type()</a>, <a class="el" href="page_8hpp_source.html#l00375">foedus::storage::VolatilePageInitArguments::index_in_parent_</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00070">foedus::storage::hash::HashDataPage::initialize_volatile_page()</a>, <a class="el" href="page_8hpp_source.html#l00054">foedus::storage::kHashDataPageType</a>, <a class="el" href="hash__id_8hpp_source.html#l00049">foedus::storage::hash::kHashIntermediatePageFanout</a>, <a class="el" href="page_8hpp_source.html#l00053">foedus::storage::kHashIntermediatePageType</a>, <a class="el" href="hash__id_8hpp_source.html#l00185">foedus::storage::hash::HashBinRange::length()</a>, <a class="el" href="page_8hpp_source.html#l00371">foedus::storage::VolatilePageInitArguments::page_</a>, <a class="el" href="page_8hpp_source.html#l00369">foedus::storage::VolatilePageInitArguments::page_id</a>, <a class="el" href="page_8hpp_source.html#l00373">foedus::storage::VolatilePageInitArguments::parent_</a>, and <a class="el" href="page_8hpp_source.html#l00196">foedus::storage::PageHeader::storage_id_</a>.</p>

<p>Referenced by <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00679">foedus::storage::hash::HashStoragePimpl::follow_page_bin_head()</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                                                         {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.parent_);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.page_);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id = args.parent_-&gt;get_header().storage_id_;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  HashDataPage* page = <span class="keyword">reinterpret_cast&lt;</span>HashDataPage*<span class="keyword">&gt;</span>(args.page_);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">PageType</a> parent_type = args.parent_-&gt;get_header().get_page_type();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  uint64_t bin;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">if</span> (parent_type == <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714">kHashIntermediatePageType</a>) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">const</span> HashIntermediatePage* parent</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>HashIntermediatePage*<span class="keyword">&gt;</span>(args.parent_);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.index_in_parent_ &lt; <a class="code" href="group__HASH.html#ga4398665205e13bd71e8b2c1691ba1ba3">kHashIntermediatePageFanout</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(parent-&gt;get_level() == 0);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(parent-&gt;get_bin_range().length() == <a class="code" href="group__HASH.html#ga4398665205e13bd71e8b2c1691ba1ba3">kHashIntermediatePageFanout</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    bin = parent-&gt;get_bin_range().begin_ + args.index_in_parent_;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(parent_type == <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c">kHashDataPageType</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.index_in_parent_ == 0);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">const</span> HashDataPage* parent = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>HashDataPage*<span class="keyword">&gt;</span>(args.parent_);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    bin = parent-&gt;get_bin();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  HashStorage storage(args.context_-&gt;get_engine(), storage_id);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  uint8_t bin_shifts = storage.get_bin_shifts();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  page-&gt;initialize_volatile_page(storage_id, args.page_id, args.parent_, bin, bin_shifts);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714">foedus::storage::kHashIntermediatePageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00053">page.hpp:53</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga595ca7fc4a3011a9704a883a25141e5f"><div class="ttname"><a href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">foedus::storage::StorageId</a></div><div class="ttdeci">uint32_t StorageId</div><div class="ttdoc">Unique ID for storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00055">storage_id.hpp:55</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga14e35f7fbe4bc18276fde8e8ba460f5b"><div class="ttname"><a href="group__STORAGE.html#ga14e35f7fbe4bc18276fde8e8ba460f5b">foedus::storage::PageType</a></div><div class="ttdeci">PageType</div><div class="ttdoc">The following 1-byte value is stored in the common page header. </div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00046">page.hpp:46</a></div></div>
<div class="ttc" id="group__HASH_html_ga4398665205e13bd71e8b2c1691ba1ba3"><div class="ttname"><a href="group__HASH.html#ga4398665205e13bd71e8b2c1691ba1ba3">foedus::storage::hash::kHashIntermediatePageFanout</a></div><div class="ttdeci">const uint8_t kHashIntermediatePageFanout</div><div class="ttdoc">Number of pointers in an intermediate page of hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__id_8hpp_source.html#l00049">hash_id.hpp:49</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5ba6c1740f811f2524fac6cd76aa2a31c6c">foedus::storage::kHashDataPageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00054">page.hpp:54</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_cgraph.png" border="0" usemap="#group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_cgraph" alt=""/></div>
<map name="group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_cgraph" id="group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="432,5,599,47"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="435,71,596,127"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a6dc142a2ed0509104e377e10a6d6a034" title="foedus::storage::hash\l::HashStorage::get_bin\l_shifts" alt="" coords="209,407,363,463"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a" title="foedus::thread::Thread\l::get_engine" alt="" coords="211,488,361,529"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="441,152,590,193"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="435,218,596,274"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="420,591,611,632"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a03dc5746931434bcc27b2b3b6856c33f" title="foedus::storage::hash\l::HashDataPage::initialize\l_volatile_page" alt="" coords="200,277,372,333"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1hash_1_1HashBinRange.html#ae2b145559047e486059fec93c35ebfc1" title="foedus::storage::hash\l::HashBinRange::length" alt="" coords="207,553,365,595"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="663,225,853,267"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="420,525,611,567"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ad76f0d1e0caffa655e5ffe03c2a59864" title="this method should be called only in page creation. " alt="" coords="426,298,605,354"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1hash_1_1HashBinRange.html#af492eb6df181653434b727ba29e5c833" title="foedus::storage::hash\l::HashBinRange::contains" alt="" coords="429,379,602,420"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a47a8118e0aa8c3ce3c5c6138f2f1aa8c" title="foedus::storage::hash\l::HashDataPage::get_bin\l_shifts" alt="" coords="432,445,599,501"/>
<area shape="rect" id="node12" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="659,559,857,600"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="662,493,854,535"/>
<area shape="rect" id="node14" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="917,460,1086,501"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="905,525,1097,567"/>
<area shape="rect" id="node15" href="structfoedus_1_1xct_1_1McsWwBlockData.html#a3161e47c41388e9c1b50929f585e366b" title="foedus::xct::McsWwBlockData\l::clear" alt="" coords="1145,460,1347,501"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_icgraph.png" border="0" usemap="#group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_icgraph" alt=""/></div>
<map name="group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_icgraph" id="group__ARRAY_ga8423aae479f4b36ddc54127b07268c8c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="200,298,379,354"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="427,305,640,347"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="688,305,893,347"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="961,29,1125,85"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="961,138,1125,194"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="953,218,1132,274"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="952,298,1133,354"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="951,378,1134,434"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="945,458,1141,514"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="941,578,1144,634"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1206,5,1381,47"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1211,71,1375,127"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1192,152,1395,193"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1443,71,1617,127"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1220,218,1367,274"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1219,298,1367,354"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1219,378,1368,434"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1195,458,1391,514"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1212,538,1375,594"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1449,458,1611,514"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1208,618,1379,674"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2823bcd484e4e7cb47ceca880584000a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::hash::hash_intermediate_volatile_page_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__STORAGE.html#structfoedus_1_1storage_1_1VolatilePageInitArguments">VolatilePageInitArguments</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>volatile page initialize callback for <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html" title="Represents an intermediate page in Hashtable Storage. ">HashIntermediatePage</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__STORAGE.html#gab1f01cb8d7e103171a991936c4805486" title="A function pointer to initialize a volatile page. ">foedus::storage::VolatilePageInit</a> </dd></dl>

<p>Definition at line <a class="el" href="hash__page__impl_8cpp_source.html#l00213">213</a> of file <a class="el" href="hash__page__impl_8cpp_source.html">hash_page_impl.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="page_8hpp_source.html#l00336">foedus::storage::Page::get_header()</a>, <a class="el" href="page_8hpp_source.html#l00280">foedus::storage::PageHeader::get_page_type()</a>, <a class="el" href="page_8hpp_source.html#l00375">foedus::storage::VolatilePageInitArguments::index_in_parent_</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00040">foedus::storage::hash::HashIntermediatePage::initialize_volatile_page()</a>, <a class="el" href="hash__id_8hpp_source.html#l00049">foedus::storage::hash::kHashIntermediatePageFanout</a>, <a class="el" href="page_8hpp_source.html#l00053">foedus::storage::kHashIntermediatePageType</a>, <a class="el" href="hash__id_8hpp_source.html#l00074">foedus::storage::hash::kHashMaxBins</a>, <a class="el" href="page_8hpp_source.html#l00371">foedus::storage::VolatilePageInitArguments::page_</a>, <a class="el" href="page_8hpp_source.html#l00369">foedus::storage::VolatilePageInitArguments::page_id</a>, <a class="el" href="page_8hpp_source.html#l00373">foedus::storage::VolatilePageInitArguments::parent_</a>, and <a class="el" href="page_8hpp_source.html#l00196">foedus::storage::PageHeader::storage_id_</a>.</p>

<p>Referenced by <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00625">foedus::storage::hash::HashStoragePimpl::follow_page()</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                                                                 {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.parent_);  <span class="comment">// because this is always called for non-root pages.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.page_);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.index_in_parent_ &lt; <a class="code" href="group__HASH.html#ga4398665205e13bd71e8b2c1691ba1ba3">kHashIntermediatePageFanout</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> storage_id = args.parent_-&gt;get_header().storage_id_;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  HashIntermediatePage* page = <span class="keyword">reinterpret_cast&lt;</span>HashIntermediatePage*<span class="keyword">&gt;</span>(args.page_);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(args.parent_-&gt;get_header().get_page_type() == <a class="code" href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714">kHashIntermediatePageType</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keyword">const</span> HashIntermediatePage* parent = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>HashIntermediatePage*<span class="keyword">&gt;</span>(args.parent_);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(parent-&gt;get_level() &gt; 0);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  parent-&gt;assert_range();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="group__HASH.html#gacb9a1ea596bf0db3f6ded1710ab3b3d6">HashBin</a> interval = <a class="code" href="group__HASH.html#ga0083e0d73570a990b862bb330f8d5831">kHashMaxBins</a>[parent-&gt;get_level()];</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="group__HASH.html#gacb9a1ea596bf0db3f6ded1710ab3b3d6">HashBin</a> parent_begin = parent-&gt;get_bin_range().begin_;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="group__HASH.html#gacb9a1ea596bf0db3f6ded1710ab3b3d6">HashBin</a> begin = parent_begin + args.index_in_parent_ * interval;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  uint8_t level = parent-&gt;get_level() - 1U;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  page-&gt;initialize_volatile_page(storage_id, args.page_id, parent, level, begin);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="ttc" id="group__STORAGE_html_gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714"><div class="ttname"><a href="group__STORAGE.html#gga14e35f7fbe4bc18276fde8e8ba460f5baa295f358dce197aac9c593ba56d89714">foedus::storage::kHashIntermediatePageType</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00053">page.hpp:53</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga595ca7fc4a3011a9704a883a25141e5f"><div class="ttname"><a href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">foedus::storage::StorageId</a></div><div class="ttdeci">uint32_t StorageId</div><div class="ttdoc">Unique ID for storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00055">storage_id.hpp:55</a></div></div>
<div class="ttc" id="group__HASH_html_gacb9a1ea596bf0db3f6ded1710ab3b3d6"><div class="ttname"><a href="group__HASH.html#gacb9a1ea596bf0db3f6ded1710ab3b3d6">foedus::storage::hash::HashBin</a></div><div class="ttdeci">uint64_t HashBin</div><div class="ttdoc">Represents a bin of a hash value. </div><div class="ttdef"><b>Definition:</b> <a href="hash__id_8hpp_source.html#l00142">hash_id.hpp:142</a></div></div>
<div class="ttc" id="group__HASH_html_ga4398665205e13bd71e8b2c1691ba1ba3"><div class="ttname"><a href="group__HASH.html#ga4398665205e13bd71e8b2c1691ba1ba3">foedus::storage::hash::kHashIntermediatePageFanout</a></div><div class="ttdeci">const uint8_t kHashIntermediatePageFanout</div><div class="ttdoc">Number of pointers in an intermediate page of hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__id_8hpp_source.html#l00049">hash_id.hpp:49</a></div></div>
<div class="ttc" id="group__HASH_html_ga0083e0d73570a990b862bb330f8d5831"><div class="ttname"><a href="group__HASH.html#ga0083e0d73570a990b862bb330f8d5831">foedus::storage::hash::kHashMaxBins</a></div><div class="ttdeci">const uint64_t kHashMaxBins[]</div><div class="ttdoc">kHashTotalBins[n] gives the maximum number of hash bins n-level hash can hold. </div><div class="ttdef"><b>Definition:</b> <a href="hash__id_8hpp_source.html#l00074">hash_id.hpp:74</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_cgraph.png" border="0" usemap="#group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_cgraph" alt=""/></div>
<map name="group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_cgraph" id="group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="257,5,406,47"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="236,71,427,112"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aeb01df00186ad7f69875d7bd1ff0108e" title="Called only when this page is initialized. " alt="" coords="251,137,412,193"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="475,41,665,83"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1956943904b68b6472f53b4e9ed6df87" title="foedus::storage::PageHeader\l::set_in_layer_level" alt="" coords="475,107,665,148"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="489,173,651,229"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1hash_1_1HashBinRange.html#af492eb6df181653434b727ba29e5c833" title="foedus::storage::hash\l::HashBinRange::contains" alt="" coords="483,253,657,295"/>
<area shape="rect" id="node6" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="713,9,912,51"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="717,75,909,116"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="971,41,1141,83"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="960,107,1152,148"/>
<area shape="rect" id="node9" href="structfoedus_1_1xct_1_1McsWwBlockData.html#a3161e47c41388e9c1b50929f585e366b" title="foedus::xct::McsWwBlockData\l::clear" alt="" coords="1200,41,1401,83"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="717,180,908,221"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_icgraph.png" border="0" usemap="#group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_icgraph" alt=""/></div>
<map name="group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_icgraph" id="group__ARRAY_ga2823bcd484e4e7cb47ceca880584000a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="236,305,449,347"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="497,305,703,347"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="770,29,934,85"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="770,138,934,194"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="763,218,941,274"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="761,298,943,354"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="761,378,943,434"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="754,458,950,514"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="751,578,953,634"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1015,5,1190,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1021,71,1185,127"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1001,152,1204,193"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1252,71,1427,127"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1029,218,1176,274"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1029,298,1177,354"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1028,378,1177,434"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1005,458,1201,514"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1021,538,1184,594"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1258,458,1421,514"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1017,618,1188,674"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gaebdb3ffd25e0a56b4e04fc0f9c112409"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::array::kDataSize = <a class="el" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a> - kHeaderSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Byte size of data region in each page of array storage. </p>

<p>Definition at line <a class="el" href="array__id_8hpp_source.html#l00100">100</a> of file <a class="el" href="array__id_8hpp_source.html">array_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="array__log__types_8hpp_source.html#l00261">foedus::storage::array::ArrayOverwriteLogType::apply_record()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00194">foedus::storage::array::calculate_levels()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00241">foedus::storage::array::ArrayStoragePimpl::calculate_offset_intervals()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00170">foedus::storage::array::ArrayStoragePimpl::calculate_required_pages()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00091">foedus::storage::array::ArrayPage::get_leaf_record()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00066">foedus::storage::array::ArrayPage::get_leaf_record_count()</a>, and <a class="el" href="array__route_8hpp_source.html#l00071">foedus::storage::array::to_records_in_leaf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga11444999ac8b4e470e10e68c8777e6de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::array::kHeaderSize = 64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Byte size of header in each page of array storage. </p>

<p>Definition at line <a class="el" href="array__id_8hpp_source.html#l00095">95</a> of file <a class="el" href="array__id_8hpp_source.html">array_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa3b4fa18b93d578250c8c8a5b613423"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::array::kInteriorFanout = (<a class="el" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a> - kHeaderSize) / kInteriorSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max number of entries in an interior page of array storage. </p>

<p>Definition at line <a class="el" href="array__id_8hpp_source.html#l00110">110</a> of file <a class="el" href="array__id_8hpp_source.html">array_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="array__page__impl_8cpp_source.html#l00078">foedus::storage::array::array_volatile_page_init()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00191">foedus::storage::array::ArrayComposeContext::ArrayComposeContext()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00194">foedus::storage::array::calculate_levels()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00241">foedus::storage::array::ArrayStoragePimpl::calculate_offset_intervals()</a>, <a class="el" href="array__route_8hpp_source.html#l00179">foedus::storage::array::LookupRoute::calculate_page_range()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00170">foedus::storage::array::ArrayStoragePimpl::calculate_required_pages()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00095">foedus::storage::array::ArrayComposer::construct_root()</a>, <a class="el" href="array__partitioner__impl_8cpp_source.html#l00073">foedus::storage::array::ArrayPartitioner::design_partition()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00929">foedus::storage::array::ArrayComposer::drop_volatiles()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00230">foedus::storage::array::ArrayComposeContext::execute()</a>, <a class="el" href="array__route_8hpp_source.html#l00134">foedus::storage::array::LookupRouteFinder::find_route()</a>, <a class="el" href="array__route_8hpp_source.html#l00154">foedus::storage::array::LookupRouteFinder::find_route_and_switch()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00108">foedus::storage::array::ArrayPage::get_interior_record()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00987">foedus::storage::array::ArrayStoragePimpl::hcc_reset_all_temperature_stat_intermediate()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00254">foedus::storage::array::ArrayStoragePimpl::load_empty()</a>, <a class="el" href="array__partitioner__impl_8cpp_source.html#l00347">foedus::storage::array::operator&lt;&lt;()</a>, <a class="el" href="array__partitioner__impl_8cpp_source.html#l00175">foedus::storage::array::ArrayPartitioner::partition_batch()</a>, <a class="el" href="array__storage__prefetch_8cpp_source.html#l00053">foedus::storage::array::ArrayStoragePimpl::prefetch_pages_recurse()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00207">foedus::storage::array::ArrayStoragePimpl::release_pages_recursive()</a>, and <a class="el" href="array__storage__pimpl_8cpp_source.html#l00937">foedus::storage::array::ArrayStoragePimpl::verify_single_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga18173d237784ccc7fc6f67262527476c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::array::kInteriorSize = 16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Byte size of an entry in interior page of array storage. </p>

<p>Definition at line <a class="el" href="array__id_8hpp_source.html#l00105">105</a> of file <a class="el" href="array__id_8hpp_source.html">array_id.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga93fb6161090a026d619f6fc141e9b4fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const ArrayOffset foedus::storage::array::kMaxArrayOffset = (1ULL &lt;&lt; 48) - 1ULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum value allowed for ArrayOffset. </p>

<p>Definition at line <a class="el" href="array__id_8hpp_source.html#l00054">54</a> of file <a class="el" href="array__id_8hpp_source.html">array_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="array__storage__pimpl_8cpp_source.html#l00254">foedus::storage::array::ArrayStoragePimpl::load_empty()</a>, and <a class="el" href="array__partitioner__impl_8cpp_source.html#l00205">foedus::storage::array::SortEntry::set()</a>.</p>

</div>
</div>
<a class="anchor" id="ga982ebbd7c4c135d66a950653a1c7eeb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t foedus::storage::array::kMaxLevels = 8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Code in array storage assumes this number as the maximum number of levels. </p>
<p>Interior page always has a big fanout close to 256, so 8 levels are more than enough. </p>

<p>Definition at line <a class="el" href="array__id_8hpp_source.html#l00118">118</a> of file <a class="el" href="array__id_8hpp_source.html">array_id.hpp</a>.</p>

<p>Referenced by <a class="el" href="array__composer__impl_8cpp_source.html#l00066">foedus::storage::array::ArrayComposer::compose()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1fa71cb1954565848dbbb95d7027ece0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t foedus::storage::kRecordOverhead = sizeof(xct::RwLockableXctId)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Byte size of system-managed region per each record. </p>

<p>Definition at line <a class="el" href="record_8hpp_source.html#l00056">56</a> of file <a class="el" href="record_8hpp_source.html">record.hpp</a>.</p>

<p>Referenced by <a class="el" href="sequential__page__impl_8hpp_source.html#l00155">foedus::storage::sequential::SequentialPage::append_record_nosync()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00194">foedus::storage::array::calculate_levels()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00241">foedus::storage::array::ArrayStoragePimpl::calculate_offset_intervals()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00170">foedus::storage::array::ArrayStoragePimpl::calculate_required_pages()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00184">foedus::storage::sequential::SequentialPage::can_insert_record()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00105">foedus::storage::sequential::SequentialPage::get_all_records_nosync()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00091">foedus::storage::array::ArrayPage::get_leaf_record()</a>, <a class="el" href="array__page__impl_8hpp_source.html#l00066">foedus::storage::array::ArrayPage::get_leaf_record_count()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00100">foedus::storage::sequential::SequentialPage::get_record_length()</a>, <a class="el" href="sequential__page__impl_8hpp_source.html#l00119">foedus::storage::sequential::SequentialPage::get_record_offset()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00678">foedus::storage::array::ArrayStoragePimpl::get_record_primitive_batch()</a>, and <a class="el" href="array__route_8hpp_source.html#l00071">foedus::storage::array::to_records_in_leaf()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
