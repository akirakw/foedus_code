<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: /home/shino/foedus_code/foedus-core/include/foedus/storage/masstree/masstree_id.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('masstree__id_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">masstree_id.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="masstree__id_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2014-2015, Hewlett-Packard Development Company, LP.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * under the terms of the GNU General Public License as published by the Free</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Software Foundation; either version 2 of the License, or (at your option)</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * any later version.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * more details. You should have received a copy of the GNU General Public</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * License along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * HP designates this particular file as subject to the &quot;Classpath&quot; exception</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * as provided by HP in the LICENSE.txt file that accompanied this code.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef FOEDUS_STORAGE_MASSTREE_MASSTREE_ID_HPP_</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define FOEDUS_STORAGE_MASSTREE_MASSTREE_ID_HPP_</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="compiler_8hpp.html">foedus/compiler.hpp</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="endianness_8hpp.html">foedus/assorted/endianness.hpp</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="storage__id_8hpp.html">foedus/storage/storage_id.hpp</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefoedus.html">foedus</a> {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span>storage {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span>masstree {</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">   42</a></span>&#160;<span class="keyword">typedef</span> uint8_t <a class="code" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga54c14c32f171fd8e17499457c56c2817">   48</a></span>&#160;<span class="keyword">const</span> Layer <a class="code" href="group__MASSTREE.html#ga54c14c32f171fd8e17499457c56c2817">kMaxLayer</a> = 63U;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">   54</a></span>&#160;<span class="keyword">typedef</span> uint8_t <a class="code" href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">InLayerLevel</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga1f474f4e6fab3c9fb547cba7c35efe54">   63</a></span>&#160;<span class="keyword">const</span> InLayerLevel <a class="code" href="group__MASSTREE.html#ga1f474f4e6fab3c9fb547cba7c35efe54">kMaxSaneInLayerLevel</a> = 15U;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">   69</a></span>&#160;<span class="keyword">typedef</span> uint16_t <a class="code" href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">KeyLength</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">   75</a></span>&#160;<span class="keyword">const</span> KeyLength <a class="code" href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">kMaxKeyLength</a> = 1024U;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">   86</a></span>&#160;<span class="keyword">const</span> KeyLength <a class="code" href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">kInitiallyNextLayer</a> = 0xFFFFU;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">   92</a></span>&#160;<span class="keyword">typedef</span> uint16_t <a class="code" href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">PayloadLength</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">   98</a></span>&#160;<span class="keyword">const</span> PayloadLength <a class="code" href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">kMaxPayloadLength</a> = 1024U;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">  104</a></span>&#160;<span class="keyword">typedef</span> uint16_t <a class="code" href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">DataOffset</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">  110</a></span>&#160;<span class="keyword">typedef</span> uint16_t <a class="code" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">  126</a></span>&#160;<span class="keyword">typedef</span> uint64_t <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="namespacefoedus_1_1storage_1_1masstree.html#af3549bb49f633f74d58adfb5880b4c52">  129</a></span>&#160;<span class="keyword">const</span> uint64_t <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#af3549bb49f633f74d58adfb5880b4c52">kSliceLen</a> = <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">// infimum can be simply 0 because low-fence is inclusive.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="namespacefoedus_1_1storage_1_1masstree.html#a9cffc20f29ad72d4edbeedece861c48f">  132</a></span>&#160;<span class="keyword">const</span> KeySlice <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a9cffc20f29ad72d4edbeedece861c48f">kInfimumSlice</a> = 0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">// Be aware that this might be used as a valid key slice of \e a record.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// Instead, as a fence, this is always used as a supremum.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// So, for a record key, sanity check is &quot;slice &lt; high_fence || (slice==high_fence==supremum)&quot;</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">// For a fence, sanity check is &quot;slice &lt; high_fence&quot;</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="namespacefoedus_1_1storage_1_1masstree.html#a7bfcd277a96bcd1e9008459abe1ec40d">  137</a></span>&#160;<span class="keyword">const</span> KeySlice <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7bfcd277a96bcd1e9008459abe1ec40d">kSupremumSlice</a> = 0xFFFFFFFFFFFFFFFFULL;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">  144</a></span>&#160;<span class="keyword">const</span> uint32_t <a class="code" href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">kCommonPageHeaderSize</a> = 80U;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">  150</a></span>&#160;<span class="keyword">const</span> uint32_t <a class="code" href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">kBorderPageAdditionalHeaderSize</a> = 8U;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">  156</a></span>&#160;<span class="keyword">const</span> uint32_t <a class="code" href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">kBorderPageSlotSize</a> = 32U;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="keyword">const</span> SlotIndex <a class="code" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">  163</a></span>&#160;  = (<a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a> - kCommonPageHeaderSize - <a class="code" href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">kBorderPageAdditionalHeaderSize</a>)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    / (kBorderPageSlotSize + <span class="keyword">sizeof</span>(KeySlice));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword">const</span> uint32_t <a class="code" href="group__MASSTREE.html#ga91326b566ce7355c1ee6fd3848af01cd">kBorderPageDataPartSize</a></div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga91326b566ce7355c1ee6fd3848af01cd">  171</a></span>&#160;  = <a class="code" href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">kPageSize</a></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    - kCommonPageHeaderSize</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    - kBorderPageAdditionalHeaderSize</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    - <a class="code" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a> * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keyword">const</span> DataOffset <a class="code" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">kBorderPageDataPartOffset</a></div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">  178</a></span>&#160;  = kCommonPageHeaderSize</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  + 8U  <span class="comment">// next_offset_, consecutive_inserts_, dummy_</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  + <a class="code" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a> * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);  <span class="comment">// slices_</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6">  194</a></span>&#160;<span class="keyword">inline</span> KeySlice <a class="code" href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6">normalize_primitive</a>(T value) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (std::numeric_limits&lt;T&gt;::is_signed) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(value) - (1ULL &lt;&lt; 63);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(value);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d">  208</a></span>&#160;<span class="keyword">inline</span> T <a class="code" href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d">denormalize_primitive</a>(KeySlice value) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span> (std::numeric_limits&lt;T&gt;::is_signed) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(value - (1ULL &lt;&lt; 63));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(value);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">  222</a></span>&#160;<span class="keyword">inline</span> KeySlice <a class="code" href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">normalize_be_bytes_full_aligned</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* be_bytes) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// then efficient.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">return</span> assorted::read_bigendian&lt;uint64_t&gt;(be_bytes);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">  233</a></span>&#160;<span class="keyword">inline</span> KeySlice <a class="code" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* be_bytes) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// otherwise we have to copy to an aligned local variable first</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  uint64_t tmp;  <span class="comment">// 8-byte stack variable is guaranteed to be 8-byte aligned. at least in GCC.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  std::memcpy(&amp;tmp, be_bytes, 8);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> assorted::read_bigendian&lt;uint64_t&gt;(&amp;tmp);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">  247</a></span>&#160;<span class="keyword">inline</span> KeySlice <a class="code" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">normalize_be_bytes_fragment</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* be_bytes, uint32_t length) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> (length &gt;= 8) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a>(be_bytes);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  uint64_t tmp = 0;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  std::memcpy(&amp;tmp, be_bytes, length);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">return</span> assorted::read_bigendian&lt;uint64_t&gt;(&amp;tmp);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">  263</a></span>&#160;<span class="keyword">inline</span> KeySlice <a class="code" href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">slice_key</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* be_bytes, KeyLength slice_length) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (slice_length &gt;= <span class="keyword">sizeof</span>(KeySlice)) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a>(be_bytes);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">normalize_be_bytes_fragment</a>(be_bytes, slice_length);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e">  279</a></span>&#160;<span class="keyword">inline</span> KeySlice <a class="code" href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e">slice_layer</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* be_bytes, KeyLength key_length, Layer current_layer) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keyword">const</span> KeyLength skipped = current_layer * <span class="keyword">sizeof</span>(<a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keyword">const</span> KeyLength remainder_length = key_length - skipped;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* casted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(be_bytes);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (remainder_length &gt;= <span class="keyword">sizeof</span>(KeySlice)) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">normalize_be_bytes_full</a>(casted + skipped);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">normalize_be_bytes_fragment</a>(casted + skipped, remainder_length);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#ga1139ddb346aaf969a51c7a703752088f">  298</a></span>&#160;<span class="keyword">inline</span> uint16_t <a class="code" href="group__MASSTREE.html#ga1139ddb346aaf969a51c7a703752088f">count_common_slices</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* left, <span class="keyword">const</span> <span class="keywordtype">void</span>* right, uint16_t max_slices) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keyword">const</span> uint64_t* left_casted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint64_t*<span class="keyword">&gt;</span>(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(left, 8));</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">const</span> uint64_t* right_casted = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint64_t*<span class="keyword">&gt;</span>(<a class="code" href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a>(right, 8));</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">for</span> (uint16_t slices = 0; slices &lt; max_slices; ++slices) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (left_casted[slices] != right_casted[slices]) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">return</span> slices;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">return</span> max_slices;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">  314</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">is_key_aligned_and_zero_padded</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key, KeyLength key_length) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  uintptr_t int_address = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(key);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (int_address % 8 != 0) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">if</span> (key_length % 8 != 0) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    uint16_t paddings = 8 - (key_length % 8);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; paddings; ++i) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">if</span> (key[key_length + i] != 0) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}  <span class="comment">// namespace masstree</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}  <span class="comment">// namespace storage</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}  <span class="comment">// namespace foedus</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#endif  // FOEDUS_STORAGE_MASSTREE_MASSTREE_ID_HPP_</span></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a9cffc20f29ad72d4edbeedece861c48f"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a9cffc20f29ad72d4edbeedece861c48f">foedus::storage::masstree::kInfimumSlice</a></div><div class="ttdeci">const KeySlice kInfimumSlice</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00132">masstree_id.hpp:132</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga54533a5e0a23f34c29a57f8701356491"><div class="ttname"><a href="group__MASSTREE.html#ga54533a5e0a23f34c29a57f8701356491">foedus::storage::masstree::kCommonPageHeaderSize</a></div><div class="ttdeci">const uint32_t kCommonPageHeaderSize</div><div class="ttdoc">Size of the base page class (MasstreePage), which is the common header for intermediate and border pa...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00144">masstree_id.hpp:144</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_af3549bb49f633f74d58adfb5880b4c52"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#af3549bb49f633f74d58adfb5880b4c52">foedus::storage::masstree::kSliceLen</a></div><div class="ttdeci">const uint64_t kSliceLen</div><div class="ttdoc">Shorthand for sizeof(KeySlice). </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00129">masstree_id.hpp:129</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga9d05e904033c0bba7113cdafb43d6610"><div class="ttname"><a href="group__MASSTREE.html#ga9d05e904033c0bba7113cdafb43d6610">foedus::storage::masstree::PayloadLength</a></div><div class="ttdeci">uint16_t PayloadLength</div><div class="ttdoc">Represents a byte-length of a payload in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00092">masstree_id.hpp:92</a></div></div>
<div class="ttc" id="storage__id_8hpp_html"><div class="ttname"><a href="storage__id_8hpp.html">storage_id.hpp</a></div><div class="ttdoc">Definitions of IDs in this package and a few related constant values. </div></div>
<div class="ttc" id="group__MASSTREE_html_ga6280f932bf17f1d9d4acc294ca984bee"><div class="ttname"><a href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">foedus::storage::masstree::SlotIndex</a></div><div class="ttdeci">uint16_t SlotIndex</div><div class="ttdoc">Index of a record in a (border) page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00110">masstree_id.hpp:110</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gae33cf61cd45f5956aa2e46283b9474ab"><div class="ttname"><a href="group__MASSTREE.html#gae33cf61cd45f5956aa2e46283b9474ab">foedus::storage::masstree::kMaxKeyLength</a></div><div class="ttdeci">const KeyLength kMaxKeyLength</div><div class="ttdoc">Max length of a key. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00075">masstree_id.hpp:75</a></div></div>
<div class="ttc" id="namespacefoedus_html"><div class="ttname"><a href="namespacefoedus.html">foedus</a></div><div class="ttdoc">Root package of FOEDUS (Fast Optimistic Engine for Data Unification Services). </div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00044">assert_nd.hpp:44</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga5f09e6bde697b5e2d6389505d17cecb1"><div class="ttname"><a href="group__MASSTREE.html#ga5f09e6bde697b5e2d6389505d17cecb1">foedus::storage::masstree::kBorderPageSlotSize</a></div><div class="ttdeci">const uint32_t kBorderPageSlotSize</div><div class="ttdoc">Byte size of one slot in MasstreeBorderPage excluding slice information. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00156">masstree_id.hpp:156</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga1ab02d0a6214e7d36d74a30afda7b1ff"><div class="ttname"><a href="group__MASSTREE.html#ga1ab02d0a6214e7d36d74a30afda7b1ff">foedus::storage::masstree::DataOffset</a></div><div class="ttdeci">uint16_t DataOffset</div><div class="ttdoc">Byte-offset in a page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00104">masstree_id.hpp:104</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga54c14c32f171fd8e17499457c56c2817"><div class="ttname"><a href="group__MASSTREE.html#ga54c14c32f171fd8e17499457c56c2817">foedus::storage::masstree::kMaxLayer</a></div><div class="ttdeci">const Layer kMaxLayer</div><div class="ttdoc">Maximum value for Layer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00048">masstree_id.hpp:48</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a7abc672ebc91931d1fb7debd5fc1affc"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a7abc672ebc91931d1fb7debd5fc1affc">foedus::storage::masstree::kBorderPageDataPartOffset</a></div><div class="ttdeci">const DataOffset kBorderPageDataPartOffset</div><div class="ttdoc">Offset of data_ member in MasstreeBorderPage. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00178">masstree_id.hpp:178</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa0c469cd4f863aa64e07fcea90b72859"><div class="ttname"><a href="group__MASSTREE.html#gaa0c469cd4f863aa64e07fcea90b72859">foedus::storage::masstree::KeyLength</a></div><div class="ttdeci">uint16_t KeyLength</div><div class="ttdoc">Represents a byte-length of a key in this package. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00069">masstree_id.hpp:69</a></div></div>
<div class="ttc" id="group__COMPILER_html_gae36a71bd5471dacafdfc44648ab7fd2b"><div class="ttname"><a href="group__COMPILER.html#gae36a71bd5471dacafdfc44648ab7fd2b">ASSUME_ALIGNED</a></div><div class="ttdeci">#define ASSUME_ALIGNED(x, y)</div><div class="ttdoc">Wraps GCC&#39;s __builtin_assume_aligned. </div><div class="ttdef"><b>Definition:</b> <a href="compiler_8hpp_source.html#l00111">compiler.hpp:111</a></div></div>
<div class="ttc" id="endianness_8hpp_html"><div class="ttname"><a href="endianness_8hpp.html">endianness.hpp</a></div><div class="ttdoc">A few macros and helper methods related to byte endian-ness. </div></div>
<div class="ttc" id="group__MASSTREE_html_ga6818c708d9ac34b794cb1f91fa6f5296"><div class="ttname"><a href="group__MASSTREE.html#ga6818c708d9ac34b794cb1f91fa6f5296">foedus::storage::masstree::normalize_be_bytes_full</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full(const void *be_bytes)</div><div class="ttdoc">Convert a big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00233">masstree_id.hpp:233</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga1f474f4e6fab3c9fb547cba7c35efe54"><div class="ttname"><a href="group__MASSTREE.html#ga1f474f4e6fab3c9fb547cba7c35efe54">foedus::storage::masstree::kMaxSaneInLayerLevel</a></div><div class="ttdeci">const InLayerLevel kMaxSaneInLayerLevel</div><div class="ttdoc">If InLayerLevel exceeds this value, there must be something wrong. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00063">masstree_id.hpp:63</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gabfe21e7cd7f1a689891743d93c6996c8"><div class="ttname"><a href="group__MASSTREE.html#gabfe21e7cd7f1a689891743d93c6996c8">foedus::storage::masstree::slice_key</a></div><div class="ttdeci">KeySlice slice_key(const void *be_bytes, KeyLength slice_length)</div><div class="ttdoc">Extract a part of a big-endian byte array of given length as KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00263">masstree_id.hpp:263</a></div></div>
<div class="ttc" id="compiler_8hpp_html"><div class="ttname"><a href="compiler_8hpp.html">compiler.hpp</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaeb8e2ed51f11bc2df537c109de8032dd"><div class="ttname"><a href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">foedus::storage::masstree::Layer</a></div><div class="ttdeci">uint8_t Layer</div><div class="ttdoc">Represents the depth of a B-trie layer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00042">masstree_id.hpp:42</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gae073d9373f83e959a96a36d14caef1a4"><div class="ttname"><a href="group__MASSTREE.html#gae073d9373f83e959a96a36d14caef1a4">foedus::storage::masstree::kInitiallyNextLayer</a></div><div class="ttdeci">const KeyLength kInitiallyNextLayer</div><div class="ttdoc">A special key length value that denotes the record in a border page was initially a next-layer pointe...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00086">masstree_id.hpp:86</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga6c1facf4b03e7cf12b21b60ecbf33de6"><div class="ttname"><a href="group__MASSTREE.html#ga6c1facf4b03e7cf12b21b60ecbf33de6">foedus::storage::masstree::normalize_primitive</a></div><div class="ttdeci">KeySlice normalize_primitive(T value)</div><div class="ttdoc">Order-preserving normalization for primitive key types. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00194">masstree_id.hpp:194</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga78a96e3a0ec4256513d9d2e9c94f37fd"><div class="ttname"><a href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">foedus::storage::masstree::kBorderPageMaxSlots</a></div><div class="ttdeci">const SlotIndex kBorderPageMaxSlots</div><div class="ttdoc">Maximum number of slots in one MasstreeBorderPage. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00163">masstree_id.hpp:163</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga91326b566ce7355c1ee6fd3848af01cd"><div class="ttname"><a href="group__MASSTREE.html#ga91326b566ce7355c1ee6fd3848af01cd">foedus::storage::masstree::kBorderPageDataPartSize</a></div><div class="ttdeci">const uint32_t kBorderPageDataPartSize</div><div class="ttdoc">Byte size of the record data part (data_) in MasstreeBorderPage. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00171">masstree_id.hpp:171</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga1dee903a4fd4c4bcaadb95833c4b9a40"><div class="ttname"><a href="group__MASSTREE.html#ga1dee903a4fd4c4bcaadb95833c4b9a40">foedus::storage::masstree::kBorderPageAdditionalHeaderSize</a></div><div class="ttdeci">const uint32_t kBorderPageAdditionalHeaderSize</div><div class="ttdoc">Misc header attributes specific to MasstreeBorderPage placed after the common header. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00150">masstree_id.hpp:150</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga453ffcac369fa68b5eb5d489e6cdca4f"><div class="ttname"><a href="group__MASSTREE.html#ga453ffcac369fa68b5eb5d489e6cdca4f">foedus::storage::masstree::kMaxPayloadLength</a></div><div class="ttdeci">const PayloadLength kMaxPayloadLength</div><div class="ttdoc">Max length of a payload. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00098">masstree_id.hpp:98</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga38a155242a029bca80f210feff535335"><div class="ttname"><a href="group__MASSTREE.html#ga38a155242a029bca80f210feff535335">foedus::storage::masstree::InLayerLevel</a></div><div class="ttdeci">uint8_t InLayerLevel</div><div class="ttdoc">Represents the depth of a B-tree node in a B-trie layer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00054">masstree_id.hpp:54</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaca11c6ba81d4c4c7708ca3bcdff3bfa0"><div class="ttname"><a href="group__MASSTREE.html#gaca11c6ba81d4c4c7708ca3bcdff3bfa0">foedus::storage::masstree::is_key_aligned_and_zero_padded</a></div><div class="ttdeci">bool is_key_aligned_and_zero_padded(const char *key, KeyLength key_length)</div><div class="ttdoc">Returns if the given key is 8-bytes aligned and also zero-padded to 8-bytes for easier slicing (which...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00314">masstree_id.hpp:314</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaa6842bc28437a9d4319e51471f4e3237"><div class="ttname"><a href="group__MASSTREE.html#gaa6842bc28437a9d4319e51471f4e3237">foedus::storage::masstree::normalize_be_bytes_fragment</a></div><div class="ttdeci">KeySlice normalize_be_bytes_fragment(const void *be_bytes, uint32_t length)</div><div class="ttdoc">Convert a big-endian byte array of given length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00247">masstree_id.hpp:247</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gaf7d6f648a3abc01de518d10f7d325b2d"><div class="ttname"><a href="group__MASSTREE.html#gaf7d6f648a3abc01de518d10f7d325b2d">foedus::storage::masstree::denormalize_primitive</a></div><div class="ttdeci">T denormalize_primitive(KeySlice value)</div><div class="ttdoc">Opposite of normalize_primitive(). </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00208">masstree_id.hpp:208</a></div></div>
<div class="ttc" id="namespacefoedus_1_1storage_1_1masstree_html_a7bfcd277a96bcd1e9008459abe1ec40d"><div class="ttname"><a href="namespacefoedus_1_1storage_1_1masstree.html#a7bfcd277a96bcd1e9008459abe1ec40d">foedus::storage::masstree::kSupremumSlice</a></div><div class="ttdeci">const KeySlice kSupremumSlice</div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00137">masstree_id.hpp:137</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga1139ddb346aaf969a51c7a703752088f"><div class="ttname"><a href="group__MASSTREE.html#ga1139ddb346aaf969a51c7a703752088f">foedus::storage::masstree::count_common_slices</a></div><div class="ttdeci">uint16_t count_common_slices(const void *left, const void *right, uint16_t max_slices)</div><div class="ttdoc">Returns the number of 8-byte slices that the two strings share as prefix. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00298">masstree_id.hpp:298</a></div></div>
<div class="ttc" id="group__MASSTREE_html_gabdb6a706258be601e621e58653bf528e"><div class="ttname"><a href="group__MASSTREE.html#gabdb6a706258be601e621e58653bf528e">foedus::storage::masstree::slice_layer</a></div><div class="ttdeci">KeySlice slice_layer(const void *be_bytes, KeyLength key_length, Layer current_layer)</div><div class="ttdoc">Extract a part of a big-endian byte array of given length as KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00279">masstree_id.hpp:279</a></div></div>
<div class="ttc" id="group__STORAGE_html_ga1a3c05fe1d44455fc3e761947c6e21e6"><div class="ttname"><a href="group__STORAGE.html#ga1a3c05fe1d44455fc3e761947c6e21e6">foedus::storage::kPageSize</a></div><div class="ttdeci">const uint16_t kPageSize</div><div class="ttdoc">A constant defining the page size (in bytes) of both snapshot pages and volatile pages. </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00045">storage_id.hpp:45</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga48710f51199feed3db2e2f374ae73814"><div class="ttname"><a href="group__MASSTREE.html#ga48710f51199feed3db2e2f374ae73814">foedus::storage::masstree::normalize_be_bytes_full_aligned</a></div><div class="ttdeci">KeySlice normalize_be_bytes_full_aligned(const void *be_bytes)</div><div class="ttdoc">Convert an aligned big-endian byte array of at least 8-bytes-length to KeySlice. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00222">masstree_id.hpp:222</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8937f9425540f92243ad585d5de884fc.html">foedus-core</a></li><li class="navelem"><a class="el" href="dir_6f67f5e5099bcaca1b86c6412add5f6c.html">include</a></li><li class="navelem"><a class="el" href="dir_e2c6bc5bd212a768ceff7b155baa199e.html">foedus</a></li><li class="navelem"><a class="el" href="dir_2fbda52012fcfad96d33d284c8344f9b.html">storage</a></li><li class="navelem"><a class="el" href="dir_8090459ce47917ebff411612cf8b5fc9.html">masstree</a></li><li class="navelem"><a class="el" href="masstree__id_8hpp.html">masstree_id.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
