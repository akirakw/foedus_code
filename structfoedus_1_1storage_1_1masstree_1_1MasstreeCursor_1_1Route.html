<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::masstree::MasstreeCursor::Route Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::masstree::MasstreeCursor::Route Struct Reference<div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a> &raquo; <a class="el" href="group__MASSTREE.html">Masstree Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents one page in the current search path from layer0-root.  
 <a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents one page in the current search path from layer0-root. </p>
<p>Either it's interior or border, this object stores some kind of a marker to note up to where we read the page so far. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00083">83</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for foedus::storage::masstree::MasstreeCursor::Route:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_coll__map" id="foedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html" title="Common base of MasstreeIntermediatePage and MasstreeBorderPage. " alt="" coords="247,392,421,433"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1PageHeader.html" title="Just a marker to denote that a memory region represents a data page. " alt="" coords="39,295,229,322"/>
<area shape="rect" id="node4" href="structfoedus_1_1assorted_1_1ProbCounter.html" title="Implements a probabilistic counter [Morris 1978]. " alt="" coords="227,199,425,225"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1PageVersion.html" title="Just a synonym of XctId to be used as a page lock mechanism. " alt="" coords="10,199,202,225"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1PageVersionStatus.html" title="foedus::storage::PageVersion\lStatus" alt="" coords="291,95,483,136"/>
<area shape="rect" id="node7" href="structfoedus_1_1xct_1_1McsWwLock.html" title="An exclusive&#45;only (WW) MCS lock data structure. " alt="" coords="21,102,191,129"/>
<area shape="rect" id="node8" href="structfoedus_1_1xct_1_1McsWwBlockData.html" title="Exclusive&#45;only (WW) MCS lock classes. " alt="" coords="5,5,207,32"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="253,288,415,329"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a876b5d5ce8f5bd89b9859c9cb6449fc0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0">MovedPageSearchStatus</a> { <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a063d5c6fb78b4bffbc426b571fb986f0">kNone</a> = 0, 
<a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a282becd3d540d8f66bd3107291c838f8">kMovedPageSearchedNeither</a> = 1, 
<a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a1878c8581502e60b8965ba3a6f29ca51">kMovedPageSearchedOne</a> = 2, 
<a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a57865634cf8b421127900761cb702666">kMovedPageSearchedBoth</a> = 3
 }<tr class="separator:a876b5d5ce8f5bd89b9859c9cb6449fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5735435db7895de297b925a4703a3c0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a5735435db7895de297b925a4703a3c0b">get_cur_original_index</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a5735435db7895de297b925a4703a3c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c3d6b3ae41b0657000e1dcd8ade591"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a10c3d6b3ae41b0657000e1dcd8ade591">get_original_index</a> (<a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> index) const __attribute__((always_inline))</td></tr>
<tr class="separator:a10c3d6b3ae41b0657000e1dcd8ade591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14da42a215184c0fc5d3cee4a71d016a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a14da42a215184c0fc5d3cee4a71d016a">is_valid_record</a> () const __attribute__((always_inline))</td></tr>
<tr class="separator:a14da42a215184c0fc5d3cee4a71d016a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47e594e10272437e6203083b085cec6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ae47e594e10272437e6203083b085cec6">was_stably_moved</a> () const </td></tr>
<tr class="memdesc:ae47e594e10272437e6203083b085cec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">In almost all places of the cursor code, we check is_moved() only on the stable version so that the cursor can consistently decide whether to follow foster-twins or not.  <a href="#ae47e594e10272437e6203083b085cec6">More...</a><br /></td></tr>
<tr class="separator:ae47e594e10272437e6203083b085cec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77650fe984075f3443734de573fae304"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a77650fe984075f3443734de573fae304">setup_order</a> ()</td></tr>
<tr class="separator:a77650fe984075f3443734de573fae304"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2c06b51bf091c32a07fcdc1ee7310979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a2c06b51bf091c32a07fcdc1ee7310979">page_</a></td></tr>
<tr class="separator:a2c06b51bf091c32a07fcdc1ee7310979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa2e5627e310afdda68527930d87c1bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1PageVersionStatus.html">PageVersionStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#aaa2e5627e310afdda68527930d87c1bb">stable_</a></td></tr>
<tr class="memdesc:aaa2e5627e310afdda68527930d87c1bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">version as of calculating order_.  <a href="#aaa2e5627e310afdda68527930d87c1bb">More...</a><br /></td></tr>
<tr class="separator:aaa2e5627e310afdda68527930d87c1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43d1026237324ea9b98ee16d4d2a664"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ab43d1026237324ea9b98ee16d4d2a664">index_</a></td></tr>
<tr class="memdesc:ab43d1026237324ea9b98ee16d4d2a664"><td class="mdescLeft">&#160;</td><td class="mdescRight">index in ordered keys.  <a href="#ab43d1026237324ea9b98ee16d4d2a664">More...</a><br /></td></tr>
<tr class="separator:ab43d1026237324ea9b98ee16d4d2a664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4daacba97488effaca1314f2af9ccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a0a4daacba97488effaca1314f2af9ccc">index_mini_</a></td></tr>
<tr class="memdesc:a0a4daacba97488effaca1314f2af9ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">only for interior.  <a href="#a0a4daacba97488effaca1314f2af9ccc">More...</a><br /></td></tr>
<tr class="separator:a0a4daacba97488effaca1314f2af9ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10026673c1bcfef1519875d77a97ae3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a10026673c1bcfef1519875d77a97ae3a">key_count_</a></td></tr>
<tr class="memdesc:a10026673c1bcfef1519875d77a97ae3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">same as stable_.get_key_count()  <a href="#a10026673c1bcfef1519875d77a97ae3a">More...</a><br /></td></tr>
<tr class="separator:a10026673c1bcfef1519875d77a97ae3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f869daea24f502f8034a253be83f98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ab0f869daea24f502f8034a253be83f98">key_count_mini_</a></td></tr>
<tr class="memdesc:ab0f869daea24f502f8034a253be83f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">only for interior.  <a href="#ab0f869daea24f502f8034a253be83f98">More...</a><br /></td></tr>
<tr class="separator:ab0f869daea24f502f8034a253be83f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a50f050c6b99f6fcf611371a3e3b27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a90a50f050c6b99f6fcf611371a3e3b27">snapshot_</a></td></tr>
<tr class="memdesc:a90a50f050c6b99f6fcf611371a3e3b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether page_ is a snapshot page  <a href="#a90a50f050c6b99f6fcf611371a3e3b27">More...</a><br /></td></tr>
<tr class="separator:a90a50f050c6b99f6fcf611371a3e3b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db1c8be7f989686767e59991086587d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a6db1c8be7f989686767e59991086587d">layer_</a></td></tr>
<tr class="memdesc:a6db1c8be7f989686767e59991086587d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for page_-&gt;get_layer()  <a href="#a6db1c8be7f989686767e59991086587d">More...</a><br /></td></tr>
<tr class="separator:a6db1c8be7f989686767e59991086587d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9086dc97bb5360960590b8a85f40d14e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0">MovedPageSearchStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a9086dc97bb5360960590b8a85f40d14e">moved_page_search_status_</a></td></tr>
<tr class="memdesc:a9086dc97bb5360960590b8a85f40d14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">only when stable_ indicates that this page is a moved page  <a href="#a9086dc97bb5360960590b8a85f40d14e">More...</a><br /></td></tr>
<tr class="separator:a9086dc97bb5360960590b8a85f40d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ddd7e6d29a8bb5c84ac534772680e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a94ddd7e6d29a8bb5c84ac534772680e8">latest_separator_</a></td></tr>
<tr class="memdesc:a94ddd7e6d29a8bb5c84ac534772680e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upto which separator we are done.  <a href="#a94ddd7e6d29a8bb5c84ac534772680e8">More...</a><br /></td></tr>
<tr class="separator:a94ddd7e6d29a8bb5c84ac534772680e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b152195eb01210acc4ce2a52d6240a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">order_</a> [<a class="el" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a>]</td></tr>
<tr class="memdesc:a15b152195eb01210acc4ce2a52d6240a"><td class="mdescLeft">&#160;</td><td class="mdescRight">only for border.  <a href="#a15b152195eb01210acc4ce2a52d6240a">More...</a><br /></td></tr>
<tr class="separator:a15b152195eb01210acc4ce2a52d6240a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a876b5d5ce8f5bd89b9859c9cb6449fc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0">foedus::storage::masstree::MasstreeCursor::Route::MovedPageSearchStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a876b5d5ce8f5bd89b9859c9cb6449fc0a063d5c6fb78b4bffbc426b571fb986f0"></a>kNone&#160;</td><td class="fielddoc">
<p>This means <em>either</em> <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ae47e594e10272437e6203083b085cec6" title="In almost all places of the cursor code, we check is_moved() only on the stable version so that the c...">was_stably_moved()</a> is false or it's intermediate page, in which case we don't neeed to follow foster twins. </p>
<p>If it's a border page whose <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ae47e594e10272437e6203083b085cec6" title="In almost all places of the cursor code, we check is_moved() only on the stable version so that the c...">was_stably_moved()</a> returns true, the status might be one of the followings. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a876b5d5ce8f5bd89b9859c9cb6449fc0a282becd3d540d8f66bd3107291c838f8"></a>kMovedPageSearchedNeither&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a876b5d5ce8f5bd89b9859c9cb6449fc0a1878c8581502e60b8965ba3a6f29ca51"></a>kMovedPageSearchedOne&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a876b5d5ce8f5bd89b9859c9cb6449fc0a57865634cf8b421127900761cb702666"></a>kMovedPageSearchedBoth&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00084">84</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                               {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a063d5c6fb78b4bffbc426b571fb986f0">kNone</a> = 0,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a282becd3d540d8f66bd3107291c838f8">kMovedPageSearchedNeither</a> = 1,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a1878c8581502e60b8965ba3a6f29ca51">kMovedPageSearchedOne</a> = 2,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a57865634cf8b421127900761cb702666">kMovedPageSearchedBoth</a> = 3,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    };</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a876b5d5ce8f5bd89b9859c9cb6449fc0a063d5c6fb78b4bffbc426b571fb986f0"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a063d5c6fb78b4bffbc426b571fb986f0">foedus::storage::masstree::MasstreeCursor::Route::kNone</a></div><div class="ttdoc">This means either was_stably_moved() is false or it&#39;s intermediate page, in which case we don&#39;t neeed...</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00090">masstree_cursor.hpp:90</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a876b5d5ce8f5bd89b9859c9cb6449fc0a57865634cf8b421127900761cb702666"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a57865634cf8b421127900761cb702666">foedus::storage::masstree::MasstreeCursor::Route::kMovedPageSearchedBoth</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00093">masstree_cursor.hpp:93</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a876b5d5ce8f5bd89b9859c9cb6449fc0a1878c8581502e60b8965ba3a6f29ca51"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a1878c8581502e60b8965ba3a6f29ca51">foedus::storage::masstree::MasstreeCursor::Route::kMovedPageSearchedOne</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00092">masstree_cursor.hpp:92</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a876b5d5ce8f5bd89b9859c9cb6449fc0a282becd3d540d8f66bd3107291c838f8"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0a282becd3d540d8f66bd3107291c838f8">foedus::storage::masstree::MasstreeCursor::Route::kMovedPageSearchedNeither</a></div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00091">masstree_cursor.hpp:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5735435db7895de297b925a4703a3c0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> foedus::storage::masstree::MasstreeCursor::Route::get_cur_original_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00147">147</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8hpp_source.html#l00113">index_</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                           {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">order_</a>[<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ab43d1026237324ea9b98ee16d4d2a664">index_</a>];</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_ab43d1026237324ea9b98ee16d4d2a664"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ab43d1026237324ea9b98ee16d4d2a664">foedus::storage::masstree::MasstreeCursor::Route::index_</a></div><div class="ttdeci">SlotIndex index_</div><div class="ttdoc">index in ordered keys. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00113">masstree_cursor.hpp:113</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a15b152195eb01210acc4ce2a52d6240a"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">foedus::storage::masstree::MasstreeCursor::Route::order_</a></div><div class="ttdeci">SlotIndex order_[kBorderPageMaxSlots]</div><div class="ttdoc">only for border. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00145">masstree_cursor.hpp:145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10c3d6b3ae41b0657000e1dcd8ade591"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> foedus::storage::masstree::MasstreeCursor::Route::get_original_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00150">150</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                                                      {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">order_</a>[index];</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a15b152195eb01210acc4ce2a52d6240a"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">foedus::storage::masstree::MasstreeCursor::Route::order_</a></div><div class="ttdeci">SlotIndex order_[kBorderPageMaxSlots]</div><div class="ttdoc">only for border. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00145">masstree_cursor.hpp:145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a14da42a215184c0fc5d3cee4a71d016a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeCursor::Route::is_valid_record </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00153">153</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="masstree__cursor_8hpp_source.html#l00122">key_count_</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8hpp_source.html#l00223">foedus::storage::masstree::MasstreeCursor::is_valid_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                                  {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ab43d1026237324ea9b98ee16d4d2a664">index_</a> &lt; <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a10026673c1bcfef1519875d77a97ae3a">key_count_</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_ab43d1026237324ea9b98ee16d4d2a664"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#ab43d1026237324ea9b98ee16d4d2a664">foedus::storage::masstree::MasstreeCursor::Route::index_</a></div><div class="ttdeci">SlotIndex index_</div><div class="ttdoc">index in ordered keys. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00113">masstree_cursor.hpp:113</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a10026673c1bcfef1519875d77a97ae3a"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a10026673c1bcfef1519875d77a97ae3a">foedus::storage::masstree::MasstreeCursor::Route::key_count_</a></div><div class="ttdeci">SlotIndex key_count_</div><div class="ttdoc">same as stable_.get_key_count() </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00122">masstree_cursor.hpp:122</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a14da42a215184c0fc5d3cee4a71d016a_icgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a14da42a215184c0fc5d3cee4a71d016a_icgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a14da42a215184c0fc5d3cee4a71d016a_icgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a14da42a215184c0fc5d3cee4a71d016a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ae28baba8eb5b92bc2c737fae67e5d2a2" title="foedus::storage::masstree\l::MasstreeCursor::is_valid_record" alt="" coords="227,468,441,509"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af268bffce45fd61ca1c318e97c421999" title="Copies the entire big&#45;endian key of the current record to the given buffer. " alt="" coords="526,129,699,185"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a89b95de73681a08b028fda1b8841cd79" title="Another version to get a part of the key, from the offset for len bytes. " alt="" coords="526,209,699,265"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ad95afe1e5788bff31c7768d68f5bb9da" title="Returns only the slice of the key in the layer of the current page. " alt="" coords="525,289,701,345"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a370d53c184a5f82017ca78fc9d810bf5" title="Returns the length of the whole key we are currently pointing to. " alt="" coords="503,369,722,411"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af499e03047fb21045846508736edf433" title="Returns the suffix part of the key in the page. " alt="" coords="506,435,719,476"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#aa2ca07acb134dd9bc25374823d74eadc" title="This method assumes the key length is at most 8 bytes. " alt="" coords="489,500,736,541"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a1571dffe5d829eea45448d900abe6af8" title="foedus::storage::masstree\l::MasstreeCursor::get_payload" alt="" coords="513,565,713,607"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a03e79cefca86fe14b4328e94813a34c9" title="foedus::storage::masstree\l::MasstreeCursor::get_payload_length" alt="" coords="491,631,734,672"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a923c9931204ce6c6f791ffeb73cec6b3" title="Moves the cursor to next record. " alt="" coords="526,696,699,737"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a226f6c437144cfb13f8e64baecb41d8a" title="foedus::storage::masstree\l::MasstreeCursor::open" alt="" coords="526,761,699,803"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#af263fb1494c7ac6a5dbfd28b926ede3b" title="foedus::storage::masstree\l::MasstreeCursor::delete_record" alt="" coords="799,5,1007,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a47399bb011685ecfa60399a14c241771" title="For even handier use, it returns std::string. " alt="" coords="784,71,1023,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a81ce493961aa7dedc518ca4230d01868" title="foedus::storage::masstree\l::MasstreeCursor::increment_record" alt="" coords="788,136,1019,177"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#ab8b1919cb195dd063be409f772b36630" title="foedus::storage::masstree\l::MasstreeCursor::overwrite_record" alt="" coords="792,201,1015,243"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a496370a645284f8578875529c6eacb0f" title="foedus::storage::masstree\l::MasstreeCursor::overwrite\l_record_primitive" alt="" coords="813,267,993,323"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a3ca58d4acdbc13f9cfd341d95f45caa2" title="foedus::storage::masstree\l::MasstreeCursor::open\l_normalized" alt="" coords="817,754,990,810"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a77650fe984075f3443734de573fae304"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void foedus::storage::masstree::MasstreeCursor::Route::setup_order </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8cpp_source.html#l00564">564</a> of file <a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="masstree__page__impl_8hpp_source.html#l00084">foedus::storage::masstree::MasstreePage::is_border()</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00122">key_count_</a>, <a class="el" href="masstree__cursor_8hpp_source.html#l00145">order_</a>, and <a class="el" href="masstree__cursor_8hpp_source.html#l00095">page_</a>.</p>
<div class="fragment"><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                             {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a2c06b51bf091c32a07fcdc1ee7310979">page_</a>-&gt;<a class="code" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec">is_border</a>());</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// sort entries in this page</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// we have already called prefetch_general(), which prefetches 4 cachelines (256 bytes).</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// as we are reading up to slices_[key_count - 1], we might want to prefetch more.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  MasstreeBorderPage* page = <span class="keyword">reinterpret_cast&lt;</span>MasstreeBorderPage*<span class="keyword">&gt;</span>(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a2c06b51bf091c32a07fcdc1ee7310979">page_</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> i = 0; i &lt; <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a10026673c1bcfef1519875d77a97ae3a">key_count_</a>; ++i) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">order_</a>[i] = i;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">if</span> (page-&gt;is_consecutive_inserts()) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    DVLOG(2) &lt;&lt; <span class="stringliteral">&quot;lucky, an already sorted border page.&quot;</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  page-&gt;prefetch_additional_if_needed(key_count_);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keyword">struct </span>Sorter {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keyword">explicit</span> Sorter(<span class="keyword">const</span> MasstreeBorderPage* target) : target_(target) {}</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordtype">bool</span> operator() (<a class="code" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> left, <a class="code" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> right) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> left_slice = target_-&gt;get_slice(left);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> right_slice = target_-&gt;get_slice(right);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">if</span> (left_slice &lt; right_slice) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (left_slice == right_slice) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">return</span> target_-&gt;get_remainder_length(left) &lt; target_-&gt;get_remainder_length(right);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keyword">const</span> MasstreeBorderPage* target_;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  };</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="comment">// this sort order in page is correct even without evaluating the suffix.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="comment">// however, to compare with our searching key, we need to consider suffix</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  std::sort(<a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">order_</a>, <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">order_</a> + key_count_, Sorter(page));</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div>
<div class="ttc" id="group__MASSTREE_html_ga6280f932bf17f1d9d4acc294ca984bee"><div class="ttname"><a href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">foedus::storage::masstree::SlotIndex</a></div><div class="ttdeci">uint16_t SlotIndex</div><div class="ttdoc">Index of a record in a (border) page. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00110">masstree_id.hpp:110</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1masstree_1_1MasstreePage_html_a1a6f55a5a59bcab9631bbb879da689ec"><div class="ttname"><a href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec">foedus::storage::masstree::MasstreePage::is_border</a></div><div class="ttdeci">bool is_border() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="masstree__page__impl_8hpp_source.html#l00084">masstree_page_impl.hpp:84</a></div></div>
<div class="ttc" id="group__MASSTREE_html_ga556e8f0d5e02e78f3ddecd8f5b022bf6"><div class="ttname"><a href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">foedus::storage::masstree::KeySlice</a></div><div class="ttdeci">uint64_t KeySlice</div><div class="ttdoc">Each key slice is an 8-byte integer. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__id_8hpp_source.html#l00126">masstree_id.hpp:126</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a2c06b51bf091c32a07fcdc1ee7310979"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a2c06b51bf091c32a07fcdc1ee7310979">foedus::storage::masstree::MasstreeCursor::Route::page_</a></div><div class="ttdeci">MasstreePage * page_</div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00095">masstree_cursor.hpp:95</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a10026673c1bcfef1519875d77a97ae3a"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a10026673c1bcfef1519875d77a97ae3a">foedus::storage::masstree::MasstreeCursor::Route::key_count_</a></div><div class="ttdeci">SlotIndex key_count_</div><div class="ttdoc">same as stable_.get_key_count() </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00122">masstree_cursor.hpp:122</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_a15b152195eb01210acc4ce2a52d6240a"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a15b152195eb01210acc4ce2a52d6240a">foedus::storage::masstree::MasstreeCursor::Route::order_</a></div><div class="ttdeci">SlotIndex order_[kBorderPageMaxSlots]</div><div class="ttdoc">only for border. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00145">masstree_cursor.hpp:145</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a77650fe984075f3443734de573fae304_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a77650fe984075f3443734de573fae304_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a77650fe984075f3443734de573fae304_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_a77650fe984075f3443734de573fae304_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html#a1a6f55a5a59bcab9631bbb879da689ec" title="foedus::storage::masstree\l::MasstreePage::is_border" alt="" coords="227,13,401,54"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="449,13,640,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae47e594e10272437e6203083b085cec6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeCursor::Route::was_stably_moved </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In almost all places of the cursor code, we check is_moved() only on the stable version so that the cursor can consistently decide whether to follow foster-twins or not. </p>
<p>So, we shouldn't have any "is_moved" in the file other than this. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00161">161</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>References <a class="el" href="page_8hpp_source.html#l00071">foedus::storage::PageVersionStatus::is_moved()</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#aaa2e5627e310afdda68527930d87c1bb">stable_</a>.<a class="code" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae">is_moved</a>(); }</div>
<div class="ttc" id="structfoedus_1_1storage_1_1PageVersionStatus_html_ac3214863fa74628187ce46b2879994ae"><div class="ttname"><a href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae">foedus::storage::PageVersionStatus::is_moved</a></div><div class="ttdeci">bool is_moved() const __attribute__((always_inline))</div><div class="ttdef"><b>Definition:</b> <a href="page_8hpp_source.html#l00071">page.hpp:71</a></div></div>
<div class="ttc" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_html_aaa2e5627e310afdda68527930d87c1bb"><div class="ttname"><a href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#aaa2e5627e310afdda68527930d87c1bb">foedus::storage::masstree::MasstreeCursor::Route::stable_</a></div><div class="ttdeci">PageVersionStatus stable_</div><div class="ttdoc">version as of calculating order_. </div><div class="ttdef"><b>Definition:</b> <a href="masstree__cursor_8hpp_source.html#l00111">masstree_cursor.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_ae47e594e10272437e6203083b085cec6_cgraph.png" border="0" usemap="#structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_ae47e594e10272437e6203083b085cec6_cgraph" alt=""/></div>
<map name="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_ae47e594e10272437e6203083b085cec6_cgraph" id="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route_ae47e594e10272437e6203083b085cec6_cgraph">
<area shape="rect" id="node2" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="227,13,419,54"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab43d1026237324ea9b98ee16d4d2a664"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> foedus::storage::masstree::MasstreeCursor::Route::index_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>index in ordered keys. </p>
<p>in interior, same. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00113">113</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8hpp_source.html#l00147">get_cur_original_index()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a4daacba97488effaca1314f2af9ccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> foedus::storage::masstree::MasstreeCursor::Route::index_mini_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>only for interior. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00115">115</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a10026673c1bcfef1519875d77a97ae3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> foedus::storage::masstree::MasstreeCursor::Route::key_count_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>same as stable_.get_key_count() </p>
<dl class="section note"><dt>Note</dt><dd>Even in a border page, <b>key_count_</b> <b>might</b> <b>be</b> <b>zero</b>. Such a case might happen right after no-record-split, split for a super-long key/value etc. We tolerate such a page in routes_, and just skip over it in <a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html#a923c9931204ce6c6f791ffeb73cec6b3" title="Moves the cursor to next record. ">next()</a> etc. </dd></dl>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00122">122</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8hpp_source.html#l00153">is_valid_record()</a>, and <a class="el" href="masstree__cursor_8cpp_source.html#l00564">setup_order()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0f869daea24f502f8034a253be83f98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> foedus::storage::masstree::MasstreeCursor::Route::key_count_mini_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>only for interior. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00124">124</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a94ddd7e6d29a8bb5c84ac534772680e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga556e8f0d5e02e78f3ddecd8f5b022bf6">KeySlice</a> foedus::storage::masstree::MasstreeCursor::Route::latest_separator_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Upto which separator we are done. </p>
<p>only for interior. If forward search, we followed a pointer before this separator. If backward search, we followed a pointer after this separator. This is updated whenever we follow a pointer from this interior page, and used when we have to re-find the separator. In Master-tree, a separator never disappears from the page, so we can surely find this. </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00142">142</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6db1c8be7f989686767e59991086587d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#gaeb8e2ed51f11bc2df537c109de8032dd">Layer</a> foedus::storage::masstree::MasstreeCursor::Route::layer_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shorthand for page_-&gt;get_layer() </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00129">129</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8cpp_source.html#l00077">foedus::storage::masstree::MasstreeCursor::copy_combined_key()</a>, and <a class="el" href="masstree__cursor_8cpp_source.html#l00095">foedus::storage::masstree::MasstreeCursor::copy_combined_key_part()</a>.</p>

</div>
</div>
<a class="anchor" id="a9086dc97bb5360960590b8a85f40d14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html#a876b5d5ce8f5bd89b9859c9cb6449fc0">MovedPageSearchStatus</a> foedus::storage::masstree::MasstreeCursor::Route::moved_page_search_status_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>only when stable_ indicates that this page is a moved page </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00132">132</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a15b152195eb01210acc4ce2a52d6240a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MASSTREE.html#ga6280f932bf17f1d9d4acc294ca984bee">SlotIndex</a> foedus::storage::masstree::MasstreeCursor::Route::order_[<a class="el" href="group__MASSTREE.html#ga78a96e3a0ec4256513d9d2e9c94f37fd">kBorderPageMaxSlots</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>only for border. </p>
<p>order_[0] is the index of smallest record, [1] second smallest... </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00145">145</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8cpp_source.html#l00564">setup_order()</a>.</p>

</div>
</div>
<a class="anchor" id="a2c06b51bf091c32a07fcdc1ee7310979"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreePage.html">MasstreePage</a>* foedus::storage::masstree::MasstreeCursor::Route::page_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00095">95</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

<p>Referenced by <a class="el" href="masstree__cursor_8cpp_source.html#l00077">foedus::storage::masstree::MasstreeCursor::copy_combined_key()</a>, <a class="el" href="masstree__cursor_8cpp_source.html#l00095">foedus::storage::masstree::MasstreeCursor::copy_combined_key_part()</a>, and <a class="el" href="masstree__cursor_8cpp_source.html#l00564">setup_order()</a>.</p>

</div>
</div>
<a class="anchor" id="a90a50f050c6b99f6fcf611371a3e3b27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool foedus::storage::masstree::MasstreeCursor::Route::snapshot_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>whether page_ is a snapshot page </p>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00127">127</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaa2e5627e310afdda68527930d87c1bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1PageVersionStatus.html">PageVersionStatus</a> foedus::storage::masstree::MasstreeCursor::Route::stable_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>version as of calculating order_. </p>
<p>We also guarantee that we retrieved key_count_ and key_count_mini_ <em>as-of</em> OR <em>after</em> this version.</p>
<p>Q: Why it could be "after"? A: When we find that an intermediate page now has more separators, we need to re-search (rebase) in the page. In that case, the only thing we care is key_count_ and key_count_mini_. Version number of intermediate pages has no effect .. except is_moved(). But, even in that case, intermediate page has an invariant that we can just search in the old page. Thus, in either case, we don't update stable_ but only re-retrieve key_count_ and key_count_mini_.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>Once constructed this <a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html" title="Represents one page in the current search path from layer0-root. ">Route</a> object, stable_ is immutable. We won't update it. </dd></dl>

<p>Definition at line <a class="el" href="masstree__cursor_8hpp_source.html#l00111">111</a> of file <a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/masstree/<a class="el" href="masstree__cursor_8hpp_source.html">masstree_cursor.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/masstree/<a class="el" href="masstree__cursor_8cpp_source.html">masstree_cursor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1masstree.html">masstree</a></li><li class="navelem"><a class="el" href="classfoedus_1_1storage_1_1masstree_1_1MasstreeCursor.html">MasstreeCursor</a></li><li class="navelem"><a class="el" href="structfoedus_1_1storage_1_1masstree_1_1MasstreeCursor_1_1Route.html">Route</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
