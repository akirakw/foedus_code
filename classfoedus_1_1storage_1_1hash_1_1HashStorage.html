<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::hash::HashStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1storage_1_1hash_1_1HashStorage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1storage_1_1hash_1_1HashStorage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::hash::HashStorage Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a> &raquo; <a class="el" href="group__HASH.html">Hashtable Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a key-value store based on a dense and regular hash.  
 <a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a key-value store based on a dense and regular hash. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00043">43</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::storage::hash::HashStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage__inherit__graph.png" border="0" usemap="#foedus_1_1storage_1_1hash_1_1HashStorage_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1storage_1_1hash_1_1HashStorage_inherit__map" id="foedus_1_1storage_1_1hash_1_1HashStorage_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html" title="foedus::storage::Storage\l\&lt; HashStorageControlBlock \&gt;" alt="" coords="5,95,200,136"/>
<area shape="rect" id="node3" href="classfoedus_1_1Attachable.html" title="foedus::Attachable\l\&lt; HashStorageControlBlock \&gt;" alt="" coords="5,5,200,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::storage::hash::HashStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1hash_1_1HashStorage_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1hash_1_1HashStorage_coll__map" id="foedus_1_1storage_1_1hash_1_1HashStorage_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html" title="foedus::storage::Storage\l\&lt; HashStorageControlBlock \&gt;" alt="" coords="1593,53,1788,94"/>
<area shape="rect" id="node3" href="classfoedus_1_1Attachable.html" title="foedus::Attachable\l\&lt; HashStorageControlBlock \&gt;" alt="" coords="1349,53,1544,94"/>
<area shape="rect" id="node4" href="classfoedus_1_1Engine.html" title="Database engine object that holds all resources and provides APIs. " alt="" coords="1069,21,1177,48"/>
<area shape="rect" id="node5" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="717,5,849,32"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1hash_1_1HashStorageControlBlock.html" title="Shared data of this storage type. " alt="" coords="1033,102,1212,143"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1hash_1_1HashMetadata.html" title="Metadata of an hash storage. " alt="" coords="710,57,857,98"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. " alt="" coords="377,64,551,91"/>
<area shape="rect" id="node9" href="classfoedus_1_1assorted_1_1FixedString.html" title="foedus::assorted::FixedString\l\&lt; 60 \&gt;" alt="" coords="5,23,197,65"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html" title="Tuning parameters related to snapshotting. " alt="" coords="15,89,188,130"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1DualPagePointer.html" title="Represents a pointer to another page (usually a child page). " alt="" coords="696,122,871,163"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="383,122,545,163"/>
<area shape="rect" id="node13" href="classfoedus_1_1soc_1_1SharedMutex.html" title="A mutex that can be placed in shared memory and used from multiple processes. " alt="" coords="696,188,871,215"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aea3554f5fec89d86d83d632b1c3e0b9e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html">HashStoragePimpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aea3554f5fec89d86d83d632b1c3e0b9e">ThisPimpl</a></td></tr>
<tr class="separator:aea3554f5fec89d86d83d632b1c3e0b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46cb0c7682ba978030338e8b39dddde7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCreateLogType.html">HashCreateLogType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a46cb0c7682ba978030338e8b39dddde7">ThisCreateLogType</a></td></tr>
<tr class="separator:a46cb0c7682ba978030338e8b39dddde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b31fc3273ff0f0484886490a93eca7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashMetadata.html">HashMetadata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ad7b31fc3273ff0f0484886490a93eca7">ThisMetadata</a></td></tr>
<tr class="separator:ad7b31fc3273ff0f0484886490a93eca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa991a8bac7e013d7c5e42be4db4aef9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aa991a8bac7e013d7c5e42be4db4aef9b">HashStorage</a> ()</td></tr>
<tr class="separator:aa991a8bac7e013d7c5e42be4db4aef9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea20af54af71b9cdbf14493f46c38472"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aea20af54af71b9cdbf14493f46c38472">HashStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashStorageControlBlock.html">HashStorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:aea20af54af71b9cdbf14493f46c38472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae92e73a6e3eb473365eafa018ecdaad3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ae92e73a6e3eb473365eafa018ecdaad3">HashStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:ae92e73a6e3eb473365eafa018ecdaad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fba7412e496baa0c1b3a40b11d77eca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4fba7412e496baa0c1b3a40b11d77eca">HashStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id)</td></tr>
<tr class="separator:a4fba7412e496baa0c1b3a40b11d77eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83c5b5bc588b7d27e555b2ff7a30d1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac83c5b5bc588b7d27e555b2ff7a30d1a">HashStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name)</td></tr>
<tr class="separator:ac83c5b5bc588b7d27e555b2ff7a30d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a6abbc3fc1aea79563861677ab5720"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a98a6abbc3fc1aea79563861677ab5720">HashStorage</a> (const <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp;other)</td></tr>
<tr class="separator:a98a6abbc3fc1aea79563861677ab5720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e2d79851a5d6fa73eb66ffb8e42359b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a8e2d79851a5d6fa73eb66ffb8e42359b">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp;other)</td></tr>
<tr class="separator:a8e2d79851a5d6fa73eb66ffb8e42359b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a258c2edd9e4d3b3b4a5b472a07d62"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashMetadata.html">HashMetadata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62">get_hash_metadata</a> () const </td></tr>
<tr class="separator:a47a258c2edd9e4d3b3b4a5b472a07d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d93cdda67dd88454e0237f8a511995"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a37d93cdda67dd88454e0237f8a511995">get_levels</a> () const </td></tr>
<tr class="separator:a37d93cdda67dd88454e0237f8a511995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a092465b1ea5688d713e3f73aaf13a23c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__HASH.html#gacb9a1ea596bf0db3f6ded1710ab3b3d6">HashBin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a092465b1ea5688d713e3f73aaf13a23c">get_bin_count</a> () const </td></tr>
<tr class="separator:a092465b1ea5688d713e3f73aaf13a23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af921bcfaca8b99564cc6b6cefed87e65"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af921bcfaca8b99564cc6b6cefed87e65">get_bin_bits</a> () const </td></tr>
<tr class="separator:af921bcfaca8b99564cc6b6cefed87e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc142a2ed0509104e377e10a6d6a034"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a6dc142a2ed0509104e377e10a6d6a034">get_bin_shifts</a> () const </td></tr>
<tr class="separator:a6dc142a2ed0509104e377e10a6d6a034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f94a4a418776e5ac253b6dcccda8cc6"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a0f94a4a418776e5ac253b6dcccda8cc6">get_root_children</a> () const </td></tr>
<tr class="separator:a0f94a4a418776e5ac253b6dcccda8cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77a3ace0e46fc133fa68affc8901409"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac77a3ace0e46fc133fa68affc8901409">create</a> (const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;metadata)</td></tr>
<tr class="separator:ac77a3ace0e46fc133fa68affc8901409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200dd1b1b2b5bc937cae55120e1befc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a200dd1b1b2b5bc937cae55120e1befc9">load</a> (const <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> &amp;snapshot_block)</td></tr>
<tr class="separator:a200dd1b1b2b5bc937cae55120e1befc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5edd3becb0d83ffab431754e2d80118"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ab5edd3becb0d83ffab431754e2d80118">drop</a> ()</td></tr>
<tr class="separator:ab5edd3becb0d83ffab431754e2d80118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab763d5d37f053808257f662611f2e603"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1xct_1_1TrackMovedRecordResult.html">xct::TrackMovedRecordResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ab763d5d37f053808257f662611f2e603">track_moved_record</a> (<a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> *old_address, <a class="el" href="structfoedus_1_1xct_1_1WriteXctAccess.html">xct::WriteXctAccess</a> *write_set)</td></tr>
<tr class="memdesc:ab763d5d37f053808257f662611f2e603"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves a "moved" record.  <a href="#ab763d5d37f053808257f662611f2e603">More...</a><br /></td></tr>
<tr class="separator:ab763d5d37f053808257f662611f2e603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29cf082a85cdc7074a748e151e34807d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a29cf082a85cdc7074a748e151e34807d">verify_single_thread</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:a29cf082a85cdc7074a748e151e34807d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2696c5c7c5835ec99bce1ca4ef2c1910"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a2696c5c7c5835ec99bce1ca4ef2c1910">verify_single_thread</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context)</td></tr>
<tr class="separator:a2696c5c7c5835ec99bce1ca4ef2c1910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace67899d434503ffa7b9ca4b35e2f36c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ace67899d434503ffa7b9ca4b35e2f36c">hcc_reset_all_temperature_stat</a> ()</td></tr>
<tr class="memdesc:ace67899d434503ffa7b9ca4b35e2f36c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all volatile pages' temperature stat to be zero in this storage.  <a href="#ace67899d434503ffa7b9ca4b35e2f36c">More...</a><br /></td></tr>
<tr class="separator:ace67899d434503ffa7b9ca4b35e2f36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a144b7a6f95482f2ab8f8564776689fb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a144b7a6f95482f2ab8f8564776689fb9">debugout_single_thread</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, bool volatile_only=false, bool intermediate_only=false, uint32_t max_pages=1024U)</td></tr>
<tr class="memdesc:a144b7a6f95482f2ab8f8564776689fb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A super-expensive and single-thread only debugging feature to write out gigantic human-readable texts to describe the hash storage in details.  <a href="#a144b7a6f95482f2ab8f8564776689fb9">More...</a><br /></td></tr>
<tr class="separator:a144b7a6f95482f2ab8f8564776689fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaccce5ffedbeebe88d6845dd03e2c1ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a> (const void *key, uint16_t key_length) const </td></tr>
<tr class="memdesc:aaccce5ffedbeebe88d6845dd03e2c1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a set of information that are used in many places, extracted from the given key.  <a href="#aaccce5ffedbeebe88d6845dd03e2c1ea">More...</a><br /></td></tr>
<tr class="separator:aaccce5ffedbeebe88d6845dd03e2c1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dee2cda1fa6c6e6a8c4888f3d3835ae"><td class="memTemplParams" colspan="2">template&lt;typename KEY &gt; </td></tr>
<tr class="memitem:a9dee2cda1fa6c6e6a8c4888f3d3835ae"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a9dee2cda1fa6c6e6a8c4888f3d3835ae">combo</a> (KEY *key) const </td></tr>
<tr class="memdesc:a9dee2cda1fa6c6e6a8c4888f3d3835ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#a9dee2cda1fa6c6e6a8c4888f3d3835ae">More...</a><br /></td></tr>
<tr class="separator:a9dee2cda1fa6c6e6a8c4888f3d3835ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13470768ac9156eb4861e1389ab6d069"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069">get_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, void *payload, uint16_t *payload_capacity, bool read_only)</td></tr>
<tr class="memdesc:a13470768ac9156eb4861e1389ab6d069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an entire payload of the given key in this hash storage.  <a href="#a13470768ac9156eb4861e1389ab6d069">More...</a><br /></td></tr>
<tr class="separator:a13470768ac9156eb4861e1389ab6d069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc594b68d0af9d95671a641a2e36aa5e"><td class="memTemplParams" colspan="2">template&lt;typename KEY &gt; </td></tr>
<tr class="memitem:afc594b68d0af9d95671a641a2e36aa5e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#afc594b68d0af9d95671a641a2e36aa5e">get_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, void *payload, uint16_t *payload_capacity, bool read_only)</td></tr>
<tr class="memdesc:afc594b68d0af9d95671a641a2e36aa5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#afc594b68d0af9d95671a641a2e36aa5e">More...</a><br /></td></tr>
<tr class="separator:afc594b68d0af9d95671a641a2e36aa5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64f22f350167426098b6a99c15f864d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d">get_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, void *payload, uint16_t *payload_capacity, bool read_only)</td></tr>
<tr class="memdesc:af64f22f350167426098b6a99c15f864d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#af64f22f350167426098b6a99c15f864d">More...</a><br /></td></tr>
<tr class="separator:af64f22f350167426098b6a99c15f864d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773c773d3720c7781118cbff88618b25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25">get_record_part</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, void *payload, uint16_t payload_offset, uint16_t payload_count, bool read_only)</td></tr>
<tr class="memdesc:a773c773d3720c7781118cbff88618b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a part of the given key in this hash storage.  <a href="#a773c773d3720c7781118cbff88618b25">More...</a><br /></td></tr>
<tr class="separator:a773c773d3720c7781118cbff88618b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac1f78a89b894c567045e56d214e95f"><td class="memTemplParams" colspan="2">template&lt;typename KEY &gt; </td></tr>
<tr class="memitem:a8ac1f78a89b894c567045e56d214e95f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a8ac1f78a89b894c567045e56d214e95f">get_record_part</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, void *payload, uint16_t payload_offset, uint16_t payload_count, bool read_only)</td></tr>
<tr class="memdesc:a8ac1f78a89b894c567045e56d214e95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#a8ac1f78a89b894c567045e56d214e95f">More...</a><br /></td></tr>
<tr class="separator:a8ac1f78a89b894c567045e56d214e95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ae382b1110aec44a1df2a768c4cee3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3">get_record_part</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, void *payload, uint16_t payload_offset, uint16_t payload_count, bool read_only)</td></tr>
<tr class="memdesc:ac9ae382b1110aec44a1df2a768c4cee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#ac9ae382b1110aec44a1df2a768c4cee3">More...</a><br /></td></tr>
<tr class="separator:ac9ae382b1110aec44a1df2a768c4cee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a09eacbb9becb0a3ace38fea3cb950b"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a6a09eacbb9becb0a3ace38fea3cb950b"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a6a09eacbb9becb0a3ace38fea3cb950b">get_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, PAYLOAD *payload, uint16_t payload_offset, bool read_only)</td></tr>
<tr class="memdesc:a6a09eacbb9becb0a3ace38fea3cb950b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a part of the given key in this storage as a primitive value.  <a href="#a6a09eacbb9becb0a3ace38fea3cb950b">More...</a><br /></td></tr>
<tr class="separator:a6a09eacbb9becb0a3ace38fea3cb950b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b9550891e7a9d7650dd259e7b47edde"><td class="memTemplParams" colspan="2">template&lt;typename KEY , typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a9b9550891e7a9d7650dd259e7b47edde"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a9b9550891e7a9d7650dd259e7b47edde">get_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, PAYLOAD *payload, uint16_t payload_offset, bool read_only)</td></tr>
<tr class="memdesc:a9b9550891e7a9d7650dd259e7b47edde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#a9b9550891e7a9d7650dd259e7b47edde">More...</a><br /></td></tr>
<tr class="separator:a9b9550891e7a9d7650dd259e7b47edde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f3eb87098b114b9d4f8b151fee17c1"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:ac8f3eb87098b114b9d4f8b151fee17c1"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1">get_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, PAYLOAD *payload, uint16_t payload_offset, bool read_only)</td></tr>
<tr class="memdesc:ac8f3eb87098b114b9d4f8b151fee17c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#ac8f3eb87098b114b9d4f8b151fee17c1">More...</a><br /></td></tr>
<tr class="separator:ac8f3eb87098b114b9d4f8b151fee17c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d5a66f64174ea898dea0033f8fe68b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b">insert_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_count)</td></tr>
<tr class="memdesc:a10d5a66f64174ea898dea0033f8fe68b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts a new record of the given key in this hash storage.  <a href="#a10d5a66f64174ea898dea0033f8fe68b">More...</a><br /></td></tr>
<tr class="separator:a10d5a66f64174ea898dea0033f8fe68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accca35a276450382f45df7e513232f9e"><td class="memTemplParams" colspan="2">template&lt;typename KEY &gt; </td></tr>
<tr class="memitem:accca35a276450382f45df7e513232f9e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#accca35a276450382f45df7e513232f9e">insert_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, const void *payload, uint16_t payload_count)</td></tr>
<tr class="memdesc:accca35a276450382f45df7e513232f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#accca35a276450382f45df7e513232f9e">More...</a><br /></td></tr>
<tr class="separator:accca35a276450382f45df7e513232f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3617930288b1cfa90723b56916044a10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10">insert_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, const void *payload, uint16_t payload_count, uint16_t physical_payload_hint)</td></tr>
<tr class="memdesc:a3617930288b1cfa90723b56916044a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#a3617930288b1cfa90723b56916044a10">More...</a><br /></td></tr>
<tr class="separator:a3617930288b1cfa90723b56916044a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ccd51d0939bd6922ecb7d80c56fbeb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb">delete_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length)</td></tr>
<tr class="memdesc:a45ccd51d0939bd6922ecb7d80c56fbeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a record of the given key from this hash storage.  <a href="#a45ccd51d0939bd6922ecb7d80c56fbeb">More...</a><br /></td></tr>
<tr class="separator:a45ccd51d0939bd6922ecb7d80c56fbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79022fbda7d17f7ba44600aaaff12d4c"><td class="memTemplParams" colspan="2">template&lt;typename KEY &gt; </td></tr>
<tr class="memitem:a79022fbda7d17f7ba44600aaaff12d4c"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a79022fbda7d17f7ba44600aaaff12d4c">delete_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key)</td></tr>
<tr class="memdesc:a79022fbda7d17f7ba44600aaaff12d4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#a79022fbda7d17f7ba44600aaaff12d4c">More...</a><br /></td></tr>
<tr class="separator:a79022fbda7d17f7ba44600aaaff12d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce8eaf2bf2674b777888c812ca5f269"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269">delete_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>)</td></tr>
<tr class="memdesc:a4ce8eaf2bf2674b777888c812ca5f269"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#a4ce8eaf2bf2674b777888c812ca5f269">More...</a><br /></td></tr>
<tr class="separator:a4ce8eaf2bf2674b777888c812ca5f269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9dd22b27c2d19c8c2a2c3b8011a819"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819">upsert_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_count)</td></tr>
<tr class="memdesc:adc9dd22b27c2d19c8c2a2c3b8011a819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts a new record of the given key or replaces the existing one in this hash storage, or so-called <em>upsert</em>.  <a href="#adc9dd22b27c2d19c8c2a2c3b8011a819">More...</a><br /></td></tr>
<tr class="separator:adc9dd22b27c2d19c8c2a2c3b8011a819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16a1a5f48d08eaee7ca97fc30750e07"><td class="memTemplParams" colspan="2">template&lt;typename KEY &gt; </td></tr>
<tr class="memitem:ad16a1a5f48d08eaee7ca97fc30750e07"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ad16a1a5f48d08eaee7ca97fc30750e07">upsert_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, const void *payload, uint16_t payload_count)</td></tr>
<tr class="memdesc:ad16a1a5f48d08eaee7ca97fc30750e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#ad16a1a5f48d08eaee7ca97fc30750e07">More...</a><br /></td></tr>
<tr class="separator:ad16a1a5f48d08eaee7ca97fc30750e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75f511796795cd4ffe731fdae173325"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325">upsert_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, const void *payload, uint16_t payload_count, uint16_t physical_payload_hint)</td></tr>
<tr class="memdesc:af75f511796795cd4ffe731fdae173325"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#af75f511796795cd4ffe731fdae173325">More...</a><br /></td></tr>
<tr class="separator:af75f511796795cd4ffe731fdae173325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766f21f5ad81dd98d90be0fef31a1b64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64">overwrite_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_offset, uint16_t payload_count)</td></tr>
<tr class="memdesc:a766f21f5ad81dd98d90be0fef31a1b64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites a part of one record of the given key in this hash storage.  <a href="#a766f21f5ad81dd98d90be0fef31a1b64">More...</a><br /></td></tr>
<tr class="separator:a766f21f5ad81dd98d90be0fef31a1b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902e456e918d06668482ac202cba26f3"><td class="memTemplParams" colspan="2">template&lt;typename KEY &gt; </td></tr>
<tr class="memitem:a902e456e918d06668482ac202cba26f3"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a902e456e918d06668482ac202cba26f3">overwrite_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, const void *payload, uint16_t payload_offset, uint16_t payload_count)</td></tr>
<tr class="memdesc:a902e456e918d06668482ac202cba26f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#a902e456e918d06668482ac202cba26f3">More...</a><br /></td></tr>
<tr class="separator:a902e456e918d06668482ac202cba26f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd9e7a6674a1a8daced6ad1ef603857"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857">overwrite_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, const void *payload, uint16_t payload_offset, uint16_t payload_count)</td></tr>
<tr class="memdesc:affd9e7a6674a1a8daced6ad1ef603857"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#affd9e7a6674a1a8daced6ad1ef603857">More...</a><br /></td></tr>
<tr class="separator:affd9e7a6674a1a8daced6ad1ef603857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a42d14c4073108d38f86a0c99838d0a"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a7a42d14c4073108d38f86a0c99838d0a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a">overwrite_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, PAYLOAD payload, uint16_t payload_offset)</td></tr>
<tr class="memdesc:a7a42d14c4073108d38f86a0c99838d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites a part of one record of the given key in this storage as a primitive value.  <a href="#a7a42d14c4073108d38f86a0c99838d0a">More...</a><br /></td></tr>
<tr class="separator:a7a42d14c4073108d38f86a0c99838d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ecec094943b6c8d7397ad45e0488283"><td class="memTemplParams" colspan="2">template&lt;typename KEY , typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a1ecec094943b6c8d7397ad45e0488283"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a1ecec094943b6c8d7397ad45e0488283">overwrite_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, PAYLOAD payload, uint16_t payload_offset)</td></tr>
<tr class="memdesc:a1ecec094943b6c8d7397ad45e0488283"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#a1ecec094943b6c8d7397ad45e0488283">More...</a><br /></td></tr>
<tr class="separator:a1ecec094943b6c8d7397ad45e0488283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04310f074b93b1bd110b69954595170d"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a04310f074b93b1bd110b69954595170d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d">overwrite_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, PAYLOAD payload, uint16_t payload_offset)</td></tr>
<tr class="memdesc:a04310f074b93b1bd110b69954595170d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#a04310f074b93b1bd110b69954595170d">More...</a><br /></td></tr>
<tr class="separator:a04310f074b93b1bd110b69954595170d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba50cd0793ff2b271d8846b020795711"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:aba50cd0793ff2b271d8846b020795711"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711">increment_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, PAYLOAD *value, uint16_t payload_offset)</td></tr>
<tr class="memdesc:aba50cd0793ff2b271d8846b020795711"><td class="mdescLeft">&#160;</td><td class="mdescRight">This one further optimizes overwrite methods for the frequent use case of incrementing some data in primitive type.  <a href="#aba50cd0793ff2b271d8846b020795711">More...</a><br /></td></tr>
<tr class="separator:aba50cd0793ff2b271d8846b020795711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ac940daabfa2c3ad4bac5b59475f4a"><td class="memTemplParams" colspan="2">template&lt;typename KEY , typename PAYLOAD &gt; </td></tr>
<tr class="memitem:aa9ac940daabfa2c3ad4bac5b59475f4a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aa9ac940daabfa2c3ad4bac5b59475f4a">increment_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, KEY key, PAYLOAD *value, uint16_t payload_offset)</td></tr>
<tr class="memdesc:aa9ac940daabfa2c3ad4bac5b59475f4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlord to receive key as a primitive type.  <a href="#aa9ac940daabfa2c3ad4bac5b59475f4a">More...</a><br /></td></tr>
<tr class="separator:aa9ac940daabfa2c3ad4bac5b59475f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba3b8d1b3f0242f53b46c8a9b2ebaca"><td class="memTemplParams" colspan="2">template&lt;typename PAYLOAD &gt; </td></tr>
<tr class="memitem:a7ba3b8d1b3f0242f53b46c8a9b2ebaca"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca">increment_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, const void *key, uint16_t key_length, const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;<a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>, PAYLOAD *value, uint16_t payload_offset)</td></tr>
<tr class="memdesc:a7ba3b8d1b3f0242f53b46c8a9b2ebaca"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this.  <a href="#a7ba3b8d1b3f0242f53b46c8a9b2ebaca">More...</a><br /></td></tr>
<tr class="separator:a7ba3b8d1b3f0242f53b46c8a9b2ebaca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1storage_1_1Storage"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1storage_1_1Storage')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1storage_1_1Storage.html">foedus::storage::Storage&lt; HashStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:afd9af874de90ee35544bcb8a0b562890 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#afd9af874de90ee35544bcb8a0b562890">Storage</a> ()</td></tr>
<tr class="separator:afd9af874de90ee35544bcb8a0b562890 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816534199b6ecc2362e865ba6b69fcc7 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a816534199b6ecc2362e865ba6b69fcc7">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, HashStorageControlBlock *control_block)</td></tr>
<tr class="separator:a816534199b6ecc2362e865ba6b69fcc7 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237ac4e220f5b1f60d02d3ba60b3e957 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a237ac4e220f5b1f60d02d3ba60b3e957">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:a237ac4e220f5b1f60d02d3ba60b3e957 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a99a8a206a33ec9e288c7428f5a84fa42">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id)</td></tr>
<tr class="memdesc:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for engine-&gt;get_storage_manager()-&gt;get_storage(id)  <a href="#a99a8a206a33ec9e288c7428f5a84fa42">More...</a><br /></td></tr>
<tr class="separator:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a0da37bccd7cff653167727ba4610bb6a">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name)</td></tr>
<tr class="memdesc:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for engine-&gt;get_storage_manager()-&gt;get_storage(name)  <a href="#a0da37bccd7cff653167727ba4610bb6a">More...</a><br /></td></tr>
<tr class="separator:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d6eeb9c79fded26452c2b60e509f53 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a30d6eeb9c79fded26452c2b60e509f53">Storage</a> (const <a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;other)</td></tr>
<tr class="separator:a30d6eeb9c79fded26452c2b60e509f53 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f116fdabdd0c488b59b318600fce465 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a1f116fdabdd0c488b59b318600fce465">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;other)</td></tr>
<tr class="separator:a1f116fdabdd0c488b59b318600fce465 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824">get_id</a> () const</td></tr>
<tr class="memdesc:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique ID of this storage.  <a href="#ad9fcb57f0ee2a79e884c0b8b64c8b824">More...</a><br /></td></tr>
<tr class="separator:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a> () const</td></tr>
<tr class="memdesc:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of this storage.  <a href="#a131e005bb11678c1824d5075aa3df77a">More...</a><br /></td></tr>
<tr class="separator:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ac1b54d4e7f3ad9f7f7c17598911abb01">get_name</a> () const</td></tr>
<tr class="memdesc:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique name of this storage.  <a href="#ac1b54d4e7f3ad9f7f7c17598911abb01">More...</a><br /></td></tr>
<tr class="separator:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ae3cca5dd58aa9bbf419cc07986bbc668">get_metadata</a> () const</td></tr>
<tr class="memdesc:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the metadata of this storage.  <a href="#ae3cca5dd58aa9bbf419cc07986bbc668">More...</a><br /></td></tr>
<tr class="separator:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a> () const</td></tr>
<tr class="memdesc:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether this storage is already created.  <a href="#ade24602975f3928e77762f8cb4da51ca">More...</a><br /></td></tr>
<tr class="separator:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Attachable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Attachable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Attachable.html">foedus::Attachable&lt; HashStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:ab3209bc9bd57c99f0ad601f33ec77d1e inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ab3209bc9bd57c99f0ad601f33ec77d1e">Attachable</a> ()</td></tr>
<tr class="separator:ab3209bc9bd57c99f0ad601f33ec77d1e inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91af21656ffcf7eeb56a5f7d0f5f661 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ad91af21656ffcf7eeb56a5f7d0f5f661">Attachable</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:ad91af21656ffcf7eeb56a5f7d0f5f661 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28be42953c806e4c4e0ad8f99201dae inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ac28be42953c806e4c4e0ad8f99201dae">Attachable</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, HashStorageControlBlock *control_block)</td></tr>
<tr class="separator:ac28be42953c806e4c4e0ad8f99201dae inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1182f6bd28f64e3c48bf5ee36d54cce inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ad1182f6bd28f64e3c48bf5ee36d54cce">Attachable</a> (HashStorageControlBlock *control_block)</td></tr>
<tr class="separator:ad1182f6bd28f64e3c48bf5ee36d54cce inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7892c78e38fb5f025ea73939a25c9d2e inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a7892c78e38fb5f025ea73939a25c9d2e">Attachable</a> (const <a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;other)</td></tr>
<tr class="separator:a7892c78e38fb5f025ea73939a25c9d2e inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed95388e1a77a81a5d7d04cf28ef3577 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#aed95388e1a77a81a5d7d04cf28ef3577">~Attachable</a> ()</td></tr>
<tr class="separator:aed95388e1a77a81a5d7d04cf28ef3577 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0666676a4eaed1c0fdf94a2e1b00c099 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a0666676a4eaed1c0fdf94a2e1b00c099">operator=</a> (const <a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;other)</td></tr>
<tr class="separator:a0666676a4eaed1c0fdf94a2e1b00c099 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a484796b2fffa361b9a6ed2f1b7f61a35">attach</a> (HashStorageControlBlock *control_block)</td></tr>
<tr class="memdesc:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches to the given shared memory.  <a href="#a484796b2fffa361b9a6ed2f1b7f61a35">More...</a><br /></td></tr>
<tr class="separator:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#aebf4adece08c298864ce05ddd9461a0c">is_attached</a> () const</td></tr>
<tr class="memdesc:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already attached to some shared memory.  <a href="#aebf4adece08c298864ce05ddd9461a0c">More...</a><br /></td></tr>
<tr class="separator:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b324e3abf302a59801aa73419bb4fad inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">HashStorageControlBlock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad">get_control_block</a> () const</td></tr>
<tr class="separator:a5b324e3abf302a59801aa73419bb4fad inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f07b6dbb803d41d16b40182e8ff583 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a44f07b6dbb803d41d16b40182e8ff583">get_engine</a> () const</td></tr>
<tr class="separator:a44f07b6dbb803d41d16b40182e8ff583 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd701f80820c2ef1f665bda157346021 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#acd701f80820c2ef1f665bda157346021">set_engine</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:acd701f80820c2ef1f665bda157346021 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a49ae5a2a002289c4aa59e7800b7c36cc"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a49ae5a2a002289c4aa59e7800b7c36cc">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp;v)</td></tr>
<tr class="separator:a49ae5a2a002289c4aa59e7800b7c36cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classfoedus_1_1Attachable"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classfoedus_1_1Attachable')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classfoedus_1_1Attachable.html">foedus::Attachable&lt; HashStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a></td></tr>
<tr class="memdesc:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Most attachable object stores an engine pointer (local engine), so we define it here.  <a href="#a5f84f871a1d36f9ee990f3175661cd99">More...</a><br /></td></tr>
<tr class="separator:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">HashStorageControlBlock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a></td></tr>
<tr class="memdesc:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The shared data on shared memory that has been initialized in some SOC or master engine.  <a href="#af9f87c691e2df0b04322e6df8d7c0d81">More...</a><br /></td></tr>
<tr class="separator:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a46cb0c7682ba978030338e8b39dddde7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCreateLogType.html">HashCreateLogType</a> <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a46cb0c7682ba978030338e8b39dddde7">foedus::storage::hash::HashStorage::ThisCreateLogType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00046">46</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad7b31fc3273ff0f0484886490a93eca7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashMetadata.html">HashMetadata</a> <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ad7b31fc3273ff0f0484886490a93eca7">foedus::storage::hash::HashStorage::ThisMetadata</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00047">47</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aea3554f5fec89d86d83d632b1c3e0b9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html">HashStoragePimpl</a> <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aea3554f5fec89d86d83d632b1c3e0b9e">foedus::storage::hash::HashStorage::ThisPimpl</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00045">45</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa991a8bac7e013d7c5e42be4db4aef9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::hash::HashStorage::HashStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00037">37</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;: Storage&lt;HashStorageControlBlock&gt;() {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea20af54af71b9cdbf14493f46c38472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::hash::HashStorage::HashStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashStorageControlBlock.html">HashStorageControlBlock</a> *&#160;</td>
          <td class="paramname"><em>control_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00038">38</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage_8hpp_source.html#l00169">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::exists()</a>, <a class="el" href="storage_8hpp_source.html#l00150">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::get_type()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00128">foedus::storage::kHashStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  : Storage&lt;HashStorageControlBlock&gt;(engine, control_block) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a>() == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">kHashStorage</a> || !<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a>());</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_a131e005bb11678c1824d5075aa3df77a"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::get_type</a></div><div class="ttdeci">StorageType get_type() const</div><div class="ttdoc">Returns the type of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00150">storage.hpp:150</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_ade24602975f3928e77762f8cb4da51ca"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::exists</a></div><div class="ttdeci">bool exists() const</div><div class="ttdoc">Returns whether this storage is already created. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00169">storage.hpp:169</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">foedus::storage::kHashStorage</a></div><div class="ttdoc">Hashtable Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00128">storage_id.hpp:128</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_aea20af54af71b9cdbf14493f46c38472_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_aea20af54af71b9cdbf14493f46c38472_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_aea20af54af71b9cdbf14493f46c38472_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_aea20af54af71b9cdbf14493f46c38472_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="241,5,424,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a" title="Returns the type of this storage. " alt="" coords="241,85,424,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae92e73a6e3eb473365eafa018ecdaad3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::hash::HashStorage::HashStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *&#160;</td>
          <td class="paramname"><em>control_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00042">42</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage_8hpp_source.html#l00169">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::exists()</a>, <a class="el" href="storage_8hpp_source.html#l00150">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::get_type()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00128">foedus::storage::kHashStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  : Storage&lt;HashStorageControlBlock&gt;(engine, control_block) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a>() == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">kHashStorage</a> || !<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a>());</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_a131e005bb11678c1824d5075aa3df77a"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::get_type</a></div><div class="ttdeci">StorageType get_type() const</div><div class="ttdoc">Returns the type of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00150">storage.hpp:150</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_ade24602975f3928e77762f8cb4da51ca"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">foedus::storage::Storage&lt; HashStorageControlBlock &gt;::exists</a></div><div class="ttdeci">bool exists() const</div><div class="ttdoc">Returns whether this storage is already created. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00169">storage.hpp:169</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0dea993bf93d3a4a03a67253fb2da12e3bdc">foedus::storage::kHashStorage</a></div><div class="ttdoc">Hashtable Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00128">storage_id.hpp:128</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ae92e73a6e3eb473365eafa018ecdaad3_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ae92e73a6e3eb473365eafa018ecdaad3_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ae92e73a6e3eb473365eafa018ecdaad3_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ae92e73a6e3eb473365eafa018ecdaad3_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="241,5,424,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a" title="Returns the type of this storage. " alt="" coords="241,85,424,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4fba7412e496baa0c1b3a40b11d77eca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::hash::HashStorage::HashStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00046">46</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  : Storage&lt;HashStorageControlBlock&gt;(engine, id) {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac83c5b5bc588b7d27e555b2ff7a30d1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::hash::HashStorage::HashStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00048">48</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  : Storage&lt;HashStorageControlBlock&gt;(engine, name) {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98a6abbc3fc1aea79563861677ab5720"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::hash::HashStorage::HashStorage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00050">50</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  : Storage&lt;HashStorageControlBlock&gt;(other.engine_, other.control_block_) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaccce5ffedbeebe88d6845dd03e2c1ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> foedus::storage::hash::HashStorage::combo </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares a set of information that are used in many places, extracted from the given key. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00120">120</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8cpp_source.html#l00078">get_hash_metadata()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00375">delete_record()</a>, <a class="el" href="hash__storage_8hpp_source.html#l00154">get_record()</a>, <a class="el" href="hash__storage_8hpp_source.html#l00200">get_record_part()</a>, <a class="el" href="hash__storage_8hpp_source.html#l00266">get_record_primitive()</a>, <a class="el" href="hash__storage_8hpp_source.html#l00557">increment_record()</a>, <a class="el" href="hash__storage_8hpp_source.html#l00327">insert_record()</a>, <a class="el" href="hash__storage_8hpp_source.html#l00459">overwrite_record()</a>, <a class="el" href="hash__storage_8hpp_source.html#l00511">overwrite_record_primitive()</a>, and <a class="el" href="hash__storage_8hpp_source.html#l00412">upsert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                                                     {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">return</span> HashCombo(key, key_length, *<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62">get_hash_metadata</a>());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a47a258c2edd9e4d3b3b4a5b472a07d62"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62">foedus::storage::hash::HashStorage::get_hash_metadata</a></div><div class="ttdeci">const HashMetadata * get_hash_metadata() const </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8cpp_source.html#l00078">hash_storage.cpp:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="205,5,372,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_aaccce5ffedbeebe88d6845dd03e2c1ea_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb" title="Deletes a record of the given key from this hash storage. " alt="" coords="233,5,381,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069" title="Retrieves an entire payload of the given key in this hash storage. " alt="" coords="219,86,394,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25" title="Retrieves a part of the given key in this hash storage. " alt="" coords="205,151,408,193"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a6a09eacbb9becb0a3ace38fea3cb950b" title="Retrieves a part of the given key in this storage as a primitive value. " alt="" coords="219,217,394,273"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="221,297,392,353"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b" title="Inserts a new record of the given key in this hash storage. " alt="" coords="233,377,380,433"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64" title="Overwrites a part of one record of the given key in this hash storage. " alt="" coords="225,457,388,513"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a" title="Overwrites a part of one record of the given key in this storage as a primitive value. " alt="" coords="225,537,388,593"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819" title="Inserts a new record of the given key or replaces the existing one in this hash storage, or so&#45;called upsert. " alt="" coords="232,617,381,673"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a79022fbda7d17f7ba44600aaaff12d4c" title="Overlord to receive key as a primitive type. " alt="" coords="483,5,631,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#afc594b68d0af9d95671a641a2e36aa5e" title="Overlord to receive key as a primitive type. " alt="" coords="470,86,645,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a8ac1f78a89b894c567045e56d214e95f" title="Overlord to receive key as a primitive type. " alt="" coords="456,151,659,193"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aa9ac940daabfa2c3ad4bac5b59475f4a" title="Overlord to receive key as a primitive type. " alt="" coords="472,297,643,353"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#accca35a276450382f45df7e513232f9e" title="Overlord to receive key as a primitive type. " alt="" coords="484,377,631,433"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a902e456e918d06668482ac202cba26f3" title="Overlord to receive key as a primitive type. " alt="" coords="476,457,639,513"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a1ecec094943b6c8d7397ad45e0488283" title="Overlord to receive key as a primitive type. " alt="" coords="476,537,639,593"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ad16a1a5f48d08eaee7ca97fc30750e07" title="Overlord to receive key as a primitive type. " alt="" coords="483,617,632,673"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9dee2cda1fa6c6e6a8c4888f3d3835ae"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> foedus::storage::hash::HashStorage::combo </td>
          <td>(</td>
          <td class="paramtype">KEY *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>
<dl class="section attention"><dt>Attention</dt><dd>Here we receive a pointer because <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a> remembers the point to key. In other words, the caller must make sure the primitive variable doesn't get out of scope while it might reuse the returned <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>. </dd></dl>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00130">130</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8cpp_source.html#l00078">get_hash_metadata()</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                         {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> HashCombo(key, <span class="keyword">sizeof</span>(KEY), *<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62">get_hash_metadata</a>());</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a47a258c2edd9e4d3b3b4a5b472a07d62"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62">foedus::storage::hash::HashStorage::get_hash_metadata</a></div><div class="ttdeci">const HashMetadata * get_hash_metadata() const </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8cpp_source.html#l00078">hash_storage.cpp:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a9dee2cda1fa6c6e6a8c4888f3d3835ae_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a9dee2cda1fa6c6e6a8c4888f3d3835ae_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a9dee2cda1fa6c6e6a8c4888f3d3835ae_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a9dee2cda1fa6c6e6a8c4888f3d3835ae_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="205,5,372,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac77a3ace0e46fc133fa68affc8901409"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::hash::HashStorage::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00065">65</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00076">foedus::storage::hash::HashStoragePimpl::create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                        {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> pimpl.create(static_cast&lt;const HashMetadata&amp;&gt;(metadata));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac77a3ace0e46fc133fa68affc8901409_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ac77a3ace0e46fc133fa68affc8901409_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac77a3ace0e46fc133fa68affc8901409_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac77a3ace0e46fc133fa68affc8901409_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a2823bcc0a488ad58faee46d876db8abe" title="foedus::storage::hash\l::HashStoragePimpl::create" alt="" coords="203,591,385,632"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4f9309d223f938ee13a247f1a7b1da46" title="foedus::storage::hash\l::HashStoragePimpl::exists" alt="" coords="448,5,629,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afdf4bd9f7349768099f6aaf621ff3a70" title="foedus::storage::hash\l::HashStoragePimpl::get_name" alt="" coords="437,71,640,112"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1hash_1_1HashMetadata.html#ac79017c3fbfd8dde111006ba43e97a5e" title="Number of bins in this hash storage. " alt="" coords="692,196,895,237"/>
<area shape="rect" id="node6" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="471,188,606,229"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="457,466,621,522"/>
<area shape="rect" id="node9" href="group__HASH.html#gacfc9ccab28ee4ffc1a7317ec51b332f4" title="foedus::storage::hash\l::bins_to_level" alt="" coords="465,335,612,376"/>
<area shape="rect" id="node10" href="group__HASH.html#gad584a49d2de255afd325aa2ddbb7e726" title="foedus::storage::hash\l::fanout_power" alt="" coords="465,400,612,441"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a38d765f971d163f274b24fa920565074" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_count" alt="" coords="457,254,621,310"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4120c099e570a27e391917bc7f76ca07" title="foedus::storage::hash\l::HashStoragePimpl::get\l_levels" alt="" coords="457,546,621,602"/>
<area shape="rect" id="node13" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="471,627,606,668"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="433,692,644,733"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="443,757,634,799"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e" title="Gives an object to resolve an offset in this page pool (thus local) to an actual pointer and vice ver..." alt="" coords="449,823,628,864"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1PagePool.html#a3e9390381783077a504116988cae05c4" title="Grab only one page. " alt="" coords="449,888,628,929"/>
<area shape="rect" id="node26" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="447,954,631,1010"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aeb01df00186ad7f69875d7bd1ff0108e" title="Called only when this page is initialized. " alt="" coords="458,1034,619,1090"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#abdd0cbf1f438986888173779270bab4a" title="foedus::storage::hash\l::HashStoragePimpl::get_id" alt="" coords="448,1115,629,1156"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a949b3f4b505de0f1595eabf801d37741" title="foedus::storage::hash\l::HashIntermediatePage\l::assert_range" alt="" coords="458,1181,619,1237"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="693,368,893,409"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="704,823,883,864"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f" title="foedus::memory::PagePool\lPimpl::grab_one" alt="" coords="704,888,883,929"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a1a41295b63274fb300e5937a9bb1eca7" title="foedus::memory::PagePool\lPimpl::decrease_free_pool_count" alt="" coords="943,957,1157,999"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="961,761,1139,803"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="953,827,1147,868"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="961,892,1139,933"/>
<area shape="rect" id="node23" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1217,797,1409,839"/>
<area shape="rect" id="node24" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="1205,863,1420,890"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1hash_1_1HashBinRange.html#af492eb6df181653434b727ba29e5c833" title="foedus::storage::hash\l::HashBinRange::contains" alt="" coords="707,971,880,1012"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="713,1167,874,1223"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="698,1036,889,1077"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1PageHeader.html#a1956943904b68b6472f53b4e9ed6df87" title="foedus::storage::PageHeader\l::set_in_layer_level" alt="" coords="698,1101,889,1143"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="955,1175,1145,1216"/>
<area shape="rect" id="node32" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="951,1099,1149,1140"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="954,1033,1146,1075"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="1217,1001,1409,1043"/>
<area shape="rect" id="node35" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="1228,1067,1397,1108"/>
<area shape="rect" id="node36" href="structfoedus_1_1xct_1_1McsWwBlockData.html#a3161e47c41388e9c1b50929f585e366b" title="foedus::xct::McsWwBlockData\l::clear" alt="" coords="1468,1067,1669,1108"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1hash_1_1HashBinRange.html#ae2b145559047e486059fec93c35ebfc1" title="foedus::storage::hash\l::HashBinRange::length" alt="" coords="714,1248,873,1289"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a144b7a6f95482f2ab8f8564776689fb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::hash::HashStorage::debugout_single_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>volatile_only</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>intermediate_only</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_pages</em> = <code>1024U</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A super-expensive and single-thread only debugging feature to write out gigantic human-readable texts to describe the hash storage in details. </p>
<p>Do not invoke this method for more than 100 pages, or in production use. This is for debugging. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00279">279</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__debug_8cpp_source.html#l00053">foedus::storage::hash::HashStoragePimpl::debugout_single_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                      {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">return</span> pimpl.debugout_single_thread(engine, volatile_only, intermediate_only, max_pages);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a144b7a6f95482f2ab8f8564776689fb9_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a144b7a6f95482f2ab8f8564776689fb9_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a144b7a6f95482f2ab8f8564776689fb9_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a144b7a6f95482f2ab8f8564776689fb9_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ae68923a3afe20ce445002b85764a9f17" title="These are defined in hash_storage_debug.cpp. " alt="" coords="220,617,419,673"/>
<area shape="rect" id="node3" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="482,136,654,177"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="993,657,1154,699"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="1006,573,1141,615"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="968,769,1179,825"/>
<area shape="rect" id="node12" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="467,413,669,455"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad9f8e63fe91ea8623c537e3fffc1f3c1" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_intermediate" alt="" coords="469,866,667,922"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a32fb943620383e597308852094ba4ac3" title="foedus::storage::hash\l::TmpSnashotPage::init" alt="" coords="994,957,1153,999"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#afa00b8ffee7f35512f78d8a512fa1373" title="foedus::storage::hash\l::TmpSnashotPage::as\l_intermediate" alt="" coords="741,1175,896,1231"/>
<area shape="rect" id="node50" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="482,201,654,243"/>
<area shape="rect" id="node4" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="733,71,905,112"/>
<area shape="rect" id="node5" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="753,5,884,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="733,136,905,177"/>
<area shape="rect" id="node7" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="733,201,905,243"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1253,507,1414,548"/>
<area shape="rect" id="node13" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="741,413,896,455"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="999,479,1148,520"/>
<area shape="rect" id="node17" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="732,348,905,389"/>
<area shape="rect" id="node18" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="717,267,920,323"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="996,285,1151,327"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="978,413,1169,455"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="738,1095,899,1151"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="738,1015,899,1071"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aa220f1f2d268290263483476d85be47b" title="foedus::storage::hash\l::HashStoragePimpl::debugout\l_single_thread_data" alt="" coords="719,834,918,890"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1hash_1_1TmpSnashotPage.html#a0f3f54ed3c98cfbc6d9c1f3d72362b4c" title="foedus::storage::hash\l::TmpSnashotPage::as_data" alt="" coords="980,871,1167,912"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="978,1103,1169,1144"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1AlignedMemory.html#ad11d2289458b26db2aaef9de984045a0" title="Returns if this object doesn&#39;t hold a valid memory block. " alt="" coords="1227,892,1440,933"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1AlignedMemory.html#a8db2e188293eaeebdf36cf39920efedd" title="Returns the byte size of the memory block. " alt="" coords="1227,957,1440,999"/>
<area shape="rect" id="node27" href="classfoedus_1_1memory_1_1AlignedMemory.html#a5166bae2fdad9ffa0d5c279edfd3307e" title="Allocate a memory, releasing the current memory if exists. " alt="" coords="1227,1216,1440,1257"/>
<area shape="rect" id="node40" href="classfoedus_1_1memory_1_1AlignedMemory.html#af306ba60622e2a87f75ae93dc6c597b1" title="Returns the memory block. " alt="" coords="1227,827,1440,868"/>
<area shape="rect" id="node41" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="1488,899,1675,940"/>
<area shape="rect" id="node28" href="namespacefoedus_1_1memory.html#ac2422aa4fe378da8a9594901762e17df" title="foedus::memory::alloc_mmap" alt="" coords="1726,1089,1919,1115"/>
<area shape="rect" id="node30" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="1996,983,2136,1024"/>
<area shape="rect" id="node31" href="namespacefoedus_1_1memory.html#ae51e4a90f52316ba9dce8ff783f30d84" title="foedus::memory::alloc\l_mmap_1gb_pages" alt="" coords="1506,1081,1657,1123"/>
<area shape="rect" id="node32" href="classfoedus_1_1debugging_1_1StopWatch.html#adacc2b7108e7b4df019cc79733050b8c" title="foedus::debugging::\lStopWatch::elapsed_ns" alt="" coords="1742,1237,1903,1279"/>
<area shape="rect" id="node33" href="group__ASSORTED.html#gab3d1892edaa7db4b02029567b7993f37" title="In order to run even on a non&#45;numa machine or a machine with fewer sockets, we allow specifying arbit..." alt="" coords="1506,1417,1657,1459"/>
<area shape="rect" id="node34" href="numa_8h.html#a413cadd87796fff247c83d9ad817cc7e" title="numa_available" alt="" coords="1767,1369,1878,1395"/>
<area shape="rect" id="node36" href="numa_8h.html#aba49c14c68d23dc05d046db02766b928" title="numa_preferred" alt="" coords="1526,1483,1637,1510"/>
<area shape="rect" id="node37" href="numa_8h.html#a56f33968932f6550e5e5eb4d1acc67b3" title="numa_set_preferred" alt="" coords="1513,1198,1649,1225"/>
<area shape="rect" id="node38" href="classfoedus_1_1debugging_1_1StopWatch.html#a2ee5315a0f6bf736a2a73b29b1709bd2" title="Take another current time tick. " alt="" coords="1514,1300,1649,1341"/>
<area shape="rect" id="node29" href="namespacefoedus_1_1memory.html#af6145d9296231995c84badafb6a2a0a9" title="Returns if 1GB hugepages were enabled. " alt="" coords="1983,1081,2149,1123"/>
<area shape="rect" id="node35" href="numa_8h.html#a22585176d6e08c221de8377637bd72a7" title="numa_num_configured\l_nodes" alt="" coords="1747,1420,1899,1461"/>
<area shape="rect" id="node39" href="namespacefoedus_1_1debugging.html#a35a786b0492e9799cb74359408079091" title="foedus::debugging::\lget_now_nanosec" alt="" coords="1755,1303,1890,1344"/>
<area shape="rect" id="node42" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="1723,753,1923,809"/>
<area shape="rect" id="node43" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="1729,833,1916,875"/>
<area shape="rect" id="node46" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="1747,899,1898,940"/>
<area shape="rect" id="node47" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="1747,964,1898,1005"/>
<area shape="rect" id="node44" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="1972,807,2160,863"/>
<area shape="rect" id="node45" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="1971,887,2161,943"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a45ccd51d0939bd6922ecb7d80c56fbeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::delete_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a record of the given key from this hash storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key.</td></tr>
  </table>
  </dd>
</dl>
<p>When the key does not exist, it returns kErrorCodeStrKeyNotFound and we add an appropriate page-version set because it is part of a transactional information. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00375">375</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00382">delete_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                                                                              {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb">delete_record</a>(context, key, key_length, c);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a45ccd51d0939bd6922ecb7d80c56fbeb"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb">foedus::storage::hash::HashStorage::delete_record</a></div><div class="ttdeci">ErrorCode delete_record(thread::Thread *context, const void *key, uint16_t key_length)</div><div class="ttdoc">Deletes a record of the given key from this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00375">hash_storage.hpp:375</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="201,13,353,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="401,5,568,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a45ccd51d0939bd6922ecb7d80c56fbeb_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a79022fbda7d17f7ba44600aaaff12d4c" title="Overlord to receive key as a primitive type. " alt="" coords="201,5,349,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79022fbda7d17f7ba44600aaaff12d4c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::delete_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00382">382</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00375">delete_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                                                 {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb">delete_record</a>(context, &amp;key, <span class="keyword">sizeof</span>(key), c);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a45ccd51d0939bd6922ecb7d80c56fbeb"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb">foedus::storage::hash::HashStorage::delete_record</a></div><div class="ttdeci">ErrorCode delete_record(thread::Thread *context, const void *key, uint16_t key_length)</div><div class="ttdoc">Deletes a record of the given key from this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00375">hash_storage.hpp:375</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a79022fbda7d17f7ba44600aaaff12d4c_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a79022fbda7d17f7ba44600aaaff12d4c_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a79022fbda7d17f7ba44600aaaff12d4c_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a79022fbda7d17f7ba44600aaaff12d4c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb" title="Deletes a record of the given key from this hash storage. " alt="" coords="201,5,349,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="397,13,549,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="597,5,764,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ce8eaf2bf2674b777888c812ca5f269"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::delete_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00179">179</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00356">foedus::storage::hash::HashStoragePimpl::delete_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                          {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> pimpl.delete_record(</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    context,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    key,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    key_length,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a4ce8eaf2bf2674b777888c812ca5f269_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a4ce8eaf2bf2674b777888c812ca5f269_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a4ce8eaf2bf2674b777888c812ca5f269_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a4ce8eaf2bf2674b777888c812ca5f269_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="201,1442,383,1498"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="431,733,636,775"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="443,1238,624,1294"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="703,1656,879,1697"/>
<area shape="rect" id="node36" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="472,1319,595,1360"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a04238b5b4aec46d0a24b5489553b793a" title="foedus::storage::hash\l::HashCommonLogType::\lcalculate_log_length" alt="" coords="449,1083,617,1139"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="457,1449,610,1491"/>
<area shape="rect" id="node40" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="440,1384,627,1425"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1hash_1_1HashDeleteLogType.html#a3c2ca8fb362ef7876a14e22608b9aa35" title="foedus::storage::hash\l::HashDeleteLogType::\lpopulate" alt="" coords="457,1595,610,1651"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#abdd0cbf1f438986888173779270bab4a" title="foedus::storage::hash\l::HashStoragePimpl::get_id" alt="" coords="700,1721,881,1763"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="451,1515,615,1571"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="439,1777,628,1833"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="957,37,1121,93"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1209,901,1360,943"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1204,91,1365,147"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="684,375,897,416"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1204,511,1365,567"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="958,661,1119,717"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1215,685,1354,727"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1204,768,1365,809"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1201,984,1368,1025"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="720,843,861,884"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1209,172,1360,213"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1455,99,1645,140"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1189,276,1380,317"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1180,592,1389,633"/>
<area shape="rect" id="node14" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="947,269,1130,325"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="949,581,1128,637"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="958,399,1119,455"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1203,1131,1367,1172"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="1209,1050,1360,1106"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1209,835,1360,876"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="700,1286,881,1342"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="948,1247,1129,1303"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1437,1339,1663,1380"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="1203,1429,1367,1485"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="1489,1469,1611,1511"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a33c82d9bc3661456265ee9991cba1f98" title="returns whether the slot contains the exact key specified " alt="" coords="1197,1298,1372,1354"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab1d971d633ca8153c6a7363694e254a0" title="Populates fields other than readset_. " alt="" coords="1196,1639,1373,1695"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1196,1559,1373,1615"/>
<area shape="rect" id="node34" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="952,1632,1125,1673"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ab696a16e6a995a515736ff0a28b47885" title="same as &amp;get_slot(), but this is more explicit and easier to understand/maintain " alt="" coords="1465,1639,1635,1695"/>
<area shape="rect" id="node38" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="711,1045,871,1071"/>
<area shape="rect" id="node41" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="697,1384,884,1425"/>
<area shape="rect" id="node42" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="945,1697,1132,1739"/>
<area shape="rect" id="node43" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="697,1460,884,1501"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="691,1577,891,1619"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="720,1889,861,1931"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="968,1864,1109,1905"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab5edd3becb0d83ffab431754e2d80118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::hash::HashStorage::drop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00073">73</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00059">foedus::storage::hash::HashStoragePimpl::drop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                              {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">return</span> pimpl.drop();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab5edd3becb0d83ffab431754e2d80118_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ab5edd3becb0d83ffab431754e2d80118_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab5edd3becb0d83ffab431754e2d80118_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab5edd3becb0d83ffab431754e2d80118_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a79c499b589d9e31709b066f1457bc1e3" title="foedus::storage::hash\l::HashStoragePimpl::drop" alt="" coords="200,612,371,653"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afdf4bd9f7349768099f6aaf621ff3a70" title="foedus::storage::hash\l::HashStoragePimpl::get_name" alt="" coords="419,177,621,219"/>
<area shape="rect" id="node4" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="1214,201,1349,243"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="917,1386,1128,1442"/>
<area shape="rect" id="node6" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1441,1329,1643,1371"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a72474ba11f14c8e37ab6b9b3bd92d64b" title="foedus::storage::hash\l::HashIntermediatePage\l::release_pages_recursive\l_parallel" alt="" coords="434,597,606,668"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1721,1300,1876,1341"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1969,1315,2118,1356"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1712,1235,1885,1276"/>
<area shape="rect" id="node13" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1697,1417,1900,1473"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1966,1409,2121,1451"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1963,688,2124,729"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1948,1176,2139,1217"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1201,746,1362,802"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="1176,5,1387,47"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="673,528,866,569"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1201,1285,1362,1341"/>
<area shape="rect" id="node20" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1461,688,1623,729"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aacfb0dd808ba1a987cea4d957e8e511b" title="Called at the end to return all batched pages to their pools. " alt="" coords="669,295,869,336"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1PagePool.html#aa7220391af1f368d1fd36b48cc1e2995" title="Returns only one page. " alt="" coords="680,463,859,504"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a7a5b98d7f141ded1682a9e46ae3b8589" title="foedus::storage::hash\l::HashIntermediatePage\l::release_pages_recursive" alt="" coords="937,983,1109,1039"/>
<area shape="rect" id="node41" href="namespacefoedus_1_1storage_1_1hash.html#a05601cf00ffeb4df540a0d43379d3387" title="foedus::storage::hash\l::release_parallel" alt="" coords="696,1176,843,1217"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1447,805,1637,847"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#af16728969f6c3544544000355b6d4f30" title="Return all batched pages in the given chunk to its pool. " alt="" coords="923,136,1123,177"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="1186,71,1377,112"/>
<area shape="rect" id="node24" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463" title="Returns the specified number of free pages from the chunk. " alt="" coords="1192,136,1371,177"/>
<area shape="rect" id="node25" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="1453,136,1631,177"/>
<area shape="rect" id="node27" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a741d98bc9dd15581c1316ae5eaf492d5" title="foedus::memory::PagePool\lPimpl::release_one" alt="" coords="933,463,1112,504"/>
<area shape="rect" id="node28" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="1192,528,1371,569"/>
<area shape="rect" id="node29" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="1185,332,1378,373"/>
<area shape="rect" id="node32" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="1192,267,1371,308"/>
<area shape="rect" id="node33" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3b5b895c26ed502d93e753389ce0a21b" title="foedus::memory::PagePool\lPimpl::increase_free_pool_count" alt="" coords="1176,397,1387,439"/>
<area shape="rect" id="node34" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="1195,463,1367,504"/>
<area shape="rect" id="node30" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1446,303,1638,344"/>
<area shape="rect" id="node31" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="1435,369,1649,395"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1461,1001,1623,1043"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1460,1067,1624,1108"/>
<area shape="rect" id="node38" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#afe13efbf3cc2111936b08e31bd18e179" title="Returns the given in&#45;memory volatile page to appropriate NUMA node. " alt="" coords="1442,871,1642,912"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a752f776127f131ccc60744c10d5cf490" title="foedus::storage::hash\l::HashDataPage::release\l_pages_recursive" alt="" coords="1198,951,1365,1007"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1459,936,1625,977"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af921bcfaca8b99564cc6b6cefed87e65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t foedus::storage::hash::HashStorage::get_bin_bits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the number of bits to represent hash bins in this storage </dd></dl>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00061">61</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00068">foedus::storage::hash::HashPartitioner::design_partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;meta_.bin_bits_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">HashStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_af921bcfaca8b99564cc6b6cefed87e65_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_af921bcfaca8b99564cc6b6cefed87e65_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_af921bcfaca8b99564cc6b6cefed87e65_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_af921bcfaca8b99564cc6b6cefed87e65_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a9def1e9584cd2af4bae4d2b0c0ca10e4" title="foedus::storage::hash\l::HashPartitioner::design\l_partition" alt="" coords="236,5,401,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="449,13,628,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a092465b1ea5688d713e3f73aaf13a23c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__HASH.html#gacb9a1ea596bf0db3f6ded1710ab3b3d6">HashBin</a> foedus::storage::hash::HashStorage::get_bin_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the total number of hash bins in this storage </dd></dl>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00060">60</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00068">foedus::storage::hash::HashPartitioner::design_partition()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l00487">foedus::storage::hash::HashComposeContext::execute()</a>, and <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00184">foedus::storage::hash::HashPartitioner::partition_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;bin_count_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">HashStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a092465b1ea5688d713e3f73aaf13a23c_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a092465b1ea5688d713e3f73aaf13a23c_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a092465b1ea5688d713e3f73aaf13a23c_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a092465b1ea5688d713e3f73aaf13a23c_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a9def1e9584cd2af4bae4d2b0c0ca10e4" title="foedus::storage::hash\l::HashPartitioner::design\l_partition" alt="" coords="271,5,437,61"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashComposeContext.html#aa55b6ec5e0174d4122bdb9b728cd2088" title="foedus::storage::hash\l::HashComposeContext\l::execute" alt="" coords="274,85,434,141"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a7b2f3ff32863d2e4e44c96b93071067e" title="foedus::storage::hash\l::HashPartitioner::partition_batch" alt="" coords="248,166,460,207"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="508,13,687,54"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="508,166,687,207"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6dc142a2ed0509104e377e10a6d6a034"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t foedus::storage::hash::HashStorage::get_bin_shifts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the number of bit shifts to extract bins from hashes for this storage </dd></dl>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00062">62</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00068">foedus::storage::hash::HashPartitioner::design_partition()</a>, <a class="el" href="hash__page__impl_8cpp_source.html#l00232">foedus::storage::hash::hash_data_volatile_page_init()</a>, and <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00184">foedus::storage::hash::HashPartitioner::partition_batch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;meta_.get_bin_shifts(); }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">HashStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a6dc142a2ed0509104e377e10a6d6a034_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a6dc142a2ed0509104e377e10a6d6a034_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a6dc142a2ed0509104e377e10a6d6a034_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a6dc142a2ed0509104e377e10a6d6a034_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a9def1e9584cd2af4bae4d2b0c0ca10e4" title="foedus::storage::hash\l::HashPartitioner::design\l_partition" alt="" coords="231,218,397,274"/>
<area shape="rect" id="node4" href="group__ARRAY.html#ga8423aae479f4b36ddc54127b07268c8c" title="volatile page initialize callback for HashDataPage. " alt="" coords="241,298,387,354"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a7b2f3ff32863d2e4e44c96b93071067e" title="foedus::storage::hash\l::HashPartitioner::partition_batch" alt="" coords="208,379,420,420"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="468,225,647,267"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="468,298,647,354"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="695,305,908,347"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="956,305,1161,347"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="1229,29,1393,85"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="1229,138,1393,194"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="1221,218,1400,274"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a357386c8e5be667334520a33aff51725" title="foedus::storage::hash\l::HashStoragePimpl::delete\l_record" alt="" coords="1220,298,1401,354"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="1219,378,1402,434"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="1213,458,1409,514"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="1209,578,1412,634"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af64f22f350167426098b6a99c15f864d" title="If you have already computed HashCombo, use this. " alt="" coords="1474,5,1649,47"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="1479,71,1643,127"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac9ae382b1110aec44a1df2a768c4cee3" title="If you have already computed HashCombo, use this. " alt="" coords="1460,152,1663,193"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ac8f3eb87098b114b9d4f8b151fee17c1" title="If you have already computed HashCombo, use this. " alt="" coords="1711,71,1885,127"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a3617930288b1cfa90723b56916044a10" title="If you have already computed HashCombo, use this. " alt="" coords="1488,218,1635,274"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a4ce8eaf2bf2674b777888c812ca5f269" title="If you have already computed HashCombo, use this. " alt="" coords="1487,298,1635,354"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#af75f511796795cd4ffe731fdae173325" title="If you have already computed HashCombo, use this. " alt="" coords="1487,378,1636,434"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="1463,458,1659,514"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#affd9e7a6674a1a8daced6ad1ef603857" title="If you have already computed HashCombo, use this. " alt="" coords="1480,538,1643,594"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a04310f074b93b1bd110b69954595170d" title="If you have already computed HashCombo, use this. " alt="" coords="1717,458,1879,514"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7ba3b8d1b3f0242f53b46c8a9b2ebaca" title="If you have already computed HashCombo, use this. " alt="" coords="1476,618,1647,674"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1Partitioner.html#a8c7b2f626b460815615663be4d22427f" title="Identifies the partition of each log record in a batched fashion. " alt="" coords="468,379,647,420"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47a258c2edd9e4d3b3b4a5b472a07d62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashMetadata.html">HashMetadata</a> * foedus::storage::hash::HashStorage::get_hash_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00078">78</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l01223">foedus::storage::hash::HashComposer::drop_root_volatile()</a>, and <a class="el" href="hash__composer__impl_8cpp_source.html#l01165">foedus::storage::hash::HashComposer::drop_volatiles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{ <span class="keywordflow">return</span> &amp;<a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;meta_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">HashStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a47a258c2edd9e4d3b3b4a5b472a07d62_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a47a258c2edd9e4d3b3b4a5b472a07d62_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a47a258c2edd9e4d3b3b4a5b472a07d62_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a47a258c2edd9e4d3b3b4a5b472a07d62_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="220,345,372,386"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a4a9dc98b699194503e37e0e6609872ec" title="foedus::storage::hash\l::HashComposer::drop\l_root_volatile" alt="" coords="220,684,372,740"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a86416af851cf44112fbc0ea9c519c9b9" title="drop_volatiles and related methods " alt="" coords="220,764,372,820"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a45ccd51d0939bd6922ecb7d80c56fbeb" title="Deletes a record of the given key from this hash storage. " alt="" coords="447,5,595,61"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069" title="Retrieves an entire payload of the given key in this hash storage. " alt="" coords="434,86,609,127"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25" title="Retrieves a part of the given key in this hash storage. " alt="" coords="420,151,623,193"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a6a09eacbb9becb0a3ace38fea3cb950b" title="Retrieves a part of the given key in this storage as a primitive value. " alt="" coords="434,217,609,273"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="436,297,607,353"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b" title="Inserts a new record of the given key in this hash storage. " alt="" coords="448,377,595,433"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64" title="Overwrites a part of one record of the given key in this hash storage. " alt="" coords="440,457,603,513"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a" title="Overwrites a part of one record of the given key in this storage as a primitive value. " alt="" coords="440,537,603,593"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819" title="Inserts a new record of the given key or replaces the existing one in this hash storage, or so&#45;called upsert. " alt="" coords="447,617,596,673"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a79022fbda7d17f7ba44600aaaff12d4c" title="Overlord to receive key as a primitive type. " alt="" coords="698,5,846,61"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#afc594b68d0af9d95671a641a2e36aa5e" title="Overlord to receive key as a primitive type. " alt="" coords="685,86,859,127"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a8ac1f78a89b894c567045e56d214e95f" title="Overlord to receive key as a primitive type. " alt="" coords="671,151,873,193"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aa9ac940daabfa2c3ad4bac5b59475f4a" title="Overlord to receive key as a primitive type. " alt="" coords="687,297,857,353"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#accca35a276450382f45df7e513232f9e" title="Overlord to receive key as a primitive type. " alt="" coords="699,377,845,433"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a902e456e918d06668482ac202cba26f3" title="Overlord to receive key as a primitive type. " alt="" coords="691,457,853,513"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a1ecec094943b6c8d7397ad45e0488283" title="Overlord to receive key as a primitive type. " alt="" coords="691,537,853,593"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ad16a1a5f48d08eaee7ca97fc30750e07" title="Overlord to receive key as a primitive type. " alt="" coords="697,617,847,673"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="683,698,861,739"/>
<area shape="rect" id="node22" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="921,735,1148,777"/>
<area shape="rect" id="node23" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1196,728,1407,784"/>
<area shape="rect" id="node24" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1455,702,1665,743"/>
<area shape="rect" id="node26" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1483,767,1637,809"/>
<area shape="rect" id="node25" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1713,702,1908,743"/>
<area shape="rect" id="node27" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1713,767,1908,809"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="432,771,611,813"/>
<area shape="rect" id="node30" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="680,764,864,820"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a37d93cdda67dd88454e0237f8a511995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t foedus::storage::hash::HashStorage::get_levels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>levels of intermediate pages in this storage </dd></dl>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00059">59</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="hash__composer__impl_8cpp_source.html#l00126">foedus::storage::hash::HashComposer::construct_root()</a>, <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00068">foedus::storage::hash::HashPartitioner::design_partition()</a>, <a class="el" href="hash__partitioner__impl_8cpp_source.html#l00128">foedus::storage::hash::HashPartitioner::design_partition_task()</a>, <a class="el" href="hash__composer__impl_8cpp_source.html#l01223">foedus::storage::hash::HashComposer::drop_root_volatile()</a>, and <a class="el" href="hash__composer__impl_8cpp_source.html#l01165">foedus::storage::hash::HashComposer::drop_volatiles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;levels_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">HashStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a37d93cdda67dd88454e0237f8a511995_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a37d93cdda67dd88454e0237f8a511995_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a37d93cdda67dd88454e0237f8a511995_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a37d93cdda67dd88454e0237f8a511995_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#ac5ad2e7fa792d58965a05be6bd43e43c" title="foedus::storage::hash\l::HashComposer::construct_root" alt="" coords="224,5,435,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a9def1e9584cd2af4bae4d2b0c0ca10e4" title="foedus::storage::hash\l::HashPartitioner::design\l_partition" alt="" coords="719,107,884,163"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashPartitioner.html#a40234c7f9cecf06a33b99e1556406792" title="foedus::storage::hash\l::HashPartitioner::design\l_partition_task" alt="" coords="247,122,412,178"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a4a9dc98b699194503e37e0e6609872ec" title="foedus::storage::hash\l::HashComposer::drop\l_root_volatile" alt="" coords="253,202,405,258"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a86416af851cf44112fbc0ea9c519c9b9" title="drop_volatiles and related methods " alt="" coords="253,282,405,338"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="483,5,661,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="965,115,1144,156"/>
<area shape="rect" id="node7" href="namespacefoedus_1_1storage_1_1hash.html#a3ac47a0c2d690309d487f26b3a08a9b4" title="foedus::storage::hash\l::design_partition_thread" alt="" coords="490,173,654,215"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="712,228,891,269"/>
<area shape="rect" id="node10" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="941,264,1168,305"/>
<area shape="rect" id="node11" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1216,257,1427,313"/>
<area shape="rect" id="node12" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1475,231,1685,272"/>
<area shape="rect" id="node14" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1503,296,1657,337"/>
<area shape="rect" id="node13" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1733,231,1928,272"/>
<area shape="rect" id="node15" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1733,296,1928,337"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="483,297,661,339"/>
<area shape="rect" id="node18" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="709,294,893,350"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13470768ac9156eb4861e1389ab6d069"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>payload_capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves an entire payload of the given key in this hash storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>Buffer to receive the payload of the record. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">payload_capacity</td><td>[In] Byte size of the payload buffer, [Out] length of the payload. This is set whether the payload capacity was too small or not. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_only</td><td>Whether this read will not be followed by writes. When MOCC triggers pessimistic lock, this guides us to take either read- or write-lock.</td></tr>
  </table>
  </dd>
</dl>
<p>When payload_capacity is smaller than the actual payload, this method returns kErrorCodeStrTooSmallPayloadBuffer and payload_capacity is set to be the required length.</p>
<p>When the key is not found (kErrorCodeStrKeyNotFound), we add an appropriate page-version set because it is part of a transactional information. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00154">154</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00167">get_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069">get_record</a>(context, key, key_length, c, payload, payload_capacity, read_only);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a13470768ac9156eb4861e1389ab6d069"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069">foedus::storage::hash::HashStorage::get_record</a></div><div class="ttdeci">ErrorCode get_record(thread::Thread *context, const void *key, uint16_t key_length, void *payload, uint16_t *payload_capacity, bool read_only)</div><div class="ttdoc">Retrieves an entire payload of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00154">hash_storage.hpp:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="228,13,380,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="428,5,595,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a13470768ac9156eb4861e1389ab6d069_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#afc594b68d0af9d95671a641a2e36aa5e" title="Overlord to receive key as a primitive type. " alt="" coords="228,5,403,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afc594b68d0af9d95671a641a2e36aa5e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>payload_capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00167">167</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00154">get_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069">get_record</a>(context, &amp;key, <span class="keyword">sizeof</span>(key), c, payload, payload_capacity, read_only);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a13470768ac9156eb4861e1389ab6d069"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069">foedus::storage::hash::HashStorage::get_record</a></div><div class="ttdeci">ErrorCode get_record(thread::Thread *context, const void *key, uint16_t key_length, void *payload, uint16_t *payload_capacity, bool read_only)</div><div class="ttdoc">Retrieves an entire payload of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00154">hash_storage.hpp:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_afc594b68d0af9d95671a641a2e36aa5e_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_afc594b68d0af9d95671a641a2e36aa5e_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_afc594b68d0af9d95671a641a2e36aa5e_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_afc594b68d0af9d95671a641a2e36aa5e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a13470768ac9156eb4861e1389ab6d069" title="Retrieves an entire payload of the given key in this hash storage. " alt="" coords="228,13,403,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="451,13,603,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="651,5,817,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af64f22f350167426098b6a99c15f864d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>payload_capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00080">80</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00166">foedus::storage::hash::HashStoragePimpl::get_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                  {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">return</span> pimpl.get_record(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    context,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    key,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    key_length,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    payload,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    payload_capacity,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    read_only);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_af64f22f350167426098b6a99c15f864d_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_af64f22f350167426098b6a99c15f864d_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_af64f22f350167426098b6a99c15f864d_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_af64f22f350167426098b6a99c15f864d_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a222e0d485305f3253b0e1c97720dc0c8" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record" alt="" coords="228,1820,392,1876"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="440,602,645,643"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="452,1783,633,1839"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="455,1863,631,1905"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#abed92a9a4809cce3c1cc33bc4fb07a81" title="foedus::storage::hash\l::RecordLocation::get\l_aligned_key_length" alt="" coords="469,1929,616,1985"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="718,424,882,480"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1726,670,1865,711"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1725,494,1866,535"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1206,1489,1357,1530"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1449,311,1611,367"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="693,602,907,643"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1201,1343,1362,1399"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="965,1277,1127,1333"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1201,427,1362,469"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1447,1219,1613,1261"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1206,493,1357,534"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1438,729,1622,770"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1715,1373,1876,1414"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1956,798,2105,839"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1691,798,1900,839"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1700,318,1891,359"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1435,485,1625,526"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1425,1285,1635,1326"/>
<area shape="rect" id="node20" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="955,195,1137,251"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="957,973,1135,1029"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="1449,795,1611,851"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aeb01df00186ad7f69875d7bd1ff0108e" title="Called only when this page is initialized. " alt="" coords="1201,195,1362,251"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aa72388dc98c566a63c723184449a830f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer_address" alt="" coords="1201,841,1362,897"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="1455,1097,1605,1138"/>
<area shape="rect" id="node26" href="group__ARRAY.html#ga8423aae479f4b36ddc54127b07268c8c" title="volatile page initialize callback for HashDataPage. " alt="" coords="1208,761,1355,817"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1Thread.html#a4e553f5e14ec00d8ba23fbdfa26d687e" title="Returns the private memory repository of this thread. " alt="" coords="1206,922,1357,963"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1448,1706,1612,1747"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="1455,1823,1605,1879"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1206,1554,1357,1595"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1Thread.html#a17f375db3d50174cf49746e04ce00118" title="resolve() plus reinterpret_cast " alt="" coords="1206,1423,1357,1465"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="955,1969,1137,2025"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1191,2152,1372,2208"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a490056e5b2e5617cf640ea99d278ac21" title="foedus::storage::hash\l::RecordLocation::clear" alt="" coords="1452,2238,1608,2279"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1683,2246,1908,2287"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="1448,2435,1612,2491"/>
<area shape="rect" id="node40" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="1734,2482,1857,2523"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a33c82d9bc3661456265ee9991cba1f98" title="returns whether the slot contains the exact key specified " alt="" coords="1443,2107,1617,2163"/>
<area shape="rect" id="node42" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab1d971d633ca8153c6a7363694e254a0" title="Populates fields other than readset_. " alt="" coords="1441,2304,1619,2360"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1441,2515,1619,2571"/>
<area shape="rect" id="node44" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="1195,1874,1368,1915"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1PageVersionStatus.html#a8360836cebd9fbeadfeb2a31809270c2" title="foedus::storage::PageVersion\lStatus::has_next_page" alt="" coords="1185,1939,1377,1981"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afa2342b5f0a374e38f0ec00242494a34" title="Subroutine of locate_record() to create/migrate a physical record of the given key in the page or its..." alt="" coords="1191,2005,1372,2061"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a68b92830ccd52b310445b41bfef06fd7" title="Add the given page version to the page version set of this transaction. " alt="" coords="1208,2086,1355,2127"/>
<area shape="rect" id="node50" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="720,1944,880,1971"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a773c773d3720c7781118cbff88618b25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves a part of the given key in this hash storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>Buffer to receive the payload of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy from this byte position of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>How many bytes we copy. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_only</td><td>Whether this read will not be followed by writes. When MOCC triggers pessimistic lock, this guides us to take either read- or write-lock. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + payload_count must be within the record's actual payload size (returns kErrorCodeStrTooShortPayload if not) </dd></dl>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00200">200</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00222">get_record_part()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25">get_record_part</a>(</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      context,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      key,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      key_length,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      c,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      payload,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      payload_offset,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      payload_count,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      read_only);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a773c773d3720c7781118cbff88618b25"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25">foedus::storage::hash::HashStorage::get_record_part</a></div><div class="ttdeci">ErrorCode get_record_part(thread::Thread *context, const void *key, uint16_t key_length, void *payload, uint16_t payload_offset, uint16_t payload_count, bool read_only)</div><div class="ttdoc">Retrieves a part of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00200">hash_storage.hpp:200</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="256,13,408,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="456,5,623,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a773c773d3720c7781118cbff88618b25_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a8ac1f78a89b894c567045e56d214e95f" title="Overlord to receive key as a primitive type. " alt="" coords="256,5,459,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8ac1f78a89b894c567045e56d214e95f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00222">222</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00200">get_record_part()</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25">get_record_part</a>(</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      context,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      &amp;key,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keyword">sizeof</span>(key),</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      c,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      payload,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      payload_offset,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      payload_count,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      read_only);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a773c773d3720c7781118cbff88618b25"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25">foedus::storage::hash::HashStorage::get_record_part</a></div><div class="ttdeci">ErrorCode get_record_part(thread::Thread *context, const void *key, uint16_t key_length, void *payload, uint16_t payload_offset, uint16_t payload_count, bool read_only)</div><div class="ttdoc">Retrieves a part of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00200">hash_storage.hpp:200</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a8ac1f78a89b894c567045e56d214e95f_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a8ac1f78a89b894c567045e56d214e95f_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a8ac1f78a89b894c567045e56d214e95f_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a8ac1f78a89b894c567045e56d214e95f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a773c773d3720c7781118cbff88618b25" title="Retrieves a part of the given key in this hash storage. " alt="" coords="256,13,459,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="507,13,659,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="707,5,873,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9ae382b1110aec44a1df2a768c4cee3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00099">99</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00210">foedus::storage::hash::HashStoragePimpl::get_record_part()</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                  {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">return</span> pimpl.get_record_part(</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    context,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    key,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    key_length,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    payload,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    payload_offset,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    payload_count,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    read_only);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac9ae382b1110aec44a1df2a768c4cee3_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ac9ae382b1110aec44a1df2a768c4cee3_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac9ae382b1110aec44a1df2a768c4cee3_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac9ae382b1110aec44a1df2a768c4cee3_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="256,1820,420,1876"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="468,602,673,643"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="480,1783,661,1839"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="483,1863,659,1905"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#abed92a9a4809cce3c1cc33bc4fb07a81" title="foedus::storage::hash\l::RecordLocation::get\l_aligned_key_length" alt="" coords="497,1929,644,1985"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="746,424,910,480"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1754,670,1893,711"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1753,494,1894,535"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1234,1489,1385,1530"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1477,311,1639,367"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="721,602,935,643"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1229,1343,1390,1399"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="993,1277,1155,1333"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1229,427,1390,469"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1475,1219,1641,1261"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1234,493,1385,534"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1466,729,1650,770"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1743,1373,1904,1414"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1984,798,2133,839"/>
<area shape="rect" id="node9" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1719,798,1928,839"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1728,318,1919,359"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1463,485,1653,526"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1453,1285,1663,1326"/>
<area shape="rect" id="node20" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="983,195,1165,251"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="985,973,1163,1029"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="1477,795,1639,851"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aeb01df00186ad7f69875d7bd1ff0108e" title="Called only when this page is initialized. " alt="" coords="1229,195,1390,251"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aa72388dc98c566a63c723184449a830f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer_address" alt="" coords="1229,841,1390,897"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="1483,1097,1633,1138"/>
<area shape="rect" id="node26" href="group__ARRAY.html#ga8423aae479f4b36ddc54127b07268c8c" title="volatile page initialize callback for HashDataPage. " alt="" coords="1236,761,1383,817"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1Thread.html#a4e553f5e14ec00d8ba23fbdfa26d687e" title="Returns the private memory repository of this thread. " alt="" coords="1234,922,1385,963"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1476,1706,1640,1747"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="1483,1823,1633,1879"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1234,1554,1385,1595"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1Thread.html#a17f375db3d50174cf49746e04ce00118" title="resolve() plus reinterpret_cast " alt="" coords="1234,1423,1385,1465"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="983,1969,1165,2025"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1219,2152,1400,2208"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a490056e5b2e5617cf640ea99d278ac21" title="foedus::storage::hash\l::RecordLocation::clear" alt="" coords="1480,2238,1636,2279"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1711,2246,1936,2287"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="1476,2435,1640,2491"/>
<area shape="rect" id="node40" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="1762,2482,1885,2523"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a33c82d9bc3661456265ee9991cba1f98" title="returns whether the slot contains the exact key specified " alt="" coords="1471,2107,1645,2163"/>
<area shape="rect" id="node42" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab1d971d633ca8153c6a7363694e254a0" title="Populates fields other than readset_. " alt="" coords="1469,2304,1647,2360"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1469,2515,1647,2571"/>
<area shape="rect" id="node44" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="1223,1874,1396,1915"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1PageVersionStatus.html#a8360836cebd9fbeadfeb2a31809270c2" title="foedus::storage::PageVersion\lStatus::has_next_page" alt="" coords="1213,1939,1405,1981"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afa2342b5f0a374e38f0ec00242494a34" title="Subroutine of locate_record() to create/migrate a physical record of the given key in the page or its..." alt="" coords="1219,2005,1400,2061"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a68b92830ccd52b310445b41bfef06fd7" title="Add the given page version to the page version set of this transaction. " alt="" coords="1236,2086,1383,2127"/>
<area shape="rect" id="node50" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="748,1944,908,1971"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a09eacbb9becb0a3ace38fea3cb950b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves a part of the given key in this storage as a primitive value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>Receive the payload of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy from this byte position of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_only</td><td>Whether this read will not be followed by writes. When MOCC triggers pessimistic lock, this guides us to take either read- or write-lock. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(PAYLOAD) must be within the record's actual payload size (returns kErrorCodeStrTooShortPayload if not) </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">PAYLOAD</td><td>primitive type of the payload. all integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00266">266</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> get_record_primitive&lt;PAYLOAD&gt;(</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      context,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      key,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      key_length,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      c,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      payload,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      payload_offset,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      read_only);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a6a09eacbb9becb0a3ace38fea3cb950b_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a6a09eacbb9becb0a3ace38fea3cb950b_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a6a09eacbb9becb0a3ace38fea3cb950b_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a6a09eacbb9becb0a3ace38fea3cb950b_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="228,13,380,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="428,5,595,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9b9550891e7a9d7650dd259e7b47edde"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY , typename PAYLOAD &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00286">286</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> get_record_primitive&lt;PAYLOAD&gt;(</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      context,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      &amp;key,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keyword">sizeof</span>(key),</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      c,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      payload,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      payload_offset,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      read_only);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8f3eb87098b114b9d4f8b151fee17c1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::get_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00121">121</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8hpp_source.html#l00181">foedus::storage::hash::HashStoragePimpl::get_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                  {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">return</span> pimpl.get_record_primitive(</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    context,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    key,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    key_length,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    payload,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    payload_offset,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    read_only);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac8f3eb87098b114b9d4f8b151fee17c1_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ac8f3eb87098b114b9d4f8b151fee17c1_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac8f3eb87098b114b9d4f8b151fee17c1_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ac8f3eb87098b114b9d4f8b151fee17c1_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a660df9f0d685df28fbe19f52cdbdc7e2" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_primitive" alt="" coords="228,1743,392,1799"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a4eff8bc4e42a5973c8553830890d8a24" title="foedus::storage::hash\l::HashStoragePimpl::get\l_record_part" alt="" coords="440,1743,604,1799"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="652,653,857,694"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="664,1705,845,1761"/>
<area shape="rect" id="node48" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="667,1786,843,1827"/>
<area shape="rect" id="node49" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#abed92a9a4809cce3c1cc33bc4fb07a81" title="foedus::storage::hash\l::RecordLocation::get\l_aligned_key_length" alt="" coords="681,1852,828,1908"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="930,503,1094,559"/>
<area shape="rect" id="node11" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1938,571,2077,613"/>
<area shape="rect" id="node12" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1937,61,2078,102"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1418,1539,1569,1581"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1661,195,1823,251"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="905,653,1119,694"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1413,1276,1574,1332"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="1177,1073,1339,1129"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1413,377,1574,418"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1659,1417,1825,1458"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1418,442,1569,483"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1650,630,1834,671"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1927,1246,2088,1287"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2168,743,2317,785"/>
<area shape="rect" id="node10" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1903,743,2112,785"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1912,202,2103,243"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1647,695,1837,737"/>
<area shape="rect" id="node20" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1637,761,1847,802"/>
<area shape="rect" id="node21" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="1167,283,1349,339"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1169,943,1347,999"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="1661,877,1823,933"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aeb01df00186ad7f69875d7bd1ff0108e" title="Called only when this page is initialized. " alt="" coords="1413,195,1574,251"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#aa72388dc98c566a63c723184449a830f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer_address" alt="" coords="1413,943,1574,999"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="1667,1207,1817,1249"/>
<area shape="rect" id="node27" href="group__ARRAY.html#ga8423aae479f4b36ddc54127b07268c8c" title="volatile page initialize callback for HashDataPage. " alt="" coords="1420,812,1567,868"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1660,1534,1824,1575"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="1667,1600,1817,1656"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1418,1422,1569,1463"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1Thread.html#a17f375db3d50174cf49746e04ce00118" title="resolve() plus reinterpret_cast " alt="" coords="1418,1357,1569,1398"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="1167,1899,1349,1955"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1403,1808,1584,1864"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a490056e5b2e5617cf640ea99d278ac21" title="foedus::storage::hash\l::RecordLocation::clear" alt="" coords="1664,1963,1820,2005"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1895,1955,2120,1997"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="1660,2091,1824,2147"/>
<area shape="rect" id="node40" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="1946,2207,2069,2249"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a33c82d9bc3661456265ee9991cba1f98" title="returns whether the slot contains the exact key specified " alt="" coords="1655,1883,1829,1939"/>
<area shape="rect" id="node42" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab1d971d633ca8153c6a7363694e254a0" title="Populates fields other than readset_. " alt="" coords="1653,2191,1831,2247"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1653,2311,1831,2367"/>
<area shape="rect" id="node44" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="1407,2041,1580,2082"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1PageVersionStatus.html#a8360836cebd9fbeadfeb2a31809270c2" title="foedus::storage::PageVersion\lStatus::has_next_page" alt="" coords="1397,2106,1589,2147"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afa2342b5f0a374e38f0ec00242494a34" title="Subroutine of locate_record() to create/migrate a physical record of the given key in the page or its..." alt="" coords="1403,2172,1584,2228"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a68b92830ccd52b310445b41bfef06fd7" title="Add the given page version to the page version set of this transaction. " alt="" coords="1420,2253,1567,2294"/>
<area shape="rect" id="node50" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="932,1867,1092,1893"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0f94a4a418776e5ac253b6dcccda8cc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t foedus::storage::hash::HashStorage::get_root_children </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the number of child pointers in the root page for this storage </dd></dl>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00063">63</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="hash__composer__impl_8cpp_source.html#l01165">foedus::storage::hash::HashComposer::drop_volatiles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;get_root_children(); }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">HashStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a0f94a4a418776e5ac253b6dcccda8cc6_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a0f94a4a418776e5ac253b6dcccda8cc6_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a0f94a4a418776e5ac253b6dcccda8cc6_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a0f94a4a418776e5ac253b6dcccda8cc6_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashComposer.html#a86416af851cf44112fbc0ea9c519c9b9" title="drop_volatiles and related methods " alt="" coords="213,31,365,87"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="413,39,592,80"/>
<area shape="rect" id="node4" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="640,31,824,87"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="872,39,1099,80"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1147,31,1357,87"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1405,5,1616,47"/>
<area shape="rect" id="node9" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1433,71,1588,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1664,5,1859,47"/>
<area shape="rect" id="node10" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1664,71,1859,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace67899d434503ffa7b9ca4b35e2f36c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::hash::HashStorage::hcc_reset_all_temperature_stat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets all volatile pages' temperature stat to be zero in this storage. </p>
<p>Used only in HCC-branch. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00273">273</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__debug_8cpp_source.html#l00213">foedus::storage::hash::HashStoragePimpl::hcc_reset_all_temperature_stat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                                       {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">return</span> pimpl.hcc_reset_all_temperature_stat();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ace67899d434503ffa7b9ca4b35e2f36c_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ace67899d434503ffa7b9ca4b35e2f36c_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ace67899d434503ffa7b9ca4b35e2f36c_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ace67899d434503ffa7b9ca4b35e2f36c_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a9075ef5e205fc3e6284e56894b1c8c4b" title="For stupid reasons (I&#39;m lazy!) these are defined in _debug.cpp. " alt="" coords="224,38,407,94"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="909,5,1070,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aece3aacb3a8a9fd362fbad83321cacaf" title="foedus::storage::hash\l::HashStoragePimpl::hcc\l_reset_all_temperature\l_stat_intermediate" alt="" coords="455,121,621,192"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1143,5,1304,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="922,79,1057,120"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="884,275,1095,331"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="672,345,833,401"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="672,63,833,119"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab283888fe4b6038d8885f385a136f40b" title="foedus::storage::hash\l::HashStoragePimpl::hcc\l_reset_all_temperature\l_stat_data" alt="" coords="669,195,836,265"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="894,356,1085,397"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="907,144,1071,185"/>
<area shape="rect" id="node13" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="890,209,1089,251"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba50cd0793ff2b271d8846b020795711"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::increment_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This one further optimizes overwrite methods for the frequent use case of incrementing some data in primitive type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">value</td><td>(in) addendum, (out) value after addition. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We overwrite to this byte position of the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(PAYLOAD) must be within the record's actual payload size (returns kErrorCodeStrTooShortPayload if not) </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">PAYLOAD</td><td>primitive type of the payload. all integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00557">557</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00569">increment_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                             {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711">increment_record</a>(context, key, key_length, c, value, payload_offset);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aba50cd0793ff2b271d8846b020795711"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711">foedus::storage::hash::HashStorage::increment_record</a></div><div class="ttdeci">ErrorCode increment_record(thread::Thread *context, const void *key, uint16_t key_length, PAYLOAD *value, uint16_t payload_offset)</div><div class="ttdoc">This one further optimizes overwrite methods for the frequent use case of incrementing some data in p...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00557">hash_storage.hpp:557</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="224,13,376,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="424,5,591,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_aba50cd0793ff2b271d8846b020795711_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aa9ac940daabfa2c3ad4bac5b59475f4a" title="Overlord to receive key as a primitive type. " alt="" coords="224,5,395,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa9ac940daabfa2c3ad4bac5b59475f4a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY , typename PAYLOAD &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::increment_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00569">569</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00557">increment_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                             {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711">increment_record</a>(context, &amp;key, <span class="keyword">sizeof</span>(key), c, value, payload_offset);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aba50cd0793ff2b271d8846b020795711"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711">foedus::storage::hash::HashStorage::increment_record</a></div><div class="ttdeci">ErrorCode increment_record(thread::Thread *context, const void *key, uint16_t key_length, PAYLOAD *value, uint16_t payload_offset)</div><div class="ttdoc">This one further optimizes overwrite methods for the frequent use case of incrementing some data in p...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00557">hash_storage.hpp:557</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_aa9ac940daabfa2c3ad4bac5b59475f4a_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_aa9ac940daabfa2c3ad4bac5b59475f4a_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_aa9ac940daabfa2c3ad4bac5b59475f4a_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_aa9ac940daabfa2c3ad4bac5b59475f4a_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aba50cd0793ff2b271d8846b020795711" title="This one further optimizes overwrite methods for the frequent use case of incrementing some data in p..." alt="" coords="224,5,395,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="443,13,595,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="643,5,809,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ba3b8d1b3f0242f53b46c8a9b2ebaca"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::increment_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00230">230</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00554">foedus::storage::hash::HashStoragePimpl::increment_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                           {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> pimpl.increment_record(</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    context,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    key,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    key_length,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    value,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    payload_offset);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7ba3b8d1b3f0242f53b46c8a9b2ebaca_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a7ba3b8d1b3f0242f53b46c8a9b2ebaca_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7ba3b8d1b3f0242f53b46c8a9b2ebaca_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7ba3b8d1b3f0242f53b46c8a9b2ebaca_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a233fcd7ffd24bd59d2d0943af3d0de03" title="foedus::storage::hash\l::HashStoragePimpl::increment\l_record" alt="" coords="224,1354,427,1410"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="475,733,680,775"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="487,1247,668,1303"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="747,1529,923,1571"/>
<area shape="rect" id="node35" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="516,1181,639,1223"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#abed92a9a4809cce3c1cc33bc4fb07a81" title="foedus::storage::hash\l::RecordLocation::get\l_aligned_key_length" alt="" coords="504,1101,651,1157"/>
<area shape="rect" id="node38" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a04238b5b4aec46d0a24b5489553b793a" title="foedus::storage::hash\l::HashCommonLogType::\lcalculate_log_length" alt="" coords="493,1021,661,1077"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="501,1393,654,1435"/>
<area shape="rect" id="node40" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="484,1328,671,1369"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1hash_1_1HashOverwriteLogType.html#a29bf2faaed91770de679b2e836ffa3b8" title="foedus::storage::hash\l::HashOverwriteLogType\l::populate" alt="" coords="497,1510,658,1566"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#abdd0cbf1f438986888173779270bab4a" title="foedus::storage::hash\l::HashStoragePimpl::get_id" alt="" coords="744,1663,925,1704"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="495,1590,659,1646"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="483,1721,672,1777"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="1001,37,1165,93"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1253,911,1404,952"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1248,91,1409,147"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="728,375,941,416"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1248,511,1409,567"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="1002,661,1163,717"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1259,661,1398,703"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1248,735,1409,776"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1245,984,1412,1025"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="764,843,905,884"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1253,172,1404,213"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1499,99,1689,140"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1233,276,1424,317"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1224,592,1433,633"/>
<area shape="rect" id="node14" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="991,269,1174,325"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="993,581,1172,637"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="1002,399,1163,455"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1247,1131,1411,1172"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="1253,1050,1404,1106"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1253,815,1404,856"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="744,1247,925,1303"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="992,1247,1173,1303"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1481,1339,1707,1380"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="1247,1429,1411,1485"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="1533,1469,1655,1511"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a33c82d9bc3661456265ee9991cba1f98" title="returns whether the slot contains the exact key specified " alt="" coords="1241,1298,1416,1354"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab1d971d633ca8153c6a7363694e254a0" title="Populates fields other than readset_. " alt="" coords="1240,1639,1417,1695"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1240,1559,1417,1615"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ab696a16e6a995a515736ff0a28b47885" title="same as &amp;get_slot(), but this is more explicit and easier to understand/maintain " alt="" coords="1509,1639,1679,1695"/>
<area shape="rect" id="node37" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="755,1039,915,1066"/>
<area shape="rect" id="node41" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="741,1328,928,1369"/>
<area shape="rect" id="node42" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="989,1661,1176,1703"/>
<area shape="rect" id="node43" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="741,1453,928,1495"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="735,1597,935,1639"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="764,1780,905,1821"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="1012,1809,1153,1851"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10d5a66f64174ea898dea0033f8fe68b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::insert_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new record of the given key in this hash storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Value to insert. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>Length of payload.</td></tr>
  </table>
  </dd>
</dl>
<p>If the key already exists, it returns kErrorCodeStrKeyAlreadyExists and we add an appropriate page-version set because it is part of a transactional information. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00327">327</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00339">insert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                            {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b">insert_record</a>(context, key, key_length, c, payload, payload_count, payload_count);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a10d5a66f64174ea898dea0033f8fe68b"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b">foedus::storage::hash::HashStorage::insert_record</a></div><div class="ttdeci">ErrorCode insert_record(thread::Thread *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_count)</div><div class="ttdoc">Inserts a new record of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00327">hash_storage.hpp:327</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="200,13,352,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="400,5,567,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a10d5a66f64174ea898dea0033f8fe68b_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#accca35a276450382f45df7e513232f9e" title="Overlord to receive key as a primitive type. " alt="" coords="200,5,347,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="accca35a276450382f45df7e513232f9e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::insert_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00339">339</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00327">insert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                            {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b">insert_record</a>(context, &amp;key, <span class="keyword">sizeof</span>(key), c, payload, payload_count, payload_count);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a10d5a66f64174ea898dea0033f8fe68b"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b">foedus::storage::hash::HashStorage::insert_record</a></div><div class="ttdeci">ErrorCode insert_record(thread::Thread *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_count)</div><div class="ttdoc">Inserts a new record of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00327">hash_storage.hpp:327</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_accca35a276450382f45df7e513232f9e_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_accca35a276450382f45df7e513232f9e_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_accca35a276450382f45df7e513232f9e_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_accca35a276450382f45df7e513232f9e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a10d5a66f64174ea898dea0033f8fe68b" title="Inserts a new record of the given key in this hash storage. " alt="" coords="200,5,347,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="395,13,547,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="595,5,761,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3617930288b1cfa90723b56916044a10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::insert_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>physical_payload_hint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>
<p>With this method, you can also specify <em>physical_payload_hint</em>, the physical size of the record's payload part. If you will later expand the payload of this record, giving a larger value will avoid record migration. Default value (and minimal value) is same as the initial payload_count. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00140">140</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00277">foedus::storage::hash::HashStoragePimpl::insert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                  {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">return</span> pimpl.insert_record(</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    context,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    key,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    key_length,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    payload,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    payload_count,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    physical_payload_hint);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a3617930288b1cfa90723b56916044a10_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a3617930288b1cfa90723b56916044a10_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a3617930288b1cfa90723b56916044a10_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a3617930288b1cfa90723b56916044a10_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ac9c35890555ddb10d908b77602a1f28c" title="foedus::storage::hash\l::HashStoragePimpl::insert\l_record" alt="" coords="200,1664,379,1720"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1hash.html#a621860b1314f5eecc0e41d3972340bf9" title="foedus::storage::hash\l::adjust_payload_hint" alt="" coords="713,150,860,191"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="427,1285,632,1326"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1207,334,1371,375"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="439,795,620,851"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="699,1562,875,1603"/>
<area shape="rect" id="node30" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="468,1730,591,1771"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#af4125da7e85cd2da82d64b8aa3eb9e81" title="foedus::storage::hash\l::RecordLocation::get\l_max_payload" alt="" coords="456,5,603,61"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ad2169cfc93933b2b35fea60fe8be9cf8" title="foedus::storage::hash\l::HashDataPage::bloom\l_filter" alt="" coords="449,1796,609,1852"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1hash_1_1DataPageBloomFilter.html#a4e5601b652daaffbcb9fa81aee6746c6" title="foedus::storage::hash\l::DataPageBloomFilter\l::contains" alt="" coords="453,1876,606,1932"/>
<area shape="rect" id="node35" href="classfoedus_1_1thread_1_1Thread.html#a2a5e6b008138d755e7e401f25927400c" title="Methods related to System transactions (sysxct) nested under this thread. " alt="" coords="454,1957,605,1998"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a04238b5b4aec46d0a24b5489553b793a" title="foedus::storage::hash\l::HashCommonLogType::\lcalculate_log_length" alt="" coords="445,85,613,141"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="453,2022,606,2063"/>
<area shape="rect" id="node39" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="436,2087,623,2129"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1hash_1_1HashInsertLogType.html#abd3dbdbe4f6d69957367a01e7576882a" title="foedus::storage::hash\l::HashInsertLogType::\lpopulate" alt="" coords="455,2153,603,2209"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#abdd0cbf1f438986888173779270bab4a" title="foedus::storage::hash\l::HashStoragePimpl::get_id" alt="" coords="696,1877,877,1918"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="447,2233,611,2289"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="435,1599,624,1655"/>
<area shape="rect" id="node4" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="955,99,1115,125"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="953,1343,1117,1399"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1213,1426,1364,1467"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1208,653,1369,709"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="680,903,893,945"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1208,967,1369,1023"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="954,1161,1115,1217"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1219,1047,1358,1089"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1208,1282,1369,1323"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1205,417,1372,458"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="716,1445,857,1486"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1213,1113,1364,1154"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1449,661,1640,702"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1193,871,1384,913"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1184,509,1393,550"/>
<area shape="rect" id="node16" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="943,799,1126,855"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="945,929,1124,985"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="954,719,1115,775"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1213,581,1364,622"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="696,385,877,441"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="944,335,1125,391"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1176,243,1401,285"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#abed92a9a4809cce3c1cc33bc4fb07a81" title="foedus::storage::hash\l::RecordLocation::get\l_aligned_key_length" alt="" coords="713,12,860,68"/>
<area shape="rect" id="node36" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a498a6a07313bf9fbb2c0e3d02f075221" title="Sysxct&#45;related. " alt="" coords="695,1957,879,1998"/>
<area shape="rect" id="node40" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="693,2153,880,2194"/>
<area shape="rect" id="node41" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="941,2058,1128,2099"/>
<area shape="rect" id="node42" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="693,2087,880,2129"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="687,2241,887,2282"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ab696a16e6a995a515736ff0a28b47885" title="same as &amp;get_slot(), but this is more explicit and easier to understand/maintain " alt="" coords="701,1796,872,1852"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="716,1730,857,1771"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="964,1705,1105,1746"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a200dd1b1b2b5bc937cae55120e1befc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::hash::HashStorage::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>snapshot_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00069">69</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00135">foedus::storage::hash::HashStoragePimpl::load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                                                      {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">return</span> pimpl.load(snapshot_block);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a200dd1b1b2b5bc937cae55120e1befc9_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a200dd1b1b2b5bc937cae55120e1befc9_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a200dd1b1b2b5bc937cae55120e1befc9_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a200dd1b1b2b5bc937cae55120e1befc9_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a44bc6cd5427daadbee9fd6fcc366af09" title="foedus::storage::hash\l::HashStoragePimpl::load" alt="" coords="200,252,371,293"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="442,26,606,82"/>
<area shape="rect" id="node5" href="group__HASH.html#gacfc9ccab28ee4ffc1a7317ec51b332f4" title="foedus::storage::hash\l::bins_to_level" alt="" coords="451,121,597,163"/>
<area shape="rect" id="node6" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="438,187,610,228"/>
<area shape="rect" id="node11" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="457,317,591,359"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="419,383,629,424"/>
<area shape="rect" id="node41" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="438,252,610,293"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afdf4bd9f7349768099f6aaf621ff3a70" title="foedus::storage::hash\l::HashStoragePimpl::get_name" alt="" coords="423,448,625,489"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="683,5,883,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="697,71,869,112"/>
<area shape="rect" id="node8" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="717,136,848,177"/>
<area shape="rect" id="node9" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="697,267,869,308"/>
<area shape="rect" id="node10" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="697,201,869,243"/>
<area shape="rect" id="node13" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="1196,910,1384,966"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1EngineMemory.html#ae35d16d716451eaa878ec2888960127d" title="A convenience function to grab one free volatile page from the given node. " alt="" coords="677,332,888,373"/>
<area shape="rect" id="node29" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="689,576,876,617"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="936,233,1147,275"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e" title="Gives an object to resolve an offset in this page pool (thus local) to an actual pointer and vice ver..." alt="" coords="952,429,1131,471"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="946,299,1137,340"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePool.html#a3e9390381783077a504116988cae05c4" title="Grab only one page. " alt="" coords="952,364,1131,405"/>
<area shape="rect" id="node27" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="949,87,1133,143"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="961,168,1122,209"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="1201,429,1379,471"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f" title="foedus::memory::PagePool\lPimpl::grab_one" alt="" coords="1201,364,1379,405"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a1a41295b63274fb300e5937a9bb1eca7" title="foedus::memory::PagePool\lPimpl::decrease_free_pool_count" alt="" coords="1433,433,1648,475"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="1451,237,1630,279"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="1444,303,1637,344"/>
<area shape="rect" id="node26" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="1451,368,1630,409"/>
<area shape="rect" id="node24" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1707,273,1899,315"/>
<area shape="rect" id="node25" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="1696,339,1911,366"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="941,495,1141,551"/>
<area shape="rect" id="node31" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="948,837,1135,879"/>
<area shape="rect" id="node33" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="966,641,1117,683"/>
<area shape="rect" id="node40" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="966,576,1117,617"/>
<area shape="rect" id="node32" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="1195,830,1385,886"/>
<area shape="rect" id="node34" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="1219,568,1361,609"/>
<area shape="rect" id="node35" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="1215,764,1365,805"/>
<area shape="rect" id="node36" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="1220,633,1360,675"/>
<area shape="rect" id="node37" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="1215,699,1365,740"/>
<area shape="rect" id="node38" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="1223,503,1357,544"/>
<area shape="rect" id="node39" href="group__DEBUGGING.html#ga48dd46b3a1382506a34fcb4e6e0941f6" title="Returns the current CPU cycle via x86 RDTSC. " alt="" coords="1473,503,1608,544"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e2d79851a5d6fa73eb66ffb8e42359b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp; foedus::storage::hash::HashStorage::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00053">53</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a>, <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; CONTROL_BLOCK &gt;::control_block_</a>, <a class="el" href="attachable_8hpp_source.html#l00107">foedus::Attachable&lt; HashStorageControlBlock &gt;::engine_</a>, and <a class="el" href="attachable_8hpp_source.html#l00107">foedus::Attachable&lt; CONTROL_BLOCK &gt;::engine_</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                            {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a> = other.engine_;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a> = other.control_block_;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_a5f84f871a1d36f9ee990f3175661cd99"><div class="ttname"><a href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">foedus::Attachable&lt; HashStorageControlBlock &gt;::engine_</a></div><div class="ttdeci">Engine * engine_</div><div class="ttdoc">Most attachable object stores an engine pointer (local engine), so we define it here. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00107">attachable.hpp:107</a></div></div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; HashStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">HashStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a766f21f5ad81dd98d90be0fef31a1b64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::overwrite_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overwrites a part of one record of the given key in this hash storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>We copy from this buffer. Must be at least payload_count. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We overwrite to this byte position of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>How many bytes we overwrite.</td></tr>
  </table>
  </dd>
</dl>
<p>When payload_offset+payload_count is larger than the actual payload, this method returns kErrorCodeStrTooShortPayload. Just like others, when the key does not exist, it returns kErrorCodeStrKeyNotFound and we add an appropriate page-version set because it is part of a transactional information. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00459">459</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00479">overwrite_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                            {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64">overwrite_record</a>(</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      context,</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      key,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      key_length,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      c,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      payload,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      payload_offset,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      payload_count);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a766f21f5ad81dd98d90be0fef31a1b64"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64">foedus::storage::hash::HashStorage::overwrite_record</a></div><div class="ttdeci">ErrorCode overwrite_record(thread::Thread *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_offset, uint16_t payload_count)</div><div class="ttdoc">Overwrites a part of one record of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00459">hash_storage.hpp:459</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="216,13,368,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="416,5,583,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a766f21f5ad81dd98d90be0fef31a1b64_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a902e456e918d06668482ac202cba26f3" title="Overlord to receive key as a primitive type. " alt="" coords="216,5,379,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a902e456e918d06668482ac202cba26f3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::overwrite_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00479">479</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00459">overwrite_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                            {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64">overwrite_record</a>(context, &amp;key, <span class="keyword">sizeof</span>(key), c, payload, payload_offset, payload_count);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a766f21f5ad81dd98d90be0fef31a1b64"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64">foedus::storage::hash::HashStorage::overwrite_record</a></div><div class="ttdeci">ErrorCode overwrite_record(thread::Thread *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_offset, uint16_t payload_count)</div><div class="ttdoc">Overwrites a part of one record of the given key in this hash storage. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00459">hash_storage.hpp:459</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a902e456e918d06668482ac202cba26f3_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a902e456e918d06668482ac202cba26f3_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a902e456e918d06668482ac202cba26f3_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a902e456e918d06668482ac202cba26f3_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a766f21f5ad81dd98d90be0fef31a1b64" title="Overwrites a part of one record of the given key in this hash storage. " alt="" coords="216,5,379,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="427,13,579,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="627,5,793,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="affd9e7a6674a1a8daced6ad1ef603857"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::overwrite_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00192">192</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00502">foedus::storage::hash::HashStoragePimpl::overwrite_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                          {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">return</span> pimpl.overwrite_record(</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    context,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    key,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    key_length,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    payload,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    payload_offset,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    payload_count);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_affd9e7a6674a1a8daced6ad1ef603857_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_affd9e7a6674a1a8daced6ad1ef603857_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_affd9e7a6674a1a8daced6ad1ef603857_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_affd9e7a6674a1a8daced6ad1ef603857_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="216,1442,412,1498"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="460,733,665,775"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="472,1238,653,1294"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="732,1656,908,1697"/>
<area shape="rect" id="node36" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="501,1319,624,1360"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a04238b5b4aec46d0a24b5489553b793a" title="foedus::storage::hash\l::HashCommonLogType::\lcalculate_log_length" alt="" coords="479,1083,647,1139"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="486,1449,639,1491"/>
<area shape="rect" id="node40" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="469,1384,656,1425"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1hash_1_1HashOverwriteLogType.html#a29bf2faaed91770de679b2e836ffa3b8" title="foedus::storage::hash\l::HashOverwriteLogType\l::populate" alt="" coords="482,1595,643,1651"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#abdd0cbf1f438986888173779270bab4a" title="foedus::storage::hash\l::HashStoragePimpl::get_id" alt="" coords="729,1721,911,1763"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="481,1515,645,1571"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="468,1777,657,1833"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="986,37,1150,93"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1239,901,1389,943"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1233,91,1395,147"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="713,375,927,416"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1233,511,1395,567"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="987,661,1149,717"/>
<area shape="rect" id="node16" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1245,685,1383,727"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1233,768,1395,809"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1231,984,1397,1025"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="749,843,891,884"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1239,172,1389,213"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1484,99,1675,140"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1219,276,1409,317"/>
<area shape="rect" id="node13" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1209,592,1419,633"/>
<area shape="rect" id="node14" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="977,269,1159,325"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="979,581,1157,637"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="987,399,1149,455"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1232,1131,1396,1172"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="1239,1050,1389,1106"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1239,835,1389,876"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="729,1286,911,1342"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="977,1247,1159,1303"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1467,1339,1692,1380"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="1232,1429,1396,1485"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="1518,1469,1641,1511"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a33c82d9bc3661456265ee9991cba1f98" title="returns whether the slot contains the exact key specified " alt="" coords="1227,1298,1401,1354"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab1d971d633ca8153c6a7363694e254a0" title="Populates fields other than readset_. " alt="" coords="1225,1639,1403,1695"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1225,1559,1403,1615"/>
<area shape="rect" id="node34" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="981,1632,1155,1673"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ab696a16e6a995a515736ff0a28b47885" title="same as &amp;get_slot(), but this is more explicit and easier to understand/maintain " alt="" coords="1494,1639,1665,1695"/>
<area shape="rect" id="node38" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="740,1045,900,1071"/>
<area shape="rect" id="node41" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="727,1384,913,1425"/>
<area shape="rect" id="node42" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="975,1697,1161,1739"/>
<area shape="rect" id="node43" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="727,1460,913,1501"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="720,1577,920,1619"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="749,1889,891,1931"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="997,1864,1139,1905"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a42d14c4073108d38f86a0c99838d0a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::overwrite_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overwrites a part of one record of the given key in this storage as a primitive value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>We copy this value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We overwrite to this byte position of the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(PAYLOAD) must be within the record's actual payload size (returns kErrorCodeStrTooShortPayload if not) </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">PAYLOAD</td><td>primitive type of the payload. all integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00511">511</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00523">overwrite_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                             {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a">overwrite_record_primitive</a>(context, key, key_length, c, payload, payload_offset);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a7a42d14c4073108d38f86a0c99838d0a"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a">foedus::storage::hash::HashStorage::overwrite_record_primitive</a></div><div class="ttdeci">ErrorCode overwrite_record_primitive(thread::Thread *context, const void *key, uint16_t key_length, PAYLOAD payload, uint16_t payload_offset)</div><div class="ttdoc">Overwrites a part of one record of the given key in this storage as a primitive value. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00511">hash_storage.hpp:511</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="216,13,368,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="416,5,583,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a7a42d14c4073108d38f86a0c99838d0a_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a1ecec094943b6c8d7397ad45e0488283" title="Overlord to receive key as a primitive type. " alt="" coords="216,5,379,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ecec094943b6c8d7397ad45e0488283"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY , typename PAYLOAD &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::overwrite_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00523">523</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00511">overwrite_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                             {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a">overwrite_record_primitive</a>(context, &amp;key, <span class="keyword">sizeof</span>(key), c, payload, payload_offset);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_a7a42d14c4073108d38f86a0c99838d0a"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a">foedus::storage::hash::HashStorage::overwrite_record_primitive</a></div><div class="ttdeci">ErrorCode overwrite_record_primitive(thread::Thread *context, const void *key, uint16_t key_length, PAYLOAD payload, uint16_t payload_offset)</div><div class="ttdoc">Overwrites a part of one record of the given key in this storage as a primitive value. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00511">hash_storage.hpp:511</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a1ecec094943b6c8d7397ad45e0488283_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a1ecec094943b6c8d7397ad45e0488283_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a1ecec094943b6c8d7397ad45e0488283_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a1ecec094943b6c8d7397ad45e0488283_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a7a42d14c4073108d38f86a0c99838d0a" title="Overwrites a part of one record of the given key in this storage as a primitive value. " alt="" coords="216,5,379,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="427,13,579,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="627,5,793,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04310f074b93b1bd110b69954595170d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PAYLOAD &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::overwrite_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PAYLOAD&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00212">212</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8hpp_source.html#l00259">foedus::storage::hash::HashStoragePimpl::overwrite_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                           {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">return</span> pimpl.overwrite_record_primitive(</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    context,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    key,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    key_length,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    payload,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    payload_offset);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a04310f074b93b1bd110b69954595170d_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a04310f074b93b1bd110b69954595170d_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a04310f074b93b1bd110b69954595170d_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a04310f074b93b1bd110b69954595170d_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a26fdac44f55a502f17cb82e98966dd84" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record_primitive" alt="" coords="216,1385,412,1441"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#add8aafbb32713dc6be20804da789f43d" title="foedus::storage::hash\l::HashStoragePimpl::overwrite\l_record" alt="" coords="460,1385,656,1441"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="704,733,909,775"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="716,1181,897,1237"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="976,1528,1152,1569"/>
<area shape="rect" id="node36" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="745,1261,868,1303"/>
<area shape="rect" id="node37" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a04238b5b4aec46d0a24b5489553b793a" title="foedus::storage::hash\l::HashCommonLogType::\lcalculate_log_length" alt="" coords="723,1065,891,1121"/>
<area shape="rect" id="node39" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="730,1392,883,1433"/>
<area shape="rect" id="node40" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="713,1327,900,1368"/>
<area shape="rect" id="node44" href="structfoedus_1_1storage_1_1hash_1_1HashOverwriteLogType.html#a29bf2faaed91770de679b2e836ffa3b8" title="foedus::storage::hash\l::HashOverwriteLogType\l::populate" alt="" coords="726,1509,887,1565"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#abdd0cbf1f438986888173779270bab4a" title="foedus::storage::hash\l::HashStoragePimpl::get_id" alt="" coords="973,1661,1155,1703"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="725,1589,889,1645"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="712,1719,901,1775"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="1230,37,1394,93"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1483,911,1633,952"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1477,91,1639,147"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="957,375,1171,416"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1477,511,1639,567"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="1231,661,1393,717"/>
<area shape="rect" id="node17" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1489,661,1627,703"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1477,735,1639,776"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1475,984,1641,1025"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="993,843,1135,884"/>
<area shape="rect" id="node6" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1483,172,1633,213"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1728,99,1919,140"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1463,276,1653,317"/>
<area shape="rect" id="node14" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1453,592,1663,633"/>
<area shape="rect" id="node15" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="1221,269,1403,325"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="1223,581,1401,637"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="1231,399,1393,455"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1476,1131,1640,1172"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="1483,1050,1633,1106"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1Thread.html#aa07f33f2b78aa6e6c66a2149b1db52e8" title="foedus::thread::Thread\l::get_numa_node" alt="" coords="1483,815,1633,856"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="973,1246,1155,1302"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="1221,1247,1403,1303"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="1711,1339,1936,1380"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="1476,1429,1640,1485"/>
<area shape="rect" id="node30" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="1762,1469,1885,1511"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a33c82d9bc3661456265ee9991cba1f98" title="returns whether the slot contains the exact key specified " alt="" coords="1471,1298,1645,1354"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab1d971d633ca8153c6a7363694e254a0" title="Populates fields other than readset_. " alt="" coords="1469,1639,1647,1695"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#a5c39383806af101855b26268abbb00e3" title="Populates the result with XID and possibly readset. " alt="" coords="1469,1559,1647,1615"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ab696a16e6a995a515736ff0a28b47885" title="same as &amp;get_slot(), but this is more explicit and easier to understand/maintain " alt="" coords="1738,1639,1909,1695"/>
<area shape="rect" id="node38" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="984,1045,1144,1071"/>
<area shape="rect" id="node41" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="971,1327,1157,1368"/>
<area shape="rect" id="node42" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="1219,1661,1405,1703"/>
<area shape="rect" id="node43" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="971,1395,1157,1436"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="964,1596,1164,1637"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="993,1779,1135,1820"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="1241,1808,1383,1849"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab763d5d37f053808257f662611f2e603"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfoedus_1_1xct_1_1TrackMovedRecordResult.html">xct::TrackMovedRecordResult</a> foedus::storage::hash::HashStorage::track_moved_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1RwLockableXctId.html">xct::RwLockableXctId</a> *&#160;</td>
          <td class="paramname"><em>old_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1xct_1_1WriteXctAccess.html">xct::WriteXctAccess</a> *&#160;</td>
          <td class="paramname"><em>write_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves a "moved" record. </p>
<p>This is the core of the moved-bit protocol. Receiving a xct_id address that points to a moved record, track the physical record in another page. This method does not take lock, so it is possible that concurrent threads again move the record after this. The only case it fails to track is the record moved to deeper layers. If the write-set is supplied, we use the key information in it to track even in that case. </p><dl class="section note"><dt>Note</dt><dd>Implementation note Hash storage also uses the moved bit for record expansion. The basic idea and protocol are same as the masstree package, but it's easier here!</dd></dl>
<p>When we migrate records for expansion, we only move it to a later position, either a larger slot index in the same page or somewhere in next-page linked-list. Further, we keep the full key in the original place. So, tracking the moved record is fairly simple and efficient. Also, no chance of cannot-track case. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00256">256</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l01099">foedus::storage::hash::HashStoragePimpl::track_moved_record()</a>.</p>

<p>Referenced by <a class="el" href="storage__manager__pimpl_8cpp_source.html#l00452">foedus::storage::StorageManagerPimpl::track_moved_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">return</span> pimpl.track_moved_record(old_address, write_set);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af3a7066a8881f653e759362cf39e01c4" title="foedus::storage::hash\l::HashStoragePimpl::track\l_moved_record" alt="" coords="200,318,375,374"/>
<area shape="rect" id="node3" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a03782134d5ef0ebb8e187ddbd89f3c36" title="foedus::xct::RwLockableXct\lId::is_moved" alt="" coords="425,31,608,72"/>
<area shape="rect" id="node5" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="434,566,599,593"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#ad66913658c856c60c06500b1179db779" title="used only for sanity check. " alt="" coords="423,114,611,170"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a144ddbe7819e7b3576611d456aa46c77" title="foedus::storage::hash\l::HashStoragePimpl::track\l_moved_record_search" alt="" coords="429,486,604,542"/>
<area shape="rect" id="node4" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="969,5,1091,47"/>
<area shape="rect" id="node7" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="684,129,844,155"/>
<area shape="rect" id="node8" href="group__HASH.html#ga8c4ca78e36b2188f1feac100ce7df679" title="Calculates hash value for general input. " alt="" coords="957,71,1103,112"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="697,311,831,352"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="659,377,869,433"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="682,457,846,499"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a6286d91dcdb8b6455e20bc770155a0be" title="foedus::storage::hash\l::HashDataPage::next\l_page_address" alt="" coords="689,523,839,579"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac6b4a13e6f057be1874f637fb9f87c51" title="foedus::storage::hash\l::HashDataPage::get_record_count" alt="" coords="917,363,1143,404"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#aa03f1438dc159688f49de6e73c851d6e" title="Search for a physical slot that exactly contains the given key. " alt="" coords="682,179,846,235"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#a49863802f2bfb024c928a37ea7abce07" title="foedus::storage::hash\l::HashDataPage::record\l_from_offset" alt="" coords="949,509,1111,565"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ab696a16e6a995a515736ff0a28b47885" title="same as &amp;get_slot(), but this is more explicit and easier to understand/maintain " alt="" coords="679,654,849,710"/>
<area shape="rect" id="node21" href="group__ASSORTED.html#ga641117f56315b0f239d72948cf5aa56f" title="Equivalent to std::atomic_thread_fence(std::memory_order_consume). " alt="" coords="677,735,851,776"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="949,713,1111,755"/>
<area shape="rect" id="node24" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="677,917,851,959"/>
<area shape="rect" id="node25" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="663,852,865,893"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1hash_1_1DataPageBloomFilter.html#a4e5601b652daaffbcb9fa81aee6746c6" title="foedus::storage::hash\l::DataPageBloomFilter\l::contains" alt="" coords="953,137,1107,193"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1hash_1_1DataPageBloomFilter.html#a28a11a7b04e04d895b21f29709eacd1f" title="foedus::storage::hash\l::DataPageBloomFilter\l::extract_fingerprint" alt="" coords="953,217,1107,273"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac2e82163d7348a6c88fecff711025b08" title="foedus::storage::hash\l::HashDataPage::get_slot" alt="" coords="945,297,1115,339"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1205,713,1367,755"/>
<area shape="rect" id="node26" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="953,779,1107,820"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1211,915,1361,956"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="943,976,1117,1017"/>
<area shape="rect" id="node31" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="929,845,1131,901"/>
<area shape="rect" id="node27" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="1209,848,1363,889"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1191,779,1381,820"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ab763d5d37f053808257f662611f2e603_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1StorageManagerPimpl.html#a3248d8440d805f772ad7b6122a4d309b" title="foedus::storage::Storage\lManagerPimpl::track_moved\l_record" alt="" coords="200,31,387,87"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1StorageManager.html#a02513539acf9d7cd9805d34154281076" title="Resolves a &quot;moved&quot; record. " alt="" coords="435,39,631,80"/>
<area shape="rect" id="node4" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9090dd1fa81513f61620b44a9a8bbd1d" title="used from verification methods to track moved record " alt="" coords="679,39,899,80"/>
<area shape="rect" id="node5" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a2c3befa16f448a004d548a2b4675a13b" title="Phase 2 of precommit_xct() for read&#45;only case. " alt="" coords="948,5,1156,47"/>
<area shape="rect" id="node9" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a9534e63f498a012d9fa401a10e2b4e0b" title="Phase 2 of precommit_xct() for read&#45;write case. " alt="" coords="947,71,1157,112"/>
<area shape="rect" id="node6" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#add42c2f0d559eafa1f67fd9c048a4855" title="precommit_xct() if the transaction is read&#45;only " alt="" coords="1205,5,1400,47"/>
<area shape="rect" id="node7" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a014506b605e14b3df1b1b7522e8a23b2" title="This is the gut of commit protocol. " alt="" coords="1448,39,1643,80"/>
<area shape="rect" id="node8" href="classfoedus_1_1xct_1_1XctManager.html#a486c653445cb64cc9514af3f1031bdf0" title="Prepares the currently running transaction on the thread for commit. " alt="" coords="1691,39,1853,80"/>
<area shape="rect" id="node10" href="classfoedus_1_1xct_1_1XctManagerPimpl.html#a777caaecec0e7bb19b1cd2841771f755" title="precommit_xct() if the transaction is read&#45;write " alt="" coords="1205,71,1400,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc9dd22b27c2d19c8c2a2c3b8011a819"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::upsert_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new record of the given key or replaces the existing one in this hash storage, or so-called <em>upsert</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Arbitrary length of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_length</td><td>Byte size of key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Value to insert. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>Length of payload.</td></tr>
  </table>
  </dd>
</dl>
<p>This method puts the record whether the key already exists or not, which is handy in many usecases. Internally, the Implementation comes with a bit of complexity. If there is an existing record of the key (whether logically deleted or not) that is spacious enough, then we simply replace the record. If the key doesn't exist or the existing record is no big enough, we create/migrate the record in a system transaction then install the record. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00412">412</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00120">combo()</a>.</p>

<p>Referenced by <a class="el" href="hash__storage_8hpp_source.html#l00424">upsert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                            {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    HashCombo c(<a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>(key, key_length));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819">upsert_record</a>(context, key, key_length, c, payload, payload_count, payload_count);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_adc9dd22b27c2d19c8c2a2c3b8011a819"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819">foedus::storage::hash::HashStorage::upsert_record</a></div><div class="ttdeci">ErrorCode upsert_record(thread::Thread *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_count)</div><div class="ttdoc">Inserts a new record of the given key or replaces the existing one in this hash storage, or so-called upsert. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00412">hash_storage.hpp:412</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="203,13,355,54"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="403,5,569,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_icgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_adc9dd22b27c2d19c8c2a2c3b8011a819_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#ad16a1a5f48d08eaee7ca97fc30750e07" title="Overlord to receive key as a primitive type. " alt="" coords="203,5,352,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad16a1a5f48d08eaee7ca97fc30750e07"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KEY &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::upsert_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEY&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overlord to receive key as a primitive type. </p>

<p>Definition at line <a class="el" href="hash__storage_8hpp_source.html#l00424">424</a> of file <a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a>.</p>

<p>References <a class="el" href="hash__storage_8hpp_source.html#l00412">upsert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                            {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    HashCombo c(combo&lt;KEY&gt;(&amp;key));</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819">upsert_record</a>(context, &amp;key, <span class="keyword">sizeof</span>(key), c, payload, payload_count, payload_count);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_adc9dd22b27c2d19c8c2a2c3b8011a819"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819">foedus::storage::hash::HashStorage::upsert_record</a></div><div class="ttdeci">ErrorCode upsert_record(thread::Thread *context, const void *key, uint16_t key_length, const void *payload, uint16_t payload_count)</div><div class="ttdoc">Inserts a new record of the given key or replaces the existing one in this hash storage, or so-called upsert. </div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00412">hash_storage.hpp:412</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_ad16a1a5f48d08eaee7ca97fc30750e07_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_ad16a1a5f48d08eaee7ca97fc30750e07_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_ad16a1a5f48d08eaee7ca97fc30750e07_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_ad16a1a5f48d08eaee7ca97fc30750e07_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#adc9dd22b27c2d19c8c2a2c3b8011a819" title="Inserts a new record of the given key or replaces the existing one in this hash storage, or so&#45;called upsert. " alt="" coords="203,5,352,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea" title="Prepares a set of information that are used in many places, extracted from the given key..." alt="" coords="400,13,552,54"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#a47a258c2edd9e4d3b3b4a5b472a07d62" title="foedus::storage::hash\l::HashStorage::get_hash\l_metadata" alt="" coords="600,5,767,61"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af75f511796795cd4ffe731fdae173325"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::hash::HashStorage::upsert_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html">HashCombo</a> &amp;&#160;</td>
          <td class="paramname"><em>combo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>physical_payload_hint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you have already computed <a class="el" href="structfoedus_1_1storage_1_1hash_1_1HashCombo.html" title="A set of information that are used in many places, extracted from the given key. ">HashCombo</a>, use this. </p>

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00159">159</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__pimpl_8cpp_source.html#l00390">foedus::storage::hash::HashStoragePimpl::upsert_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                  {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> pimpl.upsert_record(</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    context,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    key,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    key_length,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">combo</a>,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    payload,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    payload_count,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    physical_payload_hint);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_html_aaccce5ffedbeebe88d6845dd03e2c1ea"><div class="ttname"><a href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html#aaccce5ffedbeebe88d6845dd03e2c1ea">foedus::storage::hash::HashStorage::combo</a></div><div class="ttdeci">HashCombo combo(const void *key, uint16_t key_length) const </div><div class="ttdoc">Prepares a set of information that are used in many places, extracted from the given key...</div><div class="ttdef"><b>Definition:</b> <a href="hash__storage_8hpp_source.html#l00120">hash_storage.hpp:120</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_af75f511796795cd4ffe731fdae173325_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_af75f511796795cd4ffe731fdae173325_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_af75f511796795cd4ffe731fdae173325_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_af75f511796795cd4ffe731fdae173325_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a49df48b50c0c645d3a047e8b153c4015" title="foedus::storage::hash\l::HashStoragePimpl::upsert\l_record" alt="" coords="203,1639,385,1695"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1hash.html#a621860b1314f5eecc0e41d3972340bf9" title="foedus::storage::hash\l::adjust_payload_hint" alt="" coords="720,9,867,50"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a0f073a76a5abeac0829ba1e47a40c02c" title="Find a pointer to the bin that contains records for the hash. " alt="" coords="433,1181,639,1222"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ac653a03fd75011048550f8e9f5dd198d" title="foedus::storage::hash\l::HashDataPage::header" alt="" coords="1205,298,1369,340"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a07025464a0eba08710f6fa92d7c0f32d" title="locate_record()&#39;s logical+physical version. " alt="" coords="445,702,627,758"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#ab29603dc5748833bc006e129a152a4d1" title="foedus::storage::hash\l::RecordLocation::is_found" alt="" coords="705,1457,881,1498"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#af4125da7e85cd2da82d64b8aa3eb9e81" title="foedus::storage::hash\l::RecordLocation::get\l_max_payload" alt="" coords="463,82,609,138"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ad2169cfc93933b2b35fea60fe8be9cf8" title="foedus::storage::hash\l::HashDataPage::bloom\l_filter" alt="" coords="456,1639,616,1695"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1hash_1_1DataPageBloomFilter.html#a4e5601b652daaffbcb9fa81aee6746c6" title="foedus::storage::hash\l::DataPageBloomFilter\l::contains" alt="" coords="459,1719,613,1775"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#a2a5e6b008138d755e7e401f25927400c" title="Methods related to System transactions (sysxct) nested under this thread. " alt="" coords="461,1800,611,1841"/>
<area shape="rect" id="node34" href="structfoedus_1_1xct_1_1XctId.html#a6008b5f8531e6ee524d60cf86bc20148" title="foedus::xct::XctId\l::is_deleted" alt="" coords="475,1865,597,1906"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1hash_1_1HashCommonLogType.html#a04238b5b4aec46d0a24b5489553b793a" title="foedus::storage::hash\l::HashCommonLogType::\lcalculate_log_length" alt="" coords="709,155,877,211"/>
<area shape="rect" id="node36" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="459,1930,613,1972"/>
<area shape="rect" id="node37" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="443,1996,629,2037"/>
<area shape="rect" id="node41" href="structfoedus_1_1storage_1_1hash_1_1HashInsertLogType.html#abd3dbdbe4f6d69957367a01e7576882a" title="foedus::storage::hash\l::HashInsertLogType::\lpopulate" alt="" coords="462,2062,610,2118"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#abdd0cbf1f438986888173779270bab4a" title="foedus::storage::hash\l::HashStoragePimpl::get_id" alt="" coords="703,1772,884,1813"/>
<area shape="rect" id="node43" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aff4c87787f9e6ce9c4306b8bcaf36a47" title="foedus::storage::hash\l::HashStoragePimpl::get\l_bin_bits" alt="" coords="454,2142,618,2198"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1hash_1_1HashOverwriteLogType.html#a29bf2faaed91770de679b2e836ffa3b8" title="foedus::storage::hash\l::HashOverwriteLogType\l::populate" alt="" coords="455,2222,617,2278"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1hash_1_1HashUpdateLogType.html#af538b6dfae547586f1bd65cf8a879c15" title="foedus::storage::hash\l::HashUpdateLogType::\lpopulate" alt="" coords="457,2302,615,2358"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#aeea83aff996263bc8e9b3623fbe305a1" title="Used in the following methods. " alt="" coords="441,1508,631,1564"/>
<area shape="rect" id="node4" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="961,90,1121,116"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a579927a24cc690c8d4d6362bcb9e8538" title="Retrieves the root page of this storage. " alt="" coords="959,600,1123,656"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="1212,1318,1363,1360"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="1207,1010,1368,1066"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a3d443bf6ef79608f06b5ca1aa4ea7e6f" title="for non&#45;root " alt="" coords="687,934,900,976"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="1207,1156,1368,1212"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="961,1174,1122,1230"/>
<area shape="rect" id="node18" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1218,1090,1357,1132"/>
<area shape="rect" id="node19" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#aa8c59b8e2944d4a6a68d5fed840a7a29" title="foedus::storage::Volatile\lPagePointer::clear" alt="" coords="1207,582,1368,624"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="1204,401,1371,442"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="723,384,864,425"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1212,673,1363,714"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="1440,1017,1631,1058"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="1192,804,1383,845"/>
<area shape="rect" id="node15" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1183,492,1392,533"/>
<area shape="rect" id="node16" href="group__ARRAY.html#ga2823bcd484e4e7cb47ceca880584000a" title="volatile page initialize callback for HashIntermediatePage. " alt="" coords="950,862,1133,918"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a21ed664fcd1889aa4dab0f150fd06c02" title="subroutine to follow a pointer to head of bin from a volatile parent " alt="" coords="952,731,1131,787"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="961,992,1122,1048"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#a86af9aa3326dd20ffdac2a1beffea0b4" title="Usually follows locate_bin to locate the exact physical record for the key, or create a new one if no..." alt="" coords="703,303,884,359"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#af64ca224598812767abe9631f280b105" title="Simpler version of locate_record for when we are in snapshot world. " alt="" coords="951,368,1132,424"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1hash_1_1RecordLocation.html#abed92a9a4809cce3c1cc33bc4fb07a81" title="foedus::storage::hash\l::RecordLocation::get\l_aligned_key_length" alt="" coords="720,75,867,131"/>
<area shape="rect" id="node33" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a498a6a07313bf9fbb2c0e3d02f075221" title="Sysxct&#45;related. " alt="" coords="701,1837,885,1878"/>
<area shape="rect" id="node38" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="700,1937,887,1978"/>
<area shape="rect" id="node39" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="948,2025,1135,2066"/>
<area shape="rect" id="node40" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="700,2054,887,2096"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ab4578ade774f828985930b8e36269e8e" title="foedus::storage::hash\l::HashStoragePimpl::get_meta" alt="" coords="693,2149,893,2190"/>
<area shape="rect" id="node48" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#ab696a16e6a995a515736ff0a28b47885" title="same as &amp;get_slot(), but this is more explicit and easier to understand/maintain " alt="" coords="708,1691,879,1747"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#aa23025809d9c2fdff744f98f78c3882a" title="Registers a write&#45;set related to an existing read&#45;set. " alt="" coords="723,1574,864,1616"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="971,1604,1112,1645"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29cf082a85cdc7074a748e151e34807d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::hash::HashStorage::verify_single_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00263">263</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__verify_8cpp_source.html#l00042">foedus::storage::hash::HashStoragePimpl::verify_single_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                                           {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> pimpl.verify_single_thread(engine);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a29cf082a85cdc7074a748e151e34807d_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a29cf082a85cdc7074a748e151e34807d_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a29cf082a85cdc7074a748e151e34807d_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a29cf082a85cdc7074a748e151e34807d_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ae1d255af4c59e5d9eb4696da85b77121" title="These are defined in hash_storage_verify.cpp. " alt="" coords="200,505,375,561"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="949,393,1110,435"/>
<area shape="rect" id="node5" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="962,1135,1097,1176"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="924,1201,1135,1257"/>
<area shape="rect" id="node7" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="423,139,625,180"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="694,270,855,326"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afc1a73e49f6386098d3fff98bc1baf78" title="foedus::storage::hash\l::HashStoragePimpl::verify\l_single_thread_intermediate" alt="" coords="432,674,616,730"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1203,268,1364,309"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="697,139,852,180"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="955,5,1104,47"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="688,204,861,245"/>
<area shape="rect" id="node13" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="673,58,876,114"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="952,75,1107,116"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="934,205,1125,247"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="934,277,1125,319"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="694,502,855,558"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1PageVersion.html#a301cba19b01cf82d7b576a04180b56e2" title="foedus::storage::PageVersion\l::is_locked" alt="" coords="679,583,871,624"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="679,648,871,689"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1PageVersion.html#a61318d7aab5c4ca7334ec05f8de168ca" title="foedus::storage::PageVersion\l::is_retired" alt="" coords="679,713,871,755"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="694,779,855,835"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="694,859,855,915"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="946,821,1113,863"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad137d51b31782b8e525481bb69816848" title="foedus::storage::hash\l::HashStoragePimpl::verify\l_single_thread_data" alt="" coords="687,990,862,1046"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1McsWwLock.html#abe15a0d250a2186ac534fc5d2d0b7f8e" title="This is a &quot;relaxed&quot; check. " alt="" coords="945,583,1114,624"/>
<area shape="rect" id="node20" href="structfoedus_1_1xct_1_1McsWwBlockData.html#aa6a3e9b495bb234bf4c840a0e43d082e" title="foedus::xct::McsWwBlockData\l::is_valid_relaxed" alt="" coords="1183,583,1384,624"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="933,648,1125,689"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ab07c3c3d030fab04f79b59dee83ecd2e" title="foedus::storage::PageVersion\lStatus::is_retired" alt="" coords="933,713,1125,755"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a610d8c1bfd1d86dcde181c3fb0020f0c" title="foedus::xct::RwLockableXct\lId::is_keylocked" alt="" coords="938,1004,1121,1045"/>
<area shape="rect" id="node31" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="968,939,1091,980"/>
<area shape="rect" id="node32" href="structfoedus_1_1xct_1_1XctId.html#af48118bbaf92a957116ae2873fe55b83" title="foedus::xct::XctId\l::get_epoch" alt="" coords="968,1069,1091,1111"/>
<area shape="rect" id="node34" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="952,887,1107,914"/>
<area shape="rect" id="node30" href="structfoedus_1_1xct_1_1McsRwLock.html#adc5e6612e3cecf3d2f15d02237b4ef8f" title="foedus::xct::McsRwLock\l::is_locked" alt="" coords="1201,1004,1366,1045"/>
<area shape="rect" id="node33" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1222,1069,1345,1111"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2696c5c7c5835ec99bce1ca4ef2c1910"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::hash::HashStorage::verify_single_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00268">268</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>

<p>References <a class="el" href="hash__storage__verify_8cpp_source.html#l00042">foedus::storage::hash::HashStoragePimpl::verify_single_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                                                  {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  HashStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">return</span> pimpl.verify_single_thread(context);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1hash_1_1HashStorage_a2696c5c7c5835ec99bce1ca4ef2c1910_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1hash_1_1HashStorage_a2696c5c7c5835ec99bce1ca4ef2c1910_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1hash_1_1HashStorage_a2696c5c7c5835ec99bce1ca4ef2c1910_cgraph" id="classfoedus_1_1storage_1_1hash_1_1HashStorage_a2696c5c7c5835ec99bce1ca4ef2c1910_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ae1d255af4c59e5d9eb4696da85b77121" title="These are defined in hash_storage_verify.cpp. " alt="" coords="200,505,375,561"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="949,393,1110,435"/>
<area shape="rect" id="node5" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="962,1135,1097,1176"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="924,1201,1135,1257"/>
<area shape="rect" id="node7" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="423,139,625,180"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a6ddc93fb5df01249140895435819da2f" title="foedus::storage::hash\l::HashIntermediatePage\l::get_level" alt="" coords="694,270,855,326"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#afc1a73e49f6386098d3fff98bc1baf78" title="foedus::storage::hash\l::HashStoragePimpl::verify\l_single_thread_intermediate" alt="" coords="432,674,616,730"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1203,268,1364,309"/>
<area shape="rect" id="node8" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="697,139,852,180"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="955,5,1104,47"/>
<area shape="rect" id="node12" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="688,204,861,245"/>
<area shape="rect" id="node13" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="673,58,876,114"/>
<area shape="rect" id="node9" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="952,75,1107,116"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="934,205,1125,247"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1PageHeader.html#ac40b3dad0a38d9a142bd14ea5000b669" title="foedus::storage::PageHeader\l::get_in_layer_level" alt="" coords="934,277,1125,319"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a134e444d2b945700fe14d0d6d3dd11f0" title="foedus::storage::hash\l::HashIntermediatePage\l::header" alt="" coords="694,502,855,558"/>
<area shape="rect" id="node18" href="structfoedus_1_1storage_1_1PageVersion.html#a301cba19b01cf82d7b576a04180b56e2" title="foedus::storage::PageVersion\l::is_locked" alt="" coords="679,583,871,624"/>
<area shape="rect" id="node21" href="structfoedus_1_1storage_1_1PageVersion.html#a2b63daa9a7f39c8c85bf2d43f4c18d78" title="foedus::storage::PageVersion\l::is_moved" alt="" coords="679,648,871,689"/>
<area shape="rect" id="node23" href="structfoedus_1_1storage_1_1PageVersion.html#a61318d7aab5c4ca7334ec05f8de168ca" title="foedus::storage::PageVersion\l::is_retired" alt="" coords="679,713,871,755"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#ac5e2de81d5e512b5a0f735a9fc413629" title="foedus::storage::hash\l::HashIntermediatePage\l::get_bin_range" alt="" coords="694,779,855,835"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1hash_1_1HashIntermediatePage.html#a9027ebbc2ee535519916906978347be9" title="foedus::storage::hash\l::HashIntermediatePage\l::get_pointer" alt="" coords="694,859,855,915"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1hash_1_1HashDataPage.html#acfa062e1acf64b882f466cca8e190fdd" title="foedus::storage::hash\l::HashDataPage::get_bin" alt="" coords="946,821,1113,863"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1hash_1_1HashStoragePimpl.html#ad137d51b31782b8e525481bb69816848" title="foedus::storage::hash\l::HashStoragePimpl::verify\l_single_thread_data" alt="" coords="687,990,862,1046"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1McsWwLock.html#abe15a0d250a2186ac534fc5d2d0b7f8e" title="This is a &quot;relaxed&quot; check. " alt="" coords="945,583,1114,624"/>
<area shape="rect" id="node20" href="structfoedus_1_1xct_1_1McsWwBlockData.html#aa6a3e9b495bb234bf4c840a0e43d082e" title="foedus::xct::McsWwBlockData\l::is_valid_relaxed" alt="" coords="1183,583,1384,624"/>
<area shape="rect" id="node22" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ac3214863fa74628187ce46b2879994ae" title="foedus::storage::PageVersion\lStatus::is_moved" alt="" coords="933,648,1125,689"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1PageVersionStatus.html#ab07c3c3d030fab04f79b59dee83ecd2e" title="foedus::storage::PageVersion\lStatus::is_retired" alt="" coords="933,713,1125,755"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1RwLockableXctId.html#a610d8c1bfd1d86dcde181c3fb0020f0c" title="foedus::xct::RwLockableXct\lId::is_keylocked" alt="" coords="938,1004,1121,1045"/>
<area shape="rect" id="node31" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="968,939,1091,980"/>
<area shape="rect" id="node32" href="structfoedus_1_1xct_1_1XctId.html#af48118bbaf92a957116ae2873fe55b83" title="foedus::xct::XctId\l::get_epoch" alt="" coords="968,1069,1091,1111"/>
<area shape="rect" id="node34" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="952,887,1107,914"/>
<area shape="rect" id="node30" href="structfoedus_1_1xct_1_1McsRwLock.html#adc5e6612e3cecf3d2f15d02237b4ef8f" title="foedus::xct::McsRwLock\l::is_locked" alt="" coords="1201,1004,1366,1045"/>
<area shape="rect" id="node33" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1222,1069,1345,1111"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a49ae5a2a002289c4aa59e7800b7c36cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="hash__storage_8cpp_source.html#l00247">247</a> of file <a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                                            {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;HashStorage&gt;&quot;</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;id&gt;&quot;</span> &lt;&lt; v.get_id() &lt;&lt; <span class="stringliteral">&quot;&lt;/id&gt;&quot;</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;name&gt;&quot;</span> &lt;&lt; v.get_name() &lt;&lt; <span class="stringliteral">&quot;&lt;/name&gt;&quot;</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;bin_bits&gt;&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(v.control_block_-&gt;meta_.bin_bits_) &lt;&lt; <span class="stringliteral">&quot;&lt;/bin_bits&gt;&quot;</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/HashStorage&gt;&quot;</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/hash/<a class="el" href="hash__storage_8hpp_source.html">hash_storage.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/hash/<a class="el" href="hash__storage_8cpp_source.html">hash_storage.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1hash.html">hash</a></li><li class="navelem"><a class="el" href="classfoedus_1_1storage_1_1hash_1_1HashStorage.html">HashStorage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
