<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfoedus-core: foedus::storage::array::ArrayStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfoedus-core
   </div>
   <div id="projectbrief">FOEDUS Core Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/centos7/"><span>Jenkins&#160;(x86_64&#160;Fedora)</span></a></li>
      <li><a href="http://cihead.labs.hpe.com/ub1404/"><span>Jenkins&#160;(x86_64&#160;Ubuntu)</span></a></li>
      <li><a href="http://ms01915-003.hpl.hp.com:8080/"><span>Jenkins&#160;(aarch64&#160;Ubuntu)</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/tree/master"><span>Github</span></a></li>
      <li><a href="http://github.com/hkimura/foedus_code/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfoedus_1_1storage_1_1array_1_1ArrayStorage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">foedus::storage::array::ArrayStorage Class Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__COMPONENTS.html">FOEDUS Components</a> &raquo; <a class="el" href="group__STORAGE.html">Storage Manager</a> &raquo; <a class="el" href="group__ARRAY.html">Array Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a key-value store based on a dense and regular array.  
 <a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a key-value store based on a dense and regular array. </p>

<p>Definition at line <a class="el" href="array__storage_8hpp_source.html#l00047">47</a> of file <a class="el" href="array__storage_8hpp_source.html">array_storage.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="array__storage_8hpp_source.html">array_storage.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for foedus::storage::array::ArrayStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage__inherit__graph.png" border="0" usemap="#foedus_1_1storage_1_1array_1_1ArrayStorage_inherit__map" alt="Inheritance graph"/></div>
<map name="foedus_1_1storage_1_1array_1_1ArrayStorage_inherit__map" id="foedus_1_1storage_1_1array_1_1ArrayStorage_inherit__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html" title="foedus::storage::Storage\l\&lt; ArrayStorageControlBlock \&gt;" alt="" coords="5,95,200,136"/>
<area shape="rect" id="node3" href="classfoedus_1_1Attachable.html" title="foedus::Attachable\l\&lt; ArrayStorageControlBlock \&gt;" alt="" coords="5,5,200,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for foedus::storage::array::ArrayStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage__coll__graph.png" border="0" usemap="#foedus_1_1storage_1_1array_1_1ArrayStorage_coll__map" alt="Collaboration graph"/></div>
<map name="foedus_1_1storage_1_1array_1_1ArrayStorage_coll__map" id="foedus_1_1storage_1_1array_1_1ArrayStorage_coll__map">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html" title="foedus::storage::Storage\l\&lt; ArrayStorageControlBlock \&gt;" alt="" coords="1595,208,1789,249"/>
<area shape="rect" id="node3" href="classfoedus_1_1Attachable.html" title="foedus::Attachable\l\&lt; ArrayStorageControlBlock \&gt;" alt="" coords="1351,208,1545,249"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html" title="Shared data of this storage type. " alt="" coords="1033,169,1213,211"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html" title="Metadata of an array storage. " alt="" coords="709,39,857,80"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1Metadata.html" title="Metadata of one storage. " alt="" coords="377,46,551,73"/>
<area shape="rect" id="node7" href="classfoedus_1_1assorted_1_1FixedString.html" title="foedus::assorted::FixedString\l\&lt; 60 \&gt;" alt="" coords="5,5,197,47"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Metadata_1_1SnapshotThresholds.html" title="Tuning parameters related to snapshotting. " alt="" coords="15,71,188,112"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html" title="Packages logic and required properties to calculate LookupRoute in array storage from offset..." alt="" coords="709,104,857,145"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1DualPagePointer.html" title="Represents a pointer to another page (usually a child page). " alt="" coords="696,169,871,211"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1VolatilePagePointer.html" title="Represents a pointer to a volatile page with modification count for preventing ABA. " alt="" coords="383,169,545,211"/>
<area shape="rect" id="node12" href="classfoedus_1_1soc_1_1SharedMutex.html" title="A mutex that can be placed in shared memory and used from multiple processes. " alt="" coords="696,235,871,262"/>
<area shape="rect" id="node13" href="classfoedus_1_1Engine.html" title="Database engine object that holds all resources and provides APIs. " alt="" coords="1069,261,1177,287"/>
<area shape="rect" id="node14" href="classfoedus_1_1Initializable.html" title="The pure&#45;virtual interface to initialize/uninitialize non&#45;trivial resources. " alt="" coords="717,286,849,313"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac2e4777b404bb5dbf94504914f033370"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html">ArrayStoragePimpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ac2e4777b404bb5dbf94504914f033370">ThisPimpl</a></td></tr>
<tr class="separator:ac2e4777b404bb5dbf94504914f033370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4313578f228abe997aba1fff5a6bde"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayCreateLogType.html">ArrayCreateLogType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a9f4313578f228abe997aba1fff5a6bde">ThisCreateLogType</a></td></tr>
<tr class="separator:a9f4313578f228abe997aba1fff5a6bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd26bcaabd67a535727984a99aab446"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html">ArrayMetadata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3bd26bcaabd67a535727984a99aab446">ThisMetadata</a></td></tr>
<tr class="separator:a3bd26bcaabd67a535727984a99aab446"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a123afbc1f60442ffa4829c8bf3a95719"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a123afbc1f60442ffa4829c8bf3a95719">ArrayStorage</a> ()</td></tr>
<tr class="separator:a123afbc1f60442ffa4829c8bf3a95719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac176f998f7456afe93ebae8ebe548284"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ac176f998f7456afe93ebae8ebe548284">ArrayStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html">ArrayStorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:ac176f998f7456afe93ebae8ebe548284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8785403ba9cbcd7ae6048b698771af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3a8785403ba9cbcd7ae6048b698771af">ArrayStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:a3a8785403ba9cbcd7ae6048b698771af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44ba62fbefade036d1229741c84008d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ab44ba62fbefade036d1229741c84008d">ArrayStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id)</td></tr>
<tr class="separator:ab44ba62fbefade036d1229741c84008d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72925a45e3d475e20f50659b8cba678"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ad72925a45e3d475e20f50659b8cba678">ArrayStorage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name)</td></tr>
<tr class="separator:ad72925a45e3d475e20f50659b8cba678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0c928877de5483dba2576fca1e2888"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5c0c928877de5483dba2576fca1e2888">ArrayStorage</a> (const <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp;other)</td></tr>
<tr class="separator:a5c0c928877de5483dba2576fca1e2888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa64f886ffc9e89d4cd940cf8a55262"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaaa64f886ffc9e89d4cd940cf8a55262">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp;other)</td></tr>
<tr class="separator:aaaa64f886ffc9e89d4cd940cf8a55262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145759e5113dca6d01be034ea5725f58"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html">ArrayMetadata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a145759e5113dca6d01be034ea5725f58">get_array_metadata</a> () const </td></tr>
<tr class="separator:a145759e5113dca6d01be034ea5725f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84737e8c5a5048f583cb07b8b746ed94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a84737e8c5a5048f583cb07b8b746ed94">create</a> (const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;metadata)</td></tr>
<tr class="separator:a84737e8c5a5048f583cb07b8b746ed94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f536b8252655076528b290abb84a87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aa0f536b8252655076528b290abb84a87">load</a> (const <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> &amp;snapshot_block)</td></tr>
<tr class="separator:aa0f536b8252655076528b290abb84a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab725dd6fcc1f7345bb27123575555f6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ab725dd6fcc1f7345bb27123575555f6a">drop</a> ()</td></tr>
<tr class="separator:ab725dd6fcc1f7345bb27123575555f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af420e19da8ee4ed731ae387932cc991e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e">prefetch_pages</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, bool install_volatile, bool cache_snapshot, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> from, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> to)</td></tr>
<tr class="memdesc:af420e19da8ee4ed731ae387932cc991e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefetch data pages in this storage.  <a href="#af420e19da8ee4ed731ae387932cc991e">More...</a><br /></td></tr>
<tr class="separator:af420e19da8ee4ed731ae387932cc991e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc05e0b608094e78fa9a7025c08524b5"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5">get_payload_size</a> () const </td></tr>
<tr class="memdesc:acc05e0b608094e78fa9a7025c08524b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns byte size of one record in this array storage without internal overheads.  <a href="#acc05e0b608094e78fa9a7025c08524b5">More...</a><br /></td></tr>
<tr class="separator:acc05e0b608094e78fa9a7025c08524b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5043394d70ac6f151fb06508a038ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca">get_array_size</a> () const </td></tr>
<tr class="memdesc:a2e5043394d70ac6f151fb06508a038ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of this array.  <a href="#a2e5043394d70ac6f151fb06508a038ca">More...</a><br /></td></tr>
<tr class="separator:a2e5043394d70ac6f151fb06508a038ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a535c4b81884868a2a5ead00428dd77"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3a535c4b81884868a2a5ead00428dd77">get_levels</a> () const </td></tr>
<tr class="memdesc:a3a535c4b81884868a2a5ead00428dd77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of levels.  <a href="#a3a535c4b81884868a2a5ead00428dd77">More...</a><br /></td></tr>
<tr class="separator:a3a535c4b81884868a2a5ead00428dd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf3ffad926524a1a62aed312ef49dca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a0bf3ffad926524a1a62aed312ef49dca">get_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, void *payload)</td></tr>
<tr class="memdesc:a0bf3ffad926524a1a62aed312ef49dca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves one record of the given offset in this array storage.  <a href="#a0bf3ffad926524a1a62aed312ef49dca">More...</a><br /></td></tr>
<tr class="separator:a0bf3ffad926524a1a62aed312ef49dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5da0aa4f609d2b80a64a6fcaf4e6d81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81">get_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, void *payload, uint16_t payload_offset, uint16_t payload_count)</td></tr>
<tr class="memdesc:ae5da0aa4f609d2b80a64a6fcaf4e6d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a part of record of the given offset in this array storage.  <a href="#ae5da0aa4f609d2b80a64a6fcaf4e6d81">More...</a><br /></td></tr>
<tr class="separator:ae5da0aa4f609d2b80a64a6fcaf4e6d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9cd919a7b95297f1ad5ef5d5971be7"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1b9cd919a7b95297f1ad5ef5d5971be7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7">get_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, T *payload, uint16_t payload_offset)</td></tr>
<tr class="memdesc:a1b9cd919a7b95297f1ad5ef5d5971be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a part of record of the given offset as a primitive type in this array storage.  <a href="#a1b9cd919a7b95297f1ad5ef5d5971be7">More...</a><br /></td></tr>
<tr class="separator:a1b9cd919a7b95297f1ad5ef5d5971be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35580e9eb07d46212c1cf0a15520cb24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24">get_record_payload</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, const void **payload)</td></tr>
<tr class="memdesc:a35580e9eb07d46212c1cf0a15520cb24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a pointer to the entire payload.  <a href="#a35580e9eb07d46212c1cf0a15520cb24">More...</a><br /></td></tr>
<tr class="separator:a35580e9eb07d46212c1cf0a15520cb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb10150d96e7a6fe9c7bc00da6a13e80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80">get_record_for_write</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, <a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> **record)</td></tr>
<tr class="memdesc:acb10150d96e7a6fe9c7bc00da6a13e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a pointer to the entire record for write (thus always in volatile page).  <a href="#acb10150d96e7a6fe9c7bc00da6a13e80">More...</a><br /></td></tr>
<tr class="separator:acb10150d96e7a6fe9c7bc00da6a13e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0a99eb452ebc4ec0e2e86d520d315f"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7a0a99eb452ebc4ec0e2e86d520d315f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f">get_record_primitive_batch</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, uint16_t payload_offset, uint16_t batch_size, const <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> *offset_batch, T *payload)</td></tr>
<tr class="memdesc:a7a0a99eb452ebc4ec0e2e86d520d315f"><td class="mdescLeft">&#160;</td><td class="mdescRight">batched interface  <a href="#a7a0a99eb452ebc4ec0e2e86d520d315f">More...</a><br /></td></tr>
<tr class="separator:a7a0a99eb452ebc4ec0e2e86d520d315f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f548ffc92c96cc52238068d781bbf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8">get_record_payload_batch</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, uint16_t batch_size, const <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> *offset_batch, const void **payload_batch)</td></tr>
<tr class="separator:a69f548ffc92c96cc52238068d781bbf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58183bfb0f5e70653f7f450ecac9f501"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501">get_record_for_write_batch</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, uint16_t batch_size, const <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> *offset_batch, <a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> **record_batch)</td></tr>
<tr class="separator:a58183bfb0f5e70653f7f450ecac9f501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f86d7dbf38c9597b6a8f69d45a1206"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35f86d7dbf38c9597b6a8f69d45a1206">overwrite_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, const void *payload)</td></tr>
<tr class="memdesc:a35f86d7dbf38c9597b6a8f69d45a1206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites one record of the given offset in this array storage.  <a href="#a35f86d7dbf38c9597b6a8f69d45a1206">More...</a><br /></td></tr>
<tr class="separator:a35f86d7dbf38c9597b6a8f69d45a1206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe59a512f951b17e2524fd153a9d991"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5fe59a512f951b17e2524fd153a9d991">overwrite_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, const void *payload, uint16_t payload_offset, uint16_t payload_count)</td></tr>
<tr class="memdesc:a5fe59a512f951b17e2524fd153a9d991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites a part of one record of the given offset in this array storage.  <a href="#a5fe59a512f951b17e2524fd153a9d991">More...</a><br /></td></tr>
<tr class="separator:a5fe59a512f951b17e2524fd153a9d991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa646f67578c221ef982e28fffdd76e4"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aaa646f67578c221ef982e28fffdd76e4"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaa646f67578c221ef982e28fffdd76e4">overwrite_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, T payload, uint16_t payload_offset)</td></tr>
<tr class="memdesc:aaa646f67578c221ef982e28fffdd76e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites a part of record of the given offset as a primitive type in this array storage.  <a href="#aaa646f67578c221ef982e28fffdd76e4">More...</a><br /></td></tr>
<tr class="separator:aaa646f67578c221ef982e28fffdd76e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fbd39ec14792d8fc85411b4fed00db8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a9fbd39ec14792d8fc85411b4fed00db8">overwrite_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, <a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> *record, const void *payload, uint16_t payload_offset, uint16_t payload_count)</td></tr>
<tr class="memdesc:a9fbd39ec14792d8fc85411b4fed00db8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites a part of the pre-searched record in this array storage.  <a href="#a9fbd39ec14792d8fc85411b4fed00db8">More...</a><br /></td></tr>
<tr class="separator:a9fbd39ec14792d8fc85411b4fed00db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab395df9d52ed628efe738890810d9f95"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab395df9d52ed628efe738890810d9f95"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ab395df9d52ed628efe738890810d9f95">overwrite_record_primitive</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, <a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> *record, T payload, uint16_t payload_offset)</td></tr>
<tr class="memdesc:ab395df9d52ed628efe738890810d9f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites a part of pre-searched record as a primitive type in this array storage.  <a href="#ab395df9d52ed628efe738890810d9f95">More...</a><br /></td></tr>
<tr class="separator:ab395df9d52ed628efe738890810d9f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cfbd23c4239f8a63ac5719007a8305b"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3cfbd23c4239f8a63ac5719007a8305b"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b">increment_record</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, T *value, uint16_t payload_offset)</td></tr>
<tr class="memdesc:a3cfbd23c4239f8a63ac5719007a8305b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This one further optimizes <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaa646f67578c221ef982e28fffdd76e4" title="Overwrites a part of record of the given offset as a primitive type in this array storage...">overwrite_record_primitive()</a> for the frequent use case of incrementing some data in primitive type.  <a href="#a3cfbd23c4239f8a63ac5719007a8305b">More...</a><br /></td></tr>
<tr class="separator:a3cfbd23c4239f8a63ac5719007a8305b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5093ba18b241e5179a363476bdd20066"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a5093ba18b241e5179a363476bdd20066"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5093ba18b241e5179a363476bdd20066">increment_record_oneshot</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context, <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> offset, T value, uint16_t payload_offset)</td></tr>
<tr class="memdesc:a5093ba18b241e5179a363476bdd20066"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a faster increment that does not return the value after increment.  <a href="#a5093ba18b241e5179a363476bdd20066">More...</a><br /></td></tr>
<tr class="separator:a5093ba18b241e5179a363476bdd20066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d637b3f30a93402b31c7aa44be75a55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a8d637b3f30a93402b31c7aa44be75a55">hcc_reset_all_temperature_stat</a> ()</td></tr>
<tr class="memdesc:a8d637b3f30a93402b31c7aa44be75a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all volatile pages' temperature stat to be zero in this storage.  <a href="#a8d637b3f30a93402b31c7aa44be75a55">More...</a><br /></td></tr>
<tr class="separator:a8d637b3f30a93402b31c7aa44be75a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a493ad74f622cef06e6b18a46fa23d6b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a493ad74f622cef06e6b18a46fa23d6b0">verify_single_thread</a> (<a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *context)</td></tr>
<tr class="separator:a493ad74f622cef06e6b18a46fa23d6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1storage_1_1Storage"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1storage_1_1Storage')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1storage_1_1Storage.html">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:afd9af874de90ee35544bcb8a0b562890 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#afd9af874de90ee35544bcb8a0b562890">Storage</a> ()</td></tr>
<tr class="separator:afd9af874de90ee35544bcb8a0b562890 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816534199b6ecc2362e865ba6b69fcc7 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a816534199b6ecc2362e865ba6b69fcc7">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, ArrayStorageControlBlock *control_block)</td></tr>
<tr class="separator:a816534199b6ecc2362e865ba6b69fcc7 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237ac4e220f5b1f60d02d3ba60b3e957 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a237ac4e220f5b1f60d02d3ba60b3e957">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *control_block)</td></tr>
<tr class="separator:a237ac4e220f5b1f60d02d3ba60b3e957 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a99a8a206a33ec9e288c7428f5a84fa42">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, <a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a> id)</td></tr>
<tr class="memdesc:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for engine-&gt;get_storage_manager()-&gt;get_storage(id)  <a href="#a99a8a206a33ec9e288c7428f5a84fa42">More...</a><br /></td></tr>
<tr class="separator:a99a8a206a33ec9e288c7428f5a84fa42 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a0da37bccd7cff653167727ba4610bb6a">Storage</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;name)</td></tr>
<tr class="memdesc:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for engine-&gt;get_storage_manager()-&gt;get_storage(name)  <a href="#a0da37bccd7cff653167727ba4610bb6a">More...</a><br /></td></tr>
<tr class="separator:a0da37bccd7cff653167727ba4610bb6a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d6eeb9c79fded26452c2b60e509f53 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a30d6eeb9c79fded26452c2b60e509f53">Storage</a> (const <a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;other)</td></tr>
<tr class="separator:a30d6eeb9c79fded26452c2b60e509f53 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f116fdabdd0c488b59b318600fce465 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a1f116fdabdd0c488b59b318600fce465">operator=</a> (const <a class="el" href="classfoedus_1_1storage_1_1Storage.html">Storage</a> &amp;other)</td></tr>
<tr class="separator:a1f116fdabdd0c488b59b318600fce465 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ad9fcb57f0ee2a79e884c0b8b64c8b824">get_id</a> () const</td></tr>
<tr class="memdesc:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique ID of this storage.  <a href="#ad9fcb57f0ee2a79e884c0b8b64c8b824">More...</a><br /></td></tr>
<tr class="separator:ad9fcb57f0ee2a79e884c0b8b64c8b824 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__STORAGE.html#ga016025043f5ef9c02be03f2f2a17a0de">StorageType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a> () const</td></tr>
<tr class="memdesc:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of this storage.  <a href="#a131e005bb11678c1824d5075aa3df77a">More...</a><br /></td></tr>
<tr class="separator:a131e005bb11678c1824d5075aa3df77a inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ac1b54d4e7f3ad9f7f7c17598911abb01">get_name</a> () const</td></tr>
<tr class="memdesc:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique name of this storage.  <a href="#ac1b54d4e7f3ad9f7f7c17598911abb01">More...</a><br /></td></tr>
<tr class="separator:ac1b54d4e7f3ad9f7f7c17598911abb01 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ae3cca5dd58aa9bbf419cc07986bbc668">get_metadata</a> () const</td></tr>
<tr class="memdesc:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the metadata of this storage.  <a href="#ae3cca5dd58aa9bbf419cc07986bbc668">More...</a><br /></td></tr>
<tr class="separator:ae3cca5dd58aa9bbf419cc07986bbc668 inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a> () const</td></tr>
<tr class="memdesc:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether this storage is already created.  <a href="#ade24602975f3928e77762f8cb4da51ca">More...</a><br /></td></tr>
<tr class="separator:ade24602975f3928e77762f8cb4da51ca inherit pub_methods_classfoedus_1_1storage_1_1Storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfoedus_1_1Attachable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfoedus_1_1Attachable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfoedus_1_1Attachable.html">foedus::Attachable&lt; ArrayStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:ab3209bc9bd57c99f0ad601f33ec77d1e inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ab3209bc9bd57c99f0ad601f33ec77d1e">Attachable</a> ()</td></tr>
<tr class="separator:ab3209bc9bd57c99f0ad601f33ec77d1e inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91af21656ffcf7eeb56a5f7d0f5f661 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ad91af21656ffcf7eeb56a5f7d0f5f661">Attachable</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:ad91af21656ffcf7eeb56a5f7d0f5f661 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28be42953c806e4c4e0ad8f99201dae inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ac28be42953c806e4c4e0ad8f99201dae">Attachable</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine, ArrayStorageControlBlock *control_block)</td></tr>
<tr class="separator:ac28be42953c806e4c4e0ad8f99201dae inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1182f6bd28f64e3c48bf5ee36d54cce inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#ad1182f6bd28f64e3c48bf5ee36d54cce">Attachable</a> (ArrayStorageControlBlock *control_block)</td></tr>
<tr class="separator:ad1182f6bd28f64e3c48bf5ee36d54cce inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7892c78e38fb5f025ea73939a25c9d2e inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a7892c78e38fb5f025ea73939a25c9d2e">Attachable</a> (const <a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;other)</td></tr>
<tr class="separator:a7892c78e38fb5f025ea73939a25c9d2e inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed95388e1a77a81a5d7d04cf28ef3577 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#aed95388e1a77a81a5d7d04cf28ef3577">~Attachable</a> ()</td></tr>
<tr class="separator:aed95388e1a77a81a5d7d04cf28ef3577 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0666676a4eaed1c0fdf94a2e1b00c099 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a0666676a4eaed1c0fdf94a2e1b00c099">operator=</a> (const <a class="el" href="classfoedus_1_1Attachable.html">Attachable</a> &amp;other)</td></tr>
<tr class="separator:a0666676a4eaed1c0fdf94a2e1b00c099 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a484796b2fffa361b9a6ed2f1b7f61a35">attach</a> (ArrayStorageControlBlock *control_block)</td></tr>
<tr class="memdesc:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches to the given shared memory.  <a href="#a484796b2fffa361b9a6ed2f1b7f61a35">More...</a><br /></td></tr>
<tr class="separator:a484796b2fffa361b9a6ed2f1b7f61a35 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#aebf4adece08c298864ce05ddd9461a0c">is_attached</a> () const</td></tr>
<tr class="memdesc:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the object has been already attached to some shared memory.  <a href="#aebf4adece08c298864ce05ddd9461a0c">More...</a><br /></td></tr>
<tr class="separator:aebf4adece08c298864ce05ddd9461a0c inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b324e3abf302a59801aa73419bb4fad inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">ArrayStorageControlBlock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad">get_control_block</a> () const</td></tr>
<tr class="separator:a5b324e3abf302a59801aa73419bb4fad inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f07b6dbb803d41d16b40182e8ff583 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a44f07b6dbb803d41d16b40182e8ff583">get_engine</a> () const</td></tr>
<tr class="separator:a44f07b6dbb803d41d16b40182e8ff583 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd701f80820c2ef1f665bda157346021 inherit pub_methods_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#acd701f80820c2ef1f665bda157346021">set_engine</a> (<a class="el" href="classfoedus_1_1Engine.html">Engine</a> *engine)</td></tr>
<tr class="separator:acd701f80820c2ef1f665bda157346021 inherit pub_methods_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a7b4ecfd160bc33b9f7f35718e2fe6ea8"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7b4ecfd160bc33b9f7f35718e2fe6ea8">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp;v)</td></tr>
<tr class="separator:a7b4ecfd160bc33b9f7f35718e2fe6ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classfoedus_1_1Attachable"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classfoedus_1_1Attachable')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classfoedus_1_1Attachable.html">foedus::Attachable&lt; ArrayStorageControlBlock &gt;</a></td></tr>
<tr class="memitem:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a></td></tr>
<tr class="memdesc:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Most attachable object stores an engine pointer (local engine), so we define it here.  <a href="#a5f84f871a1d36f9ee990f3175661cd99">More...</a><br /></td></tr>
<tr class="separator:a5f84f871a1d36f9ee990f3175661cd99 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memItemLeft" align="right" valign="top">ArrayStorageControlBlock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a></td></tr>
<tr class="memdesc:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The shared data on shared memory that has been initialized in some SOC or master engine.  <a href="#af9f87c691e2df0b04322e6df8d7c0d81">More...</a><br /></td></tr>
<tr class="separator:af9f87c691e2df0b04322e6df8d7c0d81 inherit pro_attribs_classfoedus_1_1Attachable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a9f4313578f228abe997aba1fff5a6bde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayCreateLogType.html">ArrayCreateLogType</a> <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a9f4313578f228abe997aba1fff5a6bde">foedus::storage::array::ArrayStorage::ThisCreateLogType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8hpp_source.html#l00050">50</a> of file <a class="el" href="array__storage_8hpp_source.html">array_storage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3bd26bcaabd67a535727984a99aab446"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html">ArrayMetadata</a> <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3bd26bcaabd67a535727984a99aab446">foedus::storage::array::ArrayStorage::ThisMetadata</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8hpp_source.html#l00051">51</a> of file <a class="el" href="array__storage_8hpp_source.html">array_storage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac2e4777b404bb5dbf94504914f033370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html">ArrayStoragePimpl</a> <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ac2e4777b404bb5dbf94504914f033370">foedus::storage::array::ArrayStorage::ThisPimpl</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8hpp_source.html#l00049">49</a> of file <a class="el" href="array__storage_8hpp_source.html">array_storage.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a123afbc1f60442ffa4829c8bf3a95719"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::array::ArrayStorage::ArrayStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00031">31</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;: Storage&lt;ArrayStorageControlBlock&gt;() {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac176f998f7456afe93ebae8ebe548284"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::array::ArrayStorage::ArrayStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html">ArrayStorageControlBlock</a> *&#160;</td>
          <td class="paramname"><em>control_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00032">32</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage_8hpp_source.html#l00169">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::exists()</a>, <a class="el" href="storage_8hpp_source.html#l00150">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::get_type()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00126">foedus::storage::kArrayStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  : Storage&lt;ArrayStorageControlBlock&gt;(engine, control_block) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a>() == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">kArrayStorage</a> || !<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a>());</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_a131e005bb11678c1824d5075aa3df77a"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::get_type</a></div><div class="ttdeci">StorageType get_type() const</div><div class="ttdoc">Returns the type of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00150">storage.hpp:150</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_ade24602975f3928e77762f8cb4da51ca"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::exists</a></div><div class="ttdeci">bool exists() const</div><div class="ttdoc">Returns whether this storage is already created. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00169">storage.hpp:169</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">foedus::storage::kArrayStorage</a></div><div class="ttdoc">Array Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00126">storage_id.hpp:126</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ac176f998f7456afe93ebae8ebe548284_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_ac176f998f7456afe93ebae8ebe548284_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ac176f998f7456afe93ebae8ebe548284_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ac176f998f7456afe93ebae8ebe548284_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="244,5,427,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a" title="Returns the type of this storage. " alt="" coords="244,85,427,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a8785403ba9cbcd7ae6048b698771af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::array::ArrayStorage::ArrayStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> *&#160;</td>
          <td class="paramname"><em>control_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00036">36</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>

<p>References <a class="el" href="assert__nd_8hpp_source.html#l00072">ASSERT_ND</a>, <a class="el" href="storage_8hpp_source.html#l00169">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::exists()</a>, <a class="el" href="storage_8hpp_source.html#l00150">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::get_type()</a>, and <a class="el" href="storage__id_8hpp_source.html#l00126">foedus::storage::kArrayStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  : Storage&lt;ArrayStorageControlBlock&gt;(engine, control_block) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a>(<a class="code" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">get_type</a>() == <a class="code" href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">kArrayStorage</a> || !<a class="code" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">exists</a>());</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_a131e005bb11678c1824d5075aa3df77a"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::get_type</a></div><div class="ttdeci">StorageType get_type() const</div><div class="ttdoc">Returns the type of this storage. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00150">storage.hpp:150</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1Storage_html_ade24602975f3928e77762f8cb4da51ca"><div class="ttname"><a href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca">foedus::storage::Storage&lt; ArrayStorageControlBlock &gt;::exists</a></div><div class="ttdeci">bool exists() const</div><div class="ttdoc">Returns whether this storage is already created. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8hpp_source.html#l00169">storage.hpp:169</a></div></div>
<div class="ttc" id="group__IDIOMS_html_gaa5c1d074da423c0f330d1bc8a098ecb8"><div class="ttname"><a href="group__IDIOMS.html#gaa5c1d074da423c0f330d1bc8a098ecb8">ASSERT_ND</a></div><div class="ttdeci">#define ASSERT_ND(x)</div><div class="ttdoc">A warning-free wrapper macro of assert() that has no performance effect in release mode even when &#39;x&#39;...</div><div class="ttdef"><b>Definition:</b> <a href="assert__nd_8hpp_source.html#l00072">assert_nd.hpp:72</a></div></div>
<div class="ttc" id="group__STORAGE_html_gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff"><div class="ttname"><a href="group__STORAGE.html#gga016025043f5ef9c02be03f2f2a17a0deaeee5e98ab1c99fca614ecba38b2871ff">foedus::storage::kArrayStorage</a></div><div class="ttdoc">Array Storage </div><div class="ttdef"><b>Definition:</b> <a href="storage__id_8hpp_source.html#l00126">storage_id.hpp:126</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a8785403ba9cbcd7ae6048b698771af_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a8785403ba9cbcd7ae6048b698771af_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a8785403ba9cbcd7ae6048b698771af_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a8785403ba9cbcd7ae6048b698771af_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="244,5,427,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Storage.html#a131e005bb11678c1824d5075aa3df77a" title="Returns the type of this storage. " alt="" coords="244,85,427,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab44ba62fbefade036d1229741c84008d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::array::ArrayStorage::ArrayStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__STORAGE.html#ga595ca7fc4a3011a9704a883a25141e5f">StorageId</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00040">40</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  : Storage&lt;ArrayStorageControlBlock&gt;(engine, id) {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad72925a45e3d475e20f50659b8cba678"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::array::ArrayStorage::ArrayStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1Engine.html">Engine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefoedus_1_1storage.html#a0c15c034d49af969335271617a73a846">StorageName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00042">42</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  : Storage&lt;ArrayStorageControlBlock&gt;(engine, name) {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c0c928877de5483dba2576fca1e2888"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foedus::storage::array::ArrayStorage::ArrayStorage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00044">44</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  : Storage&lt;ArrayStorageControlBlock&gt;(other.engine_, other.control_block_) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a84737e8c5a5048f583cb07b8b746ed94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::array::ArrayStorage::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1Metadata.html">Metadata</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00052">52</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00288">foedus::storage::array::ArrayStoragePimpl::create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                                        {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).create(metadata);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a84737e8c5a5048f583cb07b8b746ed94_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a84737e8c5a5048f583cb07b8b746ed94_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a84737e8c5a5048f583cb07b8b746ed94_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a84737e8c5a5048f583cb07b8b746ed94_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af6387df1cf86cecbbaba2c41635bbe7a" title="foedus::storage::array\l::ArrayStoragePimpl::create" alt="" coords="204,369,387,411"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="451,276,633,317"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2bf1f0e04d213efe49f4e250968a60b9" title="foedus::storage::array\l::ArrayStoragePimpl::load_empty" alt="" coords="435,461,649,503"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="713,147,893,203"/>
<area shape="rect" id="node6" href="namespacefoedus_1_1storage_1_1array.html#ac0792c331c4b2fcb4918b8e89d5264ae" title="foedus::storage::array\l::calculate_levels" alt="" coords="729,527,877,568"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a2d19d9785d226e4c7f9b2f0f549fdd19" title="foedus::storage::array\l::LookupRouteFinder::get\l_records_in_leaf" alt="" coords="719,381,887,437"/>
<area shape="rect" id="node10" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="735,461,870,503"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1EngineMemory.html#ae35d16d716451eaa878ec2888960127d" title="A convenience function to grab one free volatile page from the given node. " alt="" coords="697,293,908,335"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="729,675,877,731"/>
<area shape="rect" id="node37" href="classfoedus_1_1Engine.html#a4f168d41ea00249fefe905def87e80c8" title="See Savepoint Manager. " alt="" coords="733,756,873,797"/>
<area shape="rect" id="node38" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a82624b3d7edff1d02e29c1b8863dd4ee" title="foedus::savepoint::\lSavepointManager::get\l_initial_current_epoch" alt="" coords="725,873,880,929"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a8a21a13b165bfe75387d21446ad8758c" title="foedus::storage::array\l::ArrayStoragePimpl::get_id" alt="" coords="711,228,894,269"/>
<area shape="rect" id="node7" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1234,610,1394,637"/>
<area shape="rect" id="node8" href="group__ASSORTED.html#gae2beea4717aef7ca9d43b91e48cf5824" title="Efficient ceil(dividee/dividor) for integer. " alt="" coords="991,479,1131,520"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="956,283,1167,324"/>
<area shape="rect" id="node13" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e" title="Gives an object to resolve an offset in this page pool (thus local) to an actual pointer and vice ver..." alt="" coords="972,71,1151,112"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="966,413,1157,455"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1PagePool.html#a3e9390381783077a504116988cae05c4" title="Grab only one page. " alt="" coords="972,348,1151,389"/>
<area shape="rect" id="node24" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="969,137,1153,193"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="981,217,1142,259"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="1225,71,1403,112"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f" title="foedus::memory::PagePool\lPimpl::grab_one" alt="" coords="1225,348,1403,389"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a1a41295b63274fb300e5937a9bb1eca7" title="foedus::memory::PagePool\lPimpl::decrease_free_pool_count" alt="" coords="1461,381,1676,423"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#aa545fc1cffac905225d3a7c7c457b5a8" title="foedus::memory::PagePool\lPimpl::free_pool_head" alt="" coords="1479,447,1658,488"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#abd594ac94d8ac0445ebef734b7305fb6" title="foedus::memory::PagePool\lPimpl::get_debug_pool_name" alt="" coords="1472,251,1665,292"/>
<area shape="rect" id="node23" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a50e6fad1a2e9735182f83a52a5e329b0" title="foedus::memory::PagePool\lPimpl::get_free_pool_count" alt="" coords="1479,316,1658,357"/>
<area shape="rect" id="node21" href="classfoedus_1_1assorted_1_1FixedString.html#a3269f7c68f175a1fd42e78110a57cbf2" title="Test if string is empty. " alt="" coords="1735,280,1927,321"/>
<area shape="rect" id="node22" href="classfoedus_1_1assorted_1_1FixedString.html#a16f6de0859f599127e2d4a51a6537a01" title="Convert to a std::string object. " alt="" coords="1724,229,1939,255"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="987,675,1135,731"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1240,715,1388,756"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a038d272bb21378544e6d6cd1c8b468b3" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record_count" alt="" coords="987,595,1135,651"/>
<area shape="rect" id="node30" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="966,857,1157,899"/>
<area shape="rect" id="node36" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="984,806,1139,833"/>
<area shape="rect" id="node31" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="1215,824,1413,865"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="1218,889,1410,931"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1PageVersionStatus.html#af49ef4f3320148130f46f494f1c845aa" title="foedus::storage::PageVersion\lStatus::reset" alt="" coords="1473,856,1665,897"/>
<area shape="rect" id="node34" href="structfoedus_1_1xct_1_1McsWwLock.html#a4114c2dec151ad650a294dedac4f239d" title="used only while page initialization " alt="" coords="1484,921,1653,963"/>
<area shape="rect" id="node35" href="structfoedus_1_1xct_1_1McsWwBlockData.html#a3161e47c41388e9c1b50929f585e366b" title="foedus::xct::McsWwBlockData\l::clear" alt="" coords="1731,921,1932,963"/>
<area shape="rect" id="node39" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a69656b017856d4e6b2bcda9085c0d316" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_initial_current_epoch" alt="" coords="974,923,1149,979"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="961,5,1162,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab725dd6fcc1f7345bb27123575555f6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::array::ArrayStorage::drop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00227">227</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a>, <a class="el" href="attachable_8hpp_source.html#l00107">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::engine_</a>, <a class="el" href="engine__memory_8hpp_source.html#l00090">foedus::memory::EngineMemory::get_global_volatile_page_resolver()</a>, <a class="el" href="engine_8cpp_source.html#l00050">foedus::Engine::get_memory_manager()</a>, <a class="el" href="error__stack_8hpp_source.html#l00251">foedus::kRetOk</a>, <a class="el" href="page__pool_8cpp_source.html#l00189">foedus::memory::PageReleaseBatch::release_all()</a>, and <a class="el" href="array__storage__pimpl_8cpp_source.html#l00207">foedus::storage::array::ArrayStoragePimpl::release_pages_recursive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                              {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;Uninitializing an array-storage &quot;</span> &lt;&lt; *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;root_page_pointer_.volatile_pointer_.is_null()) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    memory::PageReleaseBatch release_batch(<a class="code" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab46e3b46f500379b6da59949010d5f7a">ArrayStoragePimpl::release_pages_recursive</a>(</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a>-&gt;<a class="code" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6">get_memory_manager</a>()-&gt;<a class="code" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0">get_global_volatile_page_resolver</a>(),</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      &amp;release_batch,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;root_page_pointer_.volatile_pointer_);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    release_batch.release_all();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;root_page_pointer_.volatile_pointer_.word = 0;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">kRetOk</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1memory_1_1EngineMemory_html_a62b2d4de6a72644e9e31d35a7f9beae0"><div class="ttname"><a href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0">foedus::memory::EngineMemory::get_global_volatile_page_resolver</a></div><div class="ttdeci">const GlobalVolatilePageResolver &amp; get_global_volatile_page_resolver() const </div><div class="ttdoc">Returns the page resolver to convert volatile page ID to page pointer. </div><div class="ttdef"><b>Definition:</b> <a href="engine__memory_8hpp_source.html#l00090">engine_memory.hpp:90</a></div></div>
<div class="ttc" id="classfoedus_1_1Attachable_html_a5f84f871a1d36f9ee990f3175661cd99"><div class="ttname"><a href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::engine_</a></div><div class="ttdeci">Engine * engine_</div><div class="ttdoc">Most attachable object stores an engine pointer (local engine), so we define it here. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00107">attachable.hpp:107</a></div></div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">ArrayStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl_html_ab46e3b46f500379b6da59949010d5f7a"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab46e3b46f500379b6da59949010d5f7a">foedus::storage::array::ArrayStoragePimpl::release_pages_recursive</a></div><div class="ttdeci">static void release_pages_recursive(const memory::GlobalVolatilePageResolver &amp;resolver, memory::PageReleaseBatch *batch, VolatilePagePointer volatile_page_id)</div><div class="ttdoc">Used only from drop() </div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8cpp_source.html#l00207">array_storage_pimpl.cpp:207</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_ga61f52cd33eb500d6997a91e704ace244"><div class="ttname"><a href="group__ERRORCODES.html#ga61f52cd33eb500d6997a91e704ace244">foedus::kRetOk</a></div><div class="ttdeci">const ErrorStack kRetOk</div><div class="ttdoc">Normal return value for no-error case. </div><div class="ttdef"><b>Definition:</b> <a href="error__stack_8hpp_source.html#l00251">error_stack.hpp:251</a></div></div>
<div class="ttc" id="classfoedus_1_1Engine_html_a02ed05009c7baa8d75e04f202a86b2c6"><div class="ttname"><a href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6">foedus::Engine::get_memory_manager</a></div><div class="ttdeci">memory::EngineMemory * get_memory_manager() const </div><div class="ttdoc">See Memory Manager. </div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00050">engine.cpp:50</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab725dd6fcc1f7345bb27123575555f6a_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab725dd6fcc1f7345bb27123575555f6a_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab725dd6fcc1f7345bb27123575555f6a_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab725dd6fcc1f7345bb27123575555f6a_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="201,5,412,61"/>
<area shape="rect" id="node3" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="749,38,883,79"/>
<area shape="rect" id="node4" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#aacfb0dd808ba1a987cea4d957e8e511b" title="Called at the end to return all batched pages to their pools. " alt="" coords="207,137,407,178"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab46e3b46f500379b6da59949010d5f7a" title="Used only from drop() " alt="" coords="212,361,401,417"/>
<area shape="rect" id="node5" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#af16728969f6c3544544000355b6d4f30" title="Return all batched pages in the given chunk to its pool. " alt="" coords="461,137,661,178"/>
<area shape="rect" id="node6" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="711,103,921,145"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="721,169,911,210"/>
<area shape="rect" id="node8" href="classfoedus_1_1memory_1_1PagePool.html#a802171ff0578875748d20b4e9c8c9463" title="Returns the specified number of free pages from the chunk. " alt="" coords="727,234,905,275"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a13d785355359fd936c2b3863d296ba2c" title="foedus::memory::PagePool\lPimpl::release" alt="" coords="975,234,1154,275"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="481,314,642,355"/>
<area shape="rect" id="node13" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="460,391,663,433"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PageReleaseBatch.html#afe13efbf3cc2111936b08e31bd18e179" title="Returns the given in&#45;memory volatile page to appropriate NUMA node. " alt="" coords="461,457,661,498"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="984,318,1145,359"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="739,467,893,509"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="990,393,1139,434"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="729,402,903,443"/>
<area shape="rect" id="node19" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="715,533,917,589"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="987,537,1142,578"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="969,467,1160,509"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a145759e5113dca6d01be034ea5725f58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfoedus_1_1storage_1_1array_1_1ArrayMetadata.html">ArrayMetadata</a> * foedus::storage::array::ArrayStorage::get_array_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00059">59</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="array__composer__impl_8cpp_source.html#l00971">foedus::storage::array::ArrayComposer::drop_root_volatile()</a>, and <a class="el" href="array__composer__impl_8cpp_source.html#l00929">foedus::storage::array::ArrayComposer::drop_volatiles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{ <span class="keywordflow">return</span> &amp;<a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;meta_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">ArrayStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a145759e5113dca6d01be034ea5725f58_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a145759e5113dca6d01be034ea5725f58_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a145759e5113dca6d01be034ea5725f58_icgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a145759e5113dca6d01be034ea5725f58_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a9ee9788f623a51584b4fd7f8ded6103a" title="foedus::storage::array\l::ArrayComposer::drop\l_root_volatile" alt="" coords="221,5,375,61"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#abea76692cff38e66aa4328401422488a" title="drop_volatiles and related methods " alt="" coords="221,85,375,141"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="652,15,831,57"/>
<area shape="rect" id="node4" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="881,53,1108,94"/>
<area shape="rect" id="node5" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1156,45,1367,101"/>
<area shape="rect" id="node6" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1415,19,1625,61"/>
<area shape="rect" id="node8" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1443,85,1597,126"/>
<area shape="rect" id="node7" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1673,19,1868,61"/>
<area shape="rect" id="node9" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1673,85,1868,126"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1Composer.html#a0995635b97031b208127004382947acd" title="Drops volatile pages that have not been modified since the snapshotted epoch. " alt="" coords="423,90,601,131"/>
<area shape="rect" id="node12" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a26c51902174b692c91aedd15218f01b7" title="subroutine invoked by one thread for one node. " alt="" coords="649,81,833,137"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2e5043394d70ac6f151fb06508a038ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> foedus::storage::array::ArrayStorage::get_array_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of this array. </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00057">57</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="array__page__impl_8cpp_source.html#l00078">foedus::storage::array::array_volatile_page_init()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00191">foedus::storage::array::ArrayComposeContext::ArrayComposeContext()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00095">foedus::storage::array::ArrayComposer::construct_root()</a>, <a class="el" href="array__partitioner__impl_8cpp_source.html#l00073">foedus::storage::array::ArrayPartitioner::design_partition()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00971">foedus::storage::array::ArrayComposer::drop_root_volatile()</a>, <a class="el" href="array__storage_8cpp_source.html#l00060">foedus::storage::array::operator&lt;&lt;()</a>, and <a class="el" href="array__storage_8cpp_source.html#l00071">prefetch_pages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;meta_.array_size_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">ArrayStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a2e5043394d70ac6f151fb06508a038ca_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a2e5043394d70ac6f151fb06508a038ca_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a2e5043394d70ac6f151fb06508a038ca_icgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a2e5043394d70ac6f151fb06508a038ca_icgraph">
<area shape="rect" id="node2" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="275,674,439,715"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1array_1_1ArrayComposeContext.html#ae70f8ca9a8540b78619ac770e2bbbec9" title="ArrayComposeContext methods. " alt="" coords="277,743,438,799"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="252,823,463,865"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#a7002637fe43ab0917bead1d4636805ad" title="foedus::storage::array\l::ArrayPartitioner::design\l_partition" alt="" coords="274,889,441,945"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a9ee9788f623a51584b4fd7f8ded6103a" title="foedus::storage::array\l::ArrayComposer::drop\l_root_volatile" alt="" coords="281,969,434,1025"/>
<area shape="rect" id="node48" href="namespacefoedus_1_1storage_1_1array.html#aa0b89e786137e3f609827e98d7b10270" title="foedus::storage::array\l::operator\&lt;\&lt;" alt="" coords="283,1050,431,1091"/>
<area shape="rect" id="node49" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#af420e19da8ee4ed731ae387932cc991e" title="Prefetch data pages in this storage. " alt="" coords="256,1115,459,1157"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="511,405,689,461"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="511,665,689,721"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="511,745,689,801"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="758,225,943,281"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="758,405,943,461"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="1026,125,1209,181"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="1293,5,1459,61"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="1293,85,1459,141"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="1293,165,1459,221"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="1539,13,1714,54"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="1539,85,1714,141"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="1539,165,1714,221"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="1026,405,1209,461"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="1293,245,1459,301"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d21cd23923f93d072a1a182cae6f412" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="1277,325,1475,381"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a3ee9fdf4da9f172082841c1774a761da" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="1277,405,1475,461"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="1274,485,1478,541"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="1274,565,1478,621"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="1539,245,1714,301"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5fe59a512f951b17e2524fd153a9d991" title="Overwrites a part of one record of the given offset in this array storage. " alt="" coords="1545,325,1709,381"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaa646f67578c221ef982e28fffdd76e4" title="Overwrites a part of record of the given offset as a primitive type in this array storage..." alt="" coords="1545,405,1709,461"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="1541,485,1712,541"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5093ba18b241e5179a363476bdd20066" title="This is a faster increment that does not return the value after increment. " alt="" coords="1541,565,1712,621"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="758,665,943,721"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="1026,665,1209,721"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="1293,645,1459,701"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="1293,725,1459,781"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="1539,645,1714,701"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="1539,725,1714,781"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="758,756,943,812"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="1035,765,1200,821"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="1289,805,1463,861"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="511,826,689,867"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="511,897,689,938"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="511,977,689,1018"/>
<area shape="rect" id="node42" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="737,977,964,1018"/>
<area shape="rect" id="node43" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1012,969,1223,1025"/>
<area shape="rect" id="node44" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1271,945,1481,986"/>
<area shape="rect" id="node46" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1299,1010,1453,1051"/>
<area shape="rect" id="node45" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1529,945,1724,986"/>
<area shape="rect" id="node47" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1529,1010,1724,1051"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a535c4b81884868a2a5ead00428dd77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t foedus::storage::array::ArrayStorage::get_levels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of levels. </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00058">58</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="array__composer__impl_8cpp_source.html#l00095">foedus::storage::array::ArrayComposer::construct_root()</a>, <a class="el" href="array__partitioner__impl_8cpp_source.html#l00073">foedus::storage::array::ArrayPartitioner::design_partition()</a>, and <a class="el" href="array__composer__impl_8cpp_source.html#l00971">foedus::storage::array::ArrayComposer::drop_root_volatile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;levels_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">ArrayStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a535c4b81884868a2a5ead00428dd77_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a535c4b81884868a2a5ead00428dd77_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a535c4b81884868a2a5ead00428dd77_icgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3a535c4b81884868a2a5ead00428dd77_icgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="224,5,435,47"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayPartitioner.html#a7002637fe43ab0917bead1d4636805ad" title="foedus::storage::array\l::ArrayPartitioner::design\l_partition" alt="" coords="246,71,413,127"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a9ee9788f623a51584b4fd7f8ded6103a" title="foedus::storage::array\l::ArrayComposer::drop\l_root_volatile" alt="" coords="253,151,406,207"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="483,5,661,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1Partitioner.html#a31a7e393bf1f87a9a039c60b291ac9d1" title="Determines partitioning scheme for this storage. " alt="" coords="483,79,661,120"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="483,159,661,200"/>
<area shape="rect" id="node8" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="709,159,936,200"/>
<area shape="rect" id="node9" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="984,151,1195,207"/>
<area shape="rect" id="node10" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1243,125,1453,167"/>
<area shape="rect" id="node12" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1271,191,1425,232"/>
<area shape="rect" id="node11" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1501,125,1696,167"/>
<area shape="rect" id="node13" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1501,191,1696,232"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acc05e0b608094e78fa9a7025c08524b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t foedus::storage::array::ArrayStorage::get_payload_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns byte size of one record in this array storage without internal overheads. </p>
<p><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html" title="Represents a key-value store based on a dense and regular array. ">ArrayStorage</a> is a fix-sized storage, thus we have this interface in storage level rather than in record level. </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00056">56</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a>.</p>

<p>Referenced by <a class="el" href="array__page__impl_8cpp_source.html#l00078">foedus::storage::array::array_volatile_page_init()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00095">foedus::storage::array::ArrayComposer::construct_root()</a>, <a class="el" href="array__composer__impl_8cpp_source.html#l00971">foedus::storage::array::ArrayComposer::drop_root_volatile()</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00065">get_record()</a>, <a class="el" href="array__storage_8cpp_source.html#l00060">foedus::storage::array::operator&lt;&lt;()</a>, and <a class="el" href="array__storage_8hpp_source.html#l00198">overwrite_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a>-&gt;meta_.payload_size_; }</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">ArrayStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_acc05e0b608094e78fa9a7025c08524b5_icgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_acc05e0b608094e78fa9a7025c08524b5_icgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_acc05e0b608094e78fa9a7025c08524b5_icgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_acc05e0b608094e78fa9a7025c08524b5_icgraph">
<area shape="rect" id="node2" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="291,751,455,793"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a2c812e46a7502abe6f506ecda0edf9ab" title="foedus::storage::array\l::ArrayComposer::construct_root" alt="" coords="268,861,479,902"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayComposer.html#a9ee9788f623a51584b4fd7f8ded6103a" title="foedus::storage::array\l::ArrayComposer::drop\l_root_volatile" alt="" coords="297,927,450,983"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a0bf3ffad926524a1a62aed312ef49dca" title="Retrieves one record of the given offset in this array storage. " alt="" coords="286,1007,461,1049"/>
<area shape="rect" id="node46" href="namespacefoedus_1_1storage_1_1array.html#aa0b89e786137e3f609827e98d7b10270" title="foedus::storage::array\l::operator\&lt;\&lt;" alt="" coords="299,1073,447,1114"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35f86d7dbf38c9597b6a8f69d45a1206" title="Overwrites one record of the given offset in this array storage. " alt="" coords="291,1139,455,1195"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="527,405,705,461"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="527,704,705,760"/>
<area shape="rect" id="node31" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="527,784,705,840"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="774,225,959,281"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="774,405,959,461"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="1042,125,1225,181"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="1309,5,1475,61"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="1309,85,1475,141"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="1309,165,1475,221"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#ae5da0aa4f609d2b80a64a6fcaf4e6d81" title="Retrieves a part of record of the given offset in this array storage. " alt="" coords="1555,13,1730,54"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a1b9cd919a7b95297f1ad5ef5d5971be7" title="Retrieves a part of record of the given offset as a primitive type in this array storage. " alt="" coords="1555,85,1730,141"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35580e9eb07d46212c1cf0a15520cb24" title="Retrieves a pointer to the entire payload. " alt="" coords="1555,165,1730,221"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="1042,405,1225,461"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="1309,245,1475,301"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d21cd23923f93d072a1a182cae6f412" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="1293,325,1491,381"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a3ee9fdf4da9f172082841c1774a761da" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="1293,405,1491,461"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="1290,485,1494,541"/>
<area shape="rect" id="node22" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="1290,565,1494,621"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). " alt="" coords="1555,245,1730,301"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5fe59a512f951b17e2524fd153a9d991" title="Overwrites a part of one record of the given offset in this array storage. " alt="" coords="1561,325,1725,381"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaa646f67578c221ef982e28fffdd76e4" title="Overwrites a part of record of the given offset as a primitive type in this array storage..." alt="" coords="1561,405,1725,461"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a3cfbd23c4239f8a63ac5719007a8305b" title="This one further optimizes overwrite_record_primitive() for the frequent use case of incrementing som..." alt="" coords="1557,485,1728,541"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a5093ba18b241e5179a363476bdd20066" title="This is a faster increment that does not return the value after increment. " alt="" coords="1557,565,1728,621"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="774,704,959,760"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="1042,704,1225,760"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="1309,645,1475,701"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="1309,725,1475,781"/>
<area shape="rect" id="node28" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a7a0a99eb452ebc4ec0e2e86d520d315f" title="batched interface " alt="" coords="1555,645,1730,701"/>
<area shape="rect" id="node30" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a69f548ffc92c96cc52238068d781bbf8" title="foedus::storage::array\l::ArrayStorage::get_record\l_payload_batch" alt="" coords="1555,725,1730,781"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="774,791,959,847"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="1051,799,1216,855"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a58183bfb0f5e70653f7f450ecac9f501" title="foedus::storage::array\l::ArrayStorage::get_record\l_for_write_batch" alt="" coords="1305,805,1479,861"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1Composer.html#adf148cbea7c8146dec88d23d2218452c" title="Construct root page(s) for one storage based on the ouputs of compose(). " alt="" coords="527,865,705,906"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1Composer.html#af6d90399f471e1461fd4e59b0f3b923f" title="This is additionally called when no partitions observed any new modifications. " alt="" coords="527,934,705,975"/>
<area shape="rect" id="node39" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a5d474e7a6b4de127153103f2295cb0fa" title="Sub&#45;routine of handle_snapshot_triggered(). " alt="" coords="753,934,980,975"/>
<area shape="rect" id="node40" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a905ccf76fe0e076980dc1965f038fe10" title="handle_snapshot() calls this when it should start snapshotting. " alt="" coords="1028,927,1239,983"/>
<area shape="rect" id="node41" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a64e3c7594b7d7d0d5f8a144bd802d910" title="Main routine for snapshot_thread_ in master engine. " alt="" coords="1287,918,1497,959"/>
<area shape="rect" id="node43" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a8c5418a3e6d3558aa3920a605834df08" title="Recover the state of database from recent snapshot files and transaction logs. " alt="" coords="1315,983,1469,1025"/>
<area shape="rect" id="node42" href="classfoedus_1_1snapshot_1_1SnapshotManagerPimpl.html#a632a4da7b3c67dd687f7eba4f6ec1d76" title="foedus::snapshot::Snapshot\lManagerPimpl::initialize_once" alt="" coords="1545,918,1740,959"/>
<area shape="rect" id="node44" href="classfoedus_1_1restart_1_1RestartManagerPimpl.html#a868dca9015af77e04202ead68fd7a136" title="foedus::restart::Restart\lManagerPimpl::initialize_once" alt="" coords="1545,983,1740,1025"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0bf3ffad926524a1a62aed312ef49dca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves one record of the given offset in this array storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>We copy the record to this address. Must be at least <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a></dd></dl>
<p>Equivalent to get_record(context, offset, payload, 0, get_payload_size()). </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00065">65</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00056">get_payload_size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                            {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a0bf3ffad926524a1a62aed312ef49dca">get_record</a>(context, offset, payload, 0, <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5">get_payload_size</a>());</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_html_acc05e0b608094e78fa9a7025c08524b5"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5">foedus::storage::array::ArrayStorage::get_payload_size</a></div><div class="ttdeci">uint16_t get_payload_size() const </div><div class="ttdoc">Returns byte size of one record in this array storage without internal overheads. ...</div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8cpp_source.html#l00056">array_storage_pimpl.cpp:56</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_html_a0bf3ffad926524a1a62aed312ef49dca"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a0bf3ffad926524a1a62aed312ef49dca">foedus::storage::array::ArrayStorage::get_record</a></div><div class="ttdeci">ErrorCode get_record(thread::Thread *context, ArrayOffset offset, void *payload)</div><div class="ttdoc">Retrieves one record of the given offset in this array storage. </div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8cpp_source.html#l00065">array_storage_pimpl.cpp:65</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a0bf3ffad926524a1a62aed312ef49dca_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a0bf3ffad926524a1a62aed312ef49dca_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a0bf3ffad926524a1a62aed312ef49dca_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a0bf3ffad926524a1a62aed312ef49dca_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ..." alt="" coords="228,5,443,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5da0aa4f609d2b80a64a6fcaf4e6d81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a part of record of the given offset in this array storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>We copy the record to this address. Must be at least payload_count. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy from this byte position of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>How many bytes we copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + payload_count &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a> </dd></dl>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00070">70</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00372">foedus::storage::array::ArrayStoragePimpl::get_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                                          {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).get_record(</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    context, offset, payload, payload_offset, payload_count);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ae5da0aa4f609d2b80a64a6fcaf4e6d81_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_ae5da0aa4f609d2b80a64a6fcaf4e6d81_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ae5da0aa4f609d2b80a64a6fcaf4e6d81_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ae5da0aa4f609d2b80a64a6fcaf4e6d81_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa9de7dd9ec971f2011cc84d72aa32521" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record" alt="" coords="228,884,393,940"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1183,234,1349,290"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="441,846,624,902"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="457,927,608,968"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="465,1836,600,1878"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1404,210,1605,251"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="925,1102,1108,1143"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="934,169,1099,225"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="672,592,857,648"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="921,103,1113,144"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="939,854,1094,895"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1192,887,1340,928"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1205,744,1327,786"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="943,1021,1091,1077"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1176,1090,1356,1146"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="934,300,1099,356"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="934,380,1099,436"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="913,460,1120,502"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="943,526,1091,567"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="935,592,1098,648"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="927,672,1106,728"/>
<area shape="rect" id="node20" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1443,744,1566,786"/>
<area shape="rect" id="node22" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1186,1036,1346,1062"/>
<area shape="rect" id="node25" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1422,1656,1587,1682"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1430,2074,1579,2115"/>
<area shape="rect" id="node27" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="703,2248,826,2290"/>
<area shape="rect" id="node28" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="678,2314,851,2355"/>
<area shape="rect" id="node29" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1418,2310,1591,2351"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="941,1373,1092,1429"/>
<area shape="rect" id="node31" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="929,2080,1104,2122"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1653,1235,1847,1276"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1669,1710,1831,1751"/>
<area shape="rect" id="node35" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1423,1306,1586,1347"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="681,1724,848,1780"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="678,1804,851,1846"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="703,1870,826,1911"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="703,1935,826,1976"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="694,1387,835,1428"/>
<area shape="rect" id="node32" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1189,2066,1343,2122"/>
<area shape="rect" id="node37" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1193,1388,1339,1430"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="931,1898,1103,1939"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38" title="Analogous to std::binary_search() for the given lock. " alt="" coords="931,1963,1103,2004"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="931,1571,1103,1612"/>
<area shape="rect" id="node41" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2" title="foedus::thread::Thread\l::is_hot_page" alt="" coords="1191,2000,1341,2042"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1CurrentLockList.html#a6db689767722f1d30821d63144bf8bde" title="Adds an entry to this list, re&#45;sorting part of the list if necessary to keep the sortedness. " alt="" coords="935,1454,1099,1495"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="935,1636,1099,1678"/>
<area shape="rect" id="node44" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="940,1702,1093,1743"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1Thread.html#ab52244fbb6c13b0c0774431af72d482e" title="Methods related to Current Lock List (CLL) These are the only interface in Thread to lock records..." alt="" coords="915,1767,1119,1808"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1Thread.html#a476c43885a66c28ac33e624d071a7a7d" title="Acquire multiple locks up to the given position in canonical order. " alt="" coords="905,1832,1128,1874"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acb10150d96e7a6fe9c7bc00da6a13e80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record_for_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> **&#160;</td>
          <td class="paramname"><em>record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a pointer to the entire record for write (thus always in volatile page). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">record</td><td>Sets the pointer to the record in a volatile page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a></dd></dl>
<p>This is used to retrieve entire record without copying and also to prepare for writes. Though "record" is a non-const pointer, of course don't directly write to it. Use overwrite_xxx etc which does the pre-commit protocol to write. This also adds to read-set. </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00089">89</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00419">foedus::storage::array::ArrayStoragePimpl::get_record_for_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                   {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).get_record_for_write(context, offset, record);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_acb10150d96e7a6fe9c7bc00da6a13e80_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_acb10150d96e7a6fe9c7bc00da6a13e80_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_acb10150d96e7a6fe9c7bc00da6a13e80_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_acb10150d96e7a6fe9c7bc00da6a13e80_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac3d0167bd2765ad6cea232fd999e9d5f" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write" alt="" coords="228,1259,393,1315"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="441,729,624,785"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="457,1233,608,1274"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="463,1298,602,1339"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="465,1686,600,1727"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="917,923,1100,965"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="926,136,1091,192"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="672,601,857,657"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="913,989,1105,1030"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="931,1054,1086,1095"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1176,207,1324,249"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1167,288,1333,344"/>
<area shape="rect" id="node18" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1189,747,1311,789"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="935,5,1083,61"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1160,916,1340,972"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1388,221,1589,262"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="926,528,1091,584"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="935,609,1083,650"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="926,675,1091,731"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="905,806,1112,847"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="919,368,1098,424"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="927,448,1090,504"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1427,747,1550,789"/>
<area shape="rect" id="node22" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1170,20,1330,47"/>
<area shape="rect" id="node26" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1406,1991,1571,2017"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1414,1905,1563,1946"/>
<area shape="rect" id="node28" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="703,1715,826,1757"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="678,1781,851,1822"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1402,2054,1575,2095"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="933,1272,1084,1328"/>
<area shape="rect" id="node32" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="921,1963,1096,2005"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1637,1657,1831,1698"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1653,1170,1815,1211"/>
<area shape="rect" id="node36" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1407,1227,1570,1269"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="681,1533,848,1589"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="678,1846,851,1887"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="703,1911,826,1953"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="703,1977,826,2018"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="694,1270,835,1311"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1173,1963,1327,2019"/>
<area shape="rect" id="node38" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1177,1283,1323,1325"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="923,1469,1095,1510"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38" title="Analogous to std::binary_search() for the given lock. " alt="" coords="923,1534,1095,1575"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="923,1599,1095,1641"/>
<area shape="rect" id="node42" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2" title="foedus::thread::Thread\l::is_hot_page" alt="" coords="1175,1846,1325,1887"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1CurrentLockList.html#a6db689767722f1d30821d63144bf8bde" title="Adds an entry to this list, re&#45;sorting part of the list if necessary to keep the sortedness. " alt="" coords="927,1403,1091,1445"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="927,1665,1091,1706"/>
<area shape="rect" id="node45" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="932,1730,1085,1771"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1Thread.html#ab52244fbb6c13b0c0774431af72d482e" title="Methods related to Current Lock List (CLL) These are the only interface in Thread to lock records..." alt="" coords="907,1795,1111,1837"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a58183bfb0f5e70653f7f450ecac9f501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record_for_write_batch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> *&#160;</td>
          <td class="paramname"><em>offset_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> **&#160;</td>
          <td class="paramname"><em>record_batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00655">655</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="error__code_8hpp_source.html#l00155">CHECK_ERROR_CODE</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00746">foedus::storage::array::ArrayStoragePimpl::get_record_for_write_batch()</a>, <a class="el" href="array__storage__pimpl_8hpp_source.html#l00092">foedus::storage::array::ArrayStoragePimpl::kBatchMax</a>, and <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>.</p>
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                         {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  ArrayStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">for</span> (uint16_t cur = 0; cur &lt; batch_size;) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    uint16_t chunk = batch_size - cur;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (chunk &gt; <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">ArrayStoragePimpl::kBatchMax</a>) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      chunk = <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">ArrayStoragePimpl::kBatchMax</a>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(pimpl.get_record_for_write_batch(</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      context,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      chunk,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      &amp;offset_batch[cur],</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      &amp;record_batch[cur]));</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    cur += chunk;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl_html_a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">foedus::storage::array::ArrayStoragePimpl::kBatchMax</a></div><div class="ttdoc">If you want more than this, you should loop. </div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8hpp_source.html#l00092">array_storage_pimpl.hpp:92</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaa3832e1d1faf1540161d389edf2a9c17"><div class="ttname"><a href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a></div><div class="ttdeci">#define CHECK_ERROR_CODE(x)</div><div class="ttdoc">This macro calls x and checks its returned error code. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00155">error_code.hpp:155</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a58183bfb0f5e70653f7f450ecac9f501_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a58183bfb0f5e70653f7f450ecac9f501_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a58183bfb0f5e70653f7f450ecac9f501_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a58183bfb0f5e70653f7f450ecac9f501_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad4da0329b11bd50970765c7d4b1f669a" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_for_write_batch" alt="" coords="228,1763,393,1819"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a77af2675acbbf1c831925b3a2c972aa6" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_write_batch" alt="" coords="441,399,627,455"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="459,1771,609,1812"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="465,1836,603,1877"/>
<area shape="rect" id="node27" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="467,1705,601,1747"/>
<area shape="rect" id="node50" href="group__ASSORTED.html#ga641117f56315b0f239d72948cf5aa56f" title="Equivalent to std::atomic_thread_fence(std::memory_order_consume). " alt="" coords="447,1901,621,1943"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="695,137,861,193"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="944,304,1092,345"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="695,646,861,702"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="935,370,1101,426"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="695,283,861,339"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="675,5,881,47"/>
<area shape="rect" id="node13" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="692,71,864,112"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="944,450,1092,506"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="937,843,1099,899"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ad0c8eb92d19915b679137e594bdfae31" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_write_batch" alt="" coords="689,515,867,571"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a8a21a13b165bfe75387d21446ad8758c" title="foedus::storage::array\l::ArrayStoragePimpl::get_id" alt="" coords="687,217,869,259"/>
<area shape="rect" id="node24" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1404,1695,1577,1736"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="943,136,1093,177"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1155,245,1356,287"/>
<area shape="rect" id="node12" href="structfoedus_1_1assorted_1_1ConstDiv.html#ac4bed598404eda88cd7d0929afeea28e" title="64&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="929,5,1107,47"/>
<area shape="rect" id="node15" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1175,465,1335,491"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1181,520,1329,561"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1Thread.html#a2b375e7de4d6c9c7b222c45b271126dc" title="Batched version of follow_page_pointer with will_modify==true and tolerate_null_pointer==true. " alt="" coords="943,763,1093,819"/>
<area shape="rect" id="node20" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="936,697,1100,739"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="1181,641,1330,683"/>
<area shape="rect" id="node22" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="957,632,1079,673"/>
<area shape="rect" id="node28" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1408,1939,1573,1966"/>
<area shape="rect" id="node29" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1416,1629,1565,1671"/>
<area shape="rect" id="node30" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="717,1789,839,1831"/>
<area shape="rect" id="node31" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="691,1855,865,1896"/>
<area shape="rect" id="node32" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="943,1075,1093,1131"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="931,1688,1105,1729"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1625,973,1819,1015"/>
<area shape="rect" id="node36" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1641,1571,1803,1612"/>
<area shape="rect" id="node37" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1409,1031,1572,1072"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="695,1349,861,1405"/>
<area shape="rect" id="node46" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="691,1920,865,1961"/>
<area shape="rect" id="node47" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="717,1985,839,2027"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="717,2051,839,2092"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="707,1112,849,1153"/>
<area shape="rect" id="node34" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1178,1687,1333,1743"/>
<area shape="rect" id="node39" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1183,1087,1328,1128"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="932,1455,1104,1496"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38" title="Analogous to std::binary_search() for the given lock. " alt="" coords="932,1520,1104,1561"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="932,1324,1104,1365"/>
<area shape="rect" id="node43" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2" title="foedus::thread::Thread\l::is_hot_page" alt="" coords="1180,1393,1331,1435"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1CurrentLockList.html#a6db689767722f1d30821d63144bf8bde" title="Adds an entry to this list, re&#45;sorting part of the list if necessary to keep the sortedness. " alt="" coords="936,1207,1100,1248"/>
<area shape="rect" id="node45" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="936,1389,1100,1431"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a35580e9eb07d46212c1cf0a15520cb24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record_payload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a pointer to the entire payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>Sets the pointer to the payload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a></dd></dl>
<p>This is used to retrieve entire record without copying. The record is protected by read-set (if there is any change, it will abort at pre-commit). <b>However</b>, we might read a half-changed value in the meantime. </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00082">82</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00403">foedus::storage::array::ArrayStoragePimpl::get_record_payload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                        {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).get_record_payload(context, offset, payload);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35580e9eb07d46212c1cf0a15520cb24_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35580e9eb07d46212c1cf0a15520cb24_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35580e9eb07d46212c1cf0a15520cb24_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35580e9eb07d46212c1cf0a15520cb24_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a22b2486d4531522d5949034232e90f32" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload" alt="" coords="228,1259,393,1315"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="441,733,624,789"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="457,1233,608,1274"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="463,1298,602,1339"/>
<area shape="rect" id="node25" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="465,1686,600,1727"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="917,923,1100,965"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="926,136,1091,192"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="672,608,857,664"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="913,989,1105,1030"/>
<area shape="rect" id="node12" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="931,1054,1086,1095"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1176,207,1324,249"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1167,288,1333,344"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1189,747,1311,789"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="935,5,1083,61"/>
<area shape="rect" id="node5" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1160,916,1340,972"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1388,221,1589,262"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="926,528,1091,584"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="926,608,1091,664"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="905,689,1112,730"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="935,806,1083,847"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="927,448,1090,504"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="919,368,1098,424"/>
<area shape="rect" id="node20" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1427,747,1550,789"/>
<area shape="rect" id="node22" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1170,20,1330,47"/>
<area shape="rect" id="node26" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1406,1991,1571,2017"/>
<area shape="rect" id="node27" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1414,1905,1563,1946"/>
<area shape="rect" id="node28" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="703,1715,826,1757"/>
<area shape="rect" id="node29" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="678,1781,851,1822"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1402,2054,1575,2095"/>
<area shape="rect" id="node31" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="933,1272,1084,1328"/>
<area shape="rect" id="node32" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="921,1963,1096,2005"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1637,1657,1831,1698"/>
<area shape="rect" id="node35" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1653,1170,1815,1211"/>
<area shape="rect" id="node36" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1407,1227,1570,1269"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="681,1533,848,1589"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="678,1846,851,1887"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="703,1911,826,1953"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="703,1977,826,2018"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="694,1270,835,1311"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1173,1963,1327,2019"/>
<area shape="rect" id="node38" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1177,1283,1323,1325"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="923,1469,1095,1510"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38" title="Analogous to std::binary_search() for the given lock. " alt="" coords="923,1534,1095,1575"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="923,1599,1095,1641"/>
<area shape="rect" id="node42" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2" title="foedus::thread::Thread\l::is_hot_page" alt="" coords="1175,1846,1325,1887"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1CurrentLockList.html#a6db689767722f1d30821d63144bf8bde" title="Adds an entry to this list, re&#45;sorting part of the list if necessary to keep the sortedness. " alt="" coords="927,1403,1091,1445"/>
<area shape="rect" id="node44" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="927,1665,1091,1706"/>
<area shape="rect" id="node45" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="932,1730,1085,1771"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1Thread.html#ab52244fbb6c13b0c0774431af72d482e" title="Methods related to Current Lock List (CLL) These are the only interface in Thread to lock records..." alt="" coords="907,1795,1111,1837"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a69f548ffc92c96cc52238068d781bbf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record_payload_batch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> *&#160;</td>
          <td class="paramname"><em>offset_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&#160;</td>
          <td class="paramname"><em>payload_batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00634">634</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="error__code_8hpp_source.html#l00155">CHECK_ERROR_CODE</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00717">foedus::storage::array::ArrayStoragePimpl::get_record_payload_batch()</a>, <a class="el" href="array__storage__pimpl_8hpp_source.html#l00092">foedus::storage::array::ArrayStoragePimpl::kBatchMax</a>, and <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>.</p>
<div class="fragment"><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                              {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  ArrayStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">for</span> (uint16_t cur = 0; cur &lt; batch_size;) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    uint16_t chunk = batch_size - cur;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (chunk &gt; <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">ArrayStoragePimpl::kBatchMax</a>) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      chunk = <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">ArrayStoragePimpl::kBatchMax</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(pimpl.get_record_payload_batch(</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      context,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      chunk,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      &amp;offset_batch[cur],</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      &amp;payload_batch[cur]));</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    cur += chunk;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl_html_a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">foedus::storage::array::ArrayStoragePimpl::kBatchMax</a></div><div class="ttdoc">If you want more than this, you should loop. </div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8hpp_source.html#l00092">array_storage_pimpl.hpp:92</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaa3832e1d1faf1540161d389edf2a9c17"><div class="ttname"><a href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a></div><div class="ttdeci">#define CHECK_ERROR_CODE(x)</div><div class="ttdoc">This macro calls x and checks its returned error code. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00155">error_code.hpp:155</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a69f548ffc92c96cc52238068d781bbf8_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a69f548ffc92c96cc52238068d781bbf8_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a69f548ffc92c96cc52238068d781bbf8_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a69f548ffc92c96cc52238068d781bbf8_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae4373a9f195884ab885458e9c1a18ee7" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_payload_batch" alt="" coords="228,1414,393,1470"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="441,631,624,687"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="457,1421,608,1463"/>
<area shape="rect" id="node22" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="463,1487,602,1528"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="465,1356,600,1397"/>
<area shape="rect" id="node50" href="group__ASSORTED.html#ga641117f56315b0f239d72948cf5aa56f" title="Equivalent to std::atomic_thread_fence(std::memory_order_consume). " alt="" coords="446,1552,619,1593"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="672,406,857,462"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1185,71,1350,127"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="1193,625,1341,681"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="934,501,1099,557"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="934,581,1099,637"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="1193,421,1341,463"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="1185,151,1350,207"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="913,319,1120,360"/>
<area shape="rect" id="node12" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="931,384,1103,425"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="1186,235,1349,291"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="927,238,1106,294"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a8a21a13b165bfe75387d21446ad8758c" title="foedus::storage::array\l::ArrayStoragePimpl::get_id" alt="" coords="1176,5,1359,47"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1421,1083,1594,1124"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="917,661,1117,717"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1407,79,1608,120"/>
<area shape="rect" id="node14" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1427,639,1587,666"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1433,449,1581,491"/>
<area shape="rect" id="node24" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1425,1178,1590,1205"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1433,1264,1582,1305"/>
<area shape="rect" id="node26" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="703,2363,826,2404"/>
<area shape="rect" id="node27" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="678,2428,851,2469"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="941,1541,1092,1597"/>
<area shape="rect" id="node29" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="929,1323,1104,1364"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1656,1511,1849,1552"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1672,1940,1833,1981"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1426,1543,1589,1584"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="681,1829,848,1885"/>
<area shape="rect" id="node46" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="678,893,851,935"/>
<area shape="rect" id="node47" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="703,959,826,1000"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="703,1024,826,1065"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="694,1491,835,1532"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1190,1191,1345,1247"/>
<area shape="rect" id="node35" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1195,1647,1340,1688"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="931,1868,1103,1909"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38" title="Analogous to std::binary_search() for the given lock. " alt="" coords="931,1933,1103,1975"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="931,1999,1103,2040"/>
<area shape="rect" id="node39" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2" title="foedus::thread::Thread\l::is_hot_page" alt="" coords="1192,1323,1343,1364"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1CurrentLockList.html#a6db689767722f1d30821d63144bf8bde" title="Adds an entry to this list, re&#45;sorting part of the list if necessary to keep the sortedness. " alt="" coords="935,1803,1099,1844"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="935,2064,1099,2105"/>
<area shape="rect" id="node42" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="940,2129,1093,2171"/>
<area shape="rect" id="node43" href="classfoedus_1_1thread_1_1Thread.html#ab52244fbb6c13b0c0774431af72d482e" title="Methods related to Current Lock List (CLL) These are the only interface in Thread to lock records..." alt="" coords="915,2195,1119,2236"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1Thread.html#a476c43885a66c28ac33e624d071a7a7d" title="Acquire multiple locks up to the given position in canonical order. " alt="" coords="905,1672,1128,1713"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1Thread.html#a94b9b35db175ad18d7e889b3bd57ea85" title="This gives&#45;up locks in CLL that are not yet taken. " alt="" coords="929,1737,1105,1779"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1b9cd919a7b95297f1ad5ef5d5971be7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a part of record of the given offset as a primitive type in this array storage. </p>
<p>A bit more efficient than <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a0bf3ffad926524a1a62aed312ef49dca" title="Retrieves one record of the given offset in this array storage. ">get_record()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>We copy the record to this address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy from this byte position of the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>primitive type. All integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(T) &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a> </dd></dl>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00077">77</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00388">foedus::storage::array::ArrayStoragePimpl::get_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                               {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).get_record_primitive&lt;T&gt;(context, offset, payload, payload_offset);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a1b9cd919a7b95297f1ad5ef5d5971be7_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a1b9cd919a7b95297f1ad5ef5d5971be7_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a1b9cd919a7b95297f1ad5ef5d5971be7_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a1b9cd919a7b95297f1ad5ef5d5971be7_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abdf449a053e85072d1236f47364b484d" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive" alt="" coords="228,884,393,940"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1183,234,1349,290"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#aa649c9d971f17fa39848d4c1a1bcb50f" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read" alt="" coords="441,846,624,902"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="457,927,608,968"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="465,1836,600,1878"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1404,210,1605,251"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="925,1102,1108,1143"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="934,169,1099,225"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7f9205c706c8be3ad4f0c030a285d884" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read" alt="" coords="672,592,857,648"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="921,103,1113,144"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="939,854,1094,895"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1192,887,1340,928"/>
<area shape="rect" id="node19" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1205,744,1327,786"/>
<area shape="rect" id="node21" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="943,1021,1091,1077"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1176,1090,1356,1146"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="934,300,1099,356"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="934,380,1099,436"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="913,460,1120,502"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="943,526,1091,567"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="935,592,1098,648"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="927,672,1106,728"/>
<area shape="rect" id="node20" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1443,744,1566,786"/>
<area shape="rect" id="node22" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1186,1036,1346,1062"/>
<area shape="rect" id="node25" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1422,1656,1587,1682"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1430,2074,1579,2115"/>
<area shape="rect" id="node27" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="703,2248,826,2290"/>
<area shape="rect" id="node28" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="678,2314,851,2355"/>
<area shape="rect" id="node29" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1418,2310,1591,2351"/>
<area shape="rect" id="node30" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="941,1373,1092,1429"/>
<area shape="rect" id="node31" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="929,2080,1104,2122"/>
<area shape="rect" id="node33" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1653,1235,1847,1276"/>
<area shape="rect" id="node34" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1669,1710,1831,1751"/>
<area shape="rect" id="node35" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1423,1306,1586,1347"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="681,1724,848,1780"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="678,1804,851,1846"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="703,1870,826,1911"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="703,1935,826,1976"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="694,1387,835,1428"/>
<area shape="rect" id="node32" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1189,2066,1343,2122"/>
<area shape="rect" id="node37" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1193,1388,1339,1430"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="931,1898,1103,1939"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38" title="Analogous to std::binary_search() for the given lock. " alt="" coords="931,1963,1103,2004"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="931,1571,1103,1612"/>
<area shape="rect" id="node41" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2" title="foedus::thread::Thread\l::is_hot_page" alt="" coords="1191,2000,1341,2042"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1CurrentLockList.html#a6db689767722f1d30821d63144bf8bde" title="Adds an entry to this list, re&#45;sorting part of the list if necessary to keep the sortedness. " alt="" coords="935,1454,1099,1495"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="935,1636,1099,1678"/>
<area shape="rect" id="node44" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="940,1702,1093,1743"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1Thread.html#ab52244fbb6c13b0c0774431af72d482e" title="Methods related to Current Lock List (CLL) These are the only interface in Thread to lock records..." alt="" coords="915,1767,1119,1808"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1Thread.html#a476c43885a66c28ac33e624d071a7a7d" title="Acquire multiple locks up to the given position in canonical order. " alt="" coords="905,1832,1128,1874"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a0a99eb452ebc4ec0e2e86d520d315f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::get_record_primitive_batch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a> *&#160;</td>
          <td class="paramname"><em>offset_batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>batched interface </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00611">611</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="error__code_8hpp_source.html#l00155">CHECK_ERROR_CODE</a>, <a class="el" href="array__storage__pimpl_8cpp_source.html#l00678">foedus::storage::array::ArrayStoragePimpl::get_record_primitive_batch()</a>, <a class="el" href="array__storage__pimpl_8hpp_source.html#l00092">foedus::storage::array::ArrayStoragePimpl::kBatchMax</a>, and <a class="el" href="error__code_8hpp_source.html#l00087">foedus::kErrorCodeOk</a>.</p>
<div class="fragment"><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  ArrayStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">for</span> (uint16_t cur = 0; cur &lt; batch_size;) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    uint16_t chunk = batch_size - cur;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (chunk &gt; <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">ArrayStoragePimpl::kBatchMax</a>) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      chunk = <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">ArrayStoragePimpl::kBatchMax</a>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a>(pimpl.get_record_primitive_batch(</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      context,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      payload_offset,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      chunk,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      &amp;offset_batch[cur],</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      &amp;payload_batch[cur]));</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    cur += chunk;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">kErrorCodeOk</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl_html_a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a63053a4fd666359edd6351a43642238aa15d0957ecd34cc4c92f0f6555b6cd24c">foedus::storage::array::ArrayStoragePimpl::kBatchMax</a></div><div class="ttdoc">If you want more than this, you should loop. </div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8hpp_source.html#l00092">array_storage_pimpl.hpp:92</a></div></div>
<div class="ttc" id="namespacefoedus_html_gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9"><div class="ttname"><a href="namespacefoedus.html#gaae5f98d1b4caace7febc49e59ae5ac56a6fe6714ceb6dbd09ad6f627d11b775c9">foedus::kErrorCodeOk</a></div><div class="ttdoc">0 means no-error. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00087">error_code.hpp:87</a></div></div>
<div class="ttc" id="group__ERRORCODES_html_gaa3832e1d1faf1540161d389edf2a9c17"><div class="ttname"><a href="group__ERRORCODES.html#gaa3832e1d1faf1540161d389edf2a9c17">CHECK_ERROR_CODE</a></div><div class="ttdeci">#define CHECK_ERROR_CODE(x)</div><div class="ttdoc">This macro calls x and checks its returned error code. </div><div class="ttdef"><b>Definition:</b> <a href="error__code_8hpp_source.html#l00155">error_code.hpp:155</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a7a0a99eb452ebc4ec0e2e86d520d315f_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a7a0a99eb452ebc4ec0e2e86d520d315f_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a7a0a99eb452ebc4ec0e2e86d520d315f_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a7a0a99eb452ebc4ec0e2e86d520d315f_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a23cc3a8049590a9c4be3177ab9b5661b" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_record_primitive_batch" alt="" coords="228,906,393,962"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a617e3f91fe74f5215ae4f0081e30ab6d" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_read_batch" alt="" coords="441,540,624,596"/>
<area shape="rect" id="node12" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="931,788,1103,829"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="457,880,608,921"/>
<area shape="rect" id="node22" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="463,945,602,986"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="465,1116,600,1157"/>
<area shape="rect" id="node50" href="group__ASSORTED.html#ga641117f56315b0f239d72948cf5aa56f" title="Equivalent to std::atomic_thread_fence(std::memory_order_consume). " alt="" coords="446,1181,619,1222"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a86a1e1fb54d44f15bc17c3f622f9f279" title="foedus::storage::array\l::ArrayStoragePimpl::lookup\l_for_read_batch" alt="" coords="672,464,857,520"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1185,98,1350,154"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="1193,699,1341,755"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="934,294,1099,350"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="934,374,1099,430"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="1193,500,1341,541"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="1185,331,1350,387"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="913,46,1120,88"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="1186,619,1349,675"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac71ccdf1742ae0e9a7119cc92fcac092" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointers_for_read_batch" alt="" coords="927,555,1106,611"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a8a21a13b165bfe75387d21446ad8758c" title="foedus::storage::array\l::ArrayStoragePimpl::get_id" alt="" coords="1176,178,1359,220"/>
<area shape="rect" id="node19" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1421,948,1594,989"/>
<area shape="rect" id="node20" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="917,214,1117,270"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1407,178,1608,220"/>
<area shape="rect" id="node14" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1427,714,1587,740"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1433,604,1581,645"/>
<area shape="rect" id="node24" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="1425,1967,1590,1994"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="1433,1872,1582,1913"/>
<area shape="rect" id="node26" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="703,773,826,814"/>
<area shape="rect" id="node27" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="678,838,851,880"/>
<area shape="rect" id="node28" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="941,1107,1092,1163"/>
<area shape="rect" id="node29" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="929,1878,1104,1920"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="1656,957,1849,998"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="1672,1476,1833,1517"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="1426,1066,1589,1108"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="681,1362,848,1418"/>
<area shape="rect" id="node46" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="678,1442,851,1484"/>
<area shape="rect" id="node47" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="703,1508,826,1549"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="703,1573,826,1614"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="694,1057,835,1098"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="1190,1864,1345,1920"/>
<area shape="rect" id="node35" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="1195,1118,1340,1160"/>
<area shape="rect" id="node36" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a6c96bb5725be6694030bd8ce88d68698" title="foedus::xct::Retrospective\lLockList::is_empty" alt="" coords="931,1500,1103,1541"/>
<area shape="rect" id="node37" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#aa962bee534789c572b6c38984c5d5d38" title="Analogous to std::binary_search() for the given lock. " alt="" coords="931,1565,1103,1606"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#acd7b6530aeff7f5323880bf0b6b14ce0" title="foedus::xct::Retrospective\lLockList::get_array" alt="" coords="931,1630,1103,1672"/>
<area shape="rect" id="node39" href="group__RLL.html#gadca5ec640ccba5dbdc6860ebb15850d2" title="foedus::thread::Thread\l::is_hot_page" alt="" coords="1192,1798,1343,1840"/>
<area shape="rect" id="node40" href="classfoedus_1_1xct_1_1CurrentLockList.html#a6db689767722f1d30821d63144bf8bde" title="Adds an entry to this list, re&#45;sorting part of the list if necessary to keep the sortedness. " alt="" coords="935,1238,1099,1280"/>
<area shape="rect" id="node41" href="classfoedus_1_1xct_1_1CurrentLockList.html#ab360f7fc3d8c0880b394084d45e492e9" title="foedus::xct::CurrentLock\lList::get_entry" alt="" coords="935,1696,1099,1737"/>
<area shape="rect" id="node42" href="structfoedus_1_1xct_1_1LockEntry.html#a57dc541a4a80230e2fc0b45aeb6b879a" title="foedus::xct::LockEntry\l::is_enough" alt="" coords="940,1761,1093,1802"/>
<area shape="rect" id="node43" href="classfoedus_1_1thread_1_1Thread.html#ab52244fbb6c13b0c0774431af72d482e" title="Methods related to Current Lock List (CLL) These are the only interface in Thread to lock records..." alt="" coords="915,1304,1119,1345"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1Thread.html#a476c43885a66c28ac33e624d071a7a7d" title="Acquire multiple locks up to the given position in canonical order. " alt="" coords="905,1369,1128,1410"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1Thread.html#a94b9b35db175ad18d7e889b3bd57ea85" title="This gives&#45;up locks in CLL that are not yet taken. " alt="" coords="929,1434,1105,1476"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d637b3f30a93402b31c7aa44be75a55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::array::ArrayStorage::hcc_reset_all_temperature_stat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets all volatile pages' temperature stat to be zero in this storage. </p>
<p>Used only in HCC-branch. </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00964">964</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00969">foedus::storage::array::ArrayStoragePimpl::hcc_reset_all_temperature_stat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                                                        {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  ArrayStoragePimpl pimpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">return</span> pimpl.hcc_reset_all_temperature_stat();</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a8d637b3f30a93402b31c7aa44be75a55_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a8d637b3f30a93402b31c7aa44be75a55_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a8d637b3f30a93402b31c7aa44be75a55_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a8d637b3f30a93402b31c7aa44be75a55_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae271b3b08151601047c988dab64bcc0d" title="foedus::storage::array\l::ArrayStoragePimpl::hcc\l_reset_all_temperature_stat" alt="" coords="224,139,407,195"/>
<area shape="rect" id="node3" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="710,5,871,47"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a3773cad90c4300f1b858c963df8054b5" title="foedus::storage::array\l::ArrayStoragePimpl::hcc\l_reset_all_temperature_stat\l_intermediate" alt="" coords="455,203,637,273"/>
<area shape="rect" id="node4" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="944,5,1105,47"/>
<area shape="rect" id="node6" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="723,71,858,112"/>
<area shape="rect" id="node7" href="classfoedus_1_1memory_1_1EngineMemory.html#a62b2d4de6a72644e9e31d35a7f9beae0" title="Returns the page resolver to convert volatile page ID to page pointer. " alt="" coords="685,137,896,193"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="717,217,865,259"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="716,283,865,324"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="709,349,872,405"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="717,429,865,471"/>
<area shape="rect" id="node12" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="691,495,890,536"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3cfbd23c4239f8a63ac5719007a8305b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::increment_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This one further optimizes <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#aaa646f67578c221ef982e28fffdd76e4" title="Overwrites a part of record of the given offset as a primitive type in this array storage...">overwrite_record_primitive()</a> for the frequent use case of incrementing some data in primitive type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">value</td><td>(in) addendum, (out) value after addition. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We write to this byte position of the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>primitive type. All integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(T) &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a></dd></dl>
<p>This method combines get and overwrite, so it can halve the number of tree lookup. This method can be only provided with template, so we omit "_primitive". </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00148">148</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00486">foedus::storage::array::ArrayStoragePimpl::increment_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                             {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).increment_record&lt;T&gt;(context, offset, value, payload_offset);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3cfbd23c4239f8a63ac5719007a8305b_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3cfbd23c4239f8a63ac5719007a8305b_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3cfbd23c4239f8a63ac5719007a8305b_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a3cfbd23c4239f8a63ac5719007a8305b_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a435ff8b148161ca7296b12eea744a344" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record" alt="" coords="224,1661,428,1717"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1209,160,1374,216"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="478,504,661,560"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="494,1635,645,1677"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#abc3a6688cdf5249c46613a1988b71975" title="The general logic invoked for every record read. " alt="" coords="502,1701,637,1742"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1array_1_1ArrayOverwriteLogType.html#a91cb4afcdb444d2b876c8e7767626f8f" title="foedus::storage::array\l::ArrayOverwriteLogType\l::calculate_log_length" alt="" coords="488,1376,651,1432"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="493,2185,646,2226"/>
<area shape="rect" id="node42" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="476,2119,663,2161"/>
<area shape="rect" id="node46" href="structfoedus_1_1storage_1_1array_1_1ArrayOverwriteLogType.html#a823803709eb1866c0c2192c272102e8f" title="For primitive types. " alt="" coords="488,2251,651,2307"/>
<area shape="rect" id="node47" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a8a21a13b165bfe75387d21446ad8758c" title="foedus::storage::array\l::ArrayStoragePimpl::get_id" alt="" coords="1200,15,1383,57"/>
<area shape="rect" id="node48" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="733,2123,875,2165"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1431,102,1632,143"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="957,343,1140,385"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="966,95,1131,151"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="711,613,897,669"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="953,1095,1145,1137"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="971,226,1126,267"/>
<area shape="rect" id="node17" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1217,647,1365,689"/>
<area shape="rect" id="node18" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1230,957,1353,998"/>
<area shape="rect" id="node20" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="975,1015,1123,1071"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1201,336,1381,392"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="966,540,1131,596"/>
<area shape="rect" id="node11" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="975,621,1123,662"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="966,687,1131,743"/>
<area shape="rect" id="node15" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="945,767,1152,809"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="959,460,1138,516"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="967,884,1130,940"/>
<area shape="rect" id="node21" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1211,1120,1371,1147"/>
<area shape="rect" id="node24" href="group__STORAGE.html#gaa114fc1859c2d4cb8b9e2021cb11cb25" title="super&#45;dirty way to obtain Page the address belongs to. " alt="" coords="721,1329,887,1356"/>
<area shape="rect" id="node25" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="729,1381,879,1422"/>
<area shape="rect" id="node26" href="structfoedus_1_1xct_1_1XctId.html#ad5be23a25e650f1bad81ce8c87630af0" title="foedus::xct::XctId\l::is_being_written" alt="" coords="743,1446,865,1487"/>
<area shape="rect" id="node27" href="structfoedus_1_1xct_1_1XctId.html#a5c7082819f333ce0b621c2c34fe91a41" title="Returns a version of this Xid whose being_written flag is off. " alt="" coords="717,1511,891,1553"/>
<area shape="rect" id="node28" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="717,1577,891,1618"/>
<area shape="rect" id="node29" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="973,1656,1124,1712"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="961,1766,1136,1807"/>
<area shape="rect" id="node31" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#adb76c33cd20ea764c7a8e554e8201077" title="foedus::storage::Volatile\lPagePointer::get_numa_node" alt="" coords="952,1850,1145,1891"/>
<area shape="rect" id="node32" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="968,1925,1129,1966"/>
<area shape="rect" id="node33" href="namespacefoedus_1_1xct.html#a94b21516b530d0be271c6005a72009ad" title="foedus::xct::to_universal\l_lock_id" alt="" coords="723,1875,885,1917"/>
<area shape="rect" id="node34" href="classfoedus_1_1xct_1_1Xct.html#ab43ebf3a25aedb3e6ffeb3d9724bd080" title="subroutine of on_record_read() to take lock(s). " alt="" coords="721,1693,887,1749"/>
<area shape="rect" id="node35" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="962,2250,1135,2291"/>
<area shape="rect" id="node36" href="structfoedus_1_1xct_1_1XctId.html#a41264f4ced33dae443651f57bc09e964" title="foedus::xct::XctId\l::is_moved" alt="" coords="743,2058,865,2099"/>
<area shape="rect" id="node37" href="structfoedus_1_1xct_1_1XctId.html#aa3d33ca4fe97b735ce59594993a1dd94" title="foedus::xct::XctId\l::is_next_layer" alt="" coords="743,1263,865,1305"/>
<area shape="rect" id="node38" href="classfoedus_1_1xct_1_1Xct.html#a67553e6e570cdc0b371992db058cf7cb" title="Add the given record to the read set of this transaction. " alt="" coords="733,1993,875,2034"/>
<area shape="rect" id="node39" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1ff8ccbccdede750fb5a18b4da505ad9" title="foedus::xct::Retrospective\lLockList::get_volatile\l_page_resolver" alt="" coords="963,2012,1135,2068"/>
<area shape="rect" id="node43" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="711,2241,897,2282"/>
<area shape="rect" id="node44" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="955,2338,1142,2379"/>
<area shape="rect" id="node45" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="711,2306,897,2347"/>
<area shape="rect" id="node49" href="group__LOGTYPE.html#gad2d33090f44d00949a05c245e5ff1046" title="Invokes the assertion logic of each log type. " alt="" coords="984,2109,1113,2150"/>
<area shape="rect" id="node50" href="structfoedus_1_1xct_1_1RecordXctAccess.html#ace820ba89437e4d3a59fdb47a47525ba" title="Calculate owner_lock_id using the resolver. " alt="" coords="948,2174,1149,2215"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5093ba18b241e5179a363476bdd20066"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::increment_record_oneshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a faster increment that does not return the value after increment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>addendum </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We write to this byte position of the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>primitive type. All integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(T) &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a></dd></dl>
<p>This method is faster than increment_record because it doesn't rely on the current value. This uses a rare "write-set only" log. other increments have to check deletion bit at least. </p>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00154">154</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00512">foedus::storage::array::ArrayStoragePimpl::increment_record_oneshot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                           {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).increment_record_oneshot&lt;T&gt;(</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    context,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    offset,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    value,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    payload_offset);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5093ba18b241e5179a363476bdd20066_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5093ba18b241e5179a363476bdd20066_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5093ba18b241e5179a363476bdd20066_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5093ba18b241e5179a363476bdd20066_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af77ff710cf2f8ef3800e97861ea94e8f" title="foedus::storage::array\l::ArrayStoragePimpl::increment\l_record_oneshot" alt="" coords="224,785,428,841"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1225,187,1391,243"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="478,785,661,841"/>
<area shape="rect" id="node26" href="structfoedus_1_1storage_1_1array_1_1ArrayIncrementLogType.html#a20a53cefaa9fab0143ae4bba0f565c7e" title="foedus::storage::array\l::ArrayIncrementLogType\l::calculate_log_length" alt="" coords="486,638,653,694"/>
<area shape="rect" id="node27" href="classfoedus_1_1thread_1_1Thread.html#a9a5d37d6dac9966989e23381f600fcee" title="Returns the private log buffer for this thread. " alt="" coords="493,719,646,760"/>
<area shape="rect" id="node28" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9a8c4e8f3a994272f52ddddb312f15b9" title="Reserves a space for a new (uncommitted) log entry at the tail. " alt="" coords="476,1275,663,1316"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1array_1_1ArrayIncrementLogType.html#a24d21e49d8b98c3a310385f3c109f641" title="foedus::storage::array\l::ArrayIncrementLogType\l::populate" alt="" coords="486,865,653,921"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a8a21a13b165bfe75387d21446ad8758c" title="foedus::storage::array\l::ArrayStoragePimpl::get_id" alt="" coords="720,5,903,47"/>
<area shape="rect" id="node41" href="classfoedus_1_1thread_1_1Thread.html#ac48c54832becbaa9141926af14705ba3" title="Returns the transaction that is currently running on this thread. " alt="" coords="494,1340,645,1381"/>
<area shape="rect" id="node42" href="classfoedus_1_1xct_1_1Xct.html#a7dad4e0e5a6770ee941bd365410f9b6a" title="Add the given record to the write set of this transaction. " alt="" coords="499,1797,640,1839"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1449,129,1651,171"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="972,253,1155,295"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="981,122,1146,178"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="719,685,904,741"/>
<area shape="rect" id="node14" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="1454,917,1646,959"/>
<area shape="rect" id="node15" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="986,1027,1141,1068"/>
<area shape="rect" id="node19" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1234,1031,1382,1072"/>
<area shape="rect" id="node21" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1247,560,1369,601"/>
<area shape="rect" id="node24" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="989,1143,1137,1199"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1218,267,1398,323"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="981,845,1146,901"/>
<area shape="rect" id="node12" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="989,619,1137,660"/>
<area shape="rect" id="node13" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="981,685,1146,741"/>
<area shape="rect" id="node16" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="960,371,1167,412"/>
<area shape="rect" id="node18" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="974,765,1153,821"/>
<area shape="rect" id="node23" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="982,487,1145,543"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1233,848,1383,889"/>
<area shape="rect" id="node17" href="structfoedus_1_1assorted_1_1ConstDiv.html#ac4bed598404eda88cd7d0929afeea28e" title="64&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1219,371,1397,412"/>
<area shape="rect" id="node20" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="1226,779,1390,820"/>
<area shape="rect" id="node22" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1489,560,1611,601"/>
<area shape="rect" id="node25" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1228,1158,1388,1185"/>
<area shape="rect" id="node29" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a6e105bf908004fd08f79432b326067bc" title="Addition operator, considering wrapping around. " alt="" coords="718,1275,905,1316"/>
<area shape="rect" id="node30" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#af9fcb5a5ae968d079ee20e51e7418967" title="foedus::log::ThreadLogBuffer\l::head_to_tail_distance" alt="" coords="970,1275,1157,1316"/>
<area shape="rect" id="node32" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a8de2c4c08a42a349476956be1b853469" title="Called when we have to wait till offset_head_ advances so that we can put new logs. " alt="" coords="718,1437,905,1479"/>
<area shape="rect" id="node31" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a824cf26a13eb7f42d5ae68f5725098c5" title="Subtract operator, considering wrapping around. " alt="" coords="1215,1275,1401,1316"/>
<area shape="rect" id="node33" href="classfoedus_1_1log_1_1ThreadLogBuffer.html#a9aa20c59a7d75cf94742beb43b777de6" title="Only for Debug&#45;assertion. " alt="" coords="970,1536,1157,1577"/>
<area shape="rect" id="node34" href="classfoedus_1_1Engine.html#aa27f031bd1e256d38e616ec9a499eefc" title="See Log Manager. " alt="" coords="996,1601,1131,1643"/>
<area shape="rect" id="node35" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="996,1667,1131,1708"/>
<area shape="rect" id="node36" href="group__ASSORTED.html#gaf84f9944a16c5848f69beacdfeedf939" title="Equivalent to std::atomic_thread_fence(std::memory_order_acquire). " alt="" coords="977,1340,1150,1381"/>
<area shape="rect" id="node37" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="977,1405,1150,1447"/>
<area shape="rect" id="node38" href="classfoedus_1_1log_1_1LogManager.html#a5c844c3bc8d71ce709999fd286a5e7b8" title="Wake up loggers if they are sleeping. " alt="" coords="981,1471,1145,1512"/>
<area shape="rect" id="node43" href="classfoedus_1_1xct_1_1RetrospectiveLockList.html#a1ff8ccbccdede750fb5a18b4da505ad9" title="foedus::xct::Retrospective\lLockList::get_volatile\l_page_resolver" alt="" coords="725,1863,897,1919"/>
<area shape="rect" id="node44" href="namespacefoedus_1_1storage.html#a263602e0a73eedbe5f32128635106e17" title="foedus::storage::assert\l_within_valid_volatile_page" alt="" coords="724,1944,899,1985"/>
<area shape="rect" id="node46" href="group__LOGTYPE.html#gad2d33090f44d00949a05c245e5ff1046" title="Invokes the assertion logic of each log type. " alt="" coords="747,1732,876,1773"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1RecordXctAccess.html#ace820ba89437e4d3a59fdb47a47525ba" title="Calculate owner_lock_id using the resolver. " alt="" coords="711,1797,912,1839"/>
<area shape="rect" id="node45" href="namespacefoedus_1_1storage.html#ad38ebb5eb992249a7b42001fe464ec48" title="foedus::storage::assert\l_within_valid_volatile\l_page_impl" alt="" coords="986,1937,1141,1993"/>
<area shape="rect" id="node47" href="structfoedus_1_1log_1_1LogHeader.html#a6ebe3b99442f2a58a4adeeb60f9a37e0" title="Convenience method to cast into LogCode. " alt="" coords="986,1732,1141,1773"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1xct.html#ae36b3307af22f430a8f11765e3e57748" title="foedus::xct::xct_id\l_to_universal_lock_id" alt="" coords="991,1797,1136,1839"/>
<area shape="rect" id="node50" href="structfoedus_1_1xct_1_1RecordXctAccess.html#adf2e2a9d414bf5cfe86f33198ebdf434" title="Setter for owner_id_address_/owner_lock_id_. " alt="" coords="965,1863,1162,1904"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0f536b8252655076528b290abb84a87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::array::ArrayStorage::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfoedus_1_1storage_1_1StorageControlBlock.html">StorageControlBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>snapshot_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00056">56</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00301">foedus::storage::array::ArrayStoragePimpl::load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                                       {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).load(snapshot_block);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_aa0f536b8252655076528b290abb84a87_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_aa0f536b8252655076528b290abb84a87_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_aa0f536b8252655076528b290abb84a87_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_aa0f536b8252655076528b290abb84a87_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a577ab7f32ca2b4d48a7fa174263de47d" title="foedus::storage::array\l::ArrayStoragePimpl::load" alt="" coords="201,1023,372,1064"/>
<area shape="rect" id="node3" href="namespacefoedus_1_1storage_1_1array.html#ac0792c331c4b2fcb4918b8e89d5264ae" title="foedus::storage::array\l::calculate_levels" alt="" coords="714,121,862,163"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="445,1157,610,1213"/>
<area shape="rect" id="node7" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="946,1252,1147,1293"/>
<area shape="rect" id="node8" href="classfoedus_1_1DefaultInitializable.html#a22a0dc3bbbca682c3bc41eace9b6d1ff" title="Typical implementation of Initializable::initialize() that provides initialize&#45;once semantics..." alt="" coords="441,1280,613,1321"/>
<area shape="rect" id="node13" href="classfoedus_1_1Engine.html#a02ed05009c7baa8d75e04f202a86b2c6" title="See Memory Manager. " alt="" coords="721,267,855,308"/>
<area shape="rect" id="node14" href="classfoedus_1_1memory_1_1EngineMemory.html#a3c3c8902b7000d09878a5a2085f6058c" title="Another convenience method that also reads an existing snapshot page to the volatile page..." alt="" coords="422,945,633,987"/>
<area shape="rect" id="node36" href="classfoedus_1_1DefaultInitializable.html#ab14b136a7d26f9f499ab9dc15a45a8cb" title="Typical implementation of Initializable::uninitialize() that provides uninitialize&#45;once semantics..." alt="" coords="441,1345,613,1387"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a2bf1f0e04d213efe49f4e250968a60b9" title="foedus::storage::array\l::ArrayStoragePimpl::load_empty" alt="" coords="420,521,635,563"/>
<area shape="rect" id="node4" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1219,121,1379,147"/>
<area shape="rect" id="node5" href="group__ASSORTED.html#gae2beea4717aef7ca9d43b91e48cf5824" title="Efficient ceil(dividee/dividor) for integer. " alt="" coords="977,40,1117,81"/>
<area shape="rect" id="node9" href="classfoedus_1_1DefaultInitializable.html#ab8ae37e5f20f312f8b945fc40d3e0250" title="foedus::DefaultInitializable\l::initialize_once" alt="" coords="702,1215,874,1256"/>
<area shape="rect" id="node10" href="classfoedus_1_1ErrorStack.html#a9c7b3a8b3806ff623c7fb4a9db5cbeec" title="Returns if this return code is not kErrorCodeOk. " alt="" coords="723,1280,853,1321"/>
<area shape="rect" id="node11" href="classfoedus_1_1DefaultInitializable.html#a1abda1e84b8af8bd6916e52fd0a09f3e" title="Returns whether the object has been already initialized or not. " alt="" coords="702,1411,874,1452"/>
<area shape="rect" id="node12" href="classfoedus_1_1DefaultInitializable.html#a764be22ce1454279e7a7e78f4c8e380b" title="foedus::DefaultInitializable\l::uninitialize_once" alt="" coords="702,1345,874,1387"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1storage.html#a8f6e96ac10eb804602349a54292d26a1" title="foedus::storage::extract\l_numa_node_from_snapshot\l_pointer" alt="" coords="1205,814,1393,870"/>
<area shape="rect" id="node16" href="classfoedus_1_1memory_1_1EngineMemory.html#ae35d16d716451eaa878ec2888960127d" title="A convenience function to grab one free volatile page from the given node. " alt="" coords="683,689,893,731"/>
<area shape="rect" id="node25" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="695,975,881,1016"/>
<area shape="rect" id="node17" href="classfoedus_1_1memory_1_1EngineMemory.html#a8bf8832e627cd97fe92c60d38ed96ac8" title="foedus::memory::EngineMemory\l::get_node_memory" alt="" coords="941,857,1152,899"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1PagePool.html#a18916c76eea7aa49572e69e48e75717e" title="Gives an object to resolve an offset in this page pool (thus local) to an actual pointer and vice ver..." alt="" coords="957,515,1136,556"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1NumaNodeMemoryRef.html#a70b68580143ce771f5b5b1f9a209f774" title="foedus::memory::NumaNode\lMemoryRef::get_volatile_pool" alt="" coords="951,580,1142,621"/>
<area shape="rect" id="node21" href="classfoedus_1_1memory_1_1PagePool.html#a3e9390381783077a504116988cae05c4" title="Grab only one page. " alt="" coords="957,645,1136,687"/>
<area shape="rect" id="node23" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="955,711,1139,767"/>
<area shape="rect" id="node24" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="966,792,1127,833"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#ae901dc06f6b6f4594626ed0b233daec6" title="foedus::memory::PagePool\lPimpl::get_resolver" alt="" coords="1210,515,1389,556"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePoolPimpl.html#a3293a43a76f3720cf5c92c5fbcf2d02f" title="foedus::memory::PagePool\lPimpl::grab_one" alt="" coords="1210,645,1389,687"/>
<area shape="rect" id="node26" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="947,1171,1147,1227"/>
<area shape="rect" id="node27" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ae5b153acb9f3115c44a48e10ff2262fb" title="foedus::cache::SnapshotFile\lSet::get_or_open_file" alt="" coords="953,975,1140,1016"/>
<area shape="rect" id="node29" href="classfoedus_1_1fs_1_1DirectIoFile.html#a5353bbb3b2a815d6c858c8190edeccf4" title="A version that receives a raw pointer that has to be aligned (be careful to use this ver)..." alt="" coords="971,1040,1122,1081"/>
<area shape="rect" id="node35" href="classfoedus_1_1fs_1_1DirectIoFile.html#a35814dfec4dab81d5bb46e453f1993e6" title="Sets the position of the next byte to be written/extracted from/to the stream. " alt="" coords="971,1105,1122,1147"/>
<area shape="rect" id="node28" href="namespacefoedus_1_1storage.html#a82df0b3921d7c863275baf4f9c59959c" title="foedus::storage::extract\l_snapshot_id_from_snapshot\l_pointer" alt="" coords="1204,894,1395,950"/>
<area shape="rect" id="node30" href="namespacefoedus_1_1fs.html#a1a3ea81bf627928d9a5f154986af9c48" title="foedus::fs::is_odirect\l_aligned" alt="" coords="1228,1105,1371,1147"/>
<area shape="rect" id="node31" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1d89a9c761a388f13f9b59490b6caa00" title="Whether the file is already and successfully opened. " alt="" coords="1224,1040,1375,1081"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#gaaa260096daf8620266c2799d1f5a0270" title="Thread&#45;safe strerror(errno). " alt="" coords="1229,1171,1369,1212"/>
<area shape="rect" id="node33" href="classfoedus_1_1fs_1_1DirectIoFile.html#a1c6bff6aafc955fd4c2a8e11e7f41f40" title="Sequentially read the given amount of contents from the current position. " alt="" coords="1224,975,1375,1016"/>
<area shape="rect" id="node34" href="group__DEBUGGING.html#gac7eac15b41b0fab4e689f62d147ce620" title="Wait until the given CPU cycles elapse. " alt="" coords="1232,1236,1367,1277"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a2d19d9785d226e4c7f9b2f0f549fdd19" title="foedus::storage::array\l::LookupRouteFinder::get\l_records_in_leaf" alt="" coords="704,514,872,570"/>
<area shape="rect" id="node39" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="714,333,862,389"/>
<area shape="rect" id="node47" href="classfoedus_1_1Engine.html#a4f168d41ea00249fefe905def87e80c8" title="See Savepoint Manager. " alt="" coords="718,595,858,636"/>
<area shape="rect" id="node48" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a82624b3d7edff1d02e29c1b8863dd4ee" title="foedus::savepoint::\lSavepointManager::get\l_initial_current_epoch" alt="" coords="711,434,865,490"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a8a21a13b165bfe75387d21446ad8758c" title="foedus::storage::array\l::ArrayStoragePimpl::get_id" alt="" coords="697,1040,879,1081"/>
<area shape="rect" id="node40" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="973,186,1121,242"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1225,223,1373,264"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a038d272bb21378544e6d6cd1c8b468b3" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record_count" alt="" coords="973,106,1121,162"/>
<area shape="rect" id="node43" href="structfoedus_1_1storage_1_1PageHeader.html#a5a84eed10b8675e5df2f35f791991eb5" title="foedus::storage::PageHeader\l::init_volatile" alt="" coords="951,317,1142,359"/>
<area shape="rect" id="node46" href="classfoedus_1_1Epoch.html#a8228a1a49b7db9b93498a778cb40f8e9" title="foedus::Epoch::is_valid" alt="" coords="969,383,1124,410"/>
<area shape="rect" id="node44" href="structfoedus_1_1assorted_1_1ProbCounter.html#a8e7b31f9a6b4997f6c0916f7e20d755a" title="foedus::assorted::ProbCounter\l::reset" alt="" coords="1200,368,1399,409"/>
<area shape="rect" id="node45" href="structfoedus_1_1storage_1_1PageVersion.html#ae40168c82f16645e85bb66f9019e53cf" title="used only while page initialization " alt="" coords="1203,303,1395,344"/>
<area shape="rect" id="node49" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a69656b017856d4e6b2bcda9085c0d316" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_initial_current_epoch" alt="" coords="959,434,1134,490"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaaa64f886ffc9e89d4cd940cf8a55262"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp; foedus::storage::array::ArrayStorage::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00047">47</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>

<p>References <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a>, <a class="el" href="attachable_8hpp_source.html#l00111">foedus::Attachable&lt; CONTROL_BLOCK &gt;::control_block_</a>, <a class="el" href="attachable_8hpp_source.html#l00107">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::engine_</a>, and <a class="el" href="attachable_8hpp_source.html#l00107">foedus::Attachable&lt; CONTROL_BLOCK &gt;::engine_</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                                               {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">engine_</a> = other.engine_;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">control_block_</a> = other.control_block_;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1Attachable_html_a5f84f871a1d36f9ee990f3175661cd99"><div class="ttname"><a href="classfoedus_1_1Attachable.html#a5f84f871a1d36f9ee990f3175661cd99">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::engine_</a></div><div class="ttdeci">Engine * engine_</div><div class="ttdoc">Most attachable object stores an engine pointer (local engine), so we define it here. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00107">attachable.hpp:107</a></div></div>
<div class="ttc" id="classfoedus_1_1Attachable_html_af9f87c691e2df0b04322e6df8d7c0d81"><div class="ttname"><a href="classfoedus_1_1Attachable.html#af9f87c691e2df0b04322e6df8d7c0d81">foedus::Attachable&lt; ArrayStorageControlBlock &gt;::control_block_</a></div><div class="ttdeci">ArrayStorageControlBlock * control_block_</div><div class="ttdoc">The shared data on shared memory that has been initialized in some SOC or master engine. </div><div class="ttdef"><b>Definition:</b> <a href="attachable_8hpp_source.html#l00111">attachable.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35f86d7dbf38c9597b6a8f69d45a1206"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::overwrite_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overwrites one record of the given offset in this array storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>We copy from this buffer. Must be at least <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a></dd></dl>
<p>Equivalent to overwrite_record(context, offset, payload, 0, get_payload_size()). </p>

<p>Definition at line <a class="el" href="array__storage_8hpp_source.html#l00198">198</a> of file <a class="el" href="array__storage_8hpp_source.html">array_storage.hpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00056">get_payload_size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                                                                              {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35f86d7dbf38c9597b6a8f69d45a1206">overwrite_record</a>(context, offset, payload, 0, <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5">get_payload_size</a>());</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_html_acc05e0b608094e78fa9a7025c08524b5"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5">foedus::storage::array::ArrayStorage::get_payload_size</a></div><div class="ttdeci">uint16_t get_payload_size() const </div><div class="ttdoc">Returns byte size of one record in this array storage without internal overheads. ...</div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8cpp_source.html#l00056">array_storage_pimpl.cpp:56</a></div></div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_html_a35f86d7dbf38c9597b6a8f69d45a1206"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35f86d7dbf38c9597b6a8f69d45a1206">foedus::storage::array::ArrayStorage::overwrite_record</a></div><div class="ttdeci">ErrorCode overwrite_record(thread::Thread *context, ArrayOffset offset, const void *payload)</div><div class="ttdoc">Overwrites one record of the given offset in this array storage. </div><div class="ttdef"><b>Definition:</b> <a href="array__storage_8hpp_source.html#l00198">array_storage.hpp:198</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35f86d7dbf38c9597b6a8f69d45a1206_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35f86d7dbf38c9597b6a8f69d45a1206_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35f86d7dbf38c9597b6a8f69d45a1206_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a35f86d7dbf38c9597b6a8f69d45a1206_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ..." alt="" coords="217,13,432,54"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5fe59a512f951b17e2524fd153a9d991"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::overwrite_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrites a part of one record of the given offset in this array storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>We copy from this buffer. Must be at least <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy to this byte position of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>How many bytes we copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + payload_count &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a> </dd></dl>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00096">96</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00432">foedus::storage::array::ArrayStoragePimpl::overwrite_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                                                            {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).overwrite_record(</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    context,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    offset,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    payload,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    payload_offset,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    payload_count);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5fe59a512f951b17e2524fd153a9d991_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5fe59a512f951b17e2524fd153a9d991_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5fe59a512f951b17e2524fd153a9d991_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a5fe59a512f951b17e2524fd153a9d991_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d21cd23923f93d072a1a182cae6f412" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="217,281,415,337"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1189,389,1354,445"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="463,406,645,462"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1416,66,1617,107"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="939,327,1121,368"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="947,246,1113,302"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="693,678,879,734"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="1421,919,1613,960"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="953,444,1107,486"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1961,860,2109,902"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="1703,350,1851,406"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1210,1032,1333,1074"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1181,309,1361,365"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="947,1238,1113,1294"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="956,612,1104,654"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="947,678,1113,734"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="927,1172,1133,1214"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="941,758,1119,814"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="949,838,1111,894"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1196,1246,1347,1287"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1425,1638,1609,1679"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="2209,1820,2370,1862"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2641,1656,2791,1698"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1672,1572,1883,1614"/>
<area shape="rect" id="node16" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="2197,1740,2381,1796"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="2209,1488,2370,1530"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="2439,1572,2593,1614"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1942,1688,2129,1730"/>
<area shape="rect" id="node20" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="2188,1598,2391,1639"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1685,1923,1869,1964"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1931,2019,2140,2060"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1708,1638,1847,1679"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1707,1806,1848,1847"/>
<area shape="rect" id="node30" href="structfoedus_1_1assorted_1_1ConstDiv.html#ac4bed598404eda88cd7d0929afeea28e" title="64&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1183,1172,1360,1214"/>
<area shape="rect" id="node31" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1428,1172,1605,1214"/>
<area shape="rect" id="node34" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="1189,559,1353,600"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="1442,802,1591,843"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="1435,248,1599,290"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. " alt="" coords="1417,314,1616,355"/>
<area shape="rect" id="node37" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad" title="foedus::Attachable\l::get_control_block" alt="" coords="1451,379,1583,420"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a" title="foedus::thread::Thread\l::get_engine" alt="" coords="1441,444,1592,486"/>
<area shape="rect" id="node39" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a82624b3d7edff1d02e29c1b8863dd4ee" title="foedus::savepoint::\lSavepointManager::get\l_initial_current_epoch" alt="" coords="1439,721,1594,777"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ..." alt="" coords="1409,510,1624,551"/>
<area shape="rect" id="node43" href="classfoedus_1_1Engine.html#a4f168d41ea00249fefe905def87e80c8" title="See Savepoint Manager. " alt="" coords="1447,575,1587,616"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a6ca84715dc16f27640c7fbaaa2e22541" title="foedus::storage::array\l::ArrayPage::get_storage_id" alt="" coords="1425,183,1609,224"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="1443,641,1591,697"/>
<area shape="rect" id="node40" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a69656b017856d4e6b2bcda9085c0d316" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_initial_current_epoch" alt="" coords="1690,721,1865,777"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1955,365,2115,392"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1455,1036,1578,1078"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9fbd39ec14792d8fc85411b4fed00db8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::overwrite_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrites a part of the pre-searched record in this array storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array. Used for logging. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">record</td><td>Pointer to the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>We copy from this buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy to this byte position of the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_count</td><td>How many bytes we copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + payload_count &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acb10150d96e7a6fe9c7bc00da6a13e80" title="Retrieves a pointer to the entire record for write (thus always in volatile page). ">get_record_for_write()</a> </dd></dl>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00116">116</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00432">foedus::storage::array::ArrayStoragePimpl::overwrite_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                          {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).overwrite_record(</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    context,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    offset,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    record,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    payload,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    payload_offset,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    payload_count);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a9fbd39ec14792d8fc85411b4fed00db8_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a9fbd39ec14792d8fc85411b4fed00db8_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a9fbd39ec14792d8fc85411b4fed00db8_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a9fbd39ec14792d8fc85411b4fed00db8_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a7d21cd23923f93d072a1a182cae6f412" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record" alt="" coords="217,281,415,337"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1189,389,1354,445"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="463,406,645,462"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1416,66,1617,107"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="939,327,1121,368"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="947,246,1113,302"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="693,678,879,734"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="1421,919,1613,960"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="953,444,1107,486"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1961,860,2109,902"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="1703,350,1851,406"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1210,1032,1333,1074"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1181,309,1361,365"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="947,1238,1113,1294"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="956,612,1104,654"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="947,678,1113,734"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="927,1172,1133,1214"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="941,758,1119,814"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="949,838,1111,894"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1196,1246,1347,1287"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1425,1638,1609,1679"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="2209,1820,2370,1862"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2641,1656,2791,1698"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1672,1572,1883,1614"/>
<area shape="rect" id="node16" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="2197,1740,2381,1796"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="2209,1488,2370,1530"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="2439,1572,2593,1614"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1942,1688,2129,1730"/>
<area shape="rect" id="node20" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="2188,1598,2391,1639"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1685,1923,1869,1964"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1931,2019,2140,2060"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1708,1638,1847,1679"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1707,1806,1848,1847"/>
<area shape="rect" id="node30" href="structfoedus_1_1assorted_1_1ConstDiv.html#ac4bed598404eda88cd7d0929afeea28e" title="64&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1183,1172,1360,1214"/>
<area shape="rect" id="node31" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1428,1172,1605,1214"/>
<area shape="rect" id="node34" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="1189,559,1353,600"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="1442,802,1591,843"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="1435,248,1599,290"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. " alt="" coords="1417,314,1616,355"/>
<area shape="rect" id="node37" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad" title="foedus::Attachable\l::get_control_block" alt="" coords="1451,379,1583,420"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a" title="foedus::thread::Thread\l::get_engine" alt="" coords="1441,444,1592,486"/>
<area shape="rect" id="node39" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a82624b3d7edff1d02e29c1b8863dd4ee" title="foedus::savepoint::\lSavepointManager::get\l_initial_current_epoch" alt="" coords="1439,721,1594,777"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ..." alt="" coords="1409,510,1624,551"/>
<area shape="rect" id="node43" href="classfoedus_1_1Engine.html#a4f168d41ea00249fefe905def87e80c8" title="See Savepoint Manager. " alt="" coords="1447,575,1587,616"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a6ca84715dc16f27640c7fbaaa2e22541" title="foedus::storage::array\l::ArrayPage::get_storage_id" alt="" coords="1425,183,1609,224"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="1443,641,1591,697"/>
<area shape="rect" id="node40" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a69656b017856d4e6b2bcda9085c0d316" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_initial_current_epoch" alt="" coords="1690,721,1865,777"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1955,365,2115,392"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1455,1036,1578,1078"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa646f67578c221ef982e28fffdd76e4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::overwrite_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrites a part of record of the given offset as a primitive type in this array storage. </p>
<p>A bit more efficient than <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35f86d7dbf38c9597b6a8f69d45a1206" title="Overwrites one record of the given offset in this array storage. ">overwrite_record()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>The value as primitive type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy to this byte position of the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>primitive type. All integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(T) &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a> </dd></dl>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00107">107</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00441">foedus::storage::array::ArrayStoragePimpl::overwrite_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                              {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).overwrite_record_primitive&lt;T&gt;(</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    context,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    offset,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    payload,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    payload_offset);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_aaa646f67578c221ef982e28fffdd76e4_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_aaa646f67578c221ef982e28fffdd76e4_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_aaa646f67578c221ef982e28fffdd76e4_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_aaa646f67578c221ef982e28fffdd76e4_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a3ee9fdf4da9f172082841c1774a761da" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="217,281,415,337"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1189,389,1354,445"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="463,406,645,462"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1416,66,1617,107"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="939,327,1121,368"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="947,246,1113,302"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="693,678,879,734"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="1421,919,1613,960"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="953,444,1107,486"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1961,860,2109,902"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="1703,350,1851,406"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1210,1032,1333,1074"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1181,309,1361,365"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="947,1238,1113,1294"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="956,612,1104,654"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="947,678,1113,734"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="927,1172,1133,1214"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="941,758,1119,814"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="949,838,1111,894"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1196,1246,1347,1287"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1425,1638,1609,1679"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="2209,1820,2370,1862"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2641,1656,2791,1698"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1672,1572,1883,1614"/>
<area shape="rect" id="node16" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="2197,1740,2381,1796"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="2209,1488,2370,1530"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="2439,1572,2593,1614"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1942,1688,2129,1730"/>
<area shape="rect" id="node20" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="2188,1598,2391,1639"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1685,1923,1869,1964"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1931,2019,2140,2060"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1708,1638,1847,1679"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1707,1806,1848,1847"/>
<area shape="rect" id="node30" href="structfoedus_1_1assorted_1_1ConstDiv.html#ac4bed598404eda88cd7d0929afeea28e" title="64&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1183,1172,1360,1214"/>
<area shape="rect" id="node31" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1428,1172,1605,1214"/>
<area shape="rect" id="node34" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="1189,559,1353,600"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="1442,802,1591,843"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="1435,248,1599,290"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. " alt="" coords="1417,314,1616,355"/>
<area shape="rect" id="node37" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad" title="foedus::Attachable\l::get_control_block" alt="" coords="1451,379,1583,420"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a" title="foedus::thread::Thread\l::get_engine" alt="" coords="1441,444,1592,486"/>
<area shape="rect" id="node39" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a82624b3d7edff1d02e29c1b8863dd4ee" title="foedus::savepoint::\lSavepointManager::get\l_initial_current_epoch" alt="" coords="1439,721,1594,777"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ..." alt="" coords="1409,510,1624,551"/>
<area shape="rect" id="node43" href="classfoedus_1_1Engine.html#a4f168d41ea00249fefe905def87e80c8" title="See Savepoint Manager. " alt="" coords="1447,575,1587,616"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a6ca84715dc16f27640c7fbaaa2e22541" title="foedus::storage::array\l::ArrayPage::get_storage_id" alt="" coords="1425,183,1609,224"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="1443,641,1591,697"/>
<area shape="rect" id="node40" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a69656b017856d4e6b2bcda9085c0d316" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_initial_current_epoch" alt="" coords="1690,721,1865,777"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1955,365,2115,392"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1455,1036,1578,1078"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab395df9d52ed628efe738890810d9f95"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::overwrite_record_primitive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfoedus_1_1storage_1_1Record.html">Record</a> *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payload_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrites a part of pre-searched record as a primitive type in this array storage. </p>
<p>A bit more efficient than <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a35f86d7dbf38c9597b6a8f69d45a1206" title="Overwrites one record of the given offset in this array storage. ">overwrite_record()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in this array. Used for logging. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">record</td><td>Pointer to the record. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>The value as primitive type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_offset</td><td>We copy to this byte position of the record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>primitive type. All integers and floats are allowed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>payload_offset + sizeof(T) &lt;= <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ...">get_payload_size()</a> </dd>
<dd>
offset &lt; <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. ">get_array_size()</a> </dd></dl>

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00133">133</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00441">foedus::storage::array::ArrayStoragePimpl::overwrite_record_primitive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                           {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).overwrite_record_primitive&lt;T&gt;(</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    context,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    offset,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    record,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    payload,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    payload_offset);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab395df9d52ed628efe738890810d9f95_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab395df9d52ed628efe738890810d9f95_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab395df9d52ed628efe738890810d9f95_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_ab395df9d52ed628efe738890810d9f95_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a3ee9fdf4da9f172082841c1774a761da" title="foedus::storage::array\l::ArrayStoragePimpl::overwrite\l_record_primitive" alt="" coords="217,281,415,337"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a08fc6349a89f7505d5c139851859dbf3" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_payload_size" alt="" coords="1189,389,1354,445"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adeff9d74f6979c888a0155e67466cf2a" title="foedus::storage::array\l::ArrayStoragePimpl::locate\l_record_for_write" alt="" coords="463,406,645,462"/>
<area shape="rect" id="node4" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="1416,66,1617,107"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af7175d943ce05a4fdca76d15638dac4e" title="foedus::storage::array\l::ArrayStoragePimpl::exists" alt="" coords="939,327,1121,368"/>
<area shape="rect" id="node8" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae3cd53ce6ea97f63981defcb2f18f0b2" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_array_size" alt="" coords="947,246,1113,302"/>
<area shape="rect" id="node9" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a10c44402ff1533f5fee533cc13119759" title="This version always returns a volatile page, installing a new one if needed. " alt="" coords="693,678,879,734"/>
<area shape="rect" id="node27" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="1421,919,1613,960"/>
<area shape="rect" id="node28" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="953,444,1107,486"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="1961,860,2109,902"/>
<area shape="rect" id="node46" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ae6032f608834a39808e26c59aa0e42e2" title="foedus::storage::array\l::ArrayPage::get_leaf\l_record" alt="" coords="1703,350,1851,406"/>
<area shape="rect" id="node48" href="structfoedus_1_1xct_1_1XctId.html#a449da7fea452dd81c194f94b28e7a7e2" title="foedus::xct::XctId\l::is_valid" alt="" coords="1210,1032,1333,1074"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1array_1_1ArrayStorageControlBlock.html#aeca5199006d225457f33c70c09d508a5" title="foedus::storage::array\l::ArrayStorageControlBlock\l::exists" alt="" coords="1181,309,1361,365"/>
<area shape="rect" id="node10" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="947,1238,1113,1294"/>
<area shape="rect" id="node25" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="956,612,1104,654"/>
<area shape="rect" id="node26" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ab4aecf5370150176a5a148c27f1b1bcc" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_levels" alt="" coords="947,678,1113,734"/>
<area shape="rect" id="node29" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a9acd8da755296ccc35526dacd8ba8d73" title="foedus::storage::array\l::LookupRouteFinder::find_route" alt="" coords="927,1172,1133,1214"/>
<area shape="rect" id="node32" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ae0f40ca19aa9b9ac924542746e1b53c1" title="foedus::storage::array\l::ArrayStoragePimpl::follow\l_pointer" alt="" coords="941,758,1119,814"/>
<area shape="rect" id="node50" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="949,838,1111,894"/>
<area shape="rect" id="node11" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="1196,1246,1347,1287"/>
<area shape="rect" id="node12" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1425,1638,1609,1679"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="2209,1820,2370,1862"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2641,1656,2791,1698"/>
<area shape="rect" id="node15" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1672,1572,1883,1614"/>
<area shape="rect" id="node16" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="2197,1740,2381,1796"/>
<area shape="rect" id="node17" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="2209,1488,2370,1530"/>
<area shape="rect" id="node18" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="2439,1572,2593,1614"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1942,1688,2129,1730"/>
<area shape="rect" id="node20" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="2188,1598,2391,1639"/>
<area shape="rect" id="node21" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1685,1923,1869,1964"/>
<area shape="rect" id="node22" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1931,2019,2140,2060"/>
<area shape="rect" id="node23" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1708,1638,1847,1679"/>
<area shape="rect" id="node24" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1707,1806,1848,1847"/>
<area shape="rect" id="node30" href="structfoedus_1_1assorted_1_1ConstDiv.html#ac4bed598404eda88cd7d0929afeea28e" title="64&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1183,1172,1360,1214"/>
<area shape="rect" id="node31" href="structfoedus_1_1assorted_1_1ConstDiv.html#a6892a2d35b9ae08a00190c9440e22a21" title="32&#45;bit integer division that outputs both quotient and remainder. " alt="" coords="1428,1172,1605,1214"/>
<area shape="rect" id="node34" href="group__ARRAY.html#ga3b7fb001a1608242302069b8aa85eb91" title="volatile page initialize callback for ArrayPage. " alt="" coords="1189,559,1353,600"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="1442,802,1591,843"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1Storage.html#ade24602975f3928e77762f8cb4da51ca" title="Returns whether this storage is already created. " alt="" coords="1435,248,1599,290"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. " alt="" coords="1417,314,1616,355"/>
<area shape="rect" id="node37" href="classfoedus_1_1Attachable.html#a5b324e3abf302a59801aa73419bb4fad" title="foedus::Attachable\l::get_control_block" alt="" coords="1451,379,1583,420"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1Thread.html#a64fa1150b812810a2697bd6293aaac9a" title="foedus::thread::Thread\l::get_engine" alt="" coords="1441,444,1592,486"/>
<area shape="rect" id="node39" href="classfoedus_1_1savepoint_1_1SavepointManager.html#a82624b3d7edff1d02e29c1b8863dd4ee" title="foedus::savepoint::\lSavepointManager::get\l_initial_current_epoch" alt="" coords="1439,721,1594,777"/>
<area shape="rect" id="node42" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#acc05e0b608094e78fa9a7025c08524b5" title="Returns byte size of one record in this array storage without internal overheads. ..." alt="" coords="1409,510,1624,551"/>
<area shape="rect" id="node43" href="classfoedus_1_1Engine.html#a4f168d41ea00249fefe905def87e80c8" title="See Savepoint Manager. " alt="" coords="1447,575,1587,616"/>
<area shape="rect" id="node44" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a6ca84715dc16f27640c7fbaaa2e22541" title="foedus::storage::array\l::ArrayPage::get_storage_id" alt="" coords="1425,183,1609,224"/>
<area shape="rect" id="node45" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ac2c4739bd0b33158b22b519faa47c5b2" title="foedus::storage::array\l::ArrayPage::initialize\l_volatile_page" alt="" coords="1443,641,1591,697"/>
<area shape="rect" id="node40" href="classfoedus_1_1savepoint_1_1SavepointManagerPimpl.html#a69656b017856d4e6b2bcda9085c0d316" title="foedus::savepoint::\lSavepointManagerPimpl\l::get_initial_current_epoch" alt="" coords="1690,721,1865,777"/>
<area shape="rect" id="node47" href="group__ASSORTED.html#ga34d731a5b871bbd8a43b748808e9ce52" title="8&#45;alignment. " alt="" coords="1955,365,2115,392"/>
<area shape="rect" id="node49" href="structfoedus_1_1xct_1_1XctId.html#aa9ea819b1fb68a729e1c92825190a39c" title="foedus::xct::XctId\l::get_epoch_int" alt="" coords="1455,1036,1578,1078"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af420e19da8ee4ed731ae387932cc991e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#gaae5f98d1b4caace7febc49e59ae5ac56">ErrorCode</a> foedus::storage::array::ArrayStorage::prefetch_pages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>install_volatile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cache_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ARRAY.html#ga032dbb5dc93f7b51ac0ab5200ae013ab">ArrayOffset</a>&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prefetch data pages in this storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Thread context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">install_volatile</td><td>Whether to install/prefetch volatile pages based on the recent snapshot page if there is none. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cache_snapshot</td><td>Whether to cache/prefetch snapshot pages if exists. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from</td><td>inclusive begin offset of records that are specifically prefetched even in data pages. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to</td><td>exclusive end offset of records that are specifically prefetched even in data pages. 0 means up to the end of the storage.</td></tr>
  </table>
  </dd>
</dl>
<p>This is to <em>warmup</em> the storage for the current core. Data pages are prefetched within from/to. </p>

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00071">71</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00057">get_array_size()</a>, and <a class="el" href="array__storage__prefetch_8cpp_source.html#l00031">foedus::storage::array::ArrayStoragePimpl::prefetch_pages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                  {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (to == 0) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    to = <a class="code" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca">get_array_size</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).prefetch_pages(</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    context,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    install_volatile,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    cache_snapshot,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    from,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    to);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="ttc" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_html_a2e5043394d70ac6f151fb06508a038ca"><div class="ttname"><a href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca">foedus::storage::array::ArrayStorage::get_array_size</a></div><div class="ttdeci">ArrayOffset get_array_size() const </div><div class="ttdoc">Returns the size of this array. </div><div class="ttdef"><b>Definition:</b> <a href="array__storage__pimpl_8cpp_source.html#l00057">array_storage_pimpl.cpp:57</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_af420e19da8ee4ed731ae387932cc991e_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_af420e19da8ee4ed731ae387932cc991e_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_af420e19da8ee4ed731ae387932cc991e_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_af420e19da8ee4ed731ae387932cc991e_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html#a2e5043394d70ac6f151fb06508a038ca" title="Returns the size of this array. " alt="" coords="274,692,473,733"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#adbf75cfe4ac8c4c5e1e8a32342b66d00" title="defined in array_storage_prefetch.cpp " alt="" coords="256,757,491,798"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1Thread.html#af98ed86adde3f5e39c9cab39440f38da" title="foedus::thread::Thread\l::get_thread_id" alt="" coords="564,528,715,569"/>
<area shape="rect" id="node5" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#a0611bafe6b93b9b860330375cb805fdc" title="foedus::storage::array\l::ArrayStoragePimpl::get_meta" alt="" coords="539,593,740,634"/>
<area shape="rect" id="node6" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="557,659,722,715"/>
<area shape="rect" id="node30" href="group__STORAGE.html#ga9a2f9d6e4c010712ecd8987d65e634c3" title="Prefetch a page to L2/L3 cache. " alt="" coords="1043,650,1208,692"/>
<area shape="rect" id="node33" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a9c7bc21358a340d36f3c43a49f774b93" title="foedus::storage::array\l::ArrayPage::is_leaf" alt="" coords="565,841,713,882"/>
<area shape="rect" id="node34" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#af22fe9e661763ca3225eeedf7fa62879" title="foedus::storage::array\l::ArrayStoragePimpl::prefetch\l_pages_recurse" alt="" coords="788,826,981,882"/>
<area shape="rect" id="node47" href="classfoedus_1_1debugging_1_1StopWatch.html#a2ee5315a0f6bf736a2a73b29b1709bd2" title="Take another current time tick. " alt="" coords="572,906,707,948"/>
<area shape="rect" id="node50" href="classfoedus_1_1debugging_1_1StopWatch.html#a7f1f05f4dd494dd57c3ecafb5d9131fb" title="foedus::debugging::\lStopWatch::elapsed_us" alt="" coords="559,972,720,1013"/>
<area shape="rect" id="node7" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="809,502,960,544"/>
<area shape="rect" id="node8" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="1033,337,1217,378"/>
<area shape="rect" id="node9" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1809,548,1970,589"/>
<area shape="rect" id="node11" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2281,401,2430,442"/>
<area shape="rect" id="node12" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1784,74,1995,116"/>
<area shape="rect" id="node13" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1797,248,1981,304"/>
<area shape="rect" id="node14" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="1809,169,1970,210"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="2057,430,2212,472"/>
<area shape="rect" id="node16" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1538,329,1725,370"/>
<area shape="rect" id="node17" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1788,380,1991,421"/>
<area shape="rect" id="node18" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1282,497,1466,538"/>
<area shape="rect" id="node19" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1527,833,1736,874"/>
<area shape="rect" id="node28" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1305,213,1443,254"/>
<area shape="rect" id="node29" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1303,278,1445,320"/>
<area shape="rect" id="node10" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="2275,548,2436,589"/>
<area shape="rect" id="node27" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="1539,96,1723,152"/>
<area shape="rect" id="node20" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1822,665,1957,706"/>
<area shape="rect" id="node21" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="1786,730,1993,772"/>
<area shape="rect" id="node22" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="2045,802,2224,844"/>
<area shape="rect" id="node23" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="1797,848,1981,889"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="2043,893,2227,934"/>
<area shape="rect" id="node25" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="1786,965,1993,1006"/>
<area shape="rect" id="node26" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="1808,1030,1971,1072"/>
<area shape="rect" id="node31" href="group__ASSORTED.html#ga776c53f69f97c1edfc5d34a0f6cb3100" title="Prefetch multiple contiguous cachelines to L2/L3 cache. " alt="" coords="1279,664,1469,691"/>
<area shape="rect" id="node32" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="1545,598,1717,640"/>
<area shape="rect" id="node35" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#ad27a14c20dc341c655820def2e0dd1ee" title="foedus::storage::array\l::ArrayPage::header" alt="" coords="1051,1030,1199,1072"/>
<area shape="rect" id="node36" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a093e610525e466cef81920c9d21e7aa2" title="foedus::storage::array\l::ArrayPage::get_level" alt="" coords="1051,1096,1200,1137"/>
<area shape="rect" id="node37" href="classfoedus_1_1storage_1_1array_1_1LookupRouteFinder.html#a2d19d9785d226e4c7f9b2f0f549fdd19" title="foedus::storage::array\l::LookupRouteFinder::get\l_records_in_leaf" alt="" coords="1041,1162,1209,1218"/>
<area shape="rect" id="node38" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#af7bf48c6785865302f1d67bc59ab1392" title="foedus::storage::array\l::ArrayPage::get_array_range" alt="" coords="1029,1242,1221,1284"/>
<area shape="rect" id="node39" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a9fedf09e1884f7f9d39daac9629aa6e2" title="Returns if there is any overlap with the other range. " alt="" coords="1049,833,1202,874"/>
<area shape="rect" id="node41" href="classfoedus_1_1storage_1_1array_1_1ArrayPage.html#a53643894d607ee034359b2a4f77f0d89" title="foedus::storage::array\l::ArrayPage::get_interior\l_record" alt="" coords="1044,950,1207,1006"/>
<area shape="rect" id="node42" href="classfoedus_1_1thread_1_1Thread.html#ad9a1cd82a866fd82299acc66a59c2487" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1269,898,1479,940"/>
<area shape="rect" id="node43" href="classfoedus_1_1thread_1_1Thread.html#a13d14670c512a2f2f85ff6519a28488c" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1046,541,1205,582"/>
<area shape="rect" id="node44" href="classfoedus_1_1thread_1_1Thread.html#a17f375db3d50174cf49746e04ce00118" title="resolve() plus reinterpret_cast " alt="" coords="1050,716,1201,757"/>
<area shape="rect" id="node40" href="structfoedus_1_1storage_1_1array_1_1ArrayRange.html#a794ae294cb1193cdf10319bf23e9efea" title="foedus::storage::array\l::ArrayRange::contains" alt="" coords="1297,833,1451,874"/>
<area shape="rect" id="node45" href="classfoedus_1_1thread_1_1Thread.html#ade1f89cfaad84ff5dda0b6f7999a519e" title="Shorthand for get_global_volatile_page_resolver.resolve_offset() " alt="" coords="1299,716,1449,757"/>
<area shape="rect" id="node46" href="classfoedus_1_1thread_1_1Thread.html#aa77cde98794b5a55e0d295284acb3e6d" title="Returns the page resolver to convert page ID to page pointer. " alt="" coords="1556,1147,1707,1203"/>
<area shape="rect" id="node48" href="classfoedus_1_1debugging_1_1StopWatch.html#adacc2b7108e7b4df019cc79733050b8c" title="foedus::debugging::\lStopWatch::elapsed_ns" alt="" coords="804,972,965,1013"/>
<area shape="rect" id="node49" href="namespacefoedus_1_1debugging.html#a35a786b0492e9799cb74359408079091" title="foedus::debugging::\lget_now_nanosec" alt="" coords="817,906,952,948"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a493ad74f622cef06e6b18a46fa23d6b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfoedus_1_1ErrorStack.html">ErrorStack</a> foedus::storage::array::ArrayStorage::verify_single_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfoedus_1_1thread_1_1Thread.html">thread::Thread</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage__pimpl_8cpp_source.html#l00061">61</a> of file <a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a>.</p>

<p>References <a class="el" href="array__storage__pimpl_8cpp_source.html#l00932">foedus::storage::array::ArrayStoragePimpl::verify_single_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                                   {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">return</span> ArrayStoragePimpl(<span class="keyword">this</span>).verify_single_thread(context);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a493ad74f622cef06e6b18a46fa23d6b0_cgraph.png" border="0" usemap="#classfoedus_1_1storage_1_1array_1_1ArrayStorage_a493ad74f622cef06e6b18a46fa23d6b0_cgraph" alt=""/></div>
<map name="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a493ad74f622cef06e6b18a46fa23d6b0_cgraph" id="classfoedus_1_1storage_1_1array_1_1ArrayStorage_a493ad74f622cef06e6b18a46fa23d6b0_cgraph">
<area shape="rect" id="node2" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#ac612c67d7e9e1a68dcccce98648cad0c" title="foedus::storage::array\l::ArrayStoragePimpl::verify\l_single_thread" alt="" coords="201,485,377,541"/>
<area shape="rect" id="node3" href="classfoedus_1_1storage_1_1array_1_1ArrayStoragePimpl.html#abae9ebd099ebba507d98b8df782bd143" title="foedus::storage::array\l::ArrayStoragePimpl::get\l_root_page" alt="" coords="425,485,591,541"/>
<area shape="rect" id="node4" href="classfoedus_1_1thread_1_1Thread.html#a81e03c29d8931350b4df1fd1f8b9e4b6" title="A general method to follow (read) a page pointer. " alt="" coords="639,493,789,534"/>
<area shape="rect" id="node5" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a9b77133f66157bca81a49caeca9a9904" title="A general method to follow (read) a page pointer. " alt="" coords="837,493,1021,534"/>
<area shape="rect" id="node6" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ad9d25c0d8211f93db82d8cefe9d6ead7" title="foedus::storage::Volatile\lPagePointer::is_null" alt="" coords="1583,285,1745,326"/>
<area shape="rect" id="node8" href="structfoedus_1_1storage_1_1Page.html#abee44ea141b30e613f3de40831d6ff8e" title="At least the basic header exists in all pages. " alt="" coords="2129,433,2278,474"/>
<area shape="rect" id="node9" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ad09e335bbca636246cf2c3d60ec22570" title="Acquires one free volatile page from local page pool. " alt="" coords="1559,699,1769,741"/>
<area shape="rect" id="node12" href="structfoedus_1_1memory_1_1LocalPageResolver.html#aa9d2266686c3a66678b37241a3ac434f" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1572,401,1756,457"/>
<area shape="rect" id="node13" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#a273a4c4f51c06ebc91663329742e1c69" title="foedus::storage::Volatile\lPagePointer::set" alt="" coords="1583,634,1745,675"/>
<area shape="rect" id="node14" href="namespacefoedus_1_1storage.html#a9220f4aff16817a668990bd85f2f527d" title="foedus::storage::assert\l_valid_volatile_page" alt="" coords="1861,151,2016,193"/>
<area shape="rect" id="node17" href="classfoedus_1_1thread_1_1ThreadPimpl.html#ab1611b1e29b58ee7aaf3b88cc57f9343" title="Subroutine of install_a_volatile_page() and follow_page_pointer() to atomically place the given new v..." alt="" coords="1313,493,1499,534"/>
<area shape="rect" id="node21" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a56250946b7719a7bd15532d211eac88f" title="Resolves offset plus NUMA node ID to storage::Page*. " alt="" coords="1563,79,1765,121"/>
<area shape="rect" id="node24" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a4a95ef1bd710a66e0c24df998f881d04" title="Installs a volatile page to the given dual pointer as a copy of the snapshot page. " alt="" coords="1069,522,1253,563"/>
<area shape="rect" id="node25" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a16c6375f66e9f177c908dc1fbc132681" title="Find the given page in snapshot cache, reading it if not found. " alt="" coords="1301,934,1511,975"/>
<area shape="rect" id="node49" href="classfoedus_1_1xct_1_1Xct.html#abae2ae5210db8eda39a1507940bf7352" title="Returns the level of isolation for this transaction. " alt="" coords="1092,842,1231,883"/>
<area shape="rect" id="node50" href="classfoedus_1_1xct_1_1Xct.html#adfd2125c9cc252494693f65719ed53b3" title="Add the given page pointer to the pointer set of this transaction. " alt="" coords="1091,907,1232,949"/>
<area shape="rect" id="node7" href="structfoedus_1_1storage_1_1VolatilePagePointer.html#ac3d7cb1649528efa8b9aa22b63bf52e6" title="foedus::storage::Volatile\lPagePointer::get_offset" alt="" coords="2123,285,2284,326"/>
<area shape="rect" id="node10" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ac661b8baf462a1e969a8a1c7e619858b" title="foedus::memory::PagePool\lOffsetChunk::empty" alt="" coords="2357,831,2536,873"/>
<area shape="rect" id="node11" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#af897b38ac1ef4217ff99018436c0112e" title="foedus::memory::PagePool\lOffsetChunk::pop_back" alt="" coords="2114,831,2293,873"/>
<area shape="rect" id="node15" href="namespacefoedus_1_1storage.html#ab7207e6e276af504c0e358a923ee75ec" title="foedus::storage::assert\l_aligned_page" alt="" coords="2126,50,2281,91"/>
<area shape="rect" id="node16" href="structfoedus_1_1storage_1_1PageHeader.html#a1bdd725342fd4aa90f983fec651f6956" title="foedus::storage::PageHeader\l::get_page_type" alt="" coords="2108,151,2299,193"/>
<area shape="rect" id="node18" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a6c9bf7d6b21ac33a61d6f7176023ea3a" title="Returns one free volatile page to local page pool. " alt="" coords="1825,634,2053,675"/>
<area shape="rect" id="node19" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#ace44cb03e7da84d29f3a02a790c69191" title="foedus::memory::PagePool\lOffsetChunk::full" alt="" coords="2357,645,2536,686"/>
<area shape="rect" id="node20" href="classfoedus_1_1memory_1_1PagePoolOffsetChunk.html#a6f558bb023b2c5c7dd9bf7ab9d054ef0" title="foedus::memory::PagePool\lOffsetChunk::push_back" alt="" coords="2114,645,2293,686"/>
<area shape="rect" id="node22" href="namespacefoedus_1_1storage.html#a67e1af2de6e13b000e66609cf60849b6" title="foedus::storage::construct\l_volatile_page_pointer" alt="" coords="1852,86,2025,127"/>
<area shape="rect" id="node23" href="structfoedus_1_1memory_1_1GlobalVolatilePageResolver.html#a63ab3e809b38145565cef7791f211a35" title="As the name suggests, this version is for new pages, which don&#39;t have sanity checks. " alt="" coords="1837,5,2040,61"/>
<area shape="rect" id="node48" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#afb436d68c982228d9e4bc66104b2aa98" title="Wrapper for grab_free_volatile_page(). " alt="" coords="1314,609,1498,665"/>
<area shape="rect" id="node26" href="classfoedus_1_1Engine.html#a6546930099132529543c320327367ef1" title="foedus::Engine::get\l_options" alt="" coords="1597,1158,1731,1199"/>
<area shape="rect" id="node27" href="classfoedus_1_1cache_1_1CacheHashtable.html#ac92d7a0c69e61cfdcacd72b9e8c7bd74" title="Returns an offset for the given page ID opportunistically. " alt="" coords="1561,1358,1767,1399"/>
<area shape="rect" id="node37" href="classfoedus_1_1memory_1_1PagePool.html#af9db36a92eb5116e01545d73cc7e1ab8" title="foedus::memory::PagePool\l::get_base" alt="" coords="1849,867,2028,909"/>
<area shape="rect" id="node38" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3c43ac83a4cdcc3e48d8b125dfcff963" title="foedus::thread::ThreadPimpl\l::on_snapshot_cache_miss" alt="" coords="1572,901,1756,942"/>
<area shape="rect" id="node40" href="classfoedus_1_1thread_1_1ThreadPimpl.html#a3d583a33e85e1a33568fa04b409ae2ca" title="Read a snapshot page using the thread&#45;local file descriptor set. " alt="" coords="1847,998,2031,1039"/>
<area shape="rect" id="node44" href="classfoedus_1_1cache_1_1CacheHashtable.html#af7762689517cd7a18dd64d8591a3272a" title="Called when a cached page is not found. " alt="" coords="1561,1093,1767,1134"/>
<area shape="rect" id="node47" href="classfoedus_1_1xct_1_1Xct.html#a7f299489d8dd719eb055ce2ef29309b8" title="Get a tentative work memory of the specified size from pre&#45;allocated thread&#45;private memory..." alt="" coords="1583,966,1745,1007"/>
<area shape="rect" id="node28" href="classfoedus_1_1cache_1_1CacheHashtable.html#a30b6a0b28cce30d50da7e0419c8cad20" title="Returns a bucket number the given page ID should belong to. " alt="" coords="1835,1259,2042,1301"/>
<area shape="rect" id="node30" href="structfoedus_1_1cache_1_1CacheBucket.html#ab91d1b89c885979b7a6a4ef70b12b54d" title="foedus::cache::CacheBucket\l::get_content_id" alt="" coords="1844,1325,2033,1366"/>
<area shape="rect" id="node31" href="classfoedus_1_1cache_1_1CacheHashtable.html#acea3236385a3b8d05ed1a60186e32ee8" title="foedus::cache::CacheHashtable\l::get_logical_buckets" alt="" coords="1835,1390,2042,1431"/>
<area shape="rect" id="node32" href="structfoedus_1_1cache_1_1HashFunc.html#a9470855bb66d98df48f82fc5ba6655c6" title="Returns another hash value used to differentiate IDs with similar hash values. " alt="" coords="1853,1194,2024,1235"/>
<area shape="rect" id="node33" href="structfoedus_1_1cache_1_1CacheBucket.html#aad7099f48418a335a80260a664bf2f02" title="foedus::cache::CacheBucket\l::get_tag" alt="" coords="1844,1455,2033,1497"/>
<area shape="rect" id="node34" href="structfoedus_1_1cache_1_1CacheRefCount.html#af555d7665e995d8e65f315c708d28daa" title="foedus::cache::CacheRefCount\l::increment" alt="" coords="1838,1521,2039,1562"/>
<area shape="rect" id="node35" href="group__ASSORTED.html#ga14adcd2a780f37023df88933f17a5a83" title="Prefetch multiple contiguous cachelines to L1 cache. " alt="" coords="1853,1586,2025,1627"/>
<area shape="rect" id="node29" href="structfoedus_1_1cache_1_1HashFunc.html#a19737fa3c91676f9c85536f5928b7501" title="Returns a bucket number the given snapshot page ID should belong to. " alt="" coords="2118,1259,2289,1301"/>
<area shape="rect" id="node36" href="group__ASSORTED.html#ga354bfce84ebf918859d54ba97b8ddc36" title="Prefetch one cacheline to L1 cache. " alt="" coords="2117,1586,2289,1627"/>
<area shape="rect" id="node39" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#ac3e2f6d24f2b0f5c04d2cde48db11f6a" title="Same, except it&#39;s for snapshot page. " alt="" coords="1826,933,2051,974"/>
<area shape="rect" id="node43" href="classfoedus_1_1memory_1_1NumaCoreMemory.html#a7ea5067e450fa872240cb010ddb65464" title="Same, except it&#39;s for snapshot page. " alt="" coords="1817,699,2060,741"/>
<area shape="rect" id="node41" href="classfoedus_1_1cache_1_1SnapshotFileSet.html#ad7ea1e9815cd47c3175371d37974526a" title="foedus::cache::SnapshotFile\lSet::read_page" alt="" coords="2110,998,2297,1039"/>
<area shape="rect" id="node42" href="namespacefoedus_1_1storage.html#a3c3e7a984303d1ef88e001db1591b1be" title="foedus::storage::extract\l_local_page_id_from_snapshot\l_pointer" alt="" coords="2347,991,2547,1047"/>
<area shape="rect" id="node45" href="group__ASSORTED.html#gafc1110de4c6bb85c7e1f7feccc27f6d7" title="Equivalent to std::atomic_thread_fence(std::memory_order_release). " alt="" coords="1852,1129,2025,1170"/>
<area shape="rect" id="node46" href="structfoedus_1_1cache_1_1CacheBucket.html#aaa52396996e73a08cace2a2dcef82ffb" title="foedus::cache::CacheBucket\l::reset" alt="" coords="1844,1063,2033,1105"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a7b4ecfd160bc33b9f7f35718e2fe6ea8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="array__storage_8cpp_source.html#l00060">60</a> of file <a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                                             {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  o &lt;&lt; <span class="stringliteral">&quot;&lt;ArrayStorage&gt;&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;id&gt;&quot;</span> &lt;&lt; v.get_id() &lt;&lt; <span class="stringliteral">&quot;&lt;/id&gt;&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;name&gt;&quot;</span> &lt;&lt; v.get_name() &lt;&lt; <span class="stringliteral">&quot;&lt;/name&gt;&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;payload_size&gt;&quot;</span> &lt;&lt; v.get_payload_size() &lt;&lt; <span class="stringliteral">&quot;&lt;/payload_size&gt;&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;array_size&gt;&quot;</span> &lt;&lt; v.get_array_size() &lt;&lt; <span class="stringliteral">&quot;&lt;/array_size&gt;&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;&lt;/ArrayStorage&gt;&quot;</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/shino/foedus_code/foedus-core/include/foedus/storage/array/<a class="el" href="array__storage_8hpp_source.html">array_storage.hpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/array/<a class="el" href="array__storage_8cpp_source.html">array_storage.cpp</a></li>
<li>/home/shino/foedus_code/foedus-core/src/foedus/storage/array/<a class="el" href="array__storage__pimpl_8cpp_source.html">array_storage_pimpl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefoedus.html">foedus</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacefoedus_1_1storage_1_1array.html">array</a></li><li class="navelem"><a class="el" href="classfoedus_1_1storage_1_1array_1_1ArrayStorage.html">ArrayStorage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
